import{a as w,b as K,c as Vt,d as pk,e as fk,f,h as a2,i as o2,l as yk,m as i2}from"./chunk-PZ5UXJ7I.js";var xh=Vt(Ch=>{"use strict";Object.defineProperty(Ch,"__esModule",{value:!0});var Ih=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Ch.default=Ih});var Sh=Vt(ri=>{"use strict";var Rg=ri&&ri.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ri,"__esModule",{value:!0});var O8=Rg((i2(),fk(yk))),N8=Rg(xh()),bh=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=O8.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var i,s,c;let l=null,d=null,u=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){let v=yield o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}let g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),m=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");g&&m&&m.length>1&&(u=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,u=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=yield o.text();try{l=JSON.parse(g),Array.isArray(l)&&o.status===404&&(d=[],l=null,p=200,h="OK")}catch{o.status===404&&g===""?(p=204,h="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,h="OK"),l&&this.shouldThrowOnError)throw new N8.default(l)}return{error:l,data:d,count:u,status:p,statusText:h}}));return this.shouldThrowOnError||(a=a.catch(o=>{var i,s,c;return{error:{message:`${(i=o?.name)!==null&&i!==void 0?i:"FetchError"}: ${o?.message}`,details:`${(s=o?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(n,t)}returns(){return this}overrideTypes(){return this}};ri.default=bh});var Lh=Vt(ai=>{"use strict";var F8=ai&&ai.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ai,"__esModule",{value:!0});var j8=F8(Sh()),Dh=class extends j8.default{select(n){let t=!1,r=(n??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:a=r}={}){let o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(i,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var s;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${l}"; options=${c};`,i==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ai.default=Dh});var nl=Vt(oi=>{"use strict";var H8=oi&&oi.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(oi,"__esModule",{value:!0});var q8=H8(Lh()),Eh=class extends q8.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");let i=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${i}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};oi.default=Eh});var Ah=Vt(si=>{"use strict";var V8=si&&si.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(si,"__esModule",{value:!0});var ii=V8(nl()),_h=class{constructor(n,{headers:t={},schema:r,fetch:a}){this.url=n,this.headers=t,this.schema=r,this.fetch=a}select(n,{head:t=!1,count:r}={}){let a=t?"HEAD":"GET",o=!1,i=(n??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new ii.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let i=n.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(i.length>0){let s=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new ii.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){let i="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),a&&s.push(`count=${a}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(n)){let c=n.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new ii.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),this.headers.Prefer=a.join(","),new ii.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new ii.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};si.default=_h});var Pg=Vt(rl=>{"use strict";Object.defineProperty(rl,"__esModule",{value:!0});rl.version=void 0;rl.version="0.0.0-automated"});var Og=Vt(al=>{"use strict";Object.defineProperty(al,"__esModule",{value:!0});al.DEFAULT_HEADERS=void 0;var z8=Pg();al.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${z8.version}`}});var Fg=Vt(ci=>{"use strict";var Ng=ci&&ci.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ci,"__esModule",{value:!0});var B8=Ng(Ah()),U8=Ng(nl()),$8=Og(),Th=class e{constructor(n,{headers:t={},schema:r,fetch:a}={}){this.url=n,this.headers=Object.assign(Object.assign({},$8.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=a}from(n){let t=new URL(`${this.url}/${n}`);return new B8.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:a=!1,count:o}={}){let i,s=new URL(`${this.url}/rpc/${n}`),c;r||a?(i=r?"HEAD":"GET",Object.entries(t).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([d,u])=>{s.searchParams.append(d,u)})):(i="POST",c=t);let l=Object.assign({},this.headers);return o&&(l.Prefer=`count=${o}`),new U8.default({method:i,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};ci.default=Th});var Ug=Vt(Se=>{"use strict";var fa=Se&&Se.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Se,"__esModule",{value:!0});Se.PostgrestError=Se.PostgrestBuilder=Se.PostgrestTransformBuilder=Se.PostgrestFilterBuilder=Se.PostgrestQueryBuilder=Se.PostgrestClient=void 0;var jg=fa(Fg());Se.PostgrestClient=jg.default;var Hg=fa(Ah());Se.PostgrestQueryBuilder=Hg.default;var qg=fa(nl());Se.PostgrestFilterBuilder=qg.default;var Vg=fa(Lh());Se.PostgrestTransformBuilder=Vg.default;var zg=fa(Sh());Se.PostgrestBuilder=zg.default;var Bg=fa(xh());Se.PostgrestError=Bg.default;Se.default={PostgrestClient:jg.default,PostgrestQueryBuilder:Hg.default,PostgrestFilterBuilder:qg.default,PostgrestTransformBuilder:Vg.default,PostgrestBuilder:zg.default,PostgrestError:Bg.default}});var Hl;function ql(){return Hl}function zt(e){let n=Hl;return Hl=e,n}var gk=Symbol("NotFound"),Ei=class extends Error{name="\u0275NotFound";constructor(n){super(n)}};function xr(e){return e===gk||e?.name==="\u0275NotFound"}function Vl(e,n){return Object.is(e,n)}var ye=null,_i=!1,zl=1,mk=null,Ve=Symbol("SIGNAL");function R(e){let n=ye;return ye=e,n}function Ti(){return ye}var br={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function La(e){if(_i)throw new Error("");if(ye===null)return;ye.consumerOnSignalRead(e);let n=ye.nextProducerIndex++;if(Oi(ye),n<ye.producerNode.length&&ye.producerNode[n]!==e&&Da(ye)){let t=ye.producerNode[n];Pi(t,ye.producerIndexOfThis[n])}ye.producerNode[n]!==e&&(ye.producerNode[n]=e,ye.producerIndexOfThis[n]=Da(ye)?c2(e,ye,n):0),ye.producerLastReadVersion[n]=e.version}function s2(){zl++}function Bl(e){if(!(Da(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===zl)){if(!e.producerMustRecompute(e)&&!_a(e)){Ai(e);return}e.producerRecomputeValue(e),Ai(e)}}function Ul(e){if(e.liveConsumerNode===void 0)return;let n=_i;_i=!0;try{for(let t of e.liveConsumerNode)t.dirty||kk(t)}finally{_i=n}}function $l(){return ye?.consumerAllowSignalWrites!==!1}function kk(e){e.dirty=!0,Ul(e),e.consumerMarkedDirty?.(e)}function Ai(e){e.dirty=!1,e.lastCleanEpoch=zl}function Sr(e){return e&&(e.nextProducerIndex=0),R(e)}function Ea(e,n){if(R(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(Da(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Pi(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function _a(e){Oi(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Bl(t),r!==t.version))return!0}return!1}function Ri(e){if(Oi(e),Da(e))for(let n=0;n<e.producerNode.length;n++)Pi(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function c2(e,n,t){if(l2(e),e.liveConsumerNode.length===0&&d2(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=c2(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Pi(e,n){if(l2(e),e.liveConsumerNode.length===1&&d2(e))for(let r=0;r<e.producerNode.length;r++)Pi(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];Oi(a),a.producerIndexOfThis[r]=n}}function Da(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Oi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function l2(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function d2(e){return e.producerNode!==void 0}function Gl(e){mk?.(e)}function vk(){throw new Error}var u2=vk;function h2(e){u2(e)}function Wl(e){u2=e}var Mk=null;function Zl(e,n){let t=Object.create(Ni);t.value=e,n!==void 0&&(t.equal=n);let r=()=>p2(t);return r[Ve]=t,Gl(t),[r,i=>Dr(t,i),i=>Kl(t,i)]}function p2(e){return La(e),e.value}function Dr(e,n){$l()||h2(e),e.equal(e.value,n)||(e.value=n,wk(e))}function Kl(e,n){$l()||h2(e),Dr(e,n(e.value))}var Ni=K(w({},br),{equal:Vl,value:void 0,kind:"signal"});function wk(e){e.version++,s2(),Ul(e),Mk?.(e)}function O(e){return typeof e=="function"}function Lr(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fi=Lr(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,a)=>`${a+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Aa(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var de=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(O(r))try{r()}catch(o){n=o instanceof Fi?o.errors:[o]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let o of a)try{f2(o)}catch(i){n=n??[],i instanceof Fi?n=[...n,...i.errors]:n.push(i)}}if(n)throw new Fi(n)}}add(n){var t;if(n&&n!==this)if(this.closed)f2(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Aa(t,n)}remove(n){let{_finalizers:t}=this;t&&Aa(t,n),n instanceof e&&n._removeParent(this)}};de.EMPTY=(()=>{let e=new de;return e.closed=!0,e})();var Xl=de.EMPTY;function ji(e){return e instanceof de||e&&"closed"in e&&O(e.remove)&&O(e.add)&&O(e.unsubscribe)}function f2(e){O(e)?e():e.unsubscribe()}var pt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Er={setTimeout(e,n,...t){let{delegate:r}=Er;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=Er;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Hi(e){Er.setTimeout(()=>{let{onUnhandledError:n}=pt;if(n)n(e);else throw e})}function Dn(){}var y2=Yl("C",void 0,void 0);function g2(e){return Yl("E",void 0,e)}function m2(e){return Yl("N",e,void 0)}function Yl(e,n,t){return{kind:e,value:n,error:t}}var Ln=null;function _r(e){if(pt.useDeprecatedSynchronousErrorHandling){let n=!Ln;if(n&&(Ln={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=Ln;if(Ln=null,t)throw r}}else e()}function k2(e){pt.useDeprecatedSynchronousErrorHandling&&Ln&&(Ln.errorThrown=!0,Ln.error=e)}var En=class extends de{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ji(n)&&n.add(this)):this.destination=xk}static create(n,t,r){return new Bt(n,t,r)}next(n){this.isStopped?Ql(m2(n),this):this._next(n)}error(n){this.isStopped?Ql(g2(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ql(y2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Ik=Function.prototype.bind;function Jl(e,n){return Ik.call(e,n)}var ed=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){qi(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){qi(r)}else qi(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){qi(t)}}},Bt=class extends En{constructor(n,t,r){super();let a;if(O(n)||!n)a={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&pt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&Jl(n.next,o),error:n.error&&Jl(n.error,o),complete:n.complete&&Jl(n.complete,o)}):a=n}this.destination=new ed(a)}};function qi(e){pt.useDeprecatedSynchronousErrorHandling?k2(e):Hi(e)}function Ck(e){throw e}function Ql(e,n){let{onStoppedNotification:t}=pt;t&&Er.setTimeout(()=>t(e,n))}var xk={closed:!0,next:Dn,error:Ck,complete:Dn};var Ar=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ce(e){return e}function td(...e){return nd(e)}function nd(e){return e.length===0?Ce:e.length===1?e[0]:function(t){return e.reduce((r,a)=>a(r),t)}}var $=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,a){let o=Sk(t)?t:new Bt(t,r,a);return _r(()=>{let{operator:i,source:s}=this;o.add(i?i.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=v2(r),new r((a,o)=>{let i=new Bt({next:s=>{try{t(s)}catch(c){o(c),i.unsubscribe()}},error:o,complete:a});this.subscribe(i)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Ar](){return this}pipe(...t){return nd(t)(this)}toPromise(t){return t=v2(t),new t((r,a)=>{let o;this.subscribe(i=>o=i,i=>a(i),()=>r(o))})}}return e.create=n=>new e(n),e})();function v2(e){var n;return(n=e??pt.Promise)!==null&&n!==void 0?n:Promise}function bk(e){return e&&O(e.next)&&O(e.error)&&O(e.complete)}function Sk(e){return e&&e instanceof En||bk(e)&&ji(e)}function rd(e){return O(e?.lift)}function H(e){return n=>{if(rd(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function V(e,n,t,r,a){return new ad(e,n,t,r,a)}var ad=class extends En{constructor(n,t,r,a,o,i){super(n),this.onFinalize=o,this.shouldUnsubscribe=i,this._next=t?function(s){try{t(s)}catch(c){n.error(c)}}:super._next,this._error=a?function(s){try{a(s)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Tr(){return H((e,n)=>{let t=null;e._refCount++;let r=V(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let a=e._connection,o=t;t=null,a&&(!o||a===o)&&a.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Rr=class extends ${constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new de;let t=this.getSubject();n.add(this.source.subscribe(V(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=de.EMPTY)}return n}refCount(){return Tr()(this)}};var M2=Lr(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=(()=>{class e extends ${constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new Vi(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new M2}next(t){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){_r(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:a,observers:o}=this;return r||a?Xl:(this.currentObservers=null,o.push(t),new de(()=>{this.currentObservers=null,Aa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:a,isStopped:o}=this;r?t.error(a):o&&t.complete()}asObservable(){let t=new $;return t.source=this,t}}return e.create=(n,t)=>new Vi(n,t),e})(),Vi=class extends ee{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Xl}};var ge=class extends ee{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var od={now(){return(od.delegate||Date).now()},delegate:void 0};var Ut=class extends ee{constructor(n=1/0,t=1/0,r=od){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:o,_windowTime:i}=this;t||(r.push(n),!a&&r.push(o.now()+i)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:a}=this,o=a.slice();for(let i=0;i<o.length&&!n.closed;i+=r?1:2)n.next(o[i]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,o=(a?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!a){let i=t.now(),s=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)s=c;s&&r.splice(0,s+1)}}};var Le=new $(e=>e.complete());function w2(e){return e&&O(e.schedule)}function id(e){return e[e.length-1]}function zi(e){return O(id(e))?e.pop():void 0}function Dt(e){return w2(id(e))?e.pop():void 0}function I2(e,n){return typeof id(e)=="number"?e.pop():n}function x2(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})}function C2(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function _n(e){return this instanceof _n?(this.v=e,this):new _n(e)}function b2(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(a[h]=function(g){return new Promise(function(m,v){o.push([h,g,m,v])>1||c(h,g)})},y&&(a[h]=y(a[h])))}function c(h,y){try{l(r[h](y))}catch(g){p(o[0][3],g)}}function l(h){h.value instanceof _n?Promise.resolve(h.value.v).then(d,u):p(o[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function S2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof C2=="function"?C2(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(s,c){i=e[o](i),a(s,c,i.done,i.value)})}}function a(o,i,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},i)}}var Bi=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ui(e){return O(e?.then)}function $i(e){return O(e[Ar])}function Gi(e){return Symbol.asyncIterator&&O(e?.[Symbol.asyncIterator])}function Wi(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Dk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Zi=Dk();function Ki(e){return O(e?.[Zi])}function Xi(e){return b2(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:a}=yield _n(t.read());if(a)return yield _n(void 0);yield yield _n(r)}}finally{t.releaseLock()}})}function Yi(e){return O(e?.getReader)}function te(e){if(e instanceof $)return e;if(e!=null){if($i(e))return Lk(e);if(Bi(e))return Ek(e);if(Ui(e))return _k(e);if(Gi(e))return D2(e);if(Ki(e))return Ak(e);if(Yi(e))return Tk(e)}throw Wi(e)}function Lk(e){return new $(n=>{let t=e[Ar]();if(O(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ek(e){return new $(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function _k(e){return new $(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Hi)})}function Ak(e){return new $(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function D2(e){return new $(n=>{Rk(e,n).catch(t=>n.error(t))})}function Tk(e){return D2(Xi(e))}function Rk(e,n){var t,r,a,o;return x2(this,void 0,void 0,function*(){try{for(t=S2(e);r=yield t.next(),!r.done;){let i=r.value;if(n.next(i),n.closed)return}}catch(i){a={error:i}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(a)throw a.error}}n.complete()})}function ze(e,n,t,r=0,a=!1){let o=n.schedule(function(){t(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!a)return o}function Ji(e,n=0){return H((t,r)=>{t.subscribe(V(r,a=>ze(r,e,()=>r.next(a),n),()=>ze(r,e,()=>r.complete(),n),a=>ze(r,e,()=>r.error(a),n)))})}function Qi(e,n=0){return H((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function L2(e,n){return te(e).pipe(Qi(n),Ji(n))}function E2(e,n){return te(e).pipe(Qi(n),Ji(n))}function _2(e,n){return new $(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function A2(e,n){return new $(t=>{let r;return ze(t,n,()=>{r=e[Zi](),ze(t,n,()=>{let a,o;try{({value:a,done:o}=r.next())}catch(i){t.error(i);return}o?t.complete():t.next(a)},0,!0)}),()=>O(r?.return)&&r.return()})}function es(e,n){if(!e)throw new Error("Iterable cannot be null");return new $(t=>{ze(t,n,()=>{let r=e[Symbol.asyncIterator]();ze(t,n,()=>{r.next().then(a=>{a.done?t.complete():t.next(a.value)})},0,!0)})})}function T2(e,n){return es(Xi(e),n)}function R2(e,n){if(e!=null){if($i(e))return L2(e,n);if(Bi(e))return _2(e,n);if(Ui(e))return E2(e,n);if(Gi(e))return es(e,n);if(Ki(e))return A2(e,n);if(Yi(e))return T2(e,n)}throw Wi(e)}function G(e,n){return n?R2(e,n):te(e)}function _(...e){let n=Dt(e);return G(e,n)}function ft(e,n){let t=O(e)?e:()=>e,r=a=>a.error(t());return new $(n?a=>n.schedule(r,0,a):r)}function sd(e){return!!e&&(e instanceof $||O(e.lift)&&O(e.subscribe))}var $t=Lr(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function T(e,n){return H((t,r)=>{let a=0;t.subscribe(V(r,o=>{r.next(e.call(n,o,a++))}))})}var{isArray:Pk}=Array;function Ok(e,n){return Pk(n)?e(...n):e(n)}function P2(e){return T(n=>Ok(e,n))}var{isArray:Nk}=Array,{getPrototypeOf:Fk,prototype:jk,keys:Hk}=Object;function O2(e){if(e.length===1){let n=e[0];if(Nk(n))return{args:n,keys:null};if(qk(n)){let t=Hk(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function qk(e){return e&&typeof e=="object"&&Fk(e)===jk}function N2(e,n){return e.reduce((t,r,a)=>(t[r]=n[a],t),{})}function ts(...e){let n=Dt(e),t=zi(e),{args:r,keys:a}=O2(e);if(r.length===0)return G([],n);let o=new $(Vk(r,n,a?i=>N2(a,i):Ce));return t?o.pipe(P2(t)):o}function Vk(e,n,t=Ce){return r=>{F2(n,()=>{let{length:a}=e,o=new Array(a),i=a,s=a;for(let c=0;c<a;c++)F2(n,()=>{let l=G(e[c],n),d=!1;l.subscribe(V(r,u=>{o[c]=u,d||(d=!0,s--),s||r.next(t(o.slice()))},()=>{--i||r.complete()}))},r)},r)}}function F2(e,n,t){e?ze(t,e,n):n()}function j2(e,n,t,r,a,o,i,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&n.complete()},h=g=>l<r?y(g):c.push(g),y=g=>{o&&n.next(g),l++;let m=!1;te(t(g,d++)).subscribe(V(n,v=>{a?.(v),o?h(v):n.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let v=c.shift();i?ze(n,i,()=>y(v)):y(v)}p()}catch(v){n.error(v)}}))};return e.subscribe(V(n,h,()=>{u=!0,p()})),()=>{s?.()}}function ie(e,n,t=1/0){return O(n)?ie((r,a)=>T((o,i)=>n(r,o,a,i))(te(e(r,a))),t):(typeof n=="number"&&(t=n),H((r,a)=>j2(r,a,e,t)))}function ns(e=1/0){return ie(Ce,e)}function H2(){return ns(1)}function Pr(...e){return H2()(G(e,Dt(e)))}function yt(e){return new $(n=>{te(e()).subscribe(n)})}function rs(e,n,t){return yt(()=>e()?n:t)}function cd(...e){let n=Dt(e),t=I2(e,1/0),r=e;return r.length?r.length===1?te(r[0]):ns(t)(G(r,n)):Le}function Ee(e,n){return H((t,r)=>{let a=0;t.subscribe(V(r,o=>e.call(n,o,a++)&&r.next(o)))})}function Be(e){return H((n,t)=>{let r=null,a=!1,o;r=n.subscribe(V(t,void 0,void 0,i=>{o=te(e(i,Be(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):a=!0})),a&&(r.unsubscribe(),r=null,o.subscribe(t))})}function q2(e,n,t,r,a){return(o,i)=>{let s=t,c=n,l=0;o.subscribe(V(i,d=>{let u=l++;c=s?e(c,d,u):(s=!0,d),r&&i.next(c)},a&&(()=>{s&&i.next(c),i.complete()})))}}function Ue(e,n){return O(n)?ie(e,n,1):ie(e,1)}function on(e){return H((n,t)=>{let r=!1;n.subscribe(V(t,a=>{r=!0,t.next(a)},()=>{r||t.next(e),t.complete()}))})}function gt(e){return e<=0?()=>Le:H((n,t)=>{let r=0;n.subscribe(V(t,a=>{++r<=e&&(t.next(a),e<=r&&t.complete())}))})}function ld(e){return T(()=>e)}function Ta(e,n=Ce){return e=e??zk,H((t,r)=>{let a,o=!0;t.subscribe(V(r,i=>{let s=n(i);(o||!e(a,s))&&(o=!1,a=s,r.next(i))}))})}function zk(e,n){return e===n}function as(e=Bk){return H((n,t)=>{let r=!1;n.subscribe(V(t,a=>{r=!0,t.next(a)},()=>r?t.complete():t.error(e())))})}function Bk(){return new $t}function Ra(e){return H((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function rt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Ee((a,o)=>e(a,o,r)):Ce,gt(1),t?on(n):as(()=>new $t))}function Or(e){return e<=0?()=>Le:H((n,t)=>{let r=[];n.subscribe(V(t,a=>{r.push(a),e<r.length&&r.shift()},()=>{for(let a of r)t.next(a);t.complete()},void 0,()=>{r=null}))})}function dd(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Ee((a,o)=>e(a,o,r)):Ce,Or(1),t?on(n):as(()=>new $t))}function ud(...e){let n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return T(t=>{let r=t;for(let a=0;a<n;a++){let o=r?.[e[a]];if(typeof o<"u")r=o;else return}return r})}function Pa(e,n){return H(q2(e,n,arguments.length>=2,!0))}function V2(e={}){let{connector:n=()=>new ee,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=e;return o=>{let i,s,c,l=0,d=!1,u=!1,p=()=>{s?.unsubscribe(),s=void 0},h=()=>{p(),i=c=void 0,d=u=!1},y=()=>{let g=i;h(),g?.unsubscribe()};return H((g,m)=>{l++,!u&&!d&&p();let v=c=c??n();m.add(()=>{l--,l===0&&!u&&!d&&(s=hd(y,a))}),v.subscribe(m),!i&&l>0&&(i=new Bt({next:S=>v.next(S),error:S=>{u=!0,p(),s=hd(h,t,S),v.error(S)},complete:()=>{d=!0,p(),s=hd(h,r),v.complete()}}),te(g).subscribe(i))})(o)}}function hd(e,n,...t){if(n===!0){e();return}if(n===!1)return;let r=new Bt({next:()=>{r.unsubscribe(),e()}});return te(n(...t)).subscribe(r)}function pd(e,n,t){let r,a=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:a=!1,scheduler:t}=e:r=e??1/0,V2({connector:()=>new Ut(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function fd(...e){let n=Dt(e);return H((t,r)=>{(n?Pr(e,t,n):Pr(e,t)).subscribe(r)})}function _e(e,n){return H((t,r)=>{let a=null,o=0,i=!1,s=()=>i&&!a&&r.complete();t.subscribe(V(r,c=>{a?.unsubscribe();let l=0,d=o++;te(e(c,d)).subscribe(a=V(r,u=>r.next(n?n(c,u,d,l++):u),()=>{a=null,s()}))},()=>{i=!0,s()}))})}function Nr(e){return H((n,t)=>{te(e).subscribe(V(t,()=>t.complete(),Dn)),!t.closed&&n.subscribe(t)})}function ne(e,n,t){let r=O(e)||n||t?{next:e,error:n,complete:t}:e;return r?H((a,o)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let s=!0;a.subscribe(V(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ce}function yd(...e){let n=zi(e);return H((t,r)=>{let a=e.length,o=new Array(a),i=e.map(()=>!1),s=!1;for(let c=0;c<a;c++)te(e[c]).subscribe(V(r,l=>{o[c]=l,!s&&!i[c]&&(i[c]=!0,(s=i.every(Ce))&&(i=null))},Dn));t.subscribe(V(r,c=>{if(s){let l=[c,...o];r.next(n?n(...l):l)}}))})}function z2(e){let n=R(null);try{return e()}finally{R(n)}}var ds="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",C=class extends Error{code;constructor(n,t){super(us(n,t)),this.code=n}};function Uk(e){return`NG0${Math.abs(e)}`}function us(e,n){return`${Uk(e)}${n?": "+n:""}`}var Wt=globalThis;function ae(e){for(let n in e)if(e[n]===ae)return n;throw Error("")}function Ke(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Ke).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Ld(e,n){return e?n?`${e} ${n}`:e:n||""}var $k=ae({__forward_ref__:ae});function hs(e){return e.__forward_ref__=hs,e.toString=function(){return Ke(this())},e}function $e(e){return Ed(e)?e():e}function Ed(e){return typeof e=="function"&&e.hasOwnProperty($k)&&e.__forward_ref__===hs}function W2(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}function b(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Zt(e){return{providers:e.providers||[],imports:e.imports||[]}}function ja(e){return Gk(e,ps)}function _d(e){return ja(e)!==null}function Gk(e,n){return e.hasOwnProperty(n)&&e[n]||null}function Wk(e){let n=e?.[ps]??null;return n||null}function md(e){return e&&e.hasOwnProperty(is)?e[is]:null}var ps=ae({\u0275prov:ae}),is=ae({\u0275inj:ae}),D=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=b({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ad(e){return e&&!!e.\u0275providers}var Td=ae({\u0275cmp:ae}),Rd=ae({\u0275dir:ae}),Pd=ae({\u0275pipe:ae}),Od=ae({\u0275mod:ae}),Na=ae({\u0275fac:ae}),On=ae({__NG_ELEMENT_ID__:ae}),U2=ae({__NG_ENV_ID__:ae});function Nn(e){return typeof e=="string"?e:e==null?"":String(e)}function Z2(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Nn(e)}function Nd(e,n){throw new C(-200,e)}function fs(e,n){throw new C(-201,!1)}var kd;function K2(){return kd}function Pe(e){let n=kd;return kd=e,n}function Fd(e,n,t){let r=ja(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;fs(e,"Injector")}var Zk={},An=Zk,vd="__NG_DI_FLAG__",Md=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Tn(t)||0;try{return this.injector.get(n,r&8?null:An,r)}catch(a){if(xr(a))return a;throw a}}},ss="ngTempTokenPath",Kk="ngTokenPath",Xk=/\n/gm,Yk="\u0275",$2="__source";function Jk(e,n=0){let t=ql();if(t===void 0)throw new C(-203,!1);if(t===null)return Fd(e,void 0,n);{let r=Qk(n),a=t.retrieve(e,r);if(xr(a)){if(r.optional)return null;throw a}return a}}function L(e,n=0){return(K2()||Jk)($e(e),n)}function M(e,n){return L(e,Tn(n))}function Tn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Qk(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function wd(e){let n=[];for(let t=0;t<e.length;t++){let r=$e(e[t]);if(Array.isArray(r)){if(r.length===0)throw new C(900,!1);let a,o=0;for(let i=0;i<r.length;i++){let s=r[i],c=ev(s);typeof c=="number"?c===-1?a=s.token:o|=c:a=s}n.push(L(a,o))}else n.push(L(r))}return n}function X2(e,n){return e[vd]=n,e.prototype[vd]=n,e}function ev(e){return e[vd]}function tv(e,n,t,r){let a=e[ss];throw n[$2]&&a.unshift(n[$2]),e.message=nv(`
`+e.message,a,t,r),e[Kk]=a,e[ss]=null,e}function nv(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Yk?e.slice(2):e;let a=Ke(n);if(Array.isArray(n))a=n.map(Ke).join(" -> ");else if(typeof n=="object"){let o=[];for(let i in n)if(n.hasOwnProperty(i)){let s=n[i];o.push(i+":"+(typeof s=="string"?JSON.stringify(s):Ke(s)))}a=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${a}]: ${e.replace(Xk,`
  `)}`}function sn(e,n){let t=e.hasOwnProperty(Na);return t?e[Na]:null}function ys(e,n){e.forEach(t=>Array.isArray(t)?ys(t,n):n(t))}function jd(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Ha(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Y2(e,n){let t=[];for(let r=0;r<e;r++)t.push(n);return t}var Fn={},mt=[],Kt=new D(""),Hd=new D("",-1),qd=new D(""),Fa=class{get(n,t=An){if(t===An)throw new Ei(`NullInjectorError: No provider for ${Ke(n)}!`);return t}};function Vd(e){return e[Od]||null}function ln(e){return e[Td]||null}function zd(e){return e[Rd]||null}function J2(e){return e[Pd]||null}function jn(e){return{\u0275providers:e}}function Q2(e){return jn([{provide:Kt,multi:!0,useValue:e}])}function e0(...e){return{\u0275providers:Bd(!0,e),\u0275fromNgModule:!0}}function Bd(e,...n){let t=[],r=new Set,a,o=i=>{t.push(i)};return ys(n,i=>{let s=i;cs(s,o,[],r)&&(a||=[],a.push(s))}),a!==void 0&&t0(a,o),t}function t0(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:a}=e[t];Ud(a,o=>{n(o,r)})}}function cs(e,n,t,r){if(e=$e(e),!e)return!1;let a=null,o=md(e),i=!o&&ln(e);if(!o&&!i){let c=e.ngModule;if(o=md(c),o)a=c;else return!1}else{if(i&&!i.standalone)return!1;a=e}let s=r.has(a);if(i){if(s)return!1;if(r.add(a),i.dependencies){let c=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let l of c)cs(l,n,t,r)}}else if(o){if(o.imports!=null&&!s){r.add(a);let l;try{ys(o.imports,d=>{cs(d,n,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&t0(l,n)}if(!s){let l=sn(a)||(()=>new a);n({provide:a,useFactory:l,deps:mt},a),n({provide:qd,useValue:a,multi:!0},a),n({provide:Kt,useValue:()=>L(a),multi:!0},a)}let c=o.providers;if(c!=null&&!s){let l=e;Ud(c,d=>{n(d,l)})}}else return!1;return a!==e&&e.providers!==void 0}function Ud(e,n){for(let t of e)Ad(t)&&(t=t.\u0275providers),Array.isArray(t)?Ud(t,n):n(t)}var rv=ae({provide:String,useValue:ae});function n0(e){return e!==null&&typeof e=="object"&&rv in e}function av(e){return!!(e&&e.useExisting)}function ov(e){return!!(e&&e.useFactory)}function ls(e){return typeof e=="function"}var qa=new D(""),os={},G2={},gd;function Va(){return gd===void 0&&(gd=new Fa),gd}var ve=class{},Rn=class extends ve{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,a){super(),this.parent=t,this.source=r,this.scopes=a,Cd(n,i=>this.processProvider(i)),this.records.set(Hd,Fr(void 0,this)),a.has("environment")&&this.records.set(ve,Fr(void 0,this));let o=this.records.get(qa);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(qd,mt,{self:!0}))}retrieve(n,t){let r=Tn(t)||0;try{return this.get(n,An,r)}catch(a){if(xr(a))return a;throw a}}destroy(){Oa(this),this._destroyed=!0;let n=R(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),R(n)}}onDestroy(n){return Oa(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){Oa(this);let t=zt(this),r=Pe(void 0),a;try{return n()}finally{zt(t),Pe(r)}}get(n,t=An,r){if(Oa(this),n.hasOwnProperty(U2))return n[U2](this);let a=Tn(r),o,i=zt(this),s=Pe(void 0);try{if(!(a&4)){let l=this.records.get(n);if(l===void 0){let d=dv(n)&&ja(n);d&&this.injectableDefInScope(d)?l=Fr(Id(n),os):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let c=a&2?Va():this.parent;return t=a&8&&t===An?null:t,c.get(n,t)}catch(c){if(xr(c)){if((c[ss]=c[ss]||[]).unshift(Ke(n)),i)throw c;return tv(c,n,"R3InjectorError",this.source)}else throw c}finally{Pe(s),zt(i)}}resolveInjectorInitializers(){let n=R(null),t=zt(this),r=Pe(void 0),a;try{let o=this.get(Kt,mt,{self:!0});for(let i of o)i()}finally{zt(t),Pe(r),R(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Ke(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=$e(n);let t=ls(n)?n:$e(n&&n.provide),r=sv(n);if(!ls(n)&&n.multi===!0){let a=this.records.get(t);a||(a=Fr(void 0,os,!0),a.factory=()=>wd(a.multi),this.records.set(t,a)),t=n,a.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=R(null);try{return t.value===G2?Nd(Ke(n)):t.value===os&&(t.value=G2,t.value=t.factory()),typeof t.value=="object"&&t.value&&lv(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{R(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=$e(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Id(e){let n=ja(e),t=n!==null?n.factory:sn(e);if(t!==null)return t;if(e instanceof D)throw new C(204,!1);if(e instanceof Function)return iv(e);throw new C(204,!1)}function iv(e){if(e.length>0)throw new C(204,!1);let t=Wk(e);return t!==null?()=>t.factory(e):()=>new e}function sv(e){if(n0(e))return Fr(void 0,e.useValue);{let n=r0(e);return Fr(n,os)}}function r0(e,n,t){let r;if(ls(e)){let a=$e(e);return sn(a)||Id(a)}else if(n0(e))r=()=>$e(e.useValue);else if(ov(e))r=()=>e.useFactory(...wd(e.deps||[]));else if(av(e))r=()=>L($e(e.useExisting));else{let a=$e(e&&(e.useClass||e.provide));if(cv(e))r=()=>new a(...wd(e.deps));else return sn(a)||Id(a)}return r}function Oa(e){if(e.destroyed)throw new C(205,!1)}function Fr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function cv(e){return!!e.deps}function lv(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function dv(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Cd(e,n){for(let t of e)Array.isArray(t)?Cd(t,n):t&&Ad(t)?Cd(t.\u0275providers,n):n(t)}function Xe(e,n){let t;e instanceof Rn?(Oa(e),t=e):t=new Md(e);let r,a=zt(t),o=Pe(void 0);try{return n()}finally{zt(a),Pe(o)}}function a0(){return K2()!==void 0||ql()!=null}var kt=0,j=1,N=2,Me=3,ot=4,Oe=5,Hn=6,jr=7,ue=8,qn=9,Et=10,he=11,Hr=12,$d=13,Vn=14,Ne=15,zn=16,Bn=17,Un=18,za=19,Gd=20,Gt=21,gs=22,Ba=23,Ye=24,ms=25,me=26,o0=1,Wd=6,dn=7,Ua=8,$a=9,xe=10;function _t(e){return Array.isArray(e)&&typeof e[o0]=="object"}function vt(e){return Array.isArray(e)&&e[o0]===!0}function Zd(e){return(e.flags&4)!==0}function un(e){return e.componentOffset>-1}function ks(e){return(e.flags&1)===1}function $n(e){return!!e.template}function qr(e){return(e[N]&512)!==0}function Gn(e){return(e[N]&256)===256}var i0="svg",s0="math";function it(e){for(;Array.isArray(e);)e=e[kt];return e}function c0(e,n){return it(n[e])}function Mt(e,n){return it(n[e.index])}function Ga(e,n){return e.data[n]}function Kd(e,n){return e[n]}function Xd(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function st(e,n){let t=n[e];return _t(t)?t:t[kt]}function vs(e){return(e[N]&128)===128}function l0(e){return vt(e[Me])}function hn(e,n){return n==null?null:e[n]}function Yd(e){e[Bn]=0}function Jd(e){e[N]&1024||(e[N]|=1024,vs(e)&&Za(e))}function d0(e,n){for(;e>0;)n=n[Vn],e--;return n}function Wa(e){return!!(e[N]&9216||e[Ye]?.dirty)}function Ms(e){e[Et].changeDetectionScheduler?.notify(8),e[N]&64&&(e[N]|=1024),Wa(e)&&Za(e)}function Za(e){e[Et].changeDetectionScheduler?.notify(0);let n=cn(e);for(;n!==null&&!(n[N]&8192||(n[N]|=8192,!vs(n)));)n=cn(n)}function Qd(e,n){if(Gn(e))throw new C(911,!1);e[Gt]===null&&(e[Gt]=[]),e[Gt].push(n)}function u0(e,n){if(e[Gt]===null)return;let t=e[Gt].indexOf(n);t!==-1&&e[Gt].splice(t,1)}function cn(e){let n=e[Me];return vt(n)?n[Me]:n}function h0(e){return e[jr]??=[]}function p0(e){return e.cleanup??=[]}var U={lFrame:D0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Ka=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Ka||{}),uv=0,xd=!1;function f0(){return U.lFrame.elementDepthCount}function y0(){U.lFrame.elementDepthCount++}function g0(){U.lFrame.elementDepthCount--}function e1(){return U.bindingsEnabled}function t1(){return U.skipHydrationRootTNode!==null}function m0(e){return U.skipHydrationRootTNode===e}function k0(){U.skipHydrationRootTNode=null}function W(){return U.lFrame.lView}function Je(){return U.lFrame.tView}function ct(){let e=n1();for(;e!==null&&e.type===64;)e=e.parent;return e}function n1(){return U.lFrame.currentTNode}function v0(){let e=U.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Vr(e,n){let t=U.lFrame;t.currentTNode=e,t.isParent=n}function r1(){return U.lFrame.isParent}function a1(){U.lFrame.isParent=!1}function o1(e){W2("Must never be called in production mode"),uv=e}function i1(){return xd}function s1(e){let n=xd;return xd=e,n}function Xa(){let e=U.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function M0(){return U.lFrame.bindingIndex}function w0(e){return U.lFrame.bindingIndex=e}function zr(){return U.lFrame.bindingIndex++}function I0(e){let n=U.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function C0(){return U.lFrame.inI18n}function x0(e,n){let t=U.lFrame;t.bindingIndex=t.bindingRootIndex=e,ws(n)}function b0(){return U.lFrame.currentDirectiveIndex}function ws(e){U.lFrame.currentDirectiveIndex=e}function c1(e){U.lFrame.currentQueryIndex=e}function hv(e){let n=e[j];return n.type===2?n.declTNode:n.type===1?e[Oe]:null}function l1(e,n,t){if(t&4){let a=n,o=e;for(;a=a.parent,a===null&&!(t&1);)if(a=hv(o),a===null||(o=o[Vn],a.type&10))break;if(a===null)return!1;n=a,e=o}let r=U.lFrame=S0();return r.currentTNode=n,r.lView=e,!0}function Is(e){let n=S0(),t=e[j];U.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function S0(){let e=U.lFrame,n=e===null?null:e.child;return n===null?D0(e):n}function D0(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function L0(){let e=U.lFrame;return U.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var d1=L0;function Cs(){let e=L0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function E0(e){return(U.lFrame.contextLView=d0(e,U.lFrame.contextLView))[ue]}function Br(){return U.lFrame.selectedIndex}function pn(e){U.lFrame.selectedIndex=e}function u1(){let e=U.lFrame;return Ga(e.tView,e.selectedIndex)}function _0(){return U.lFrame.currentNamespace}var A0=!0;function xs(){return A0}function bs(e){A0=e}function bd(e,n=null,t=null,r){let a=h1(e,n,t,r);return a.resolveInjectorInitializers(),a}function h1(e,n=null,t=null,r,a=new Set){let o=[t||mt,e0(e)];return r=r||(typeof e=="object"?void 0:Ke(e)),new Rn(o,n||Va(),r||null,a)}var at=class e{static THROW_IF_NOT_FOUND=An;static NULL=new Fa;static create(n,t){if(Array.isArray(n))return bd({name:""},t,n,"");{let r=n.name??"";return bd({name:r},n.parent,n.providers,r)}}static \u0275prov=b({token:e,providedIn:"any",factory:()=>L(Hd)});static __NG_ELEMENT_ID__=-1},we=new D(""),Wn=(()=>{class e{static __NG_ELEMENT_ID__=pv;static __NG_ENV_ID__=t=>t}return e})(),Sd=class extends Wn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Gn(this._lView)}onDestroy(n){let t=this._lView;return Qd(t,n),()=>u0(t,n)}};function pv(){return new Sd(W())}var Lt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Ge=new D("",{providedIn:"root",factory:()=>{let e=M(ve),n;return t=>{n??=e.get(Lt),n.handleError(t)}}}),T0={provide:Kt,useValue:()=>void M(Lt),multi:!0},fv=new D("",{providedIn:"root",factory:()=>{let e=M(we).defaultView;if(!e)return;let n=M(Ge),t=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},a=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(a):a(),M(Wn).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function p1(){return jn([Q2(()=>void M(fv))])}function Ss(e,n){let[t,r,a]=Zl(e,n?.equal),o=t,i=o[Ve];return o.set=r,o.update=a,o.asReadonly=R0.bind(o),o}function R0(){let e=this[Ve];if(e.readonlyFn===void 0){let n=()=>this();n[Ve]=e,e.readonlyFn=n}return e.readonlyFn}var Pn=class{},Ya=new D("",{providedIn:"root",factory:()=>!1});var f1=new D(""),y1=new D("");var fn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ge(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new $(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ja(...e){}var g1=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>new Dd})}return e})(),Dd=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Zr(e){return{toString:e}.toString()}var Ds="__parameters__";function Lv(e){return function(...t){if(e){let r=e(...t);for(let a in r)this[a]=r[a]}}}function Ev(e,n,t){return Zr(()=>{let r=Lv(n);function a(...o){if(this instanceof a)return r.apply(this,o),this;let i=new a(...o);return s.annotation=i,s;function s(c,l,d){let u=c.hasOwnProperty(Ds)?c[Ds]:Object.defineProperty(c,Ds,{value:[]})[Ds];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(i),c}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}var U1=X2(Ev("Optional"),8);function _v(e){return typeof e=="function"}var Ts=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function lp(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var gn=(()=>{let e=()=>dp;return e.ngInherit=!0,e})();function dp(e){return e.type.prototype.ngOnChanges&&(e.setInput=Tv),Av}function Av(){let e=hp(this),n=e?.current;if(n){let t=e.previous;if(t===Fn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Tv(e,n,t,r,a){let o=this.declaredInputs[r],i=hp(e)||Rv(e,{previous:Fn,current:null}),s=i.current||(i.current={}),c=i.previous,l=c[o];s[o]=new Ts(l&&l.currentValue,t,c===Fn),lp(e,n,a,t)}var up="__ngSimpleChanges__";function hp(e){return e[up]||null}function Rv(e,n){return e[up]=n}var P0=[];var J=function(e,n=null,t){for(let r=0;r<P0.length;r++){let a=P0[r];a(e,n,t)}};function Pv(e,n,t){let{ngOnChanges:r,ngOnInit:a,ngDoCheck:o}=n.type.prototype;if(r){let i=dp(n);(t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i)}a&&(t.preOrderHooks??=[]).push(0-e,a),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function pp(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;i&&(e.contentHooks??=[]).push(-t,i),s&&((e.contentHooks??=[]).push(t,s),(e.contentCheckHooks??=[]).push(t,s)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),d!=null&&(e.destroyHooks??=[]).push(t,d)}}function Es(e,n,t){fp(e,n,3,t)}function _s(e,n,t,r){(e[N]&3)===t&&fp(e,n,t,r)}function m1(e,n){let t=e[N];(t&3)===n&&(t&=16383,t+=1,e[N]=t)}function fp(e,n,t,r){let a=r!==void 0?e[Bn]&65535:0,o=r??-1,i=n.length-1,s=0;for(let c=a;c<i;c++)if(typeof n[c+1]=="number"){if(s=n[c],r!=null&&s>=r)break}else n[c]<0&&(e[Bn]+=65536),(s<o||o==-1)&&(Ov(e,t,n,c),e[Bn]=(e[Bn]&4294901760)+c+2),c++}function O0(e,n){J(4,e,n);let t=R(null);try{n.call(e)}finally{R(t),J(5,e,n)}}function Ov(e,n,t,r){let a=t[r]<0,o=t[r+1],i=a?-t[r]:t[r],s=e[i];a?e[N]>>14<e[Bn]>>16&&(e[N]&3)===n&&(e[N]+=16384,O0(s,o)):O0(s,o)}var $r=-1,to=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Nv(e){return(e.flags&8)!==0}function Fv(e){return(e.flags&16)!==0}function jv(e,n,t){let r=0;for(;r<t.length;){let a=t[r];if(typeof a=="number"){if(a!==0)break;r++;let o=t[r++],i=t[r++],s=t[r++];e.setAttribute(n,i,s,o)}else{let o=a,i=t[++r];Hv(o)?e.setProperty(n,o,i):e.setAttribute(n,o,i),r++}}return r}function yp(e){return e===3||e===4||e===6}function Hv(e){return e.charCodeAt(0)===64}function $1(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let a=n[r];typeof a=="number"?t=a:t===0||(t===-1||t===2?N0(e,t,a,null,n[++r]):N0(e,t,a,null,null))}}return e}function N0(e,n,t,r,a){let o=0,i=e.length;if(n===-1)i=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===n){i=-1;break}else if(s>n){i=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===t){a!==null&&(e[o+1]=a);return}o++,a!==null&&o++}i!==-1&&(e.splice(i,0,n),o=i+1),e.splice(o++,0,t),a!==null&&e.splice(o++,0,a)}function gp(e){return e!==$r}function Rs(e){return e&32767}function qv(e){return e>>16}function Ps(e,n){let t=qv(e),r=n;for(;t>0;)r=r[Vn],t--;return r}var x1=!0;function Os(e){let n=x1;return x1=e,n}var Vv=256,mp=Vv-1,kp=5,zv=0,At={};function Bv(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(On)&&(r=t[On]),r==null&&(r=t[On]=zv++);let a=r&mp,o=1<<a;n.data[e+(a>>kp)]|=o}function vp(e,n){let t=Mp(e,n);if(t!==-1)return t;let r=n[j];r.firstCreatePass&&(e.injectorIndex=n.length,k1(r.data,e),k1(n,null),k1(r.blueprint,null));let a=G1(e,n),o=e.injectorIndex;if(gp(a)){let i=Rs(a),s=Ps(a,n),c=s[j].data;for(let l=0;l<8;l++)n[o+l]=s[i+l]|c[i+l]}return n[o+8]=a,o}function k1(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Mp(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function G1(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,a=n;for(;a!==null;){if(r=bp(a),r===null)return $r;if(t++,a=a[Vn],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return $r}function Uv(e,n,t){Bv(e,n,t)}function $v(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,a=0;for(;a<r;){let o=t[a];if(yp(o))break;if(o===0)a=a+2;else if(typeof o=="number")for(a++;a<r&&typeof t[a]=="string";)a++;else{if(o===n)return t[a+1];a=a+2}}}return null}function wp(e,n,t){if(t&8||e!==void 0)return e;fs(n,"NodeInjector")}function Ip(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let a=e[qn],o=Pe(void 0);try{return a?a.get(n,r,t&8):Fd(n,r,t&8)}finally{Pe(o)}}return wp(r,n,t)}function Cp(e,n,t,r=0,a){if(e!==null){if(n[N]&2048&&!(r&2)){let i=Xv(e,n,t,r,At);if(i!==At)return i}let o=xp(e,n,t,r,At);if(o!==At)return o}return Ip(n,t,r,a)}function xp(e,n,t,r,a){let o=Zv(t);if(typeof o=="function"){if(!l1(n,e,r))return r&1?wp(a,t,r):Ip(n,t,r,a);try{let i;if(i=o(r),i==null&&!(r&8))fs(t);else return i}finally{d1()}}else if(typeof o=="number"){let i=null,s=Mp(e,n),c=$r,l=r&1?n[Ne][Oe]:null;for((s===-1||r&4)&&(c=s===-1?G1(e,n):n[s+8],c===$r||!j0(r,!1)?s=-1:(i=n[j],s=Rs(c),n=Ps(c,n)));s!==-1;){let d=n[j];if(F0(o,s,d.data)){let u=Gv(s,n,t,i,r,l);if(u!==At)return u}c=n[s+8],c!==$r&&j0(r,n[j].data[s+8]===l)&&F0(o,s,n)?(i=d,s=Rs(c),n=Ps(c,n)):s=-1}}return a}function Gv(e,n,t,r,a,o){let i=n[j],s=i.data[e+8],c=r==null?un(s)&&x1:r!=i&&(s.type&3)!==0,l=a&1&&o===s,d=Wv(s,i,t,c,l);return d!==null?b1(n,i,d,s):At}function Wv(e,n,t,r,a){let o=e.providerIndexes,i=n.data,s=o&1048575,c=e.directiveStart,l=e.directiveEnd,d=o>>20,u=r?s:s+d,p=a?s+d:l;for(let h=u;h<p;h++){let y=i[h];if(h<c&&t===y||h>=c&&y.type===t)return h}if(a){let h=i[c];if(h&&$n(h)&&h.type===t)return c}return null}function b1(e,n,t,r){let a=e[t],o=n.data;if(a instanceof to){let i=a;i.resolving&&Nd(Z2(o[t]));let s=Os(i.canSeeViewProviders);i.resolving=!0;let c=o[t].type||o[t],l,d=i.injectImpl?Pe(i.injectImpl):null,u=l1(e,r,0);try{a=e[t]=i.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&Pv(t,o[t],n)}finally{d!==null&&Pe(d),Os(s),i.resolving=!1,d1()}}return a}function Zv(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(On)?e[On]:void 0;return typeof n=="number"?n>=0?n&mp:Kv:n}function F0(e,n,t){let r=1<<e;return!!(t[n+(e>>kp)]&r)}function j0(e,n){return!(e&2)&&!(e&1&&n)}var Kn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Cp(this._tNode,this._lView,n,Tn(r),t)}};function Kv(){return new Kn(ct(),W())}function Zs(e){return Zr(()=>{let n=e.prototype.constructor,t=n[Na]||S1(n),r=Object.prototype,a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){let o=a[Na]||S1(a);if(o&&o!==t)return o;a=Object.getPrototypeOf(a)}return o=>new o})}function S1(e){return Ed(e)?()=>{let n=S1($e(e));return n&&n()}:sn(e)}function Xv(e,n,t,r,a){let o=e,i=n;for(;o!==null&&i!==null&&i[N]&2048&&!qr(i);){let s=xp(o,i,t,r|2,At);if(s!==At)return s;let c=o.parent;if(!c){let l=i[Gd];if(l){let d=l.get(t,At,r);if(d!==At)return d}c=bp(i),i=i[Vn]}o=c}return a}function bp(e){let n=e[j],t=n.type;return t===2?n.declTNode:t===1?e[Oe]:null}function io(e){return $v(ct(),e)}function Yv(){return W1(ct(),W())}function W1(e,n){return new Qn(Mt(e,n))}var Qn=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Yv}return e})();function Sp(e){return(e.flags&128)===128}var Z1=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Z1||{}),Dp=new Map,Jv=0;function Qv(){return Jv++}function e4(e){Dp.set(e[za],e)}function D1(e){Dp.delete(e[za])}var H0="__ngContext__";function so(e,n){_t(n)?(e[H0]=n[za],e4(n)):e[H0]=n}function Lp(e){return _p(e[Hr])}function Ep(e){return _p(e[ot])}function _p(e){for(;e!==null&&!vt(e);)e=e[ot];return e}var L1;function K1(e){L1=e}function Ap(){if(L1!==void 0)return L1;if(typeof document<"u")return document;throw new C(210,!1)}var Ks=new D("",{providedIn:"root",factory:()=>t4}),t4="ng",Xs=new D(""),Kr=new D("",{providedIn:"platform",factory:()=>"unknown"});var Ys=new D("",{providedIn:"root",factory:()=>Ap().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var n4="h",r4="b";var Tp="r";var Rp="di";var Pp=!1,Op=new D("",{providedIn:"root",factory:()=>Pp});var a4=(e,n,t,r)=>{};function o4(e,n,t,r){a4(e,n,t,r)}var i4=()=>null;function Np(e,n,t=!1){return i4(e,n,t)}function Fp(e,n){let t=e.contentQueries;if(t!==null){let r=R(null);try{for(let a=0;a<t.length;a+=2){let o=t[a],i=t[a+1];if(i!==-1){let s=e.data[i];c1(o),s.contentQueries(2,n[i],i)}}}finally{R(r)}}}function E1(e,n,t){c1(0);let r=R(null);try{n(e,t)}finally{R(r)}}function jp(e,n,t){if(Zd(n)){let r=R(null);try{let a=n.directiveStart,o=n.directiveEnd;for(let i=a;i<o;i++){let s=e.data[i];if(s.contentQueries){let c=t[i];s.contentQueries(1,c,i)}}}finally{R(r)}}}var Xt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Xt||{});var Ls;function s4(){if(Ls===void 0&&(Ls=null,Wt.trustedTypes))try{Ls=Wt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ls}function q0(e){return s4()?.createScriptURL(e)||e}var Ns=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ds})`}};function X1(e){return e instanceof Ns?e.changingThisBreaksApplicationSecurity:e}function Y1(e,n){let t=Hp(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${ds})`)}return t===n}function Hp(e){return e instanceof Ns&&e.getTypeName()||null}var c4=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function qp(e){return e=String(e),e.match(c4)?e:"unsafe:"+e}var Js=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Js||{});function Vp(e){let n=Bp();return n?n.sanitize(Js.URL,e)||"":Y1(e,"URL")?X1(e):qp(Nn(e))}function zp(e){let n=Bp();if(n)return q0(n.sanitize(Js.RESOURCE_URL,e)||"");if(Y1(e,"ResourceURL"))return q0(X1(e));throw new C(904,!1)}function l4(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?zp:Vp}function J1(e,n,t){return l4(n,t)(e)}function Bp(){let e=W();return e&&e[Et].sanitizer}function Up(e){return e instanceof Function?e():e}function d4(e,n,t){let r=e.length;for(;;){let a=e.indexOf(n,t);if(a===-1)return a;if(a===0||e.charCodeAt(a-1)<=32){let o=n.length;if(a+o===r||e.charCodeAt(a+o)<=32)return a}t=a+1}}var $p="ng-template";function u4(e,n,t,r){let a=0;if(r){for(;a<n.length&&typeof n[a]=="string";a+=2)if(n[a]==="class"&&d4(n[a+1].toLowerCase(),t,0)!==-1)return!0}else if(Q1(e))return!1;if(a=n.indexOf(1,a),a>-1){let o;for(;++a<n.length&&typeof(o=n[a])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Q1(e){return e.type===4&&e.value!==$p}function h4(e,n,t){let r=e.type===4&&!t?$p:e.value;return n===r}function p4(e,n,t){let r=4,a=e.attrs,o=a!==null?g4(a):0,i=!1;for(let s=0;s<n.length;s++){let c=n[s];if(typeof c=="number"){if(!i&&!wt(r)&&!wt(c))return!1;if(i&&wt(c))continue;i=!1,r=c|r&1;continue}if(!i)if(r&4){if(r=2|r&1,c!==""&&!h4(e,c,t)||c===""&&n.length===1){if(wt(r))return!1;i=!0}}else if(r&8){if(a===null||!u4(e,a,c,t)){if(wt(r))return!1;i=!0}}else{let l=n[++s],d=f4(c,a,Q1(e),t);if(d===-1){if(wt(r))return!1;i=!0;continue}if(l!==""){let u;if(d>o?u="":u=a[d+1].toLowerCase(),r&2&&l!==u){if(wt(r))return!1;i=!0}}}}return wt(r)||i}function wt(e){return(e&1)===0}function f4(e,n,t,r){if(n===null)return-1;let a=0;if(r||!t){let o=!1;for(;a<n.length;){let i=n[a];if(i===e)return a;if(i===3||i===6)o=!0;else if(i===1||i===2){let s=n[++a];for(;typeof s=="string";)s=n[++a];continue}else{if(i===4)break;if(i===0){a+=4;continue}}a+=o?1:2}return-1}else return m4(n,e)}function Gp(e,n,t=!1){for(let r=0;r<n.length;r++)if(p4(e,n[r],t))return!0;return!1}function y4(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function g4(e){for(let n=0;n<e.length;n++){let t=e[n];if(yp(t))return n}return e.length}function m4(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function k4(e,n){e:for(let t=0;t<n.length;t++){let r=n[t];if(e.length===r.length){for(let a=0;a<e.length;a++)if(e[a]!==r[a])continue e;return!0}}return!1}function V0(e,n){return e?":not("+n.trim()+")":n}function v4(e){let n=e[0],t=1,r=2,a="",o=!1;for(;t<e.length;){let i=e[t];if(typeof i=="string")if(r&2){let s=e[++t];a+="["+i+(s.length>0?'="'+s+'"':"")+"]"}else r&8?a+="."+i:r&4&&(a+=" "+i);else a!==""&&!wt(i)&&(n+=V0(o,a),a=""),r=i,o=o||!wt(r);t++}return a!==""&&(n+=V0(o,a)),n}function M4(e){return e.map(v4).join(",")}function w4(e){let n=[],t=[],r=1,a=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")a===2?o!==""&&n.push(o,e[++r]):a===8&&t.push(o);else{if(!wt(a))break;a=o}r++}return t.length&&n.push(1,...t),n}var It={};function I4(e,n){return e.createText(n)}function C4(e,n,t){e.setValue(n,t)}function Wp(e,n,t){return e.createElement(n,t)}function Fs(e,n,t,r,a){e.insertBefore(n,t,r,a)}function Zp(e,n,t){e.appendChild(n,t)}function z0(e,n,t,r,a){r!==null?Fs(e,n,t,r,a):Zp(e,n,t)}function Kp(e,n,t){e.removeChild(null,n,t)}function x4(e,n,t){e.setAttribute(n,"style",t)}function b4(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Xp(e,n,t){let{mergedAttrs:r,classes:a,styles:o}=t;r!==null&&jv(e,n,r),a!==null&&b4(e,n,a),o!==null&&x4(e,n,o)}function eu(e,n,t,r,a,o,i,s,c,l,d){let u=me+r,p=u+a,h=S4(u,p),y=typeof l=="function"?l():l;return h[j]={type:e,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:n,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function S4(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:It);return t}function D4(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=eu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function tu(e,n,t,r,a,o,i,s,c,l,d){let u=n.blueprint.slice();return u[kt]=a,u[N]=r|4|128|8|64|1024,(l!==null||e&&e[N]&2048)&&(u[N]|=2048),Yd(u),u[Me]=u[Vn]=e,u[ue]=t,u[Et]=i||e&&e[Et],u[he]=s||e&&e[he],u[qn]=c||e&&e[qn]||null,u[Oe]=o,u[za]=Qv(),u[Hn]=d,u[Gd]=l,u[Ne]=n.type==2?e[Ne]:u,u}function L4(e,n,t){let r=Mt(n,e),a=D4(t),o=e[Et].rendererFactory,i=nu(e,tu(e,a,null,Yp(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=i}function Yp(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function Jp(e,n,t,r){if(t===0)return-1;let a=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return a}function nu(e,n){return e[Hr]?e[$d][ot]=n:e[Hr]=n,e[$d]=n,n}function B(e=1){Qp(Je(),W(),Br()+e,!1)}function Qp(e,n,t,r){if(!r)if((n[N]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Es(n,o,t)}else{let o=e.preOrderHooks;o!==null&&_s(n,o,0,t)}pn(t)}var Qs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(Qs||{});function _1(e,n,t,r){let a=R(null);try{let[o,i,s]=e.inputs[t],c=null;(i&Qs.SignalBased)!==0&&(c=n[o][Ve]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):lp(n,c,o,r)}finally{R(a)}}function ef(e,n,t,r,a){let o=Br(),i=r&2;try{pn(-1),i&&n.length>me&&Qp(e,n,me,!1),J(i?2:0,a,t),t(r,a)}finally{pn(o),J(i?3:1,a,t)}}function ru(e,n,t){N4(e,n,t),(t.flags&64)===64&&F4(e,n,t)}function tf(e,n,t=Mt){let r=n.localNames;if(r!==null){let a=n.index+1;for(let o=0;o<r.length;o+=2){let i=r[o+1],s=i===-1?t(n,e):e[i];e[a++]=s}}}function E4(e,n,t,r){let o=r.get(Op,Pp)||t===Xt.ShadowDom,i=e.selectRootElement(n,o);return _4(i),i}function _4(e){A4(e)}var A4=()=>null;function T4(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function R4(e,n,t,r,a,o){let i=n[j];if(au(e,i,n,t,r)){un(e)&&O4(n,e.index);return}P4(e,n,t,r,a,o)}function P4(e,n,t,r,a,o){if(e.type&3){let i=Mt(e,n);t=T4(t),r=o!=null?o(r,e.value||"",t):r,a.setProperty(i,t,r)}else e.type&12}function O4(e,n){let t=st(n,e);t[N]&16||(t[N]|=64)}function N4(e,n,t){let r=t.directiveStart,a=t.directiveEnd;un(t)&&L4(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||vp(t,n);let o=t.initialInputs;for(let i=r;i<a;i++){let s=e.data[i],c=b1(n,e,i,t);if(so(c,n),o!==null&&V4(n,i-r,c,s,t,o),$n(s)){let l=st(t.index,n);l[ue]=b1(n,e,i,t)}}}function F4(e,n,t){let r=t.directiveStart,a=t.directiveEnd,o=t.index,i=b0();try{pn(o);for(let s=r;s<a;s++){let c=e.data[s],l=n[s];ws(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&j4(c,l)}}finally{pn(-1),ws(i)}}function j4(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function nf(e,n){let t=e.directiveRegistry,r=null;if(t)for(let a=0;a<t.length;a++){let o=t[a];Gp(n,o.selectors,!1)&&(r??=[],$n(o)?r.unshift(o):r.push(o))}return r}function H4(e,n,t,r,a,o){let i=Mt(e,n);q4(n[he],i,o,e.value,t,r,a)}function q4(e,n,t,r,a,o,i){if(o==null)e.removeAttribute(n,a,t);else{let s=i==null?Nn(o):i(o,r||"",a);e.setAttribute(n,a,s,t)}}function V4(e,n,t,r,a,o){let i=o[n];if(i!==null)for(let s=0;s<i.length;s+=2){let c=i[s],l=i[s+1];_1(r,t,c,l)}}function z4(e,n){let t=e[qn];if(!t)return;t.get(Ge,null)?.(n)}function au(e,n,t,r,a){let o=e.inputs?.[r],i=e.hostDirectiveInputs?.[r],s=!1;if(i)for(let c=0;c<i.length;c+=2){let l=i[c],d=i[c+1],u=n.data[l];_1(u,t[l],d,a),s=!0}if(o)for(let c of o){let l=t[c],d=n.data[c];_1(d,l,r,a),s=!0}return s}function B4(e,n){let t=st(n,e),r=t[j];U4(r,t);let a=t[kt];a!==null&&t[Hn]===null&&(t[Hn]=Np(a,t[qn])),J(18),ou(r,t,t[ue]),J(19,t[ue])}function U4(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function ou(e,n,t){Is(n);try{let r=e.viewQuery;r!==null&&E1(1,r,t);let a=e.template;a!==null&&ef(e,n,a,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Un]?.finishViewCreation(e),e.staticContentQueries&&Fp(e,n),e.staticViewQueries&&E1(2,e.viewQuery,t);let o=e.components;o!==null&&$4(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[N]&=-5,Cs()}}function $4(e,n){for(let t=0;t<n.length;t++)B4(e,n[t])}function ec(e,n,t,r){let a=R(null);try{let o=n.tView,s=e[N]&4096?4096:16,c=tu(e,o,t,s,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[zn]=l;let d=e[Un];return d!==null&&(c[Un]=d.createEmbeddedView(o)),ou(o,c,t),c}finally{R(a)}}function Gr(e,n){return!n||n.firstChild===null||Sp(e)}var B0=!1,G4=new D(""),W4;function iu(e,n){return W4(e,n)}var mn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(mn||{});function tc(e){return(e.flags&32)===32}function Ur(e,n,t,r,a){if(r!=null){let o,i=!1;vt(r)?o=r:_t(r)&&(i=!0,r=r[kt]);let s=it(r);e===0&&t!==null?a==null?Zp(n,t,s):Fs(n,t,s,a||null,!0):e===1&&t!==null?Fs(n,t,s,a||null,!0):e===2?Kp(n,s,i):e===3&&n.destroyNode(s),o!=null&&r5(n,e,o,t,a)}}function Z4(e,n){rf(e,n),n[kt]=null,n[Oe]=null}function K4(e,n,t,r,a,o){r[kt]=a,r[Oe]=n,rc(e,r,t,1,a,o)}function rf(e,n){n[Et].changeDetectionScheduler?.notify(9),rc(e,n,n[he],2,null,null)}function X4(e){let n=e[Hr];if(!n)return v1(e[j],e);for(;n;){let t=null;if(_t(n))t=n[Hr];else{let r=n[xe];r&&(t=r)}if(!t){for(;n&&!n[ot]&&n!==e;)_t(n)&&v1(n[j],n),n=n[Me];n===null&&(n=e),_t(n)&&v1(n[j],n),t=n&&n[ot]}n=t}}function su(e,n){let t=e[$a],r=t.indexOf(n);t.splice(r,1)}function nc(e,n){if(Gn(n))return;let t=n[he];t.destroyNode&&rc(e,n,t,3,null,null),X4(n)}function v1(e,n){if(Gn(n))return;let t=R(null);try{n[N]&=-129,n[N]|=256,n[Ye]&&Ri(n[Ye]),J4(e,n),Y4(e,n),n[j].type===1&&n[he].destroy();let r=n[zn];if(r!==null&&vt(n[Me])){r!==n[Me]&&su(r,n);let a=n[Un];a!==null&&a.detachView(e)}D1(n)}finally{R(t)}}function Y4(e,n){let t=e.cleanup,r=n[jr];if(t!==null)for(let i=0;i<t.length-1;i+=2)if(typeof t[i]=="string"){let s=t[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[t[i+1]];t[i].call(s)}r!==null&&(n[jr]=null);let a=n[Gt];if(a!==null){n[Gt]=null;for(let i=0;i<a.length;i++){let s=a[i];s()}}let o=n[Ba];if(o!==null){n[Ba]=null;for(let i of o)i.destroy()}}function J4(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let a=n[t[r]];if(!(a instanceof to)){let o=t[r+1];if(Array.isArray(o))for(let i=0;i<o.length;i+=2){let s=a[o[i]],c=o[i+1];J(4,s,c);try{c.call(s)}finally{J(5,s,c)}}else{J(4,a,o);try{o.call(a)}finally{J(5,a,o)}}}}}function af(e,n,t){return Q4(e,n.parent,t)}function Q4(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[kt];if(un(r)){let{encapsulation:a}=e.data[r.directiveStart+r.componentOffset];if(a===Xt.None||a===Xt.Emulated)return null}return Mt(r,t)}function of(e,n,t){return t5(e,n,t)}function e5(e,n,t){return e.type&40?Mt(e,t):null}var t5=e5,U0;function cu(e,n,t,r){let a=af(e,r,n),o=n[he],i=r.parent||n[Oe],s=of(i,r,n);if(a!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)z0(o,a,t[c],s,!1);else z0(o,a,t,s,!1);U0!==void 0&&U0(o,r,n,t,a)}function Qa(e,n){if(n!==null){let t=n.type;if(t&3)return Mt(n,e);if(t&4)return A1(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Qa(e,r);{let a=e[n.index];return vt(a)?A1(-1,a):it(a)}}else{if(t&128)return Qa(e,n.next);if(t&32)return iu(n,e)()||it(e[n.index]);{let r=sf(e,n);if(r!==null){if(Array.isArray(r))return r[0];let a=cn(e[Ne]);return Qa(a,r)}else return Qa(e,n.next)}}}return null}function sf(e,n){if(n!==null){let r=e[Ne][Oe],a=n.projection;return r.projection[a]}return null}function A1(e,n){let t=xe+e+1;if(t<n.length){let r=n[t],a=r[j].firstChild;if(a!==null)return Qa(r,a)}return n[dn]}function lu(e,n,t,r,a,o,i){for(;t!=null;){if(t.type===128){t=t.next;continue}let s=r[t.index],c=t.type;if(i&&n===0&&(s&&so(it(s),r),t.flags|=2),!tc(t))if(c&8)lu(e,n,t.child,r,a,o,!1),Ur(n,e,a,s,o);else if(c&32){let l=iu(t,r),d;for(;d=l();)Ur(n,e,a,d,o);Ur(n,e,a,s,o)}else c&16?cf(e,n,r,t,a,o):Ur(n,e,a,s,o);t=i?t.projectionNext:t.next}}function rc(e,n,t,r,a,o){lu(t,r,e.firstChild,n,a,o,!1)}function n5(e,n,t){let r=n[he],a=af(e,t,n),o=t.parent||n[Oe],i=of(o,t,n);cf(r,0,n,t,a,i)}function cf(e,n,t,r,a,o){let i=t[Ne],c=i[Oe].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ur(n,e,a,d,o)}else{let l=c,d=i[Me];Sp(r)&&(l.flags|=128),lu(e,n,l,d,a,o,!0)}}function r5(e,n,t,r,a){let o=t[dn],i=it(t);o!==i&&Ur(n,e,r,o,a);for(let s=xe;s<t.length;s++){let c=t[s];rc(c[j],c,e,n,r,o)}}function no(e,n,t,r,a=!1){for(;t!==null;){if(t.type===128){t=a?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(it(o)),vt(o)&&lf(o,r);let i=t.type;if(i&8)no(e,n,t.child,r);else if(i&32){let s=iu(t,n),c;for(;c=s();)r.push(c)}else if(i&16){let s=sf(n,t);if(Array.isArray(s))r.push(...s);else{let c=cn(n[Ne]);no(c[j],c,s,r,!0)}}t=a?t.projectionNext:t.next}return r}function lf(e,n){for(let t=xe;t<e.length;t++){let r=e[t],a=r[j].firstChild;a!==null&&no(r[j],r,a,n)}e[dn]!==e[kt]&&n.push(e[dn])}function df(e){if(e[ms]!==null){for(let n of e[ms])n.impl.addSequence(n);e[ms].length=0}}var uf=[];function a5(e){return e[Ye]??o5(e)}function o5(e){let n=uf.pop()??Object.create(s5);return n.lView=e,n}function i5(e){e.lView[Ye]!==e&&(e.lView=null,uf.push(e))}var s5=K(w({},br),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Za(e.lView)},consumerOnSignalRead(){this.lView[Ye]=this}});function c5(e){let n=e[Ye]??Object.create(l5);return n.lView=e,n}var l5=K(w({},br),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=cn(e.lView);for(;n&&!hf(n[j]);)n=cn(n);n&&Jd(n)},consumerOnSignalRead(){this.lView[Ye]=this}});function hf(e){return e.type!==2}function pf(e){if(e[Ba]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Ba])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[N]&8192)}}var d5=100;function du(e,n=0){let r=e[Et].rendererFactory,a=!1;a||r.begin?.();try{u5(e,n)}finally{a||r.end?.()}}function u5(e,n){let t=i1();try{s1(!0),T1(e,n);let r=0;for(;Wa(e);){if(r===d5)throw new C(103,!1);r++,T1(e,1)}}finally{s1(t)}}function ff(e,n){o1(n?Ka.Exhaustive:Ka.OnlyDirtyViews);try{du(e)}finally{o1(Ka.Off)}}function h5(e,n,t,r){if(Gn(n))return;let a=n[N],o=!1,i=!1;Is(n);let s=!0,c=null,l=null;o||(hf(e)?(l=a5(n),c=Sr(l)):Ti()===null?(s=!1,l=c5(n),c=Sr(l)):n[Ye]&&(Ri(n[Ye]),n[Ye]=null));try{Yd(n),w0(e.bindingStartIndex),t!==null&&ef(e,n,t,2,r);let d=(a&3)===3;if(!o)if(d){let h=e.preOrderCheckHooks;h!==null&&Es(n,h,null)}else{let h=e.preOrderHooks;h!==null&&_s(n,h,0,null),m1(n,0)}if(i||p5(n),pf(n),yf(n,0),e.contentQueries!==null&&Fp(e,n),!o)if(d){let h=e.contentCheckHooks;h!==null&&Es(n,h)}else{let h=e.contentHooks;h!==null&&_s(n,h,1),m1(n,1)}y5(e,n);let u=e.components;u!==null&&mf(n,u,0);let p=e.viewQuery;if(p!==null&&E1(2,p,r),!o)if(d){let h=e.viewCheckHooks;h!==null&&Es(n,h)}else{let h=e.viewHooks;h!==null&&_s(n,h,2),m1(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[gs]){for(let h of n[gs])h();n[gs]=null}o||(df(n),n[N]&=-73)}catch(d){throw o||Za(n),d}finally{l!==null&&(Ea(l,c),s&&i5(l)),Cs()}}function yf(e,n){for(let t=Lp(e);t!==null;t=Ep(t))for(let r=xe;r<t.length;r++){let a=t[r];gf(a,n)}}function p5(e){for(let n=Lp(e);n!==null;n=Ep(n)){if(!(n[N]&2))continue;let t=n[$a];for(let r=0;r<t.length;r++){let a=t[r];Jd(a)}}}function f5(e,n,t){J(18);let r=st(n,e);gf(r,t),J(19,r[ue])}function gf(e,n){vs(e)&&T1(e,n)}function T1(e,n){let r=e[j],a=e[N],o=e[Ye],i=!!(n===0&&a&16);if(i||=!!(a&64&&n===0),i||=!!(a&1024),i||=!!(o?.dirty&&_a(o)),i||=!1,o&&(o.dirty=!1),e[N]&=-9217,i)h5(r,e,r.template,e[ue]);else if(a&8192){let s=R(null);try{pf(e),yf(e,1);let c=r.components;c!==null&&mf(e,c,1),df(e)}finally{R(s)}}}function mf(e,n,t){for(let r=0;r<n.length;r++)f5(e,n[r],t)}function y5(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let a=t[r];if(a<0)pn(~a);else{let o=a,i=t[++r],s=t[++r];x0(i,o);let c=n[o];J(24,c),s(2,c),J(25,c)}}}finally{pn(-1)}}function uu(e,n){let t=i1()?64:1088;for(e[Et].changeDetectionScheduler?.notify(n);e;){e[N]|=t;let r=cn(e);if(qr(e)&&!r)return e;e=r}return null}function kf(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function vf(e,n){let t=xe+n;if(t<e.length)return e[t]}function co(e,n,t,r=!0){let a=n[j];if(g5(a,n,e,t),r){let i=A1(t,e),s=n[he],c=s.parentNode(e[dn]);c!==null&&K4(a,e[Oe],s,n,c,i)}let o=n[Hn];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Mf(e,n){let t=ro(e,n);return t!==void 0&&nc(t[j],t),t}function ro(e,n){if(e.length<=xe)return;let t=xe+n,r=e[t];if(r){let a=r[zn];a!==null&&a!==e&&su(a,r),n>0&&(e[t-1][ot]=r[ot]);let o=Ha(e,xe+n);Z4(r[j],r);let i=o[Un];i!==null&&i.detachView(o[j]),r[Me]=null,r[ot]=null,r[N]&=-129}return r}function g5(e,n,t,r){let a=xe+r,o=t.length;r>0&&(t[a-1][ot]=n),r<o-xe?(n[ot]=t[a],jd(t,xe+r,n)):(t.push(n),n[ot]=null),n[Me]=t;let i=n[zn];i!==null&&t!==i&&wf(i,n);let s=n[Un];s!==null&&s.insertView(e),Ms(n),n[N]|=128}function wf(e,n){let t=e[$a],r=n[Me];if(_t(r))e[N]|=2;else{let a=r[Me][Ne];n[Ne]!==a&&(e[N]|=2)}t===null?e[$a]=[n]:t.push(n)}var Xn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[j];return no(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[ue]}set context(n){this._lView[ue]=n}get destroyed(){return Gn(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[Me];if(vt(n)){let t=n[Ua],r=t?t.indexOf(this):-1;r>-1&&(ro(n,r),Ha(t,r))}this._attachedToViewContainer=!1}nc(this._lView[j],this._lView)}onDestroy(n){Qd(this._lView,n)}markForCheck(){uu(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[N]&=-129}reattach(){Ms(this._lView),this._lView[N]|=128}detectChanges(){this._lView[N]|=1024,du(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[qn].get(G4,B0)}catch{this.exhaustive=B0}}attachToViewContainerRef(){if(this._appRef)throw new C(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=qr(this._lView),t=this._lView[zn];t!==null&&!n&&su(t,this._lView),rf(this._lView[j],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new C(902,!1);this._appRef=n;let t=qr(this._lView),r=this._lView[zn];r!==null&&!t&&wf(r,this._lView),Ms(this._lView)}};function ac(e,n,t,r,a){let o=e.data[n];if(o===null)o=m5(e,n,t,r,a),C0()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=a;let i=v0();o.injectorIndex=i===null?-1:i.injectorIndex}return Vr(o,!0),o}function m5(e,n,t,r,a){let o=n1(),i=r1(),s=i?o:o&&o.parent,c=e.data[n]=v5(e,s,t,n,r,a);return k5(e,c,o,i),c}function k5(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function v5(e,n,t,r,a,o){let i=n?n.injectorIndex:-1,s=0;return t1()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:a,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var nL=new RegExp(`^(\\d+)*(${r4}|${n4})*(.*)`);function M5(e){let n=e[Wd]??[],r=e[Me][he],a=[];for(let o of n)o.data[Rp]!==void 0?a.push(o):w5(o,r);e[Wd]=a}function w5(e,n){let t=0,r=e.firstChild;if(r){let a=e.data[Tp];for(;t<a;){let o=r.nextSibling;Kp(n,r,!1),r=o,t++}}}var I5=()=>null,C5=()=>null;function js(e,n){return I5(e,n)}function If(e,n,t){return C5(e,n,t)}var Cf=class{},oc=class{},R1=class{resolveComponentFactory(n){throw new C(917,!1)}},lo=class{static NULL=new R1},Yn=class{},Xr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>x5()}return e})();function x5(){let e=W(),n=ct(),t=st(n.index,e);return(_t(t)?t:e)[he]}var xf=(()=>{class e{static \u0275prov=b({token:e,providedIn:"root",factory:()=>null})}return e})();var As={},P1=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let a=this.injector.get(n,As,r);return a!==As||t===As?a:this.parentInjector.get(n,t,r)}};function $0(e,n,t){let r=t?e.styles:null,a=t?e.classes:null,o=0;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];if(typeof s=="number")o=s;else if(o==1)a=Ld(a,s);else if(o==2){let c=s,l=n[++i];r=Ld(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=a:e.classesWithoutHost=a}function se(e,n=0){let t=W();if(t===null)return L(e,n);let r=ct();return Cp(r,t,$e(e),n)}function bf(e,n,t,r,a){let o=r===null?null:{"":-1},i=a(e,t);if(i!==null){let s=i,c=null,l=null;for(let d of i)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(i);break}D5(e,n,t,s,o,c,l)}o!==null&&r!==null&&b5(t,r,o)}function b5(e,n,t){let r=e.localNames=[];for(let a=0;a<n.length;a+=2){let o=t[n[a+1]];if(o==null)throw new C(-301,!1);r.push(n[a],o)}}function S5(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function D5(e,n,t,r,a,o,i){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&$n(h)&&(c=!0,S5(e,t,p)),Uv(vp(t,n),e,h.type)}R5(t,e.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=Jp(e,n,s,null);s>0&&(t.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(t.mergedAttrs=$1(t.mergedAttrs,h.hostAttrs),E5(e,t,n,u,h),T5(u,h,a),i!==null&&i.has(h)){let[g,m]=i.get(h);t.directiveToIndex.set(h.type,[u,g+t.directiveStart,m+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),d=!0),u++}L5(e,t,o)}function L5(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let a=e.data[r];if(t===null||!t.has(a))G0(0,n,a,r),G0(1,n,a,r),Z0(n,r,!1);else{let o=t.get(a);W0(0,n,o,r),W0(1,n,o,r),Z0(n,r,!0)}}}function G0(e,n,t,r){let a=e===0?t.inputs:t.outputs;for(let o in a)if(a.hasOwnProperty(o)){let i;e===0?i=n.inputs??={}:i=n.outputs??={},i[o]??=[],i[o].push(r),Sf(n,o)}}function W0(e,n,t,r){let a=e===0?t.inputs:t.outputs;for(let o in a)if(a.hasOwnProperty(o)){let i=a[o],s;e===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[i]??=[],s[i].push(r,o),Sf(n,i)}}function Sf(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function Z0(e,n,t){let{attrs:r,inputs:a,hostDirectiveInputs:o}=e;if(r===null||!t&&a===null||t&&o===null||Q1(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let i=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!t&&a.hasOwnProperty(c)){let l=a[c];for(let d of l)if(d===n){i??=[],i.push(c,r[s+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===n){i??=[],i.push(l[d+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(i)}function E5(e,n,t,r,a){e.data[r]=a;let o=a.factory||(a.factory=sn(a.type,!0)),i=new to(o,$n(a),se);e.blueprint[r]=i,t[r]=i,_5(e,n,r,Jp(e,t,a.hostVars,It),a)}function _5(e,n,t,r,a){let o=a.hostBindings;if(o){let i=e.hostBindingOpCodes;i===null&&(i=e.hostBindingOpCodes=[]);let s=~n.index;A5(i)!=s&&i.push(s),i.push(t,r,o)}}function A5(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function T5(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;$n(n)&&(t[""]=e)}}function R5(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Df(e,n,t,r,a,o,i,s){let c=n.consts,l=hn(c,i),d=ac(n,e,2,r,l);return o&&bf(n,t,d,hn(c,s),a),d.mergedAttrs=$1(d.mergedAttrs,d.attrs),d.attrs!==null&&$0(d,d.attrs,!1),d.mergedAttrs!==null&&$0(d,d.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,d),d}function Lf(e,n){pp(e,n),Zd(n)&&e.queries.elementEnd(n)}function hu(e,n,t){return e[n]=t}function P5(e,n){return e[n]}function yn(e,n,t){if(t===It)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Ef(e,n,t,r){let a=yn(e,n,t);return yn(e,n+1,r)||a}function M1(e,n,t){return function r(a){let o=un(e)?st(e.index,n):n;uu(o,5);let i=n[ue],s=K0(n,i,t,a),c=r.__ngNextListenerFn__;for(;c;)s=K0(n,i,c,a)&&s,c=c.__ngNextListenerFn__;return s}}function K0(e,n,t,r){let a=R(null);try{return J(6,n,t),t(r)!==!1}catch(o){return z4(e,o),!1}finally{J(7,n,t),R(a)}}function O5(e,n,t,r,a,o,i,s){let c=ks(e),l=!1,d=null;if(!r&&c&&(d=N5(n,t,o,e.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=i,d.__ngLastListenerFn__=i,l=!0}else{let u=Mt(e,t),p=r?r(u):u;o4(t,p,o,s);let h=a.listen(p,o,s),y=r?g=>r(it(g[e.index])):e.index;_f(y,n,t,o,s,h,!1)}return l}function N5(e,n,t,r){let a=e.cleanup;if(a!=null)for(let o=0;o<a.length-1;o+=2){let i=a[o];if(i===t&&a[o+1]===r){let s=n[jr],c=a[o+2];return s&&s.length>c?s[c]:null}typeof i=="string"&&(o+=2)}return null}function _f(e,n,t,r,a,o,i){let s=n.firstCreatePass?p0(n):null,c=h0(t),l=c.length;c.push(a,o),s&&s.push(r,e,l,(l+1)*(i?-1:1))}function X0(e,n,t,r,a,o){let i=n[t],s=n[j],l=s.data[t].outputs[r],u=i[l].subscribe(o);_f(e.index,s,n,a,o,u,!0)}var O1=Symbol("BINDING");var Hs=class extends lo{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=ln(n);return new Wr(t,this.ngModule)}};function F5(e){return Object.keys(e).map(n=>{let[t,r,a]=e[n],o={propName:t,templateName:n,isSignal:(r&Qs.SignalBased)!==0};return a&&(o.transform=a),o})}function j5(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function H5(e,n,t){let r=n instanceof ve?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new P1(t,r):t}function q5(e){let n=e.get(Yn,null);if(n===null)throw new C(407,!1);let t=e.get(xf,null),r=e.get(Pn,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function V5(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return Wp(n,t,t==="svg"?i0:t==="math"?s0:null)}var Wr=class extends oc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=F5(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=j5(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=M4(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,a,o,i){J(22);let s=R(null);try{let c=this.componentDef,l=z5(r,c,i,o),d=H5(c,a||this.ngModule,n),u=q5(d),p=u.rendererFactory.createRenderer(null,c),h=r?E4(p,r,c.encapsulation,d):V5(c,p),y=i?.some(Y0)||o?.some(v=>typeof v!="function"&&v.bindings.some(Y0)),g=tu(null,l,null,512|Yp(c),null,null,u,p,d,null,Np(h,d,!0));g[me]=h,Is(g);let m=null;try{let v=Df(me,l,g,"#host",()=>l.directiveRegistry,!0,0);h&&(Xp(p,h,v),so(h,g)),ru(l,g,v),jp(l,v,g),Lf(l,v),t!==void 0&&U5(v,this.ngContentSelectors,t),m=st(v.index,g),g[ue]=m[ue],ou(l,g,null)}catch(v){throw m!==null&&D1(m),D1(g),v}finally{J(23),Cs()}return new qs(this.componentType,g,!!y)}finally{R(s)}}};function z5(e,n,t,r){let a=e?["ng-version","20.0.4"]:w4(n.selectors[0]),o=null,i=null,s=0;if(t)for(let d of t)s+=d[O1].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(i??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[O1].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(i??=[]).push(p))}}let c=[n];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=zd(u);c.push(p)}return eu(0,null,B5(o,i),1,s,c,null,null,null,[a],null)}function B5(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function Y0(e){let n=e[O1].kind;return n==="input"||n==="twoWay"}var qs=class extends Cf{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ga(t[j],me),this.location=W1(this._tNode,t),this.instance=st(this._tNode.index,t)[ue],this.hostView=this.changeDetectorRef=new Xn(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let a=this._rootLView,o=au(r,a[j],a,n,t);this.previousInputValues.set(n,t);let i=st(r.index,a);uu(i,1)}get injector(){return new Kn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function U5(e,n,t){let r=e.projection=[];for(let a=0;a<n.length;a++){let o=t[a];r.push(o!=null&&o.length?Array.from(o):null)}}var uo=(()=>{class e{static __NG_ELEMENT_ID__=$5}return e})();function $5(){let e=ct();return W5(e,W())}var G5=uo,Af=class extends G5{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return W1(this._hostTNode,this._hostLView)}get injector(){return new Kn(this._hostTNode,this._hostLView)}get parentInjector(){let n=G1(this._hostTNode,this._hostLView);if(gp(n)){let t=Ps(n,this._hostLView),r=Rs(n),a=t[j].data[r+8];return new Kn(a,t)}else return new Kn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=J0(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-xe}createEmbeddedView(n,t,r){let a,o;typeof r=="number"?a=r:r!=null&&(a=r.index,o=r.injector);let i=js(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(t||{},o,i);return this.insertImpl(s,a,Gr(this._hostTNode,i)),s}createComponent(n,t,r,a,o,i,s){let c=n&&!_v(n),l;if(c)l=t;else{let m=t||{};l=m.index,r=m.injector,a=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,i=m.directives,s=m.bindings}let d=c?n:new Wr(ln(n)),u=r||this.parentInjector;if(!o&&d.ngModule==null){let v=(c?u:this.parentInjector).get(ve,null);v&&(o=v)}let p=ln(d.componentType??{}),h=js(this._lContainer,p?.id??null),y=h?.firstChild??null,g=d.create(u,a,y,o,i,s);return this.insertImpl(g.hostView,l,Gr(this._hostTNode,h)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let a=n._lView;if(l0(a)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let c=a[Me],l=new Af(c,c[Oe],c[Me]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),i=this._lContainer;return co(i,a,o,r),n.attachToViewContainerRef(),jd(w1(i),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=J0(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=ro(this._lContainer,t);r&&(Ha(w1(this._lContainer),t),nc(r[j],r))}detach(n){let t=this._adjustIndex(n,-1),r=ro(this._lContainer,t);return r&&Ha(w1(this._lContainer),t)!=null?new Xn(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function J0(e){return e[Ua]}function w1(e){return e[Ua]||(e[Ua]=[])}function W5(e,n){let t,r=n[e.index];return vt(r)?t=r:(t=kf(r,n,null,e),n[e.index]=t,nu(n,t)),K5(t,n,e,r),new Af(t,e,n)}function Z5(e,n){let t=e[he],r=t.createComment(""),a=Mt(n,e),o=t.parentNode(a);return Fs(t,o,r,t.nextSibling(a),!1),r}var K5=J5,X5=()=>!1;function Y5(e,n,t){return X5(e,n,t)}function J5(e,n,t,r){if(e[dn])return;let a;t.type&8?a=it(r):a=Z5(n,t),e[dn]=a}var Q0=new Set;function kn(e){Q0.has(e)||(Q0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Jn=class{},ic=class{};var Vs=class extends Jn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Hs(this);constructor(n,t,r,a=!0){super(),this.ngModuleType=n,this._parent=t;let o=Vd(n);this._bootstrapComponents=Up(o.bootstrap),this._r3Injector=h1(n,t,[{provide:Jn,useValue:this},{provide:lo,useValue:this.componentFactoryResolver},...r],Ke(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},zs=class extends ic{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Vs(this.moduleType,n,[])}};var ao=class extends Jn{injector;componentFactoryResolver=new Hs(this);instance=null;constructor(n){super();let t=new Rn([...n.providers,{provide:Jn,useValue:this},{provide:lo,useValue:this.componentFactoryResolver}],n.parent||Va(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ho(e,n,t=null){return new ao({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var Q5=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=Bd(!1,t.type),a=r.length>0?ho([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,a)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=b({token:e,providedIn:"environment",factory:()=>new e(L(ve))})}return e})();function je(e){return Zr(()=>{let n=Tf(e),t=K(w({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Z1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?a=>a.get(Q5).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Xt.Emulated,styles:e.styles||mt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&kn("NgStandalone"),Rf(t);let r=e.dependencies;return t.directiveDefs=ep(r,!1),t.pipeDefs=ep(r,!0),t.id=aM(t),t})}function eM(e){return ln(e)||zd(e)}function tM(e){return e!==null}function vn(e){return Zr(()=>({type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function nM(e,n){if(e==null)return Fn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let a=e[r],o,i,s,c;Array.isArray(a)?(s=a[0],o=a[1],i=a[2]??o,c=a[3]||null):(o=a,i=a,s=Qs.None,c=null),t[o]=[r,s,c],n[o]=i}return t}function rM(e){if(e==null)return Fn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Yr(e){return Zr(()=>{let n=Tf(e);return Rf(n),n})}function sc(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Tf(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Fn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:nM(e.inputs,n),outputs:rM(e.outputs),debugInfo:null}}function Rf(e){e.features?.forEach(n=>n(e))}function ep(e,n){if(!e)return null;let t=n?J2:eM;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(tM)}function aM(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function oM(e,n,t,r,a,o,i,s,c){let l=n.consts,d=ac(n,e,4,i||null,s||null);e1()&&bf(n,t,d,hn(l,c),nf),d.mergedAttrs=$1(d.mergedAttrs,d.attrs),pp(n,d);let u=d.tView=eu(2,d,r,a,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,d),u.queries=n.queries.embeddedTView(d)),d}function oo(e,n,t,r,a,o,i,s,c,l,d){let u=t+me,p=n.firstCreatePass?oM(u,n,e,r,a,o,i,s,l):n.data[u];c&&(p.flags|=c),Vr(p,!1);let h=iM(n,e,p,t);xs()&&cu(n,e,h,p),so(h,e);let y=kf(h,e,h,p);return e[u]=y,nu(e,y),Y5(y,p,e),ks(p)&&ru(n,e,p),l!=null&&tf(e,p,d),p}var iM=sM;function sM(e,n,t,r){return bs(!0),n[he].createComment("")}var pu=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(pu||{}),po=new D(""),Pf=!1,N1=class extends ee{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,a0()&&(this.destroyRef=M(Wn,{optional:!0})??void 0,this.pendingTasks=M(fn,{optional:!0})??void 0)}emit(n){let t=R(null);try{super.next(n)}finally{R(t)}}subscribe(n,t,r){let a=n,o=t||(()=>null),i=r;if(n&&typeof n=="object"){let c=n;a=c.next?.bind(c),o=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),a&&(a=this.wrapInTimeout(a)),i&&(i=this.wrapInTimeout(i)));let s=super.subscribe({next:a,error:o,complete:i});return n instanceof de&&n.add(s),s}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Fe=N1;function Of(e){let n,t;function r(){e=Ja;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function tp(e){return queueMicrotask(()=>e()),()=>{e=Ja}}var fu="isAngularZone",Bs=fu+"_ID",cM=0,ke=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Fe(!1);onMicrotaskEmpty=new Fe(!1);onStable=new Fe(!1);onError=new Fe(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:o=Pf}=n;if(typeof Zone>"u")throw new C(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!a&&r,i.shouldCoalesceRunChangeDetection=a,i.callbackScheduled=!1,i.scheduleInRootZone=o,uM(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fu)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new C(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new C(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,a){let o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+a,n,lM,Ja,Ja);try{return o.runTask(i,t,r)}finally{o.cancelTask(i)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},lM={};function yu(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function dM(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Of(()=>{e.callbackScheduled=!1,F1(e),e.isCheckStableRunning=!0,yu(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),F1(e)}function uM(e){let n=()=>{dM(e)},t=cM++;e._inner=e._inner.fork({name:"angular",properties:{[fu]:!0,[Bs]:t,[Bs+t]:!0},onInvokeTask:(r,a,o,i,s,c)=>{if(hM(c))return r.invokeTask(o,i,s,c);try{return np(e),r.invokeTask(o,i,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),rp(e)}},onInvoke:(r,a,o,i,s,c,l)=>{try{return np(e),r.invoke(o,i,s,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!pM(c)&&n(),rp(e)}},onHasTask:(r,a,o,i)=>{r.hasTask(o,i),a===o&&(i.change=="microTask"?(e._hasPendingMicrotasks=i.microTask,F1(e),yu(e)):i.change=="macroTask"&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,a,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}function F1(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function np(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function rp(e){e._nesting--,yu(e)}var Us=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Fe;onMicrotaskEmpty=new Fe;onStable=new Fe;onError=new Fe;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,a){return n.apply(t,r)}};function hM(e){return Nf(e,"__ignore_ng_zone__")}function pM(e){return Nf(e,"__scheduler_tick__")}function Nf(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Ff=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=b({token:e,providedIn:"root",factory:()=>new e})}return e})();var gu=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var mu=new D("");function Jr(e){return!!e&&typeof e.then=="function"}function ku(e){return!!e&&typeof e.subscribe=="function"}var jf=new D("");var vu=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(jf,{optional:!0})??[];injector=M(at);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let a of this.appInits){let o=Xe(this.injector,a);if(Jr(o))t.push(o);else if(ku(o)){let i=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});t.push(i)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(a=>{this.reject(a)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cc=new D("");function Hf(){Wl(()=>{let e="";throw new C(600,e)})}function qf(e){return e.isBoundToModule}var fM=10;var er=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(Ge);afterRenderManager=M(Ff);zonelessEnabled=M(Ya);rootEffectScheduler=M(g1);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ee;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(fn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(T(t=>!t))}constructor(){M(po,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:a=>{a&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(ve);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,a=at.NULL){return this._injector.get(ke).run(()=>{J(10);let i=t instanceof oc;if(!this._injector.get(vu).done){let y="";throw new C(405,y)}let c;i?c=t:c=this._injector.get(lo).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=qf(c)?void 0:this._injector.get(Jn),d=r||c.selector,u=c.create(a,[],d,l),p=u.location.nativeElement,h=u.injector.get(mu,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),eo(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),J(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){J(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(pu.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new C(101,!1);let t=R(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,R(t),this.afterTick.next(),J(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Yn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<fM;)J(14),this.synchronizeOnce(),J(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:a}of this.allViews){if(!r&&!Wa(a))continue;let o=r&&!this.zonelessEnabled?0:1;du(a,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Wa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;eo(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(a){this.internalErrorHandler(a)}this.components.push(t),this._injector.get(cc,[]).forEach(a=>a(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>eo(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new C(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function eo(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function lc(e,n,t,r){let a=W(),o=zr();if(yn(a,o,n)){let i=Je(),s=u1();H4(s,a,e,n,t,r)}return lc}var j1=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),a=Math.max(n,t),o=this.detach(a);if(a-r>1){let i=this.detach(r);this.attach(r,o),this.attach(a,i)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function I1(e,n,t,r,a){return e===t&&Object.is(n,r)?1:Object.is(a(e,n),a(t,r))?-1:0}function yM(e,n,t){let r,a,o=0,i=e.length-1,s=void 0;if(Array.isArray(n)){let c=n.length-1;for(;o<=i&&o<=c;){let l=e.at(o),d=n[o],u=I1(o,l,o,d,t);if(u!==0){u<0&&e.updateValue(o,d),o++;continue}let p=e.at(i),h=n[c],y=I1(i,p,c,h,t);if(y!==0){y<0&&e.updateValue(i,h),i--,c--;continue}let g=t(o,l),m=t(i,p),v=t(o,d);if(Object.is(v,m)){let S=t(c,h);Object.is(S,g)?(e.swap(o,i),e.updateValue(i,h),c--,i--):e.move(i,o),e.updateValue(o,d),o++;continue}if(r??=new $s,a??=op(e,o,i,t),H1(e,r,o,v))e.updateValue(o,d),o++,i++;else if(a.has(v))r.set(g,e.detach(o)),i--;else{let S=e.create(o,n[o]);e.attach(o,S),o++,i++}}for(;o<=c;)ap(e,r,t,o,n[o]),o++}else if(n!=null){let c=n[Symbol.iterator](),l=c.next();for(;!l.done&&o<=i;){let d=e.at(o),u=l.value,p=I1(o,d,o,u,t);if(p!==0)p<0&&e.updateValue(o,u),o++,l=c.next();else{r??=new $s,a??=op(e,o,i,t);let h=t(o,u);if(H1(e,r,o,h))e.updateValue(o,u),o++,i++,l=c.next();else if(!a.has(h))e.attach(o,e.create(o,u)),o++,i++,l=c.next();else{let y=t(o,d);r.set(y,e.detach(o)),i--}}}for(;!l.done;)ap(e,r,t,e.length,l.value),l=c.next()}for(;o<=i;)e.destroy(e.detach(i--));r?.forEach(c=>{e.destroy(c)})}function H1(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function ap(e,n,t,r,a){if(H1(e,n,r,t(r,a)))e.updateValue(r,a);else{let o=e.create(r,a);e.attach(r,o)}}function op(e,n,t,r){let a=new Set;for(let o=n;o<=t;o++)a.add(r(o,e.at(o)));return a}var $s=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let a=this._vMap;for(;a.has(r);)r=a.get(r);a.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let a=this._vMap;for(;a.has(r);)r=a.get(r),n(r,t)}}};function fo(e,n,t,r,a,o,i,s){kn("NgControlFlow");let c=W(),l=Je(),d=hn(l.consts,o);return oo(c,l,e,n,t,r,a,d,256,i,s),Mu}function Mu(e,n,t,r,a,o,i,s){kn("NgControlFlow");let c=W(),l=Je(),d=hn(l.consts,o);return oo(c,l,e,n,t,r,a,d,512,i,s),Mu}function yo(e,n){kn("NgControlFlow");let t=W(),r=zr(),a=t[r]!==It?t[r]:-1,o=a!==-1?Gs(t,me+a):void 0,i=0;if(yn(t,r,e)){let s=R(null);try{if(o!==void 0&&Mf(o,i),e!==-1){let c=me+e,l=Gs(t,c),d=B1(t[j],c),u=If(l,d,t),p=ec(t,d,n,{dehydratedView:u});co(l,p,i,Gr(d,u))}}finally{R(s)}}else if(o!==void 0){let s=vf(o,i);s!==void 0&&(s[ue]=n)}}var q1=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-xe}};var V1=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function wu(e,n,t,r,a,o,i,s,c,l,d,u,p){kn("NgControlFlow");let h=W(),y=Je(),g=c!==void 0,m=W(),v=s?i.bind(m[Ne][ue]):i,S=new V1(g,v);m[me+e]=S,oo(h,y,e+1,n,t,r,a,hn(y.consts,o),256),g&&oo(h,y,e+2,c,l,d,u,hn(y.consts,p),512)}var z1=class extends j1{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-xe}at(n){return this.getLView(n)[ue].$implicit}attach(n,t){let r=t[Hn];this.needsIndexUpdate||=n!==this.length,co(this.lContainer,t,n,Gr(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,gM(this.lContainer,n)}create(n,t){let r=js(this.lContainer,this.templateTNode.tView.ssrId),a=ec(this.hostLView,this.templateTNode,new q1(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),a}destroy(n){nc(n[j],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[ue].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ue].$index=n}getLView(n){return mM(this.lContainer,n)}};function Iu(e){let n=R(null),t=Br();try{let r=W(),a=r[j],o=r[t],i=t+1,s=Gs(r,i);if(o.liveCollection===void 0){let l=B1(a,i);o.liveCollection=new z1(s,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(yM(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=zr(),d=c.length===0;if(yn(r,l,d)){let u=t+2,p=Gs(r,u);if(d){let h=B1(a,u),y=If(p,h,r),g=ec(r,h,void 0,{dehydratedView:y});co(p,g,0,Gr(h,y))}else a.firstUpdatePass&&M5(p),Mf(p,0)}}}finally{R(n)}}function Gs(e,n){return e[n]}function gM(e,n){return ro(e,n)}function mM(e,n){return vf(e,n)}function B1(e,n){return Ga(e,n)}function be(e,n,t){let r=W(),a=zr();if(yn(r,a,n)){let o=Je(),i=u1();R4(i,r,e,n,r[he],t)}return be}function ip(e,n,t,r,a){au(n,e,t,a?"class":"style",r)}function I(e,n,t,r){let a=W(),o=Je(),i=me+e,s=a[he],c=o.firstCreatePass?Df(i,o,a,n,nf,e1(),t,r):o.data[i],l=kM(o,a,c,s,n,e);a[i]=l;let d=ks(c);return Vr(c,!0),Xp(s,l,c),!tc(c)&&xs()&&cu(o,a,l,c),(f0()===0||d)&&so(l,a),y0(),d&&(ru(o,a,c),jp(o,c,a)),r!==null&&tf(a,c),I}function x(){let e=ct();r1()?a1():(e=e.parent,Vr(e,!1));let n=e;m0(n)&&k0(),g0();let t=Je();return t.firstCreatePass&&Lf(t,n),n.classesWithoutHost!=null&&Nv(n)&&ip(t,n,W(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&Fv(n)&&ip(t,n,W(),n.stylesWithoutHost,!1),x}function oe(e,n,t,r){return I(e,n,t,r),x(),oe}var kM=(e,n,t,r,a,o)=>(bs(!0),Wp(r,a,_0()));var Zn=void 0;function vM(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var MM=["en",[["a","p"],["AM","PM"],Zn],[["AM","PM"],Zn,Zn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Zn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Zn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Zn,"{1} 'at' {0}",Zn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",vM],C1={};function Qe(e){let n=wM(e),t=sp(n);if(t)return t;let r=n.split("-")[0];if(t=sp(r),t)return t;if(r==="en")return MM;throw new C(701,!1)}function sp(e){return e in C1||(C1[e]=Wt.ng&&Wt.ng.common&&Wt.ng.common.locales&&Wt.ng.common.locales[e]),C1[e]}var le=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(le||{});function wM(e){return e.toLowerCase().replace(/_/g,"-")}var go="en-US";var IM=go;function Vf(e){typeof e=="string"&&(IM=e.toLowerCase().replace(/_/g,"-"))}function dc(e,n,t){let r=W(),a=Je(),o=ct();return CM(a,r,r[he],o,e,n,t),dc}function CM(e,n,t,r,a,o,i){let s=!0,c=null;if((r.type&3||i)&&(c??=M1(r,n,o),O5(r,e,n,i,t,a,o,c)&&(s=!1)),s){let l=r.outputs?.[a],d=r.hostDirectiveOutputs?.[a];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=M1(r,n,o),X0(r,n,p,h,a,c)}if(l&&l.length)for(let u of l)c??=M1(r,n,o),X0(r,n,u,a,a,c)}}function mo(e=1){return E0(e)}function xM(e,n){let t=null,r=y4(e);for(let a=0;a<n.length;a++){let o=n[a];if(o==="*"){t=a;continue}if(r===null?Gp(e,o,!0):k4(r,o))return a}return t}function Cu(e){let n=W()[Ne][Oe];if(!n.projection){let t=e?e.length:1,r=n.projection=Y2(t,null),a=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let i=e?xM(o,e):0;i!==null&&(a[i]?a[i].projectionNext=o:r[i]=o,a[i]=o)}o=o.next}}}function xu(e,n=0,t,r,a,o){let i=W(),s=Je(),c=r?e+1:null;c!==null&&oo(i,s,c,r,a,o,null,t);let l=ac(s,me+e,16,null,t||null);l.projection===null&&(l.projection=n),a1();let u=!i[Hn]||t1();i[Ne][Oe].projection[l.projection]===null&&c!==null?bM(i,s,c):u&&!tc(l)&&n5(s,i,l)}function bM(e,n,t){let r=me+t,a=n.data[r],o=e[r],i=js(o,a.tView.ssrId),s=ec(e,a,void 0,{dehydratedView:i});co(o,s,0,Gr(a,i))}function E(e,n=""){let t=W(),r=Je(),a=e+me,o=r.firstCreatePass?ac(r,a,1,n,null):r.data[a],i=SM(r,t,o,n,e);t[a]=i,xs()&&cu(r,t,i,o),Vr(o,!1)}var SM=(e,n,t,r,a)=>(bs(!0),I4(n[he],r));function DM(e,n,t,r=""){return yn(e,zr(),t)?n+Nn(t)+r:It}function LM(e,n,t,r,a,o=""){let i=M0(),s=Ef(e,i,t,a);return I0(2),s?n+Nn(t)+r+Nn(a)+o:It}function tr(e){return et("",e),tr}function et(e,n,t){let r=W(),a=DM(r,e,n,t);return a!==It&&zf(r,Br(),a),et}function Ct(e,n,t,r,a){let o=W(),i=LM(o,e,n,t,r,a);return i!==It&&zf(o,Br(),i),Ct}function zf(e,n,t){let r=c0(n,e);C4(e[he],r,t)}function bu(e,n,t){let r=Xa()+e,a=W();return a[r]===It?hu(a,r,t?n.call(t):n()):P5(a,r)}function ko(e,n,t,r){return Uf(W(),Xa(),e,n,t,r)}function Bf(e,n){let t=e[n];return t===It?void 0:t}function Uf(e,n,t,r,a,o){let i=n+t;return yn(e,i,a)?hu(e,i+1,o?r.call(o,a):r(a)):Bf(e,i+1)}function EM(e,n,t,r,a,o,i){let s=n+t;return Ef(e,s,a,o)?hu(e,s+2,i?r.call(i,a,o):r(a,o)):Bf(e,s+2)}function Mn(e,n){let t=Je(),r,a=e+me;t.firstCreatePass?(r=_M(n,t.pipeRegistry),t.data[a]=r,r.onDestroy&&(t.destroyHooks??=[]).push(a,r.onDestroy)):r=t.data[a];let o=r.factory||(r.factory=sn(r.type,!0)),i,s=Pe(se);try{let c=Os(!1),l=o();return Os(c),Xd(t,W(),a,l),l}finally{Pe(s)}}function _M(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Su(e,n,t){let r=e+me,a=W(),o=Kd(a,r);return $f(a,r)?Uf(a,Xa(),n,o.transform,t,o):o.transform(t)}function nr(e,n,t,r){let a=e+me,o=W(),i=Kd(o,a);return $f(o,a)?EM(o,Xa(),n,i.transform,t,r,i):i.transform(t,r)}function $f(e,n){return e[j].data[n].pure}var Ws=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Du=(()=>{class e{compileModuleSync(t){return new zs(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),a=Vd(t),o=Up(a.declarations).reduce((i,s)=>{let c=ln(s);return c&&i.push(new Wr(c)),i},[]);return new Ws(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var AM=(()=>{class e{zone=M(ke);changeDetectionScheduler=M(Pn);applicationRef=M(er);applicationErrorHandler=M(Ge);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Gf=new D("",{factory:()=>!1});function Lu({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new ke(K(w({},_u()),{scheduleInRootZone:t})),[{provide:ke,useFactory:e},{provide:Kt,multi:!0,useFactory:()=>{let r=M(AM,{optional:!0});return()=>r.initialize()}},{provide:Kt,multi:!0,useFactory:()=>{let r=M(TM);return()=>{r.initialize()}}},n===!0?{provide:f1,useValue:!0}:[],{provide:y1,useValue:t??Pf},{provide:Ge,useFactory:()=>{let r=M(ke),a=M(ve),o;return i=>{o??=a.get(Lt),r.runOutsideAngular(()=>o.handleError(i))}}}]}function Eu(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=Lu({ngZoneFactory:()=>{let a=_u(e);return a.scheduleInRootZone=t,a.shouldCoalesceEventChangeDetection&&kn("NgZone_CoalesceEvent"),new ke(a)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return jn([{provide:Gf,useValue:!0},{provide:Ya,useValue:!1},r])}function _u(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var TM=(()=>{class e{subscription=new de;initialized=!1;zone=M(ke);pendingTasks=M(fn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{ke.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{ke.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Wf=(()=>{class e{applicationErrorHandler=M(Ge);appRef=M(er);taskService=M(fn);ngZone=M(ke);zonelessEnabled=M(Ya);tracing=M(po,{optional:!0});disableScheduling=M(f1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new de;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Bs):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(y1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Us||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let a=this.useMicrotaskScheduler?tp:Of;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Bs+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,tp(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function RM(){return typeof $localize<"u"&&$localize.locale||go}var vo=new D("",{providedIn:"root",factory:()=>M(vo,{optional:!0,skipSelf:!0})||RM()});function uc(e){return z2(e)}var Zf=class{[Ve];constructor(n){this[Ve]=n}destroy(){this[Ve].destroy()}};var Xf=Symbol("InputSignalNode#UNSET"),YM=K(w({},Ni),{transformFn:void 0,applyValueToInputSignal(e,n){Dr(e,n)}});function Yf(e,n){let t=Object.create(YM);t.value=e,t.transformFn=n?.transform;function r(){if(La(t),t.value===Xf){let a=null;throw new C(-950,a)}return t.value}return r[Ve]=t,r}var pc=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>io(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},JM=new D("");JM.__NG_ELEMENT_ID__=e=>{let n=ct();if(n===null)throw new C(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new C(204,!1)};function Kf(e,n){return Yf(e,n)}function QM(e){return Yf(Xf,e)}var Jf=(Kf.required=QM,Kf);var Au=class{full;major;minor;patch;constructor(n){this.full=n;let t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},Qf=new Au("20.0.4");var Tu=new D(""),e3=new D("");function Mo(e){return!e.moduleRef}function t3(e){let n=Mo(e)?e.r3Injector:e.moduleRef.injector,t=n.get(ke);return t.run(()=>{Mo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(Ge),a;if(t.runOutsideAngular(()=>{a=t.onError.subscribe({next:r})}),Mo(e)){let o=()=>n.destroy(),i=e.platformInjector.get(Tu);i.add(o),n.onDestroy(()=>{a.unsubscribe(),i.delete(o)})}else{let o=()=>e.moduleRef.destroy(),i=e.platformInjector.get(Tu);i.add(o),e.moduleRef.onDestroy(()=>{eo(e.allPlatformModules,e.moduleRef),a.unsubscribe(),i.delete(o)})}return r3(r,t,()=>{let o=n.get(vu);return o.runInitializers(),o.donePromise.then(()=>{let i=n.get(vo,go);if(Vf(i||go),!n.get(e3,!0))return Mo(e)?n.get(er):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Mo(e)){let c=n.get(er);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return n3?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var n3;function r3(e,n,t){try{let r=t();return Jr(r)?r.catch(a=>{throw n.runOutsideAngular(()=>e(a)),a}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var hc=null;function a3(e=[],n){return at.create({name:n,providers:[{provide:qa,useValue:"platform"},{provide:Tu,useValue:new Set([()=>hc=null])},...e]})}function o3(e=[]){if(hc)return hc;let n=a3(e);return hc=n,Hf(),i3(n),n}function i3(e){let n=e.get(Xs,null);Xe(e,()=>{n?.forEach(t=>t())})}var Qr=(()=>{class e{static __NG_ELEMENT_ID__=s3}return e})();function s3(e){return c3(ct(),W(),(e&16)===16)}function c3(e,n,t){if(un(e)&&!t){let r=st(e.index,n);return new Xn(r,r)}else if(e.type&175){let r=n[Ne];return new Xn(r,n)}return null}function ey(e){J(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,a=o3(r),o=[Lu({}),{provide:Pn,useExisting:Wf},T0,...t||[]],i=new ao({providers:o,parent:a,debugName:"",runEnvironmentInitializers:!1});return t3({r3Injector:i.injector,platformInjector:a,rootComponent:n})}catch(n){return Promise.reject(n)}finally{J(9)}}function fc(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var ry=null;function Yt(){return ry}function Ru(e){ry??=e}var Io=class{},Pu=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>M(ay),providedIn:"platform"})}return e})();var ay=(()=>{class e extends Pu{_location;_history;_doc=M(we);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Yt().getBaseHref(this._doc)}onPopState(t){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Yt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,a){this._history.pushState(t,r,a)}replaceState(t,r,a){this._history.replaceState(t,r,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function oy(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function ty(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function wn(e){return e&&e[0]!=="?"?`?${e}`:e}var ea=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>M(sy),providedIn:"root"})}return e})(),iy=new D(""),sy=(()=>{class e extends ea{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(we).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return oy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+wn(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,o){let i=this.prepareExternalUrl(a+wn(o));this._platformLocation.pushState(t,r,i)}replaceState(t,r,a,o){let i=this.prepareExternalUrl(a+wn(o));this._platformLocation.replaceState(t,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(L(Pu),L(iy,8))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),In=(()=>{class e{_subject=new ee;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=u3(ty(ny(r))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+wn(r))}normalize(t){return e.stripTrailingSlash(d3(this._basePath,ny(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._locationStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wn(r)),a)}replaceState(t,r="",a=null){this._locationStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+wn(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r??void 0,complete:a??void 0})}static normalizeQueryParams=wn;static joinWithSlash=oy;static stripTrailingSlash=ty;static \u0275fac=function(r){return new(r||e)(L(ea))};static \u0275prov=b({token:e,factory:()=>l3(),providedIn:"root"})}return e})();function l3(){return new In(L(ea))}function d3(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function ny(e){return e.replace(/\/index.html$/,"")}function u3(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Ae=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ae||{}),Y=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(Y||{}),We=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(We||{}),Qt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function ly(e){return Qe(e)[le.LocaleId]}function dy(e,n,t){let r=Qe(e),a=[r[le.DayPeriodsFormat],r[le.DayPeriodsStandalone]],o=lt(a,n);return lt(o,t)}function uy(e,n,t){let r=Qe(e),a=[r[le.DaysFormat],r[le.DaysStandalone]],o=lt(a,n);return lt(o,t)}function hy(e,n,t){let r=Qe(e),a=[r[le.MonthsFormat],r[le.MonthsStandalone]],o=lt(a,n);return lt(o,t)}function py(e,n){let r=Qe(e)[le.Eras];return lt(r,n)}function Co(e,n){let t=Qe(e);return lt(t[le.DateFormat],n)}function xo(e,n){let t=Qe(e);return lt(t[le.TimeFormat],n)}function bo(e,n){let r=Qe(e)[le.DateTimeFormat];return lt(r,n)}function So(e,n){let t=Qe(e),r=t[le.NumberSymbols][n];if(typeof r>"u"){if(n===Qt.CurrencyDecimal)return t[le.NumberSymbols][Qt.Decimal];if(n===Qt.CurrencyGroup)return t[le.NumberSymbols][Qt.Group]}return r}function fy(e){if(!e[le.ExtraData])throw new C(2303,!1)}function yy(e){let n=Qe(e);return fy(n),(n[le.ExtraData][2]||[]).map(r=>typeof r=="string"?Ou(r):[Ou(r[0]),Ou(r[1])])}function gy(e,n,t){let r=Qe(e);fy(r);let a=[r[le.ExtraData][0],r[le.ExtraData][1]],o=lt(a,n)||[];return lt(o,t)||[]}function lt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new C(2304,!1)}function Ou(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var h3=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yc={},p3=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function my(e,n,t,r){let a=I3(e);n=Jt(t,n)||n;let i=[],s;for(;n;)if(s=p3.exec(n),s){i=i.concat(s.slice(1));let d=i.pop();if(!d)break;n=d}else{i.push(n);break}let c=a.getTimezoneOffset();r&&(c=vy(r,c),a=w3(a,r));let l="";return i.forEach(d=>{let u=v3(d);l+=u?u(a,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Mc(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Jt(e,n){let t=ly(e);if(yc[t]??={},yc[t][n])return yc[t][n];let r="";switch(n){case"shortDate":r=Co(e,We.Short);break;case"mediumDate":r=Co(e,We.Medium);break;case"longDate":r=Co(e,We.Long);break;case"fullDate":r=Co(e,We.Full);break;case"shortTime":r=xo(e,We.Short);break;case"mediumTime":r=xo(e,We.Medium);break;case"longTime":r=xo(e,We.Long);break;case"fullTime":r=xo(e,We.Full);break;case"short":let a=Jt(e,"shortTime"),o=Jt(e,"shortDate");r=gc(bo(e,We.Short),[a,o]);break;case"medium":let i=Jt(e,"mediumTime"),s=Jt(e,"mediumDate");r=gc(bo(e,We.Medium),[i,s]);break;case"long":let c=Jt(e,"longTime"),l=Jt(e,"longDate");r=gc(bo(e,We.Long),[c,l]);break;case"full":let d=Jt(e,"fullTime"),u=Jt(e,"fullDate");r=gc(bo(e,We.Full),[d,u]);break}return r&&(yc[t][n]=r),r}function gc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function xt(e,n,t="-",r,a){let o="";(e<0||a&&e<=0)&&(a?e=-e+1:(e=-e,o=t));let i=String(e);for(;i.length<n;)i="0"+i;return r&&(i=i.slice(i.length-n)),o+i}function f3(e,n){return xt(e,3).substring(0,n)}function pe(e,n,t=0,r=!1,a=!1){return function(o,i){let s=y3(e,o);if((t>0||s>-t)&&(s+=t),e===3)s===0&&t===-12&&(s=12);else if(e===6)return f3(s,n);let c=So(i,Qt.MinusSign);return xt(s,n,c,r,a)}}function y3(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new C(2301,!1)}}function Q(e,n,t=Ae.Format,r=!1){return function(a,o){return g3(a,o,e,n,t,r)}}function g3(e,n,t,r,a,o){switch(t){case 2:return hy(n,a,r)[e.getMonth()];case 1:return uy(n,a,r)[e.getDay()];case 0:let i=e.getHours(),s=e.getMinutes();if(o){let l=yy(n),d=gy(n,a,r),u=l.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,g=i>=h.hours&&s>=h.minutes,m=i<y.hours||i===y.hours&&s<y.minutes;if(h.hours<y.hours){if(g&&m)return!0}else if(g||m)return!0}else if(p.hours===i&&p.minutes===s)return!0;return!1});if(u!==-1)return d[u]}return dy(n,a,r)[i<12?0:1];case 3:return py(n,r)[e.getFullYear()<=0?0:1];default:let c=t;throw new C(2302,!1)}}function mc(e){return function(n,t,r){let a=-1*r,o=So(t,Qt.MinusSign),i=a>0?Math.floor(a/60):Math.ceil(a/60);switch(e){case 0:return(a>=0?"+":"")+xt(i,2,o)+xt(Math.abs(a%60),2,o);case 1:return"GMT"+(a>=0?"+":"")+xt(i,1,o);case 2:return"GMT"+(a>=0?"+":"")+xt(i,2,o)+":"+xt(Math.abs(a%60),2,o);case 3:return r===0?"Z":(a>=0?"+":"")+xt(i,2,o)+":"+xt(Math.abs(a%60),2,o);default:throw new C(2302,!1)}}}var m3=0,vc=4;function k3(e){let n=Mc(e,m3,1).getDay();return Mc(e,0,1+(n<=vc?vc:vc+7)-n)}function ky(e){let n=e.getDay(),t=n===0?-3:vc-n;return Mc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Nu(e,n=!1){return function(t,r){let a;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,i=t.getDate();a=1+Math.floor((i+o)/7)}else{let o=ky(t),i=k3(o.getFullYear()),s=o.getTime()-i.getTime();a=1+Math.round(s/6048e5)}return xt(a,e,So(r,Qt.MinusSign))}}function kc(e,n=!1){return function(t,r){let o=ky(t).getFullYear();return xt(o,e,So(r,Qt.MinusSign),n)}}var Fu={};function v3(e){if(Fu[e])return Fu[e];let n;switch(e){case"G":case"GG":case"GGG":n=Q(3,Y.Abbreviated);break;case"GGGG":n=Q(3,Y.Wide);break;case"GGGGG":n=Q(3,Y.Narrow);break;case"y":n=pe(0,1,0,!1,!0);break;case"yy":n=pe(0,2,0,!0,!0);break;case"yyy":n=pe(0,3,0,!1,!0);break;case"yyyy":n=pe(0,4,0,!1,!0);break;case"Y":n=kc(1);break;case"YY":n=kc(2,!0);break;case"YYY":n=kc(3);break;case"YYYY":n=kc(4);break;case"M":case"L":n=pe(1,1,1);break;case"MM":case"LL":n=pe(1,2,1);break;case"MMM":n=Q(2,Y.Abbreviated);break;case"MMMM":n=Q(2,Y.Wide);break;case"MMMMM":n=Q(2,Y.Narrow);break;case"LLL":n=Q(2,Y.Abbreviated,Ae.Standalone);break;case"LLLL":n=Q(2,Y.Wide,Ae.Standalone);break;case"LLLLL":n=Q(2,Y.Narrow,Ae.Standalone);break;case"w":n=Nu(1);break;case"ww":n=Nu(2);break;case"W":n=Nu(1,!0);break;case"d":n=pe(2,1);break;case"dd":n=pe(2,2);break;case"c":case"cc":n=pe(7,1);break;case"ccc":n=Q(1,Y.Abbreviated,Ae.Standalone);break;case"cccc":n=Q(1,Y.Wide,Ae.Standalone);break;case"ccccc":n=Q(1,Y.Narrow,Ae.Standalone);break;case"cccccc":n=Q(1,Y.Short,Ae.Standalone);break;case"E":case"EE":case"EEE":n=Q(1,Y.Abbreviated);break;case"EEEE":n=Q(1,Y.Wide);break;case"EEEEE":n=Q(1,Y.Narrow);break;case"EEEEEE":n=Q(1,Y.Short);break;case"a":case"aa":case"aaa":n=Q(0,Y.Abbreviated);break;case"aaaa":n=Q(0,Y.Wide);break;case"aaaaa":n=Q(0,Y.Narrow);break;case"b":case"bb":case"bbb":n=Q(0,Y.Abbreviated,Ae.Standalone,!0);break;case"bbbb":n=Q(0,Y.Wide,Ae.Standalone,!0);break;case"bbbbb":n=Q(0,Y.Narrow,Ae.Standalone,!0);break;case"B":case"BB":case"BBB":n=Q(0,Y.Abbreviated,Ae.Format,!0);break;case"BBBB":n=Q(0,Y.Wide,Ae.Format,!0);break;case"BBBBB":n=Q(0,Y.Narrow,Ae.Format,!0);break;case"h":n=pe(3,1,-12);break;case"hh":n=pe(3,2,-12);break;case"H":n=pe(3,1);break;case"HH":n=pe(3,2);break;case"m":n=pe(4,1);break;case"mm":n=pe(4,2);break;case"s":n=pe(5,1);break;case"ss":n=pe(5,2);break;case"S":n=pe(6,1);break;case"SS":n=pe(6,2);break;case"SSS":n=pe(6,3);break;case"Z":case"ZZ":case"ZZZ":n=mc(0);break;case"ZZZZZ":n=mc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=mc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=mc(2);break;default:return null}return Fu[e]=n,n}function vy(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function M3(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function w3(e,n,t){let a=e.getTimezoneOffset(),o=vy(n,a);return M3(e,-1*(o-a))}function I3(e){if(cy(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[a,o=1,i=1]=e.split("-").map(s=>+s);return Mc(a,o-1,i)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(h3))return C3(r)}let n=new Date(e);if(!cy(n))throw new C(2302,!1);return n}function C3(e){let n=new Date(0),t=0,r=0,a=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),a.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let i=Number(e[4]||0)-t,s=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,i,s,c,l),n}function cy(e){return e instanceof Date&&!isNaN(e.valueOf())}function My(e,n){return new C(2100,!1)}var x3=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,ju=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw My(e,t);return t.replace(x3,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=sc({name:"titlecase",type:e,pure:!0})}return e})();var b3="mediumDate",wy=new D(""),Iy=new D(""),Do=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,a){this.locale=t,this.defaultTimezone=r,this.defaultOptions=a}transform(t,r,a,o){if(t==null||t===""||t!==t)return null;try{let i=r??this.defaultOptions?.dateFormat??b3,s=a??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return my(t,i,o||this.locale,s)}catch(i){throw My(e,i.message)}}static \u0275fac=function(r){return new(r||e)(se(vo,16),se(wy,24),se(Iy,24))};static \u0275pipe=sc({name:"date",type:e,pure:!0})}return e})();function Hu(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[a,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===n)return decodeURIComponent(o)}return null}var Lo=class{};var Cy="browser",L3="server";function xy(e){return e===L3}var Cc=new D(""),Bu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(a=>{a.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,a,o){return this._findPluginFor(r).addEventListener(t,r,a,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new C(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(L(Cc),L(ke))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Eo=class{_doc;constructor(n){this._doc=n}manager},wc="ng-app-id";function Sy(e){for(let n of e)n.remove()}function Dy(e,n){let t=n.createElement("style");return t.textContent=e,t}function E3(e,n,t,r){let a=e.head?.querySelectorAll(`style[${wc}="${n}"],link[${wc}="${n}"]`);if(a)for(let o of a)o.removeAttribute(wc),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Vu(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Uu=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,a,o={}){this.doc=t,this.appId=r,this.nonce=a,this.isServer=xy(o),E3(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let a of t)this.addUsage(a,this.inline,Dy);r?.forEach(a=>this.addUsage(a,this.external,Vu))}removeStyles(t,r){for(let a of t)this.removeUsage(a,this.inline);r?.forEach(a=>this.removeUsage(a,this.external))}addUsage(t,r,a){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(i=>this.addElement(i,a(t,this.doc)))})}removeUsage(t,r){let a=r.get(t);a&&(a.usage--,a.usage<=0&&(Sy(a.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Sy(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:a}]of this.inline)a.push(this.addElement(t,Dy(r,this.doc)));for(let[r,{elements:a}]of this.external)a.push(this.addElement(t,Vu(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(wc,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(L(we),L(Ks),L(Ys,8),L(Kr))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),qu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},$u=/%COMP%/g;var Ey="%COMP%",_3=`_nghost-${Ey}`,A3=`_ngcontent-${Ey}`,T3=!0,R3=new D("",{providedIn:"root",factory:()=>T3});function P3(e){return A3.replace($u,e)}function O3(e){return _3.replace($u,e)}function _y(e,n){return n.map(t=>t.replace($u,e))}var Gu=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,a,o,i,s,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=i,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new _o(t,i,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let a=this.getOrCreateRenderer(t,r);return a instanceof Ic?a.applyToHost(t):a instanceof Ao&&a.applyStyles(),a}getOrCreateRenderer(t,r){let a=this.rendererByCompId,o=a.get(r.id);if(!o){let i=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Xt.Emulated:o=new Ic(c,l,r,this.appId,d,i,s,u,p);break;case Xt.ShadowDom:return new zu(c,l,t,r,i,s,this.nonce,u,p);default:o=new Ao(c,l,r,d,i,s,u,p);break}a.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(L(Bu),L(Uu),L(Ks),L(R3),L(we),L(Kr),L(ke),L(Ys),L(po,8))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),_o=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,a,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=a,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(qu[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Ly(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Ly(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new C(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,a){if(a){t=a+":"+t;let o=qu[a];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let a=qu[r];a?n.removeAttributeNS(a,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,a){a&(mn.DashCase|mn.Important)?n.style.setProperty(t,r,a&mn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&mn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,a){if(typeof n=="string"&&(n=Yt().getGlobalEventTarget(this.doc,n),!n))throw new C(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,a)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function Ly(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var zu=class extends _o{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,a,o,i,s,c,l){super(n,o,i,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=a.styles;d=_y(a.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=a.getExternalStyles?.();if(u)for(let p of u){let h=Vu(p,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ao=class extends _o{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,a,o,i,s,c,l){super(n,o,i,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=a;let d=r.styles;this.styles=l?_y(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ic=class extends Ao{contentAttr;hostAttr;constructor(n,t,r,a,o,i,s,c,l){let d=a+"-"+r.id;super(n,t,r,o,i,s,c,l,d),this.contentAttr=P3(d),this.hostAttr=O3(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var xc=class e extends Io{supportsDOMEvents=!0;static makeCurrent(){Ru(new e)}onAndCancel(n,t,r,a){return n.addEventListener(t,r,a),()=>{n.removeEventListener(t,r,a)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=N3();return t==null?null:F3(t)}resetBaseElement(){To=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Hu(document.cookie,n)}},To=null;function N3(){return To=To||document.head.querySelector("base"),To?To.getAttribute("href"):null}function F3(e){return new URL(e,document.baseURI).pathname}var j3=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Ty=(()=>{class e extends Eo{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a,o){return t.addEventListener(r,a,o),()=>this.removeEventListener(t,r,a,o)}removeEventListener(t,r,a,o){return t.removeEventListener(r,a,o)}static \u0275fac=function(r){return new(r||e)(L(we))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})(),Ay=["alt","control","meta","shift"],H3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},q3={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ry=(()=>{class e extends Eo{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,a,o){let i=e.parseEventName(r),s=e.eventCallback(i.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Yt().onAndCancel(t,i.domEventName,s,o))}static parseEventName(t){let r=t.toLowerCase().split("."),a=r.shift();if(r.length===0||!(a==="keydown"||a==="keyup"))return null;let o=e._normalizeKey(r.pop()),i="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),i="code."),Ay.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),i+=l+".")}),i+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=a,c.fullKey=i,c}static matchEventFullKeyCode(t,r){let a=H3[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(a=t.code,o="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),Ay.forEach(i=>{if(i!==a){let s=q3[i];s(t)&&(o+=i+".")}}),o+=a,o===r)}static eventCallback(t,r,a){return o=>{e.matchEventFullKeyCode(o,t)&&a.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(L(we))};static \u0275prov=b({token:e,factory:e.\u0275fac})}return e})();function Wu(e,n){return ey(w({rootComponent:e},V3(n)))}function V3(e){return{appProviders:[...G3,...e?.providers??[]],platformProviders:$3}}function z3(){xc.makeCurrent()}function B3(){return new Lt}function U3(){return K1(document),document}var $3=[{provide:Kr,useValue:Cy},{provide:Xs,useValue:z3,multi:!0},{provide:we,useFactory:U3}];var G3=[{provide:qa,useValue:"root"},{provide:Lt,useFactory:B3},{provide:Cc,useClass:Ty,multi:!0,deps:[we]},{provide:Cc,useClass:Ry,multi:!0,deps:[we]},Gu,Uu,Bu,{provide:Yn,useExisting:Gu},{provide:Lo,useClass:j3},[]];var Py=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(L(we))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var F="primary",Wo=Symbol("RouteTitle"),Ju=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function or(e){return new Ju(e)}function zy(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let a={};for(let o=0;o<r.length;o++){let i=r[o],s=e[o];if(i[0]===":")a[i.substring(1)]=s;else if(i!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:a}}function Z3(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Tt(e[t],n[t]))return!1;return!0}function Tt(e,n){let t=e?Qu(e):void 0,r=n?Qu(n):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let o=0;o<t.length;o++)if(a=t[o],!By(e[a],n[a]))return!1;return!0}function Qu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function By(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((a,o)=>r[o]===a)}else return e===n}function Uy(e){return e.length>0?e[e.length-1]:null}function tn(e){return sd(e)?e:Jr(e)?G(Promise.resolve(e)):_(e)}var K3={exact:Gy,subset:Wy},$y={exact:X3,subset:Y3,ignored:()=>!0};function Oy(e,n,t){return K3[t.paths](e.root,n.root,t.matrixParams)&&$y[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function X3(e,n){return Tt(e,n)}function Gy(e,n,t){if(!rr(e.segments,n.segments)||!Dc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Gy(e.children[r],n.children[r],t))return!1;return!0}function Y3(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>By(e[t],n[t]))}function Wy(e,n,t){return Zy(e,n,n.segments,t)}function Zy(e,n,t,r){if(e.segments.length>t.length){let a=e.segments.slice(0,t.length);return!(!rr(a,t)||n.hasChildren()||!Dc(a,t,r))}else if(e.segments.length===t.length){if(!rr(e.segments,t)||!Dc(e.segments,t,r))return!1;for(let a in n.children)if(!e.children[a]||!Wy(e.children[a],n.children[a],r))return!1;return!0}else{let a=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!rr(e.segments,a)||!Dc(e.segments,a,r)||!e.children[F]?!1:Zy(e.children[F],n,o,r)}}function Dc(e,n,t){return n.every((r,a)=>$y[t](e[a].parameters,r.parameters))}var Pt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new X([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){return ew.serialize(this)}},X=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lc(this)}},Cn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=or(this.parameters),this._parameterMap}toString(){return Xy(this)}};function J3(e,n){return rr(e,n)&&e.every((t,r)=>Tt(t.parameters,n[r].parameters))}function rr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function Q3(e,n){let t=[];return Object.entries(e.children).forEach(([r,a])=>{r===F&&(t=t.concat(n(a,r)))}),Object.entries(e.children).forEach(([r,a])=>{r!==F&&(t=t.concat(n(a,r)))}),t}var Zo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>new ir,providedIn:"root"})}return e})(),ir=class{parse(n){let t=new th(n);return new Pt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Ro(n.root,!0)}`,r=rw(n.queryParams),a=typeof n.fragment=="string"?`#${tw(n.fragment)}`:"";return`${t}${r}${a}`}},ew=new ir;function Lc(e){return e.segments.map(n=>Xy(n)).join("/")}function Ro(e,n){if(!e.hasChildren())return Lc(e);if(n){let t=e.children[F]?Ro(e.children[F],!1):"",r=[];return Object.entries(e.children).forEach(([a,o])=>{a!==F&&r.push(`${a}:${Ro(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Q3(e,(r,a)=>a===F?[Ro(e.children[F],!1)]:[`${a}:${Ro(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[F]!=null?`${Lc(e)}/${t[0]}`:`${Lc(e)}/(${t.join("//")})`}}function Ky(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function bc(e){return Ky(e).replace(/%3B/gi,";")}function tw(e){return encodeURI(e)}function eh(e){return Ky(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ec(e){return decodeURIComponent(e)}function Ny(e){return Ec(e.replace(/\+/g,"%20"))}function Xy(e){return`${eh(e.path)}${nw(e.parameters)}`}function nw(e){return Object.entries(e).map(([n,t])=>`;${eh(n)}=${eh(t)}`).join("")}function rw(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(a=>`${bc(t)}=${bc(a)}`).join("&"):`${bc(t)}=${bc(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var aw=/^[^\/()?;#]+/;function Zu(e){let n=e.match(aw);return n?n[0]:""}var ow=/^[^\/()?;=#]+/;function iw(e){let n=e.match(ow);return n?n[0]:""}var sw=/^[^=?&#]+/;function cw(e){let n=e.match(sw);return n?n[0]:""}var lw=/^[^&#]+/;function dw(e){let n=e.match(lw);return n?n[0]:""}var th=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new X([],{}):new X([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[F]=new X(n,t)),r}parseSegment(){let n=Zu(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new C(4009,!1);return this.capture(n),new Cn(Ec(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=iw(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=Zu(this.remaining);a&&(r=a,this.capture(r))}n[Ec(t)]=Ec(r)}parseQueryParam(n){let t=cw(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=dw(this.remaining);i&&(r=i,this.capture(r))}let a=Ny(t),o=Ny(r);if(n.hasOwnProperty(a)){let i=n[a];Array.isArray(i)||(i=[i],n[a]=i),i.push(o)}else n[a]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Zu(this.remaining),a=this.remaining[r.length];if(a!=="/"&&a!==")"&&a!==";")throw new C(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=F);let i=this.parseChildren();t[o]=Object.keys(i).length===1?i[F]:new X([],i),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new C(4011,!1)}};function Yy(e){return e.segments.length>0?new X([],{[F]:e}):e}function Jy(e){let n={};for(let[r,a]of Object.entries(e.children)){let o=Jy(a);if(r===F&&o.segments.length===0&&o.hasChildren())for(let[i,s]of Object.entries(o.children))n[i]=s;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new X(e.segments,n);return uw(t)}function uw(e){if(e.numberOfChildren===1&&e.children[F]){let n=e.children[F];return new X(e.segments.concat(n.segments),n.children)}return e}function xn(e){return e instanceof Pt}function Qy(e,n,t=null,r=null){let a=eg(e);return tg(a,n,t,r)}function eg(e){let n;function t(o){let i={};for(let c of o.children){let l=t(c);i[c.outlet]=l}let s=new X(o.url,i);return o===e&&(n=s),s}let r=t(e.root),a=Yy(r);return n??a}function tg(e,n,t,r){let a=e;for(;a.parent;)a=a.parent;if(n.length===0)return Ku(a,a,a,t,r);let o=hw(n);if(o.toRoot())return Ku(a,a,new X([],{}),t,r);let i=pw(o,a,e),s=i.processChildren?Oo(i.segmentGroup,i.index,o.commands):rg(i.segmentGroup,i.index,o.commands);return Ku(a,i.segmentGroup,s,t,r)}function _c(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function jo(e){return typeof e=="object"&&e!=null&&e.outlets}function Ku(e,n,t,r,a){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let i;e===n?i=t:i=ng(e,n,t);let s=Yy(Jy(i));return new Pt(s,o,a)}function ng(e,n,t){let r={};return Object.entries(e.children).forEach(([a,o])=>{o===n?r[a]=t:r[a]=ng(o,n,t)}),new X(e.segments,r)}var Ac=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&_c(r[0]))throw new C(4003,!1);let a=r.find(jo);if(a&&a!==Uy(r))throw new C(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function hw(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ac(!0,0,e);let n=0,t=!1,r=e.reduce((a,o,i)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...a,{outlets:s}]}if(o.segmentPath)return[...a,o.segmentPath]}return typeof o!="string"?[...a,o]:i===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?t=!0:s===".."?n++:s!=""&&a.push(s))}),a):[...a,o]},[]);return new Ac(t,n,r)}var ra=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function pw(e,n,t){if(e.isAbsolute)return new ra(n,!0,0);if(!t)return new ra(n,!1,NaN);if(t.parent===null)return new ra(t,!0,0);let r=_c(e.commands[0])?0:1,a=t.segments.length-1+r;return fw(t,a,e.numberOfDoubleDots)}function fw(e,n,t){let r=e,a=n,o=t;for(;o>a;){if(o-=a,r=r.parent,!r)throw new C(4005,!1);a=r.segments.length}return new ra(r,!1,a-o)}function yw(e){return jo(e[0])?e[0].outlets:{[F]:e}}function rg(e,n,t){if(e??=new X([],{}),e.segments.length===0&&e.hasChildren())return Oo(e,n,t);let r=gw(e,n,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new X(e.segments.slice(0,r.pathIndex),{});return o.children[F]=new X(e.segments.slice(r.pathIndex),e.children),Oo(o,0,a)}else return r.match&&a.length===0?new X(e.segments,{}):r.match&&!e.hasChildren()?nh(e,n,t):r.match?Oo(e,0,a):nh(e,n,t)}function Oo(e,n,t){if(t.length===0)return new X(e.segments,{});{let r=yw(t),a={};if(Object.keys(r).some(o=>o!==F)&&e.children[F]&&e.numberOfChildren===1&&e.children[F].segments.length===0){let o=Oo(e.children[F],n,t);return new X(e.segments,o.children)}return Object.entries(r).forEach(([o,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(a[o]=rg(e.children[o],n,i))}),Object.entries(e.children).forEach(([o,i])=>{r[o]===void 0&&(a[o]=i)}),new X(e.segments,a)}}function gw(e,n,t){let r=0,a=n,o={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(r>=t.length)return o;let i=e.segments[a],s=t[r];if(jo(s))break;let c=`${s}`,l=r<t.length-1?t[r+1]:null;if(a>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!jy(c,l,i))return o;r+=2}else{if(!jy(c,{},i))return o;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}function nh(e,n,t){let r=e.segments.slice(0,n),a=0;for(;a<t.length;){let o=t[a];if(jo(o)){let c=mw(o.outlets);return new X(r,c)}if(a===0&&_c(t[0])){let c=e.segments[n];r.push(new Cn(c.path,Fy(t[0]))),a++;continue}let i=jo(o)?o.outlets[F]:`${o}`,s=a<t.length-1?t[a+1]:null;i&&s&&_c(s)?(r.push(new Cn(i,Fy(s))),a+=2):(r.push(new Cn(i,{})),a++)}return new X(r,{})}function mw(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=nh(new X([],{}),0,r))}),n}function Fy(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function jy(e,n,t){return e==t.path&&Tt(n,t.parameters)}var No="imperative",Ie=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Ie||{}),nt=class{id;url;constructor(n,t){this.id=n,this.url=t}},sr=class extends nt{type=Ie.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",a=null){super(n,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ot=class extends nt{urlAfterRedirects;type=Ie.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},qe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(qe||{}),Ho=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Ho||{}),Rt=class extends nt{reason;code;type=Ie.NavigationCancel;constructor(n,t,r,a){super(n,t),this.reason=r,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},en=class extends nt{reason;code;type=Ie.NavigationSkipped;constructor(n,t,r,a){super(n,t),this.reason=r,this.code=a}},oa=class extends nt{error;target;type=Ie.NavigationError;constructor(n,t,r,a){super(n,t),this.error=r,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},qo=class extends nt{urlAfterRedirects;state;type=Ie.RoutesRecognized;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Tc=class extends nt{urlAfterRedirects;state;type=Ie.GuardsCheckStart;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rc=class extends nt{urlAfterRedirects;state;shouldActivate;type=Ie.GuardsCheckEnd;constructor(n,t,r,a,o){super(n,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Pc=class extends nt{urlAfterRedirects;state;type=Ie.ResolveStart;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Oc=class extends nt{urlAfterRedirects;state;type=Ie.ResolveEnd;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nc=class{route;type=Ie.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Fc=class{route;type=Ie.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},jc=class{snapshot;type=Ie.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Hc=class{snapshot;type=Ie.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},qc=class{snapshot;type=Ie.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vc=class{snapshot;type=Ie.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Vo=class{},ia=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function kw(e){return!(e instanceof Vo)&&!(e instanceof ia)}function vw(e,n){return e.providers&&!e._injector&&(e._injector=ho(e.providers,n,`Route: ${e.path}`)),e._injector??n}function bt(e){return e.outlet||F}function Mw(e,n){let t=e.filter(r=>bt(r)===n);return t.push(...e.filter(r=>bt(r)!==n)),t}function Ko(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var zc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ko(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new la(this.rootInjector)}},la=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let a=this.getOrCreateContext(t);a.outlet=r,this.contexts.set(t,a)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new zc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(L(ve))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=rh(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=rh(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=ah(n,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return ah(n,this._root).map(t=>t.value)}};function rh(e,n){if(e===n.value)return n;for(let t of n.children){let r=rh(e,t);if(r)return r}return null}function ah(e,n){if(e===n.value)return[n];for(let t of n.children){let r=ah(e,t);if(r.length)return r.unshift(n),r}return[]}var tt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function na(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var zo=class extends Bc{snapshot;constructor(n,t){super(n),this.snapshot=t,hh(this,n)}toString(){return this.snapshot.toString()}};function ag(e){let n=ww(e),t=new ge([new Cn("",{})]),r=new ge({}),a=new ge({}),o=new ge({}),i=new ge(""),s=new St(t,r,o,i,a,F,e,n.root);return s.snapshot=n.root,new zo(new tt(s,[]),n)}function ww(e){let n={},t={},r={},a="",o=new ar([],n,r,a,t,F,e,null,{});return new Bo("",new tt(o,[]))}var St=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,a,o,i,s,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=a,this.dataSubject=o,this.outlet=i,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(T(l=>l[Wo]))??_(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=a,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(n=>or(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(n=>or(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Uc(e,n,t="emptyOnly"){let r,{routeConfig:a}=e;return n!==null&&(t==="always"||a?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:w(w({},n.params),e.params),data:w(w({},n.data),e.data),resolve:w(w(w(w({},e.data),n.data),a?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},a&&ig(a)&&(r.resolve[Wo]=a.title),r}var ar=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Wo]}constructor(n,t,r,a,o,i,s,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=a,this.data=o,this.outlet=i,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=or(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=or(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Bo=class extends Bc{url;constructor(n,t){super(t),this.url=n,hh(this,t)}toString(){return og(this._root)}};function hh(e,n){n.value._routerState=e,n.children.forEach(t=>hh(e,t))}function og(e){let n=e.children.length>0?` { ${e.children.map(og).join(", ")} } `:"";return`${e.value}${n}`}function Xu(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Tt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Tt(n.params,t.params)||e.paramsSubject.next(t.params),Z3(n.url,t.url)||e.urlSubject.next(t.url),Tt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function oh(e,n){let t=Tt(e.params,n.params)&&J3(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||oh(e.parent,n.parent))}function ig(e){return typeof e.title=="string"||e.title===null}var sg=new D(""),Xo=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=F;activateEvents=new Fe;deactivateEvents=new Fe;attachEvents=new Fe;detachEvents=new Fe;routerOutletData=Jf(void 0);parentContexts=M(la);location=M(uo);changeDetector=M(Qr);inputBinder=M(Zc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:a}=t.name;if(r)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new C(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new C(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new C(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new C(4013,!1);this._activatedRoute=t;let a=this.location,i=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new ih(t,s,a.injector,this.routerOutletData);this.activated=a.createComponent(i,{index:a.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Yr({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[gn]})}return e})(),ih=class{route;childContexts;parent;outletData;constructor(n,t,r,a){this.route=n,this.childContexts=t,this.parent=r,this.outletData=a}get(n,t){return n===St?this.route:n===la?this.childContexts:n===sg?this.outletData:this.parent.get(n,t)}},Zc=new D("");var ph=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=je({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,a){r&1&&oe(0,"router-outlet")},dependencies:[Xo],encapsulation:2})}return e})();function fh(e){let n=e.children&&e.children.map(fh),t=n?K(w({},e),{children:n}):w({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==F&&(t.component=ph),t}function Iw(e,n,t){let r=Uo(e,n._root,t?t._root:void 0);return new zo(r,n)}function Uo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let a=Cw(e,n,t);return new tt(r,a)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let i=o.route;return i.value._futureSnapshot=n.value,i.children=n.children.map(s=>Uo(e,s)),i}}let r=xw(n.value),a=n.children.map(o=>Uo(e,o));return new tt(r,a)}}function Cw(e,n,t){return n.children.map(r=>{for(let a of t.children)if(e.shouldReuseRoute(r.value,a.value.snapshot))return Uo(e,r,a);return Uo(e,r)})}function xw(e){return new St(new ge(e.url),new ge(e.params),new ge(e.queryParams),new ge(e.fragment),new ge(e.data),e.outlet,e.component,e)}var sa=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},cg="ngNavigationCancelingError";function $c(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=xn(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,a=lg(!1,qe.Redirect);return a.url=t,a.navigationBehaviorOptions=r,a}function lg(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[cg]=!0,t.cancellationCode=n,t}function bw(e){return dg(e)&&xn(e.url)}function dg(e){return!!e&&e[cg]}var Sw=(e,n,t,r)=>T(a=>(new sh(n,a.targetRouterState,a.currentRouterState,t,r).activate(e),a)),sh=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,a,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=a,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Xu(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let a=na(t);n.children.forEach(o=>{let i=o.value.outlet;this.deactivateRoutes(o,a[i],r),delete a[i]}),Object.values(a).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let a=n.value,o=t?t.value:null;if(a===o)if(a.component){let i=r.getContext(a.outlet);i&&this.deactivateChildRoutes(n,t,i.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),a=r&&n.value.component?r.children:t,o=na(n);for(let i of Object.values(o))this.deactivateRouteAndItsChildren(i,a);if(r&&r.outlet){let i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:i,route:n,contexts:s})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),a=r&&n.value.component?r.children:t,o=na(n);for(let i of Object.values(o))this.deactivateRouteAndItsChildren(i,a);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let a=na(t);n.children.forEach(o=>{this.activateRoutes(o,a[o.value.outlet],r),this.forwardEvent(new Vc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Hc(n.value.snapshot))}activateRoutes(n,t,r){let a=n.value,o=t?t.value:null;if(Xu(a),a===o)if(a.component){let i=r.getOrCreateContext(a.outlet);this.activateChildRoutes(n,t,i.children)}else this.activateChildRoutes(n,t,r);else if(a.component){let i=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let s=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),Xu(s.route.value),this.activateChildRoutes(n,null,i.children)}else i.attachRef=null,i.route=a,i.outlet&&i.outlet.activateWith(a,i.injector),this.activateChildRoutes(n,null,i.children)}else this.activateChildRoutes(n,null,r)}},Gc=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},aa=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Dw(e,n,t){let r=e._root,a=n?n._root:null;return Po(r,a,t,[r.value])}function Lw(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function da(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!_d(e)?e:n.get(e):r}function Po(e,n,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let o=na(n);return e.children.forEach(i=>{Ew(i,o[i.value.outlet],t,r.concat([i.value]),a),delete o[i.value.outlet]}),Object.entries(o).forEach(([i,s])=>Fo(s,t.getContext(i),a)),a}function Ew(e,n,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,i=n?n.value:null,s=t?t.getContext(e.value.outlet):null;if(i&&o.routeConfig===i.routeConfig){let c=_w(i,o,o.routeConfig.runGuardsAndResolvers);c?a.canActivateChecks.push(new Gc(r)):(o.data=i.data,o._resolvedData=i._resolvedData),o.component?Po(e,n,s?s.children:null,r,a):Po(e,n,t,r,a),c&&s&&s.outlet&&s.outlet.isActivated&&a.canDeactivateChecks.push(new aa(s.outlet.component,i))}else i&&Fo(n,s,a),a.canActivateChecks.push(new Gc(r)),o.component?Po(e,null,s?s.children:null,r,a):Po(e,null,t,r,a);return a}function _w(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!rr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!rr(e.url,n.url)||!Tt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!oh(e,n)||!Tt(e.queryParams,n.queryParams);case"paramsChange":default:return!oh(e,n)}}function Fo(e,n,t){let r=na(e),a=e.value;Object.entries(r).forEach(([o,i])=>{a.component?n?Fo(i,n.children.getContext(o),t):Fo(i,null,t):Fo(i,n,t)}),a.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new aa(n.outlet.component,a)):t.canDeactivateChecks.push(new aa(null,a)):t.canDeactivateChecks.push(new aa(null,a))}function Yo(e){return typeof e=="function"}function Aw(e){return typeof e=="boolean"}function Tw(e){return e&&Yo(e.canLoad)}function Rw(e){return e&&Yo(e.canActivate)}function Pw(e){return e&&Yo(e.canActivateChild)}function Ow(e){return e&&Yo(e.canDeactivate)}function Nw(e){return e&&Yo(e.canMatch)}function ug(e){return e instanceof $t||e?.name==="EmptyError"}var Sc=Symbol("INITIAL_VALUE");function ca(){return _e(e=>ts(e.map(n=>n.pipe(gt(1),fd(Sc)))).pipe(T(n=>{for(let t of n)if(t!==!0){if(t===Sc)return Sc;if(t===!1||Fw(t))return t}return!0}),Ee(n=>n!==Sc),gt(1)))}function Fw(e){return xn(e)||e instanceof sa}function jw(e,n){return ie(t=>{let{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:o,canDeactivateChecks:i}}=t;return i.length===0&&o.length===0?_(K(w({},t),{guardsResult:!0})):Hw(i,r,a,e).pipe(ie(s=>s&&Aw(s)?qw(r,o,e,n):_(s)),T(s=>K(w({},t),{guardsResult:s})))})}function Hw(e,n,t,r){return G(e).pipe(ie(a=>$w(a.component,a.route,t,n,r)),rt(a=>a!==!0,!0))}function qw(e,n,t,r){return G(n).pipe(Ue(a=>Pr(zw(a.route.parent,r),Vw(a.route,r),Uw(e,a.path,t),Bw(e,a.route,t))),rt(a=>a!==!0,!0))}function Vw(e,n){return e!==null&&n&&n(new qc(e)),_(!0)}function zw(e,n){return e!==null&&n&&n(new jc(e)),_(!0)}function Bw(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return _(!0);let a=r.map(o=>yt(()=>{let i=Ko(n)??t,s=da(o,i),c=Rw(s)?s.canActivate(n,e):Xe(i,()=>s(n,e));return tn(c).pipe(rt())}));return _(a).pipe(ca())}function Uw(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(i=>Lw(i)).filter(i=>i!==null).map(i=>yt(()=>{let s=i.guards.map(c=>{let l=Ko(i.node)??t,d=da(c,l),u=Pw(d)?d.canActivateChild(r,e):Xe(l,()=>d(r,e));return tn(u).pipe(rt())});return _(s).pipe(ca())}));return _(o).pipe(ca())}function $w(e,n,t,r,a){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return _(!0);let i=o.map(s=>{let c=Ko(n)??a,l=da(s,c),d=Ow(l)?l.canDeactivate(e,n,t,r):Xe(c,()=>l(e,n,t,r));return tn(d).pipe(rt())});return _(i).pipe(ca())}function Gw(e,n,t,r){let a=n.canLoad;if(a===void 0||a.length===0)return _(!0);let o=a.map(i=>{let s=da(i,e),c=Tw(s)?s.canLoad(n,t):Xe(e,()=>s(n,t));return tn(c)});return _(o).pipe(ca(),hg(r))}function hg(e){return td(ne(n=>{if(typeof n!="boolean")throw $c(e,n)}),T(n=>n===!0))}function Ww(e,n,t,r){let a=n.canMatch;if(!a||a.length===0)return _(!0);let o=a.map(i=>{let s=da(i,e),c=Nw(s)?s.canMatch(n,t):Xe(e,()=>s(n,t));return tn(c)});return _(o).pipe(ca(),hg(r))}var $o=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Go=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function ta(e){return ft(new $o(e))}function Zw(e){return ft(new C(4e3,!1))}function Kw(e){return ft(lg(!1,qe.GuardRejected))}var ch=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),a.numberOfChildren===0)return _(r);if(a.numberOfChildren>1||!a.children[F])return Zw(`${n.redirectTo}`);a=a.children[F]}}applyRedirectCommands(n,t,r,a,o){return Xw(t,a,o).pipe(T(i=>{if(i instanceof Pt)throw new Go(i);let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),n,r);if(i[0]==="/")throw new Go(s);return s}))}applyRedirectCreateUrlTree(n,t,r,a){let o=this.createSegmentGroup(n,t.root,r,a);return new Pt(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([a,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[a]=t[s]}else r[a]=o}),r}createSegmentGroup(n,t,r,a){let o=this.createSegments(n,t.segments,r,a),i={};return Object.entries(t.children).forEach(([s,c])=>{i[s]=this.createSegmentGroup(n,c,r,a)}),new X(o,i)}createSegments(n,t,r,a){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,a):this.findOrReturn(o,r))}findPosParam(n,t,r){let a=r[t.path.substring(1)];if(!a)throw new C(4001,!1);return a}findOrReturn(n,t){let r=0;for(let a of t){if(a.path===n.path)return t.splice(r),a;r++}return n}};function Xw(e,n,t){if(typeof e=="string")return _(e);let r=e,{queryParams:a,fragment:o,routeConfig:i,url:s,outlet:c,params:l,data:d,title:u}=n;return tn(Xe(t,()=>r({params:l,data:d,queryParams:a,fragment:o,routeConfig:i,url:s,outlet:c,title:u})))}var lh={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Yw(e,n,t,r,a){let o=pg(e,n,t);return o.matched?(r=vw(n,r),Ww(r,n,t,a).pipe(T(i=>i===!0?o:w({},lh)))):_(o)}function pg(e,n,t){if(n.path==="**")return Jw(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?w({},lh):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let a=(n.matcher||zy)(t,e,n);if(!a)return w({},lh);let o={};Object.entries(a.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let i=a.consumed.length>0?w(w({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:i,positionalParamSegments:a.posParams??{}}}function Jw(e){return{matched:!0,parameters:e.length>0?Uy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Hy(e,n,t,r){return t.length>0&&t8(e,t,r)?{segmentGroup:new X(n,e8(r,new X(t,e.children))),slicedSegments:[]}:t.length===0&&n8(e,t,r)?{segmentGroup:new X(e.segments,Qw(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new X(e.segments,e.children),slicedSegments:t}}function Qw(e,n,t,r){let a={};for(let o of t)if(Kc(e,n,o)&&!r[bt(o)]){let i=new X([],{});a[bt(o)]=i}return w(w({},r),a)}function e8(e,n){let t={};t[F]=n;for(let r of e)if(r.path===""&&bt(r)!==F){let a=new X([],{});t[bt(r)]=a}return t}function t8(e,n,t){return t.some(r=>Kc(e,n,r)&&bt(r)!==F)}function n8(e,n,t){return t.some(r=>Kc(e,n,r))}function Kc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function r8(e,n,t){return n.length===0&&!e.children[t]}var dh=class{};function a8(e,n,t,r,a,o,i="emptyOnly"){return new uh(e,n,t,r,a,i,o).recognize()}var o8=31,uh=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,a,o,i,s){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=a,this.urlTree=o,this.paramsInheritanceStrategy=i,this.urlSerializer=s,this.applyRedirects=new ch(this.urlSerializer,this.urlTree)}noMatchError(n){return new C(4002,`'${n.segmentGroup}'`)}recognize(){let n=Hy(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(T(({children:t,rootSnapshot:r})=>{let a=new tt(r,t),o=new Bo("",a),i=Qy(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(i),{state:o,tree:i}}))}match(n){let t=new ar([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),F,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,F,t).pipe(T(r=>({children:r,rootSnapshot:t})),Be(r=>{if(r instanceof Go)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof $o?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,a,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,a,!0,o).pipe(T(i=>i instanceof tt?[i]:[]))}processChildren(n,t,r,a){let o=[];for(let i of Object.keys(r.children))i==="primary"?o.unshift(i):o.push(i);return G(o).pipe(Ue(i=>{let s=r.children[i],c=Mw(t,i);return this.processSegmentGroup(n,c,s,i,a)}),Pa((i,s)=>(i.push(...s),i)),on(null),dd(),ie(i=>{if(i===null)return ta(r);let s=fg(i);return i8(s),_(s)}))}processSegment(n,t,r,a,o,i,s){return G(t).pipe(Ue(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,a,o,i,s).pipe(Be(l=>{if(l instanceof $o)return _(null);throw l}))),rt(c=>!!c),Be(c=>{if(ug(c))return r8(r,a,o)?_(new dh):ta(r);throw c}))}processSegmentAgainstRoute(n,t,r,a,o,i,s,c){return bt(r)!==i&&(i===F||!Kc(a,o,r))?ta(a):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,a,r,o,i,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(n,a,t,r,o,i,c):ta(a)}expandSegmentAgainstRouteUsingRedirect(n,t,r,a,o,i,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=pg(t,a,o);if(!c)return ta(t);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>o8&&(this.allowRedirects=!1));let h=new ar(o,l,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,qy(a),bt(a),a.component??a._loadedComponent??null,a,Vy(a)),y=Uc(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,a.redirectTo,u,h,n).pipe(_e(m=>this.applyRedirects.lineralizeSegments(a,m)),ie(m=>this.processSegment(n,r,t,m.concat(p),i,!1,s)))}matchSegmentAgainstRoute(n,t,r,a,o,i){let s=Yw(t,r,a,n,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(_e(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,a).pipe(_e(({routes:l})=>{let d=r._loadedInjector??n,{parameters:u,consumedSegments:p,remainingSegments:h}=c,y=new ar(p,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,qy(r),bt(r),r.component??r._loadedComponent??null,r,Vy(r)),g=Uc(y,i,this.paramsInheritanceStrategy);y.params=Object.freeze(g.params),y.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:v}=Hy(t,p,h,l);if(v.length===0&&m.hasChildren())return this.processChildren(d,l,m,y).pipe(T(A=>new tt(y,A)));if(l.length===0&&v.length===0)return _(new tt(y,[]));let S=bt(r)===o;return this.processSegment(d,l,m,v,S?F:o,!0,y).pipe(T(A=>new tt(y,A instanceof tt?[A]:[])))}))):ta(t)))}getChildConfig(n,t,r){return t.children?_({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?_({routes:t._loadedRoutes,injector:t._loadedInjector}):Gw(n,t,r,this.urlSerializer).pipe(ie(a=>a?this.configLoader.loadChildren(n,t).pipe(ne(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):Kw(t))):_({routes:[],injector:n})}};function i8(e){e.sort((n,t)=>n.value.outlet===F?-1:t.value.outlet===F?1:n.value.outlet.localeCompare(t.value.outlet))}function s8(e){let n=e.value.routeConfig;return n&&n.path===""}function fg(e){let n=[],t=new Set;for(let r of e){if(!s8(r)){n.push(r);continue}let a=n.find(o=>r.value.routeConfig===o.value.routeConfig);a!==void 0?(a.children.push(...r.children),t.add(a)):n.push(r)}for(let r of t){let a=fg(r.children);n.push(new tt(r.value,a))}return n.filter(r=>!t.has(r))}function qy(e){return e.data||{}}function Vy(e){return e.resolve||{}}function c8(e,n,t,r,a,o){return ie(i=>a8(e,n,t,r,i.extractedUrl,a,o).pipe(T(({state:s,tree:c})=>K(w({},i),{targetSnapshot:s,urlAfterRedirects:c}))))}function l8(e,n){return ie(t=>{let{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return _(t);let o=new Set(a.map(c=>c.route)),i=new Set;for(let c of o)if(!i.has(c))for(let l of yg(c))i.add(l);let s=0;return G(i).pipe(Ue(c=>o.has(c)?d8(c,r,e,n):(c.data=Uc(c,c.parent,e).resolve,_(void 0))),ne(()=>s++),Or(1),ie(c=>s===i.size?_(t):Le))})}function yg(e){let n=e.children.map(t=>yg(t)).flat();return[e,...n]}function d8(e,n,t,r){let a=e.routeConfig,o=e._resolve;return a?.title!==void 0&&!ig(a)&&(o[Wo]=a.title),yt(()=>(e.data=Uc(e,e.parent,t).resolve,u8(o,e,n,r).pipe(T(i=>(e._resolvedData=i,e.data=w(w({},e.data),i),null)))))}function u8(e,n,t,r){let a=Qu(e);if(a.length===0)return _({});let o={};return G(a).pipe(ie(i=>h8(e[i],n,t,r).pipe(rt(),ne(s=>{if(s instanceof sa)throw $c(new ir,s);o[i]=s}))),Or(1),T(()=>o),Be(i=>ug(i)?Le:ft(i)))}function h8(e,n,t,r){let a=Ko(n)??r,o=da(e,a),i=o.resolve?o.resolve(n,t):Xe(a,()=>o(n,t));return tn(i)}function Yu(e){return _e(n=>{let t=e(n);return t?G(t).pipe(T(()=>n)):_(n)})}var yh=(()=>{class e{buildTitle(t){let r,a=t.root;for(;a!==void 0;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(o=>o.outlet===F);return r}getResolvedTitleForRoute(t){return t.data[Wo]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>M(gg),providedIn:"root"})}return e})(),gg=(()=>{class e extends yh{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(L(Py))};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ua=new D("",{providedIn:"root",factory:()=>({})}),Jo=new D(""),mg=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Du);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return _(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=tn(t.loadComponent()).pipe(T(vg),ne(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Ra(()=>{this.componentLoaders.delete(t)})),a=new Rr(r,()=>new ee).pipe(Tr());return this.componentLoaders.set(t,a),a}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return _({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=kg(r,this.compiler,t,this.onLoadEndListener).pipe(Ra(()=>{this.childrenLoaders.delete(r)})),i=new Rr(o,()=>new ee).pipe(Tr());return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kg(e,n,t,r){return tn(e.loadChildren()).pipe(T(vg),ie(a=>a instanceof ic||Array.isArray(a)?_(a):G(n.compileModuleAsync(a))),T(a=>{r&&r(e);let o,i,s=!1;return Array.isArray(a)?(i=a,s=!0):(o=a.create(t).injector,i=o.get(Jo,[],{optional:!0,self:!0}).flat()),{routes:i.map(fh),injector:o}}))}function p8(e){return e&&typeof e=="object"&&"default"in e}function vg(e){return p8(e)?e.default:e}var Xc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>M(f8),providedIn:"root"})}return e})(),f8=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Mg=new D("");var wg=new D(""),Ig=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ee;transitionAbortWithErrorSubject=new ee;configLoader=M(mg);environmentInjector=M(ve);destroyRef=M(Wn);urlSerializer=M(Zo);rootContexts=M(la);location=M(In);inputBindingEnabled=M(Zc,{optional:!0})!==null;titleStrategy=M(yh);options=M(ua,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Xc);createViewTransition=M(Mg,{optional:!0});navigationErrorHandler=M(wg,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>_(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=a=>this.events.next(new Nc(a)),r=a=>this.events.next(new Fc(a));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(K(w({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new ge(null),this.transitions.pipe(Ee(r=>r!==null),_e(r=>{let a=!1;return _(r).pipe(_e(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",qe.SupersededByNewNavigation),Le;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?K(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let i=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!i&&s!=="reload"){let c="";return this.events.next(new en(o.id,this.urlSerializer.serialize(o.rawUrl),c,Ho.IgnoredSameUrlNavigation)),o.resolve(!1),Le}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return _(o).pipe(_e(c=>(this.events.next(new sr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Le:Promise.resolve(c))),c8(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ne(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=K(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new qo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(i&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=o,h=new sr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let y=ag(this.rootComponentType).snapshot;return this.currentTransition=r=K(w({},o),{targetSnapshot:y,urlAfterRedirects:l,extras:K(w({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,_(r)}else{let c="";return this.events.next(new en(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Ho.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Le}}),ne(o=>{let i=new Tc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(i)}),T(o=>(this.currentTransition=r=K(w({},o),{guards:Dw(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),jw(this.environmentInjector,o=>this.events.next(o)),ne(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw $c(this.urlSerializer,o.guardsResult);let i=new Rc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(i)}),Ee(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",qe.GuardRejected),!1)),Yu(o=>{if(o.guards.canActivateChecks.length!==0)return _(o).pipe(ne(i=>{let s=new Pc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),_e(i=>{let s=!1;return _(i).pipe(l8(this.paramsInheritanceStrategy,this.environmentInjector),ne({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(i,"",qe.NoDataFromResolver)}}))}),ne(i=>{let s=new Oc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}))}),Yu(o=>{let i=s=>{let c=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(s.routeConfig).pipe(ne(l=>{s.component=l}),T(()=>{})));for(let l of s.children)c.push(...i(l));return c};return ts(i(o.targetSnapshot.root)).pipe(on(null),gt(1))}),Yu(()=>this.afterPreactivation()),_e(()=>{let{currentSnapshot:o,targetSnapshot:i}=r,s=this.createViewTransition?.(this.environmentInjector,o.root,i.root);return s?G(s).pipe(T(()=>r)):_(r)}),T(o=>{let i=Iw(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=K(w({},o),{targetRouterState:i}),this.currentNavigation.targetRouterState=i,r}),ne(()=>{this.events.next(new Vo)}),Sw(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),gt(1),Nr(new $(o=>{let i=r.abortController.signal,s=()=>o.next();return i.addEventListener("abort",s),()=>i.removeEventListener("abort",s)}).pipe(Ee(()=>!a&&!r.targetRouterState),ne(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",qe.Aborted)}))),ne({next:o=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ot(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{a=!0}}),Nr(this.transitionAbortWithErrorSubject.pipe(ne(o=>{throw o}))),Ra(()=>{a||this.cancelNavigationTransition(r,"",qe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),Be(o=>{if(this.destroyed)return r.resolve(!1),Le;if(a=!0,dg(o))this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),bw(o)?this.events.next(new ia(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let i=new oa(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let s=Xe(this.environmentInjector,()=>this.navigationErrorHandler?.(i));if(s instanceof sa){let{message:c,cancellationCode:l}=$c(this.urlSerializer,s);this.events.next(new Rt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new ia(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(i),o}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return Le}))}))}cancelNavigationTransition(t,r,a){let o=new Rt(t.id,this.urlSerializer.serialize(t.extractedUrl),r,a);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function y8(e){return e!==No}var Cg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>M(g8),providedIn:"root"})}return e})(),Wc=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},g8=(()=>{class e extends Wc{static \u0275fac=(()=>{let t;return function(a){return(t||(t=Zs(e)))(a||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xg=(()=>{class e{urlSerializer=M(Zo);options=M(ua,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(In);urlHandlingStrategy=M(Xc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:a}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,i=a??o;return i instanceof Pt?this.urlSerializer.serialize(i):i}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:a}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,a),this.routerState=t):this.rawUrlTree=a}routerState=ag(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:()=>M(m8),providedIn:"root"})}return e})(),m8=(()=>{class e extends xg{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof sr?this.updateStateMemento():t instanceof en?this.commitTransition(r):t instanceof qo?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Vo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Rt&&t.code!==qe.SupersededByNewNavigation&&t.code!==qe.Redirect?this.restoreHistory(r):t instanceof oa?this.restoreHistory(r,!0):t instanceof Ot&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:a}){let{replaceUrl:o,state:i}=r;if(this.location.isCurrentPathEqualTo(t)||o){let s=this.browserPageId,c=w(w({},i),this.generateNgRouterState(a,s));this.location.replaceState(t,"",c)}else{let s=w(w({},i),this.generateNgRouterState(a,this.browserPageId+1));this.location.go(t,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,o=this.currentPageId-a;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(a){return(t||(t=Zs(e)))(a||e)}})();static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gh(e,n){e.events.pipe(Ee(t=>t instanceof Ot||t instanceof Rt||t instanceof oa||t instanceof en),T(t=>t instanceof Ot||t instanceof en?0:(t instanceof Rt?t.code===qe.Redirect||t.code===qe.SupersededByNewNavigation:!1)?2:1),Ee(t=>t!==2),gt(1)).subscribe(()=>{n()})}var k8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},cr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(gu);stateManager=M(xg);options=M(ua,{optional:!0})||{};pendingTasks=M(fn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(Ig);urlSerializer=M(Zo);location=M(In);urlHandlingStrategy=M(Xc);injector=M(ve);_events=new ee;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(Cg);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Jo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Zc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new de;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let a=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(a!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Rt&&r.code!==qe.Redirect&&r.code!==qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ot)this.navigated=!0;else if(r instanceof ia){let i=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,a.currentRawUrl),c=w({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||y8(a.source)},i);this.scheduleNavigation(s,No,null,c,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}kw(r)&&this._events.next(r)}catch(a){this.navigationTransitions.transitionAbortWithErrorSubject.next(a)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),No,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,a)=>{this.navigateToSyncWithBrowser(t,a,r)})}navigateToSyncWithBrowser(t,r,a){let o={replaceUrl:!0},i=a?.navigationId?a:null;if(a){let c=w({},a);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,i,o).catch(c=>{this.injector.get(Ge)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(fh),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:a,queryParams:o,fragment:i,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:i,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=a?a.snapshot:this.routerState.snapshot.root;u=eg(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return tg(u,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let a=xn(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,No,null,r)}navigate(t,r={skipLocationChange:!1}){return M8(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let a;if(r===!0?a=w({},k8):r===!1?a=w({},v8):a=r,xn(t))return Oy(this.currentUrlTree,t,a);let o=this.parseUrl(t);return Oy(this.currentUrlTree,o,a)}removeEmptyProps(t){return Object.entries(t).reduce((r,[a,o])=>(o!=null&&(r[a]=o),r),{})}scheduleNavigation(t,r,a,o,i){if(this.disposed)return Promise.resolve(!1);let s,c,l;i?(s=i.resolve,c=i.reject,l=i.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return gh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M8(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new C(4008,!1)}var bn=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ss(null);get href(){return uc(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ee;applicationErrorHandler=M(Ge);options=M(ua,{optional:!0});constructor(t,r,a,o,i,s){this.router=t,this.route=r,this.tabIndexAttribute=a,this.renderer=o,this.el=i,this.locationStrategy=s,this.reactiveHref.set(M(new pc("href"),{optional:!0}));let c=i.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=a=>a==="merge"||a==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(a=>{a instanceof Ot&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(xn(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,a,o,i){let s=this.urlTree;if(s===null||this.isAnchorElement&&(t!==0||r||a||o||i||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let a=this.renderer,o=this.el.nativeElement;r!==null?a.setAttribute(o,t,r):a.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:xn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(se(cr),se(St),io("tabindex"),se(Xr),se(Qn),se(ea))};static \u0275dir=Yr({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,a){r&1&&dc("click",function(i){return a.onClick(i.button,i.ctrlKey,i.shiftKey,i.altKey,i.metaKey)}),r&2&&lc("href",a.reactiveHref(),J1)("target",a.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",fc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",fc],replaceUrl:[2,"replaceUrl","replaceUrl",fc],routerLink:"routerLink"},features:[gn]})}return e})();var I8=new D("");function mh(e,...n){return jn([{provide:Jo,multi:!0,useValue:e},[],{provide:St,useFactory:C8,deps:[cr]},{provide:cc,multi:!0,useFactory:x8},n.map(t=>t.\u0275providers)])}function C8(e){return e.routerState.root}function x8(){let e=M(at);return n=>{let t=e.get(er);if(n!==t.components[0])return;let r=e.get(cr),a=e.get(b8);e.get(S8)===1&&r.initialNavigation(),e.get(D8,null,{optional:!0})?.setUpPreloading(),e.get(I8,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var b8=new D("",{factory:()=>new ee}),S8=new D("",{providedIn:"root",factory:()=>1});var D8=new D("");var L8=["*"];var bg=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]];var Sg=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Dg=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]];var Lg=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]];var Eg=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]];var Yc=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]];var _g=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]];var Ag=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]];var Qo={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},kh=new D("LucideIcons",{factory:()=>new ei({})}),ei=class{constructor(n){this.icons=n}getIcon(n){return this.hasIcon(n)?this.icons[n]:null}hasIcon(n){return typeof this.icons=="object"&&n in this.icons}},E8=(()=>{class e{constructor(){this.color=Qo.stroke,this.size=Qo.width,this.strokeWidth=Qo["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function _8(e,n=3){return parseFloat(e.toFixed(n)).toString(10)}var ha=(()=>{class e{constructor(t,r,a,o,i){this.elem=t,this.renderer=r,this.changeDetector=a,this.iconProviders=o,this.iconConfig=i,this.absoluteStrokeWidth=!1,this.defaultSize=Qo.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let a=this.getIcon(this.toPascalCase(r));if(a)this.replaceElement(a);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let r=K(w({},Qo),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?_8(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),a=this.createElement(["svg",r,t]);a.classList.add("lucide"),typeof this.name=="string"&&a.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&a.classList.add(...this.class.split(/ /).map(i=>i.trim()).filter(i=>i.length>0));let o=this.elem.nativeElement.childNodes;for(let i of o)this.renderer.removeChild(this.elem.nativeElement,i);this.renderer.appendChild(this.elem.nativeElement,a)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,a,o)=>a.toUpperCase()+o.toLowerCase())}parseNumber(t){if(typeof t=="string"){let r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,a=[]]){let o=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(i=>{let s=typeof r[i]=="string"?r[i]:r[i].toString(10);this.renderer.setAttribute(o,i,s)}),a.length&&a.forEach(i=>{let s=this.createElement(i);this.renderer.appendChild(o,s)}),o}}return e.\u0275fac=function(t){return new(t||e)(se(Qn),se(Xr),se(Qr),se(kh),se(E8))},e.\u0275cmp=je({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[gn],ngContentSelectors:L8,decls:1,vars:0,template:function(t,r){t&1&&(Cu(),xu(0))},encapsulation:2}),e})(),vh=class{constructor(n){this.icons=n}},A8=e=>new ei(e??{}),pa=(()=>{class e{static pick(t){return{ngModule:e,providers:[{provide:kh,multi:!0,useValue:new ei(t)},{provide:kh,multi:!0,useFactory:A8,deps:[[new U1,vh]]}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=Zt({imports:[[]]}),e})();var T8=e=>["/lease",e];function R8(e,n){if(e&1&&(I(0,"div",0)(1,"div",1),oe(2,"img",2),x(),I(3,"h2",3),E(4),x(),I(5,"p",4),oe(6,"lucide-icon",5),E(7),x(),oe(8,"hr",6),I(9,"div",7),oe(10,"lucide-icon",5),I(11,"span"),E(12),Mn(13,"date"),Mn(14,"date"),x()(),I(15,"div",8),oe(16,"lucide-icon",5),I(17,"span",9),E(18),x(),I(19,"span",10),E(20),x()()()),e&2){let t=mo();be("routerLink",ko(18,T8,t.lease.id)),B(4),et(" ",t.lease.property==null?null:t.lease.property.name," "),B(2),be("img",t.MapPinIcon),B(),Ct(" ",t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.street,", ",t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.city," "),B(3),be("img",t.CalendarIcon),B(2),Ct("",nr(13,12,t.lease.startDate,"MMM y")," \u2013 ",nr(14,15,t.lease.endDate,"MMM y")),B(4),be("img",t.Banknote),B(2),Ct(" ",t.lease.rentAmount," ",t.lease.rentCurrency),B(2),et("/ ",t.lease.paymentFrequency||"mois")}}var Jc=class e{lease;MapPinIcon=Yc;CalendarIcon=Sg;Banknote=bg;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=je({type:e,selectors:[["app-lease-card"]],inputs:{lease:"lease"},decls:1,vars:1,consts:[[1,"bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4",3,"routerLink"],[1,"h-32","flex","justify-center"],["src","/illustrations/home.svg",1,"h-full"],[1,"text-2xl","font-bold","leading-tight"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-200/50","my-2"],[1,"flex","items-center","text-sm","flex","items-center","gap-1","text-gray-600"],[1,"flex","items-baseline","text-gray-800","flex","items-center","gap-1"],[1,"ml-1","text-sm","font-medium"],[1,"ml-2","text-sm","text-gray-500"]],template:function(t,r){t&1&&fo(0,R8,21,20,"div",0),t&2&&yo(r.lease?0:-1)},dependencies:[Do,pa,ha,bn],encapsulation:2})};var Tg=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var ti=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},Qc=class extends ti{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},el=class extends ti{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},tl=class extends ti{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},wh=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(wh||{});var P8=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},ni=class{constructor(n,{headers:t={},customFetch:r,region:a=wh.Any}={}){this.url=n,this.headers=t,this.region=a,this.fetch=Tg(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return P8(this,void 0,void 0,function*(){try{let{headers:a,method:o,body:i}=t,s={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(s["x-region"]=c);let l;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",l=i):typeof i=="string"?(s["Content-Type"]="text/plain",l=i):typeof FormData<"u"&&i instanceof FormData?l=i:(s["Content-Type"]="application/json",l=JSON.stringify(i)));let d=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:l}).catch(y=>{throw new Qc(y)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new el(d);if(!d.ok)throw new tl(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield d.json():p==="application/octet-stream"?h=yield d.blob():p==="text/event-stream"?h=d:p==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}};var $g=pk(Ug(),1),{PostgrestClient:Gg,PostgrestQueryBuilder:OF,PostgrestFilterBuilder:NF,PostgrestTransformBuilder:FF,PostgrestBuilder:jF,PostgrestError:G8}=$g.default;function Wg(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Zg=Wg();var Kg="2.11.13";var Xg={"X-Client-Info":`realtime-js/${Kg}`},Yg="1.0.0";var ol=1e4,Jg=1e3,li=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(li||{}),Te=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Te||{}),dt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(dt||{}),Rh=function(e){return e.websocket="websocket",e}(Rh||{}),lr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(lr||{});var il=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let a=t.getUint8(1),o=t.getUint8(2),i=this.HEADER_LENGTH+2,s=r.decode(n.slice(i,i+a));i=i+a;let c=r.decode(n.slice(i,i+o));i=i+o;let l=JSON.parse(r.decode(n.slice(i,n.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var ya=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var re=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(re||{}),Oh=(e,n,t={})=>{var r;let a=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,i)=>(o[i]=W8(i,e,n,a),o),{})},W8=(e,n,t,r)=>{let a=n.find(s=>s.name===e),o=a?.type,i=t[e];return o&&!r.includes(o)?Qg(o,i):Ph(i)},Qg=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return Y8(n,t)}switch(e){case re.bool:return Z8(n);case re.float4:case re.float8:case re.int2:case re.int4:case re.int8:case re.numeric:case re.oid:return K8(n);case re.json:case re.jsonb:return X8(n);case re.timestamp:return J8(n);case re.abstime:case re.date:case re.daterange:case re.int4range:case re.int8range:case re.money:case re.reltime:case re.text:case re.time:case re.timestamptz:case re.timetz:case re.tsrange:case re.tstzrange:return Ph(n);default:return Ph(n)}},Ph=e=>e,Z8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},K8=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},X8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},Y8=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,i=e.slice(1,t);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(s=>Qg(n,s))}return e},J8=e=>typeof e=="string"?e.replace(" ","T"):e,sl=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var ga=class{constructor(n,t,r={},a=ol){this.channel=n,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var di=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{let{onJoin:o,onLeave:i,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},a=>{let{onJoin:o,onLeave:i,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=e.syncDiff(this.state,a,o,i),s())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,a){let o=this.cloneDeep(n),i=this.transformState(t),s={},c={};return this.map(o,(l,d)=>{i[l]||(c[l]=d)}),this.map(i,(l,d)=>{let u=o[l];if(u){let p=d.map(m=>m.presence_ref),h=u.map(m=>m.presence_ref),y=d.filter(m=>h.indexOf(m.presence_ref)<0),g=u.filter(m=>p.indexOf(m.presence_ref)<0);y.length>0&&(s[l]=y),g.length>0&&(c[l]=g)}else s[l]=d}),this.syncDiff(o,{joins:s,leaves:c},r,a)}static syncDiff(n,t,r,a){let{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(s,c)=>{var l;let d=(l=n[s])!==null&&l!==void 0?l:[];if(n[s]=this.cloneDeep(c),d.length>0){let u=n[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);n[s].unshift(...p)}r(s,d,c)}),this.map(i,(s,c)=>{let l=n[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),n[s]=l,a(s,l,c),l.length===0&&delete n[s]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let a=n[r];return"metas"in a?t[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=a,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var nn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(nn||{});var ui=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Te.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ga(this,dt.join,this.params,this.timeout),this.rejoinTimer=new ya(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Te.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Te.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Te.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new di(this),this.broadcastEndpointURL=sl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Te.closed){let{config:{broadcast:o,presence:i,private:s}}=this.params;this._onError(d=>n?.(nn.CHANNEL_ERROR,d)),this._onClose(()=>n?.(nn.CLOSED));let c={},l={broadcast:o,presence:i,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&a!==void 0?a:[],private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",u=>f(this,[u],function*({postgres_changes:d}){var p;if(this.socket.setAuth(),d===void 0){n?.(nn.SUBSCRIBED);return}else{let h=this.bindings.postgres_changes,y=(p=h?.length)!==null&&p!==void 0?p:0,g=[];for(let m=0;m<y;m++){let v=h[m],{filter:{event:S,schema:A,table:k,filter:q}}=v,De=d&&d[m];if(De&&De.event===S&&De.schema===A&&De.table===k&&De.filter===q)g.push(Object.assign(Object.assign({},v),{id:De.id}));else{this.unsubscribe(),this.state=Te.errored,n?.(nn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,n&&n(nn.SUBSCRIBED);return}})).receive("error",d=>{this.state=Te.errored,n?.(nn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{n?.(nn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return f(this,arguments,function*(n,t={}){var a,o;if(!this._canPush()&&n.type==="broadcast"){let{event:i,payload:s}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,c,l;let d=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Te.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new ga(this,dt.leave,{},n),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,t,r){return f(this,null,function*(){let a=new AbortController,o=setTimeout(()=>a.abort(),r),i=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),i})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new ga(this,n,t,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var a,o;let i=n.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=dt;if(r&&[s,c,l,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var y,g,m;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===i}).map(h=>h.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var y,g,m,v,S,A;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){let k=h.id,q=(y=h.filter)===null||y===void 0?void 0:y.event;return k&&((g=t.ids)===null||g===void 0?void 0:g.includes(k))&&(q==="*"||q?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let k=(S=(v=h?.filter)===null||v===void 0?void 0:v.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((A=t?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:g,table:m,commit_timestamp:v,type:S,errors:A}=y;p=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:v,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===Te.closed}_isJoined(){return this.state===Te.joined}_isJoining(){return this.state===Te.joining}_isLeaving(){return this.state===Te.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let a=n.toLocaleLowerCase(),o={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(a.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(dt.close,{},n)}_onError(n){this._on(dt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Te.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Oh(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Oh(n.columns,n.old_record)),t}};var em=()=>{},e6=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,hi=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Xg,this.params={},this.timeout=ol,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=em,this.ref=0,this.logger=em,this.conn=null,this.sendBuffer=[],this.serializer=new il,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:c})=>c(...s)):i=fetch,(...s)=>i(...s)},this.endPoint=`${n}/${Rh.websocket}`,this.httpEndpoint=sl(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let a=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,i)=>i(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ya(()=>f(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=Zg),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yg}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(n){return f(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return f(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case li.connecting:return lr.Connecting;case li.open:return lr.Open;case li.closing:return lr.Closing;default:return lr.Closed}}isConnected(){return this.connectionState()===lr.Open}channel(n,t={config:{}}){let r=`realtime:${n}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{let o=new ui(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:a,ref:o}=n,i=()=>{this.encode(n,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${t} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(n=null){return f(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(dt.access_token,{access_token:t})}))})}sendHeartbeat(){return f(this,null,function*(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(Jg,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:a,payload:o,ref:i}=t;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(s=>s._isMember(r)).forEach(s=>s._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(s=>s(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(dt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${n}${r}${a}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([e6],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var ma=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function fe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var cl=class extends ma{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},dr=class extends ma{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var t6=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},dl=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},tm=()=>t6(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),ll=e=>{if(Array.isArray(e))return e.map(t=>ll(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[a]=ll(r)}),n};var ur=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},Nh=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),n6=(e,n,t)=>ur(void 0,void 0,void 0,function*(){let r=yield tm();e instanceof r&&!t?.noResolveJson?e.json().then(a=>{n(new cl(Nh(a),e.status||500))}).catch(a=>{n(new dr(Nh(a),a))}):n(new dr(Nh(e),e))}),r6=(e,n,t,r)=>{let a={method:e,headers:n?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),t))};function pi(e,n,t,r,a,o){return ur(this,void 0,void 0,function*(){return new Promise((i,s)=>{e(t,r6(n,r,a,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>n6(c,s,r))})})}function ka(e,n,t,r){return ur(this,void 0,void 0,function*(){return pi(e,"GET",n,t,r)})}function Nt(e,n,t,r,a){return ur(this,void 0,void 0,function*(){return pi(e,"POST",n,r,a,t)})}function nm(e,n,t,r,a){return ur(this,void 0,void 0,function*(){return pi(e,"PUT",n,r,a,t)})}function rm(e,n,t,r){return ur(this,void 0,void 0,function*(){return pi(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function ul(e,n,t,r,a){return ur(this,void 0,void 0,function*(){return pi(e,"DELETE",n,r,a,t)})}var Ze=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},a6={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},am={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},hl=class{constructor(n,t={},r,a){this.url=n,this.headers=t,this.bucketId=r,this.fetch=dl(a)}uploadOrUpdate(n,t,r,a){return Ze(this,void 0,void 0,function*(){try{let o,i=Object.assign(Object.assign({},am),a),s=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(i.upsert)}),c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(s=Object.assign(Object.assign({},s),a.headers));let l=this._removeEmptyFolders(t),d=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:n,body:o,headers:s},i?.duplex?{duplex:i.duplex}:{})),p=yield u.json();return u.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(fe(o))return{data:null,error:o};throw o}})}upload(n,t,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,a){return Ze(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),i=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let c,l=Object.assign({upsert:am.upsert},a),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield this.fetch(s.toString(),{method:"PUT",body:c,headers:d}),p=yield u.json();return u.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(fe(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return Ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");let o=yield Nt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),s=i.searchParams.get("token");if(!s)throw new ma("No token returned by API");return{data:{signedUrl:i.toString(),path:n,token:s},error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}update(n,t,r){return Ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return Ze(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}copy(n,t,r){return Ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}createSignedUrl(n,t,r){return Ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),o=yield Nt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}createSignedUrls(n,t,r){return Ze(this,void 0,void 0,function*(){try{let a=yield Nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}download(n,t){return Ze(this,void 0,void 0,function*(){let a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),i=o?`?${o}`:"";try{let s=this._getFinalPath(n);return{data:yield(yield ka(this.fetch,`${this.url}/${a}/${s}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(fe(s))return{data:null,error:s};throw s}})}info(n){return Ze(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield ka(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:ll(r),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}exists(n){return Ze(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield rm(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(fe(r)&&r instanceof dr){let a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);let s=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&a.push(c);let l=a.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(n){return Ze(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}list(n,t,r){return Ze(this,void 0,void 0,function*(){try{let a=Object.assign(Object.assign(Object.assign({},a6),t),{prefix:n||""});return{data:yield Nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(fe(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var om="2.7.1";var im={"X-Client-Info":`storage-js/${om}`};var va=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},pl=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},im),t),this.fetch=dl(r)}listBuckets(){return va(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(fe(n))return{data:null,error:n};throw n}})}getBucket(n){return va(this,void 0,void 0,function*(){try{return{data:yield ka(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return va(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return va(this,void 0,void 0,function*(){try{return{data:yield nm(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(fe(r))return{data:null,error:r};throw r}})}emptyBucket(n){return va(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}deleteBucket(n){return va(this,void 0,void 0,function*(){try{return{data:yield ul(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(fe(t))return{data:null,error:t};throw t}})}};var fi=class extends pl{constructor(n,t={},r){super(n,t,r)}from(n){return new hl(this.url,this.headers,n,this.fetch)}};var sm="2.50.1";var yi="";typeof Deno<"u"?yi="deno":typeof document<"u"?yi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?yi="react-native":yi="node";var o6={"X-Client-Info":`supabase-js-${yi}/${sm}`},cm={headers:o6},lm={schema:"public"},dm={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},um={};i2();var i6=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},s6=e=>{let n;return e?n=e:typeof fetch>"u"?n=a2:n=fetch,(...t)=>n(...t)},c6=()=>typeof Headers>"u"?o2:Headers,hm=(e,n,t)=>{let r=s6(t),a=c6();return(o,i)=>i6(void 0,void 0,void 0,function*(){var s;let c=(s=yield n())!==null&&s!==void 0?s:e,l=new a(i?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:l}))})};var l6=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})};function pm(e){return e.endsWith("/")?e:e+"/"}function fm(e,n){var t,r;let{db:a,auth:o,realtime:i,global:s}=e,{db:c,auth:l,realtime:d,global:u}=n,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(t=u?.headers)!==null&&t!==void 0?t:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>l6(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}var fl="2.70.0";var hr=30*1e3,yl=3,gl=yl*hr,ym="http://localhost:9999",gm="supabase.auth.token";var mm={"X-Client-Info":`gotrue-js/${fl}`};var gi="X-Supabase-Api-Version",Fh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},km=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vm=6e5;var mi=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function P(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var ml=class extends mi{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function Mm(e){return P(e)&&e.name==="AuthApiError"}var Ma=class extends mi{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Ft=class extends mi{constructor(n,t,r,a){super(n,r,a),this.name=t,this.status=r}},ut=class extends Ft{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function wm(e){return P(e)&&e.name==="AuthSessionMissingError"}var pr=class extends Ft{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},fr=class extends Ft{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},yr=class extends Ft{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Im(e){return P(e)&&e.name==="AuthImplicitGrantRedirectError"}var ki=class extends Ft{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},wa=class extends Ft{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function kl(e){return P(e)&&e.name==="AuthRetryableFetchError"}var vi=class extends Ft{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var rn=class extends Ft{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var vl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cm=` 	
\r=`.split(""),d6=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Cm.length;n+=1)e[Cm[n].charCodeAt(0)]=-2;for(let n=0;n<vl.length;n+=1)e[vl[n].charCodeAt(0)]=n;return e})();function xm(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(vl[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(vl[r]),n.queuedBits-=6}}function bm(e,n,t){let r=d6[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jh(e){let n=[],t=i=>{n.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{p6(i,r,t)};for(let i=0;i<e.length;i+=1)bm(e.charCodeAt(i),a,o);return n.join("")}function u6(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function h6(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let a=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}u6(r,n)}}function p6(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Sm(e){let n=[],t={queue:0,queuedBits:0},r=a=>{n.push(a)};for(let a=0;a<e.length;a+=1)bm(e.charCodeAt(a),t,r);return new Uint8Array(n)}function Dm(e){let n=[];return h6(e,t=>n.push(t)),new Uint8Array(n)}function Lm(e){let n=[],t={queue:0,queuedBits:0},r=a=>{n.push(a)};return e.forEach(a=>xm(a,t,r)),xm(null,t,r),n.join("")}function Em(e){return Math.round(Date.now()/1e3)+e}function _m(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var ht=()=>typeof window<"u"&&typeof document<"u",gr={tested:!1,writable:!1},Sn=()=>{if(!ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(gr.tested)return gr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),gr.tested=!0,gr.writable=!0}catch{gr.tested=!0,gr.writable=!1}return gr.writable};function Am(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{n[o]=a})}catch{}return t.searchParams.forEach((r,a)=>{n[a]=r}),n}var Ml=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Tm=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Hh=(e,n,t)=>f(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),wi=(e,n)=>f(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Ii=(e,n)=>f(null,null,function*(){yield e.removeItem(n)}),Mi=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Mi.promiseConstructor=Promise;function wl(e){let n=e.split(".");if(n.length!==3)throw new rn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!km.test(n[r]))throw new rn("JWT not in base64url format");return{header:JSON.parse(jh(n[0])),payload:JSON.parse(jh(n[1])),signature:Sm(n[2]),raw:{header:n[0],payload:n[1]}}}function Rm(e){return f(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function Pm(e,n){return new Promise((r,a)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let i=yield e(o);if(!n(o,null,i)){r(i);return}}catch(i){if(!n(o,i)){a(i);return}}})})}function f6(e){return("0"+e.toString(16)).substr(-2)}function y6(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(n),Array.from(n,f6).join("")}function g6(e){return f(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")})}function m6(e){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield g6(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function mr(e,n,t=!1){return f(this,null,function*(){let r=y6(),a=r;t&&(a+="/PASSWORD_RECOVERY"),yield Hh(e,`${n}-code-verifier`,a);let o=yield m6(r);return[o,r===o?"plain":"s256"]})}var k6=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Om(e){let n=e.headers.get(gi);if(!n||!n.match(k6))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Nm(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function Fm(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var v6=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kr(e){if(!v6.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var M6=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},vr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),w6=[502,503,504];function jm(e){return f(this,null,function*(){var n;if(!Tm(e))throw new wa(vr(e),0);if(w6.includes(e.status))throw new wa(vr(e),e.status);let t;try{t=yield e.json()}catch(o){throw new Ma(vr(o),o)}let r,a=Om(e);if(a&&a.getTime()>=Fh["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new vi(vr(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new ut}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new vi(vr(t),e.status,t.weak_password.reasons);throw new ml(vr(t),e.status||500,r)})}var I6=(e,n,t,r)=>{let a={method:e,headers:n?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),t))};function z(e,n,t,r){return f(this,null,function*(){var a;let o=Object.assign({},r?.headers);o[gi]||(o[gi]=Fh["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let i=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(i.redirect_to=r.redirectTo);let s=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=yield C6(e,n,t+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function C6(e,n,t,r,a,o){return f(this,null,function*(){let i=I6(n,r,a,o),s;try{s=yield e(t,Object.assign({},i))}catch(c){throw console.error(c),new wa(vr(c),0)}if(s.ok||(yield jm(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield jm(c)}})}function jt(e){var n;let t=null;x6(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Em(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function qh(e){let n=jt(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function Ht(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Hm(e){return{data:e,error:null}}function qm(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:a,verification_type:o}=e,i=M6(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:n,email_otp:t,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:s,user:c},error:null}}function Vm(e){return e}function x6(e){return e.access_token&&e.refresh_token&&e.expires_in}var Il=["global","local","others"];var b6=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},Ia=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Ml(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return f(this,arguments,function*(n,t=Il[0]){if(Il.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Il.join(", ")}`);try{return yield z(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(P(a))return{data:null,error:a};throw a}})}inviteUserByEmail(r){return f(this,arguments,function*(n,t={}){try{return yield z(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Ht})}catch(a){if(P(a))return{data:{user:null},error:a};throw a}})}generateLink(n){return f(this,null,function*(){try{let{options:t}=n,r=b6(n,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),yield z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qm,redirectTo:t?.redirectTo})}catch(t){if(P(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return f(this,null,function*(){try{return yield z(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:Ht})}catch(t){if(P(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return f(this,null,function*(){var t,r,a,o,i,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Vm});if(d.error)throw d.error;let u=yield d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(P(l))return{data:{users:[]},error:l};throw l}})}getUserById(n){return f(this,null,function*(){kr(n);try{return yield z(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:Ht})}catch(t){if(P(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return f(this,null,function*(){kr(n);try{return yield z(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:Ht})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return f(this,null,function*(){kr(n);try{return yield z(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:Ht})}catch(r){if(P(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return f(this,null,function*(){kr(n.userId);try{let{data:t,error:r}=yield z(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:r}}catch(t){if(P(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return f(this,null,function*(){kr(n.userId),kr(n.id);try{return{data:yield z(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(P(t))return{data:null,error:t};throw t}})}};var zm={getItem:e=>Sn()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{Sn()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{Sn()&&globalThis.localStorage.removeItem(e)}};function Vh(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function Bm(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var Mr={debug:!!(globalThis&&Sn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Ci=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Cl=class extends Ci{};function zh(e,n,t){return f(this,null,function*(){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},a=>f(null,null,function*(){if(a){Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return yield t()}finally{Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(n===0)throw Mr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Cl(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Mr.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}Bm();var S6={url:ym,storageKey:gm,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mm,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Um(e,n,t){return f(this,null,function*(){return yield t()})}var Bh=(()=>{class e{constructor(t){var r,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},S6),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Ia({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ml(o.fetch),this.lock=o.lock||Um,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ht()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=zh:this.lock=Um,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:Sn()?this.storage=zm:(this.memoryStorage={},this.storage=Vh(this.memoryStorage)):(this.memoryStorage={},this.storage=Vh(this.memoryStorage)),ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",i=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fl}) ${new Date().toISOString()}`,...t),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var t;try{let r=Am(window.location.href),a="none";if(this._isImplicitGrantCallback(r)?a="implicit":(yield this._isPKCECallback(r))&&(a="pkce"),ht()&&this.detectSessionInUrl&&a!=="none"){let{data:o,error:i}=yield this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Im(i)){let l=(t=i.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return yield this._removeSession(),{error:i}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return P(r)?{error:r}:{error:new Ma("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return f(this,null,function*(){var r,a,o;try{let i=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:jt}),{data:s,error:c}=i;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}})}signUp(t){return f(this,null,function*(){var r,a,o;try{let i;if("email"in t){let{email:u,password:p,options:h}=t,y=null,g=null;this.flowType==="pkce"&&([y,g]=yield mr(this.storage,this.storageKey)),i=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:g},xform:jt})}else if("phone"in t){let{phone:u,password:p,options:h}=t;i=yield z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(a=h?.data)!==null&&a!==void 0?a:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:jt})}else throw new fr("You must provide either an email or phone number and a password");let{data:s,error:c}=i;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(P(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(t){return f(this,null,function*(){try{let r;if("email"in t){let{email:i,password:s,options:c}=t;r=yield z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qh})}else if("phone"in t){let{phone:i,password:s,options:c}=t;r=yield z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:qh})}else throw new fr("You must provide either an email or phone number and a password");let{data:a,error:o}=r;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new pr}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return f(this,null,function*(){var r,a,o,i;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(t){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return f(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return f(this,null,function*(){var r,a,o,i,s,c,l,d,u,p,h,y;let g,m;if("message"in t)g=t.message,m=t.signature;else{let{chain:v,wallet:S,statement:A,options:k}=t,q;if(ht())if(typeof S=="object")q=S;else{let Z=window;if("solana"in Z&&typeof Z.solana=="object"&&("signIn"in Z.solana&&typeof Z.solana.signIn=="function"||"signMessage"in Z.solana&&typeof Z.solana.signMessage=="function"))q=Z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");q=S}let De=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in q&&q.signIn){let Z=yield q.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:De.host,uri:De.href}),A?{statement:A}:null)),ce;if(Array.isArray(Z)&&Z[0]&&typeof Z[0]=="object")ce=Z[0];else if(Z&&typeof Z=="object"&&"signedMessage"in Z&&"signature"in Z)ce=Z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ce&&"signature"in ce&&(typeof ce.signedMessage=="string"||ce.signedMessage instanceof Uint8Array)&&ce.signature instanceof Uint8Array)g=typeof ce.signedMessage=="string"?ce.signedMessage:new TextDecoder().decode(ce.signedMessage),m=ce.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in q)||typeof q.signMessage!="function"||!("publicKey"in q)||typeof q!="object"||!q.publicKey||!("toBase58"in q.publicKey)||typeof q.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${De.host} wants you to sign in with your Solana account:`,q.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${De.href}`,`Issued At: ${(o=(a=k?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=k?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((s=k?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(u=k?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(ce=>`- ${ce}`)]:[]].join(`
`);let Z=yield q.signMessage(new TextEncoder().encode(g),"utf8");if(!Z||!(Z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=Z}}try{let{data:v,error:S}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Lm(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:jt});if(S)throw S;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new pr}:(v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:S})}catch(v){if(P(v))return{data:{user:null,session:null},error:v};throw v}})}_exchangeCodeForSession(t){return f(this,null,function*(){let r=yield wi(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{let{data:i,error:s}=yield z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:jt});if(yield Ii(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new pr}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(P(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}})}signInWithIdToken(t){return f(this,null,function*(){try{let{options:r,provider:a,token:o,access_token:i,nonce:s}=t,c=yield z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:jt}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new pr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return f(this,null,function*(){var r,a,o,i,s;try{if("email"in t){let{email:c,options:l}=t,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield mr(this.storage,this.storageKey));let{error:p}=yield z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:c,options:l}=t,{data:d,error:u}=yield z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new fr("You must provide either an email or phone number.")}catch(c){if(P(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return f(this,null,function*(){var r,a;try{let o,i;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);let{data:s,error:c}=yield z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:jt});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(P(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return f(this,null,function*(){var r,a,o;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=yield mr(this.storage,this.storageKey)),yield z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Hm})}catch(i){if(P(i))return{data:null,error:i};throw i}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){let{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new ut;let{error:o}=yield z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(P(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:a,type:o,options:i}=t,{error:s}=yield z(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:a,type:o,options:i}=t,{data:s,error:c}=yield z(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new fr("You must provide either an email or phone number and a type")}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(t,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield a,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield a}catch{}})),yield a;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield wi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let a=t.expires_at?t.expires_at*1e3-Date.now()<gl:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,d,u)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:t},error:null}}let{session:o,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return f(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return f(this,null,function*(){try{return t?yield z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ht}):yield this._useSession(r=>f(this,null,function*(){var a,o,i;let{data:s,error:c}=r;if(c)throw c;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ut}:yield z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:Ht})}))}catch(r){if(P(r))return wm(r)&&(yield this._removeSession(),yield Ii(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(a){return f(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(a){return f(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new ut;let c=i.session,l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=yield mr(this.storage,this.storageKey));let{data:u,error:p}=yield z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:Ht});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(P(o))return{data:{user:null},error:o};throw o}})}setSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return f(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new ut;let r=Date.now()/1e3,a=r,o=!0,i=null,{payload:s}=wl(t.access_token);if(s.exp&&(a=s.exp,o=a<=r),o){let{session:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};i=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:a-r,expires_at:a},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(P(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;if(!t){let{data:s,error:c}=r;if(c)throw c;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new ut;let{session:o,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(P(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return f(this,null,function*(){try{if(!ht())throw new yr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new yr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ki("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new yr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new ki("No code detected.");let{data:A,error:k}=yield this._exchangeCodeForSession(t.code);if(k)throw k;let q=new URL(window.location.href);return q.searchParams.delete("code"),window.history.replaceState(window.history.state,"",q.toString()),{data:{session:A.session,redirectType:null},error:null}}let{provider_token:a,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=t;if(!i||!c||!s||!d)throw new yr("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=hr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let g=h-p;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);let{data:m,error:v}=yield this._getUser(i);if(v)throw v;let S={provider_token:a,provider_refresh_token:o,access_token:i,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(a){if(P(a))return{data:{session:null,redirectType:null},error:a};throw a}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return f(this,null,function*(){let r=yield wi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return f(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return f(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;if(i)return{error:i};let s=(a=o.session)===null||a===void 0?void 0:a.access_token;if(s){let{error:c}=yield this.admin.signOut(s,t);if(c&&!(Mm(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield Ii(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=_m(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:a}}}_emitInitialSession(t){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var a,o;try{let{data:{session:i},error:s}=r;if(s)throw s;yield(a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}}))})}resetPasswordForEmail(a){return f(this,arguments,function*(t,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=yield mr(this.storage,this.storageKey,!0));try{return yield z(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(P(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var t;try{let{data:r,error:a}=yield this.getUser();if(a)throw a;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(P(r))return{data:null,error:r};throw r}})}linkIdentity(t){return f(this,null,function*(){var r;try{let{data:a,error:o}=yield this._useSession(i=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=i;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield z(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(o)throw o;return ht()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:t.provider,url:a?.url},error:null}}catch(a){if(P(a))return{data:{provider:t.provider,url:null},error:a};throw a}})}unlinkIdentity(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a,o;let{data:i,error:s}=r;if(s)throw s;return yield z(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(P(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return f(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let a=Date.now();return yield Pm(o=>f(this,null,function*(){return o>0&&(yield Rm(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jt})}),(o,i)=>{let s=200*Math.pow(2,o);return i&&kl(i)&&Date.now()+s-a<hr})}catch(a){if(this._debug(r,"error",a),P(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return f(this,null,function*(){let a=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),ht()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let a=yield wi(this.storage,this.storageKey);if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&(yield this._removeSession());return}let o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<gl;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${gl}s`),o){if(this.autoRefreshToken&&a.refresh_token){let{error:i}=yield this._callRefreshToken(a.refresh_token);i&&(console.error(i),kl(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return f(this,null,function*(){var r,a;if(!t)throw new ut;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Mi;let{data:i,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new ut;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);let c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(o,"error",i),P(i)){let s={session:null,error:i};return kl(i)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,a=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});let i=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(t,r)}catch(l){i.push(l)}}));if(yield Promise.all(s),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return f(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield Hh(this.storage,this.storageKey,t)})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield Ii(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ht()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),hr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((a.expires_at*1e3-t)/hr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${hr}ms, refresh threshold is ${yl} ticks`),o<=yl&&(yield this._callRefreshToken(a.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof Ci)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ht()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return f(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,a){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){let[i,s]=yield mr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(a?.queryParams){let i=new URLSearchParams(a.queryParams);o.push(i.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;return i?{data:null,error:i}:yield z(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})}))}catch(r){if(P(r))return{data:null,error:r};throw r}})}_enroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a,o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:d}=yield z(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(P(r))return{data:null,error:r};throw r}})}_verify(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;if(i)return{data:null,error:i};let{data:s,error:c}=yield z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})}))}catch(r){if(P(r))return{data:null,error:r};throw r}}))})}_challenge(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;return i?{data:null,error:i}:yield z(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})}))}catch(r){if(P(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return f(this,null,function*(){let{data:r,error:a}=yield this._challenge({factorId:t.factorId});return a?{data:null,error:a}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return f(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let a=t?.factors||[],o=a.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=a.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:a,totp:o,phone:i},error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){return yield this._useSession(t=>f(this,null,function*(){var r,a;let{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=wl(o.access_token),c=null;s.aal&&(c=s.aal);let l=c;((a=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}))})}fetchJwk(a){return f(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o||(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+vm>Date.now()))return o;let{data:i,error:s}=yield z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new rn("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),o=i.keys.find(c=>c.kid===t),!o)throw new rn("No matching signing key found in JWKS");return o})}getClaims(a){return f(this,arguments,function*(t,r={keys:[]}){try{let o=t;if(!o){let{data:g,error:m}=yield this.getSession();if(m||!g.session)return{data:null,error:m};o=g.session.access_token}let{header:i,payload:s,signature:c,raw:{header:l,payload:d}}=wl(o);if(Nm(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:g}=yield this.getUser(o);if(g)throw g;return{data:{claims:s,header:i,signature:c},error:null}}let u=Fm(i.alg),p=yield this.fetchJwk(i.kid,r),h=yield crypto.subtle.importKey("jwk",p,u,!0,["verify"]);if(!(yield crypto.subtle.verify(u,h,c,Dm(`${l}.${d}`))))throw new rn("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(o){if(P(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var D6=Bh,Uh=D6;var xl=class extends Uh{constructor(n){super(n)}};var L6=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(d){try{l(r.next(d))}catch(u){i(u)}}function c(d){try{l(r.throw(d))}catch(u){i(u)}}function l(d){d.done?o(d.value):a(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},bl=class{constructor(n,t,r){var a,o,i;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let s=pm(n),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:lm,realtime:um,auth:Object.assign(Object.assign({},dm),{storageKey:l}),global:cm},u=fm(r??{},d);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=hm(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Gg(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new ni(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new fi(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return L6(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:a,storageKey:o,flowType:i,lock:s,debug:c},l,d){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new xl({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),l),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:a,flowType:i,lock:s,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new hi(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var $m=(e,n,t)=>new bl(e,n,t);var E6="https://otxhrbsfcrkajaljaips.supabase.co",_6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im90eGhyYnNmY3JrYWphbGphaXBzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDc2MzkwOSwiZXhwIjoyMDY2MzM5OTA5fQ.nTDMEhkmQXh5-Adh_d4VFmqREBgM6GxaenaprzLuBAo",Ca=$m(E6,_6);function A6(e){return e.replace(/_([a-z])/g,(n,t)=>t.toUpperCase())}function xi(e){if(Array.isArray(e))return e.map(xi);if(e!==null&&typeof e=="object"){let n={};for(let t of Object.keys(e)){let r=A6(t);n[r]=xi(e[t])}return n}return e}var xa=class e{findAll(){return G(Ca.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `)).pipe(T(n=>{if(n.error)throw n.error;return xi(n.data)}))}findById(n){return G(Ca.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `).eq("id",n).single()).pipe(T(t=>{if(t.error)throw t.error;return xi(t.data)}))}create(n){return G(Ca.from("lease").insert([n]).select().single()).pipe(T(t=>{if(t.error)throw t.error;return t.data}))}update(n,t){return G(Ca.from("lease").update(t).eq("id",n).select().single()).pipe(T(r=>{if(r.error)throw r.error;return r.data}))}delete(n){return G(Ca.from("lease").delete().eq("id",n)).pipe(T(t=>{if(t.error)throw t.error}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"})};var T6=()=>["/lease","new"],R6=(e,n)=>n.id;function P6(e,n){e&1&&(I(0,"div",1),E(1,"Bonjour Koussila"),x(),I(2,"div",2),oe(3,"img",3),I(4,"div",4),E(5,"Vous n'avez pas de bien en location"),x(),I(6,"button",5),E(7,"Ajouter une location "),x()())}function O6(e,n){if(e&1&&(I(0,"div",7),oe(1,"app-lease-card",13),x()),e&2){let t=n.$implicit;B(),be("lease",t)}}function N6(e,n){if(e&1&&(I(0,"div",1),E(1,"Mes locations"),x(),I(2,"div",6),wu(3,O6,2,1,"div",7,R6),I(5,"div",8)(6,"div",9),oe(7,"lucide-icon",10),x(),I(8,"h2",11),E(9," Nouveau bail "),x(),I(10,"p",12),E(11," Cr\xE9ez un nouveau contrat de location "),x()()()),e&2){let t=mo();B(3),Iu(t.leases),B(2),be("routerLink",bu(2,T6)),B(2),be("img",t.PlusCircleIcon)}}var Sl=class e{constructor(n){this.leaseRepository=n}leases=[];ngOnInit(){this.loadLeases()}loadLeases(){this.leaseRepository.findAll().subscribe(n=>{this.leases=n,console.log("Leases loaded:",this.leases)})}PlusCircleIcon=Dg;static \u0275fac=function(t){return new(t||e)(se(xa))};static \u0275cmp=je({type:e,selectors:[["app-home"]],decls:3,vars:1,consts:[[1,"px-2","md:px-48","py-4","md:py-8"],[1,"text-3xl","font-bold","mb-4","md:mb-8","text-gray-800","gap-2"],[1,"mt-8","bg-white","rounded-lg","shadow-sm","pt-4","pb-8","flex","flex-col","items-center","justify-center"],["alt","home","src","/illustrations/home.png",1,"h-64"],[1,"mt-2","text-2xl","text-gray-600","font-bold","mb-4"],["type","button",1,"mt-4","bg-red-400","text-white","font-semibold","p-4","rounded-xl","cursor-pointer"],[1,"flex","flex-row","flex-wrap","gap-4"],[1,"w-full","md:w-80"],[1,"w-full","md:w-80","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4","hover:bg-opacity-40","transition",3,"routerLink"],[1,"h-32","flex","justify-center","items-center"],[1,"w-12","h-12","text-red-500",3,"img"],[1,"text-2xl","font-bold","leading-tight","text-center"],[1,"text-sm","text-gray-600","text-center"],[3,"lease"]],template:function(t,r){t&1&&(I(0,"div",0),fo(1,P6,8,0)(2,N6,12,3),x()),t&2&&(B(),yo(r.leases.length==0?1:2))},dependencies:[Jc,bn,pa,ha],encapsulation:2})};function qt(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}var Ir=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function e2(e,n){return e(n={exports:{}},n.exports),n.exports}var wr=e2(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function r(){var a=this;this.locked=new Map,this.addToLocked=function(o,i){var s=a.locked.get(o);s===void 0?i===void 0?a.locked.set(o,[]):a.locked.set(o,[i]):i!==void 0&&(s.unshift(i),a.locked.set(o,s))},this.isLocked=function(o){return a.locked.has(o)},this.lock=function(o){return new Promise(function(i,s){a.isLocked(o)?a.addToLocked(o,i):(a.addToLocked(o),i())})},this.unlock=function(o){var i=a.locked.get(o);if(i!==void 0&&i.length!==0){var s=i.pop();a.locked.set(o,i),s!==void 0&&setTimeout(s,0)}else a.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();n.default=function(){return t.getInstance()}});Qh(wr);var F6=Qh(e2(function(e,n){var t=Ir&&Ir.__awaiter||function(d,u,p,h){return new(p||(p=Promise))(function(y,g){function m(A){try{S(h.next(A))}catch(k){g(k)}}function v(A){try{S(h.throw(A))}catch(k){g(k)}}function S(A){A.done?y(A.value):new p(function(k){k(A.value)}).then(m,v)}S((h=h.apply(d,u||[])).next())})},r=Ir&&Ir.__generator||function(d,u){var p,h,y,g,m={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(S){return function(A){return function(k){if(p)throw new TypeError("Generator is already executing.");for(;m;)try{if(p=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return m.label++,{value:k[1],done:!1};case 5:m.label++,h=k[1],k=[0];continue;case 7:k=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!((y=y.length>0&&y[y.length-1])||k[0]!==6&&k[0]!==2)){m=0;continue}if(k[0]===3&&(!y||k[1]>y[0]&&k[1]<y[3])){m.label=k[1];break}if(k[0]===6&&m.label<y[1]){m.label=y[1],y=k;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(k);break}y[2]&&m.ops.pop(),m.trys.pop();continue}k=u.call(d,m)}catch(q){k=[6,q],h=0}finally{p=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([S,A])}}},a=Ir;Object.defineProperty(n,"__esModule",{value:!0});var o="browser-tabs-lock-key",i={key:function(d){return t(a,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},getItem:function(d){return t(a,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},clear:function(){return t(a,void 0,void 0,function(){return r(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return t(a,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},setItem:function(d,u){return t(a,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,u){return window.localStorage.setItem(d,u)}};function s(d){return new Promise(function(u){return setTimeout(u,d)})}function c(d){for(var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="",h=0;h<d;h++)p+=u[Math.floor(Math.random()*u.length)];return p}var l=function(){function d(u){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=u,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(u,p){return p===void 0&&(p=5e3),t(this,void 0,void 0,function(){var h,y,g,m,v,S,A;return r(this,function(k){switch(k.label){case 0:h=Date.now()+c(4),y=Date.now()+p,g=o+"-"+u,m=this.storageHandler===void 0?i:this.storageHandler,k.label=1;case 1:return Date.now()<y?[4,s(30)]:[3,8];case 2:return k.sent(),m.getItemSync(g)!==null?[3,5]:(v=this.id+"-"+u+"-"+h,[4,s(Math.floor(25*Math.random()))]);case 3:return k.sent(),m.setItemSync(g,JSON.stringify({id:this.id,iat:h,timeoutKey:v,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return k.sent(),(S=m.getItemSync(g))!==null&&(A=JSON.parse(S)).id===this.id&&A.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(g,h),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?i:this.storageHandler),[4,this.waitForSomethingToChange(y)];case 6:k.sent(),k.label=7;case 7:return h=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(u,p){return t(this,void 0,void 0,function(){var h=this;return r(this,function(y){return setTimeout(function(){return t(h,void 0,void 0,function(){var g,m,v;return r(this,function(S){switch(S.label){case 0:return[4,wr.default().lock(p)];case 1:return S.sent(),this.acquiredIatSet.has(p)?(g=this.storageHandler===void 0?i:this.storageHandler,(m=g.getItemSync(u))===null?(wr.default().unlock(p),[2]):((v=JSON.parse(m)).timeRefreshed=Date.now(),g.setItemSync(u,JSON.stringify(v)),wr.default().unlock(p),this.refreshLockWhileAcquired(u,p),[2])):(wr.default().unlock(p),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(u){return t(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,new Promise(function(h){var y=!1,g=Date.now(),m=!1;function v(){if(m||(window.removeEventListener("storage",v),d.removeFromWaiting(v),clearTimeout(S),m=!0),!y){y=!0;var A=50-(Date.now()-g);A>0?setTimeout(h,A):h(null)}}window.addEventListener("storage",v),d.addToWaiting(v);var S=setTimeout(v,Math.max(0,u-Date.now()))})];case 1:return p.sent(),[2]}})})},d.addToWaiting=function(u){this.removeFromWaiting(u),d.waiters!==void 0&&d.waiters.push(u)},d.removeFromWaiting=function(u){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(p){return p!==u}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(u){return u()})},d.prototype.releaseLock=function(u){return t(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,this.releaseLock__private__(u)];case 1:return[2,p.sent()]}})})},d.prototype.releaseLock__private__=function(u){return t(this,void 0,void 0,function(){var p,h,y,g;return r(this,function(m){switch(m.label){case 0:return p=this.storageHandler===void 0?i:this.storageHandler,h=o+"-"+u,(y=p.getItemSync(h))===null?[2]:(g=JSON.parse(y)).id!==this.id?[3,2]:[4,wr.default().lock(g.iat)];case 1:m.sent(),this.acquiredIatSet.delete(g.iat),p.removeItemSync(h),wr.default().unlock(g.iat),d.notifyWaiters(),m.label=2;case 2:return[2]}})})},d.lockCorrector=function(u){for(var p=Date.now()-5e3,h=u,y=[],g=0;;){var m=h.keySync(g);if(m===null)break;y.push(m),g++}for(var v=!1,S=0;S<y.length;S++){var A=y[S];if(A.includes(o)){var k=h.getItemSync(A);if(k!==null){var q=JSON.parse(k);(q.timeRefreshed===void 0&&q.timeAcquired<p||q.timeRefreshed!==void 0&&q.timeRefreshed<p)&&(h.removeItemSync(A),v=!0)}}}v&&d.notifyWaiters()},d.waiters=void 0,d}();n.default=l})),j6={timeoutInSeconds:60},tk={name:"auth0-spa-js",version:"2.2.0"},nk=()=>Date.now(),Re=class e extends Error{constructor(n,t){super(t),this.error=n,this.error_description=t,Object.setPrototypeOf(this,e.prototype)}static fromPayload({error:n,error_description:t}){return new e(n,t)}},Ll=class e extends Re{constructor(n,t,r,a=null){super(n,t),this.state=r,this.appState=a,Object.setPrototypeOf(this,e.prototype)}},Sa=class e extends Re{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,e.prototype)}},El=class e extends Sa{constructor(n){super(),this.popup=n,Object.setPrototypeOf(this,e.prototype)}},_l=class e extends Re{constructor(n){super("cancelled","Popup closed"),this.popup=n,Object.setPrototypeOf(this,e.prototype)}},Al=class e extends Re{constructor(n,t,r){super(n,t),this.mfa_token=r,Object.setPrototypeOf(this,e.prototype)}},Di=class e extends Re{constructor(n,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${Wm(n,["default"])}', scope: '${Wm(t)}')`),this.audience=n,this.scope=t,Object.setPrototypeOf(this,e.prototype)}};function Wm(e,n=[]){return e&&!n.includes(e)?e:""}var Dl=()=>window.crypto,$h=()=>{let e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",n="";return Array.from(Dl().getRandomValues(new Uint8Array(43))).forEach(t=>n+=e[t%e.length]),n},Zm=e=>btoa(e),Kh=e=>{var{clientId:n}=e,t=qt(e,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(a=>r[a]!==void 0).reduce((a,o)=>Object.assign(Object.assign({},a),{[o]:r[o]}),{}))(Object.assign({client_id:n},t))).toString()},Km=e=>(n=>decodeURIComponent(atob(n).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),H6=(e,n)=>f(null,null,function*(){let t=yield fetch(e,n);return{ok:t.ok,json:yield t.json()}}),q6=(e,n,t)=>f(null,null,function*(){let r=new AbortController,a;return n.signal=r.signal,Promise.race([H6(e,n),new Promise((o,i)=>{a=setTimeout(()=>{r.abort(),i(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(a)})}),V6=(e,n,t,r,a,o,i)=>f(null,null,function*(){return s={auth:{audience:n,scope:t},timeout:a,fetchUrl:e,fetchOptions:r,useFormData:i},c=o,new Promise(function(l,d){let u=new MessageChannel;u.port1.onmessage=function(p){p.data.error?d(new Error(p.data.error)):l(p.data),u.port1.close()},c.postMessage(s,[u.port2])});var s,c}),z6=(e,n,t,r,a,o,i=1e4)=>f(null,null,function*(){return a?V6(e,n,t,r,i,a,o):q6(e,r,i)});function B6(e,n){return f(this,null,function*(){var{baseUrl:t,timeout:r,audience:a,scope:o,auth0Client:i,useFormData:s}=e,c=qt(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let l=s?Kh(c):JSON.stringify(c);return yield function(d,u,p,h,y,g,m){return f(this,null,function*(){let v,S=null;for(let ce=0;ce<3;ce++)try{v=yield z6(d,p,h,y,g,m,u),S=null;break}catch(hk){S=hk}if(S)throw S;let A=v.json,{error:k,error_description:q}=A,De=qt(A,["error","error_description"]),{ok:Z}=v;if(!Z){let ce=q||`HTTP error. Unable to fetch ${d}`;throw k==="mfa_required"?new Al(k,ce,De.mfa_token):k==="missing_refresh_token"?new Di(p,h):new Re(k||"request_error",ce)}return De})}(`${t}/oauth/token`,r,a||"default",o,{method:"POST",body:l,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(i||tk))}},n,s)})}var bi=(...e)=>{return(n=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(n))).join(" ");var n},an=class e{constructor(n,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=n.clientId,this.scope=n.scope,this.audience=n.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(n){let[t,r,a,o]=n.split("::");return new e({clientId:r,scope:o,audience:a},t)}static fromCacheEntry(n){let{scope:t,audience:r,client_id:a}=n;return new e({scope:t,audience:r,clientId:a})}},Tl=class{set(n,t){localStorage.setItem(n,JSON.stringify(t))}get(n){let t=window.localStorage.getItem(n);if(t)try{return JSON.parse(t)}catch{return}}remove(n){localStorage.removeItem(n)}allKeys(){return Object.keys(window.localStorage).filter(n=>n.startsWith("@@auth0spajs@@"))}},Li=class{constructor(){this.enclosedCache=function(){let n={};return{set(t,r){n[t]=r},get(t){let r=n[t];if(r)return r},remove(t){delete n[t]},allKeys:()=>Object.keys(n)}}()}},Xh=class{constructor(n,t,r){this.cache=n,this.keyManifest=t,this.nowProvider=r||nk}setIdToken(n,t,r){return f(this,null,function*(){var a;let o=this.getIdTokenCacheKey(n);yield this.cache.set(o,{id_token:t,decodedToken:r}),yield(a=this.keyManifest)===null||a===void 0?void 0:a.add(o)})}getIdToken(n){return f(this,null,function*(){let t=yield this.cache.get(this.getIdTokenCacheKey(n.clientId));if(!t&&n.scope&&n.audience){let r=yield this.get(n);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}})}get(n,t=0){return f(this,null,function*(){var r;let a=yield this.cache.get(n.toKey());if(!a){let s=yield this.getCacheKeys();if(!s)return;let c=this.matchExistingCacheKey(n,s);c&&(a=yield this.cache.get(c))}if(!a)return;let o=yield this.nowProvider(),i=Math.floor(o/1e3);return a.expiresAt-t<i?a.body.refresh_token?(a.body={refresh_token:a.body.refresh_token},yield this.cache.set(n.toKey(),a),a.body):(yield this.cache.remove(n.toKey()),void(yield(r=this.keyManifest)===null||r===void 0?void 0:r.remove(n.toKey()))):a.body})}set(n){return f(this,null,function*(){var t;let r=new an({clientId:n.client_id,scope:n.scope,audience:n.audience}),a=yield this.wrapCacheEntry(n);yield this.cache.set(r.toKey(),a),yield(t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey())})}clear(n){return f(this,null,function*(){var t;let r=yield this.getCacheKeys();r&&(yield r.filter(a=>!n||a.includes(n)).reduce((a,o)=>f(this,null,function*(){yield a,yield this.cache.remove(o)}),Promise.resolve()),yield(t=this.keyManifest)===null||t===void 0?void 0:t.clear())})}wrapCacheEntry(n){return f(this,null,function*(){let t=yield this.nowProvider();return{body:n,expiresAt:Math.floor(t/1e3)+n.expires_in}})}getCacheKeys(){return f(this,null,function*(){var n;return this.keyManifest?(n=yield this.keyManifest.get())===null||n===void 0?void 0:n.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(n){return new an({clientId:n},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(n,t){return t.filter(r=>{var a;let o=an.fromKey(r),i=new Set(o.scope&&o.scope.split(" ")),s=((a=n.scope)===null||a===void 0?void 0:a.split(" "))||[],c=o.scope&&s.reduce((l,d)=>l&&i.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===n.clientId&&o.audience===n.audience&&c})[0]}},Yh=class{constructor(n,t,r){this.storage=n,this.clientId=t,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(n){this.storage.save(this.storageKey,n,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},Si=e=>typeof e=="number",U6=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],$6=e=>{if(!e.id_token)throw new Error("ID token is required but missing");let n=(o=>{let i=o.split("."),[s,c,l]=i;if(i.length!==3||!s||!c||!l)throw new Error("ID token could not be decoded");let d=JSON.parse(Km(c)),u={__raw:o},p={};return Object.keys(d).forEach(h=>{u[h]=d[h],U6.includes(h)||(p[h]=d[h])}),{encoded:{header:s,payload:c,signature:l},header:JSON.parse(Km(s)),claims:u,user:p}})(e.id_token);if(!n.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(n.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${n.claims.iss}"`);if(!n.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(n.header.alg!=="RS256")throw new Error(`Signature algorithm of "${n.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!n.claims.aud||typeof n.claims.aud!="string"&&!Array.isArray(n.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(n.claims.aud)){if(!n.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${n.claims.aud.join(", ")}"`);if(n.claims.aud.length>1){if(!n.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(n.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${n.claims.azp}"`)}}else if(n.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${n.claims.aud}"`);if(e.nonce){if(!n.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(n.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${n.claims.nonce}"`)}if(e.max_age&&!Si(n.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(n.claims.exp==null||!Si(n.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Si(n.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let t=e.leeway||60,r=new Date(e.now||Date.now()),a=new Date(0);if(a.setUTCSeconds(n.claims.exp+t),r>a)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${a})`);if(n.claims.nbf!=null&&Si(n.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(n.claims.nbf-t),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(n.claims.auth_time!=null&&Si(n.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(n.claims.auth_time)+e.max_age+t),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(e.organization){let o=e.organization.trim();if(o.startsWith("org_")){let i=o;if(!n.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(i!==n.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${i}", found "${n.claims.org_id}"`)}else{let i=o.toLowerCase();if(!n.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(i!==n.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${i}", found "${n.claims.org_name}"`)}}return n},Cr=e2(function(e,n){var t=Ir&&Ir.__assign||function(){return t=Object.assign||function(c){for(var l,d=1,u=arguments.length;d<u;d++)for(var p in l=arguments[d])Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p]);return c},t.apply(this,arguments)};function r(c,l){if(!l)return"";var d="; "+c;return l===!0?d:d+"="+l}function a(c,l,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(u){if(typeof u.expires=="number"){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*u.expires),u.expires=p}return r("Expires",u.expires?u.expires.toUTCString():"")+r("Domain",u.domain)+r("Path",u.path)+r("Secure",u.secure)+r("SameSite",u.sameSite)}(d)}function o(c){for(var l={},d=c?c.split("; "):[],u=/(%[\dA-F]{2})+/gi,p=0;p<d.length;p++){var h=d[p].split("="),y=h.slice(1).join("=");y.charAt(0)==='"'&&(y=y.slice(1,-1));try{l[h[0].replace(u,decodeURIComponent)]=y.replace(u,decodeURIComponent)}catch{}}return l}function i(){return o(document.cookie)}function s(c,l,d){document.cookie=a(c,l,t({path:"/"},d))}n.__esModule=!0,n.encode=a,n.parse=o,n.getAll=i,n.get=function(c){return i()[c]},n.set=s,n.remove=function(c,l){s(c,"",t(t({},l),{expires:-1}))}});Qh(Cr),Cr.encode,Cr.parse,Cr.getAll;var G6=Cr.get,rk=Cr.set,ak=Cr.remove,ba={get(e){let n=G6(e);if(n!==void 0)return JSON.parse(n)},save(e,n,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),rk(e,JSON.stringify(n),r)},remove(e,n){let t={};n?.cookieDomain&&(t.domain=n.cookieDomain),ak(e,t)}},W6={get(e){return ba.get(e)||ba.get(`_legacy_${e}`)},save(e,n,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),rk(`_legacy_${e}`,JSON.stringify(n),r),ba.save(e,n,t)},remove(e,n){let t={};n?.cookieDomain&&(t.domain=n.cookieDomain),ak(e,t),ba.remove(e,n),ba.remove(`_legacy_${e}`,n)}},Z6={get(e){if(typeof sessionStorage>"u")return;let n=sessionStorage.getItem(e);return n!=null?JSON.parse(n):void 0},save(e,n){sessionStorage.setItem(e,JSON.stringify(n))},remove(e){sessionStorage.removeItem(e)}};function K6(e,n,t){var r=n===void 0?null:n,a=function(c,l){var d=atob(c);if(l){for(var u=new Uint8Array(d.length),p=0,h=d.length;p<h;++p)u[p]=d.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(u.buffer))}return d}(e,t!==void 0&&t),o=a.indexOf(`
`,10)+1,i=a.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([i],{type:"application/javascript"});return URL.createObjectURL(s)}var Xm,Ym,Jm,Gh,X6=(Xm="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Ym=null,Jm=!1,function(e){return Gh=Gh||K6(Xm,Ym,Jm),new Worker(Gh,e)}),Wh={},Jh=class{constructor(n,t){this.cache=n,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(n){return f(this,null,function*(){var t;let r=new Set(((t=yield this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(n),yield this.cache.set(this.manifestKey,{keys:[...r]})})}remove(n){return f(this,null,function*(){let t=yield this.cache.get(this.manifestKey);if(t){let r=new Set(t.keys);return r.delete(n),r.size>0?yield this.cache.set(this.manifestKey,{keys:[...r]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(n){return`@@auth0spajs@@::${n}`}},Y6={memory:()=>new Li().enclosedCache,localstorage:()=>new Tl},Qm=e=>Y6[e],ek=e=>{let{openUrl:n,onRedirect:t}=e,r=qt(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:n===!1||n?n:t})},Zh=new F6,Rl=class{constructor(n){let t,r;if(this.userCache=new Li().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>f(this,null,function*(){yield Zh.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),n),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),n.authorizationParams)}),typeof window<"u"&&(()=>{if(!Dl())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Dl().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),n.cache&&n.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),n.cache)r=n.cache;else{if(t=n.cacheLocation||"memory",!Qm(t))throw new Error(`Invalid cache location "${t}"`);r=Qm(t)()}this.httpTimeoutMs=n.httpTimeoutInSeconds?1e3*n.httpTimeoutInSeconds:1e4,this.cookieStorage=n.legacySameSiteCookie===!1?ba:W6,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(i=>`auth0.${i}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=n.sessionCheckExpiryDays||1;let a=n.useCookiesForTransactions?this.cookieStorage:Z6;var o;this.scope=bi("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new Yh(a,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||nk,this.cacheManager=new Xh(r,r.allKeys?void 0:new Jh(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((i,s)=>i?i.startsWith("https://")?i:`https://${i}/`:`${s}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new X6)}_url(n){let t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||tk)));return`${this.domainUrl}${n}&auth0Client=${t}`}_authorizeUrl(n){return this._url(`/authorize?${Kh(n)}`)}_verifyIdToken(n,t,r){return f(this,null,function*(){let a=yield this.nowProvider();return $6({iss:this.tokenIssuer,aud:this.options.clientId,id_token:n,nonce:t,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:a});var o})}_processOrgHint(n){n?this.cookieStorage.save(this.orgHintCookieName,n,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(n,t,r){return f(this,null,function*(){let a=Zm($h()),o=Zm($h()),i=$h(),s=(d=>{let u=new Uint8Array(d);return(p=>{let h={"+":"-","/":"_","=":""};return p.replace(/[+/=]/g,y=>h[y])})(window.btoa(String.fromCharCode(...Array.from(u))))})(yield(d=>f(null,null,function*(){return yield Dl().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d))}))(i)),c=((d,u,p,h,y,g,m,v)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),p),{scope:bi(u,p.scope),response_type:"code",response_mode:v||"query",state:h,nonce:y,redirect_uri:m||d.authorizationParams.redirect_uri,code_challenge:g,code_challenge_method:"S256"}))(this.options,this.scope,n,a,o,s,n.redirect_uri||this.options.authorizationParams.redirect_uri||r,t?.response_mode),l=this._authorizeUrl(c);return{nonce:o,code_verifier:i,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:a,url:l}})}loginWithPopup(n,t){return f(this,null,function*(){var r;if(n=n||{},!(t=t||{}).popup&&(t.popup=(s=>{let c=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup",`left=${c},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let a=yield this._prepareAuthorizeUrl(n.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=a.url;let o=yield(s=>new Promise((c,l)=>{let d,u=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(u),clearTimeout(p),window.removeEventListener("message",d,!1),l(new _l(s.popup)))},1e3),p=setTimeout(()=>{clearInterval(u),l(new El(s.popup)),window.removeEventListener("message",d,!1)},1e3*(s.timeoutInSeconds||60));d=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(p),clearInterval(u),window.removeEventListener("message",d,!1),s.popup.close(),h.data.response.error)return l(Re.fromPayload(h.data.response));c(h.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(a.state!==o.state)throw new Re("state_mismatch","Invalid state");let i=((r=n.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:a.redirect_uri},{nonceIn:a.nonce,organization:i})})}getUser(){return f(this,null,function*(){var n;let t=yield this._getIdTokenFromCache();return(n=t?.decodedToken)===null||n===void 0?void 0:n.user})}getIdTokenClaims(){return f(this,null,function*(){var n;let t=yield this._getIdTokenFromCache();return(n=t?.decodedToken)===null||n===void 0?void 0:n.claims})}loginWithRedirect(){return f(this,arguments,function*(n={}){var t;let r=ek(n),{openUrl:a,fragment:o,appState:i}=r,s=qt(r,["openUrl","fragment","appState"]),c=((t=s.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,l=yield this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:d}=l,u=qt(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},u),{appState:i}),c&&{organization:c}));let p=o?`${d}#${o}`:d;a?yield a(p):window.location.assign(p)})}handleRedirectCallback(){return f(this,arguments,function*(n=window.location.href){let t=n.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");let{state:r,code:a,error:o,error_description:i}=(u=>{u.indexOf("#")>-1&&(u=u.substring(0,u.indexOf("#")));let p=new URLSearchParams(u);return{state:p.get("state"),code:p.get("code")||void 0,error:p.get("error")||void 0,error_description:p.get("error_description")||void 0}})(t.join("")),s=this.transactionManager.get();if(!s)throw new Re("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new Ll(o,i||o,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new Re("state_mismatch","Invalid state");let c=s.organization,l=s.nonce,d=s.redirect_uri;return yield this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:a},d?{redirect_uri:d}:{}),{nonceIn:l,organization:c}),{appState:s.appState}})}checkSession(n){return f(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(n)}catch{}})}getTokenSilently(){return f(this,arguments,function*(n={}){var t;let r=Object.assign(Object.assign({cacheMode:"on"},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),n.authorizationParams),{scope:bi(this.scope,(t=n.authorizationParams)===null||t===void 0?void 0:t.scope)})}),a=yield((o,i)=>{let s=Wh[i];return s||(s=o().finally(()=>{delete Wh[i],s=null}),Wh[i]=s),s})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return n.detailedResponse?a:a?.access_token})}_getTokenSilently(n){return f(this,null,function*(){let{cacheMode:t}=n,r=qt(n,["cacheMode"]);if(t!=="off"){let a=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(a)return a}if(t!=="cache-only"){if(!(yield((a,o=3)=>f(this,null,function*(){for(let i=0;i<o;i++)if(yield a())return!0;return!1}))(()=>Zh.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new Sa;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){let l=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}let a=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(r):yield this._getTokenFromIFrame(r),{id_token:o,access_token:i,oauthTokenScope:s,expires_in:c}=a;return Object.assign(Object.assign({id_token:o,access_token:i},s?{scope:s}:null),{expires_in:c})}finally{yield Zh.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return f(this,arguments,function*(n={},t={}){var r;let a=Object.assign(Object.assign({},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),n.authorizationParams),{scope:bi(this.scope,(r=n.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},j6),t),yield this.loginWithPopup(a,t),(yield this.cacheManager.get(new an({scope:a.authorizationParams.scope,audience:a.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return f(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(n){n.clientId!==null?n.clientId=n.clientId||this.options.clientId:delete n.clientId;let t=n.logoutParams||{},{federated:r}=t,a=qt(t,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${Kh(Object.assign({clientId:n.clientId},a))}`)+o}logout(){return f(this,arguments,function*(n={}){let t=ek(n),{openUrl:r}=t,a=qt(t,["openUrl"]);n.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(n.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let o=this._buildLogoutUrl(a);r?yield r(o):r!==!1&&window.location.assign(o)})}_getTokenFromIFrame(n){return f(this,null,function*(){let t=Object.assign(Object.assign({},n.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);let{url:a,state:o,nonce:i,code_verifier:s,redirect_uri:c,scope:l,audience:d}=yield this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Re("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let u=n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,p=yield((y,g,m=60)=>new Promise((v,S)=>{let A=window.document.createElement("iframe");A.setAttribute("width","0"),A.setAttribute("height","0"),A.style.display="none";let k=()=>{window.document.body.contains(A)&&(window.document.body.removeChild(A),window.removeEventListener("message",q,!1))},q,De=setTimeout(()=>{S(new Sa),k()},1e3*m);q=function(Z){if(Z.origin!=g||!Z.data||Z.data.type!=="authorization_response")return;let ce=Z.source;ce&&ce.close(),Z.data.response.error?S(Re.fromPayload(Z.data.response)):v(Z.data.response),clearTimeout(De),window.removeEventListener("message",q,!1),setTimeout(k,2e3)},window.addEventListener("message",q,!1),window.document.body.appendChild(A),A.setAttribute("src",y)}))(a,this.domainUrl,u);if(o!==p.state)throw new Re("state_mismatch","Invalid state");let h=yield this._requestToken(Object.assign(Object.assign({},n.authorizationParams),{code_verifier:s,code:p.code,grant_type:"authorization_code",redirect_uri:c,timeout:n.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:i,organization:t.organization});return Object.assign(Object.assign({},h),{scope:l,oauthTokenScope:h.scope,audience:d})}catch(u){throw u.error==="login_required"&&this.logout({openUrl:!1}),u}})}_getTokenUsingRefreshToken(n){return f(this,null,function*(){let t=yield this.cacheManager.get(new an({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(n);throw new Di(n.authorizationParams.audience||"default",n.authorizationParams.scope)}let r=n.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,a=typeof n.timeoutInSeconds=="number"?1e3*n.timeoutInSeconds:null;try{let o=yield this._requestToken(Object.assign(Object.assign(Object.assign({},n.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),a&&{timeout:a}));return Object.assign(Object.assign({},o),{scope:n.authorizationParams.scope,oauthTokenScope:o.scope,audience:n.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(n);throw o}})}_saveEntryInCache(n){return f(this,null,function*(){let{id_token:t,decodedToken:r}=n,a=qt(n,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),yield this.cacheManager.setIdToken(this.options.clientId,n.id_token,n.decodedToken),yield this.cacheManager.set(a)})}_getIdTokenFromCache(){return f(this,null,function*(){let n=this.options.authorizationParams.audience||"default",t=yield this.cacheManager.getIdToken(new an({clientId:this.options.clientId,audience:n,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===r?.id_token?r:(this.userCache.set("@@user@@",t),t)})}_getEntryFromCache(a){return f(this,arguments,function*({scope:n,audience:t,clientId:r}){let o=yield this.cacheManager.get(new an({scope:n,audience:t,clientId:r}),60);if(o&&o.access_token){let{access_token:i,oauthTokenScope:s,expires_in:c}=o,l=yield this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:i},s?{scope:s}:null),{expires_in:c})}})}_requestToken(n,t){return f(this,null,function*(){let{nonceIn:r,organization:a}=t||{},o=yield B6(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},n),this.worker),i=yield this._verifyIdToken(o.id_token,r,a);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:i,scope:n.scope,audience:n.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(a||i.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:i})})}exchangeToken(n){return f(this,null,function*(){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:n.subject_token,subject_token_type:n.subject_token_type,scope:bi(n.scope,this.scope),audience:this.options.authorizationParams.audience})})}};var ok={name:"@auth0/auth0-angular",version:"2.2.3"},t2=class{static createClient(n){let t=n.get();if(!t)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new Rl(K(w({},t),{auth0Client:{name:ok.name,version:ok.version,env:{"angular/core":Qf.full}}}))}},Pl=new D("auth0.client");function ik(e){return typeof e!="string"}var sk=new D("auth0-angular.config"),n2=(()=>{class e{constructor(t){t&&this.set(t)}set(t){this.config=t}get(){return this.config}}return e.\u0275fac=function(t){return new(t||e)(L(sk,8))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),J6=(()=>{class e{constructor(t,r){this.location=t;try{this.router=r.get(cr)}catch{}}navigateByUrl(t){if(this.router){this.router.navigateByUrl(t);return}this.location.replaceState(t)}}return e.\u0275fac=function(t){return new(t||e)(L(In),L(at))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ck=(()=>{class e{constructor(t){this.auth0Client=t,this.isLoadingSubject$=new ge(!0),this.refresh$=new ee,this.accessToken$=new Ut(1),this.errorSubject$=new Ut(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(Pa((r,a)=>({previous:r.current,current:a}),{current:null,previous:null}),Ee(({previous:r,current:a})=>r!==a)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(Ee(r=>!r),Ta(),_e(()=>cd(yt(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(ie(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(ie(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(Ta(),pd(1)),this.user$=this.isAuthenticatedTrigger$.pipe(Ue(r=>r?this.auth0Client.getUser():_(null)),Ta()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(Ue(r=>r?this.auth0Client.getIdTokenClaims():_(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(t){this.isLoadingSubject$.next(t)}refresh(){this.refresh$.next()}setAccessToken(t){this.accessToken$.next(t)}setError(t){this.errorSubject$.next(t)}}return e.\u0275fac=function(t){return new(t||e)(L(Pl))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),r2=(()=>{class e{constructor(t,r,a,o){this.auth0Client=t,this.configFactory=r,this.navigator=a,this.authState=o,this.appStateSubject$=new Ut(1),this.ngUnsubscribe$=new ee,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let i=s=>rs(()=>s,this.handleRedirectCallback(),yt(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(_e(s=>i(s).pipe(Be(c=>{let l=this.configFactory.get();return this.navigator.navigateByUrl(l.errorPath||"/"),this.authState.setError(c),_(void 0)}))),ne(()=>{this.authState.setIsLoading(!1)}),Nr(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(t){return G(this.auth0Client.loginWithRedirect(t))}loginWithPopup(t,r){return G(this.auth0Client.loginWithPopup(t,r).then(()=>{this.authState.refresh()}))}logout(t){return G(this.auth0Client.logout(t).then(()=>{(t?.openUrl===!1||t?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(t={}){return _(this.auth0Client).pipe(Ue(r=>t.detailedResponse===!0?r.getTokenSilently(K(w({},t),{detailedResponse:!0})):r.getTokenSilently(t)),ne(r=>{r&&this.authState.setAccessToken(typeof r=="string"?r:r.access_token)}),Be(r=>(this.authState.setError(r),this.authState.refresh(),ft(r))))}getAccessTokenWithPopup(t){return _(this.auth0Client).pipe(Ue(r=>r.getTokenWithPopup(t)),ne(r=>{r&&this.authState.setAccessToken(r)}),Be(r=>(this.authState.setError(r),this.authState.refresh(),ft(r))))}handleRedirectCallback(t){return yt(()=>this.auth0Client.handleRedirectCallback(t)).pipe(yd(this.authState.isLoading$),ne(([r,a])=>{a||this.authState.refresh();let o=r?.appState,i=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(i)}),T(([r])=>r))}shouldHandleCallback(){return _(location.search).pipe(T(t=>{let r=new URLSearchParams(t);return(r.has("code")||r.has("error"))&&r.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return e.\u0275fac=function(t){return new(t||e)(L(Pl),L(n2),L(J6),L(ck))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Ol=(()=>{class e{constructor(t){this.auth=t}canLoad(t,r){return this.auth.isAuthenticated$.pipe(gt(1))}canActivate(t,r){return this.redirectIfUnauthenticated(r)}canActivateChild(t,r){return this.redirectIfUnauthenticated(r)}redirectIfUnauthenticated(t){return this.auth.isAuthenticated$.pipe(ne(r=>{r||this.auth.loginWithRedirect({appState:{target:t.url}})}))}}return e.\u0275fac=function(t){return new(t||e)(L(r2))},e.\u0275prov=b({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var Q6=e=>n=>n.pipe(ie(t=>e.pipe(rt(),ld(t)))),eI=(()=>{class e{constructor(t,r,a,o){this.configFactory=t,this.auth0Client=r,this.authState=a,this.authService=o}intercept(t,r){let a=this.configFactory.get();if(!a.httpInterceptor?.allowedList)return r.handle(t);let o=this.authService.isLoading$.pipe(Ee(i=>!i));return this.findMatchingRoute(t,a.httpInterceptor).pipe(Ue(i=>rs(()=>i!==null,_(i).pipe(Q6(o),ud("tokenOptions"),Ue(s=>this.getAccessTokenSilently(s).pipe(Be(c=>this.allowAnonymous(i,c)?_(""):(this.authState.setError(c),ft(c))))),_e(s=>{let c=s?t.clone({headers:t.headers.set("Authorization",`Bearer ${s}`)}):t;return r.handle(c)})),r.handle(t))))}getAccessTokenSilently(t){return _(this.auth0Client).pipe(Ue(r=>r.getTokenSilently(t)),ne(r=>this.authState.setAccessToken(r)),Be(r=>(this.authState.refresh(),ft(r))))}stripQueryFrom(t){return t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#"))),t}canAttachToken(t,r){let a=o=>{if(!o)return!1;let i=this.stripQueryFrom(r.url);return o===i?!0:o.indexOf("*")===o.length-1&&r.url.startsWith(o.substr(0,o.length-1))};return ik(t)?t.httpMethod&&t.httpMethod!==r.method?!1:(!t.uri&&!t.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),t.uriMatcher?t.uriMatcher(r.url):a(t.uri)):a(t)}findMatchingRoute(t,r){return G(r.allowedList).pipe(rt(a=>this.canAttachToken(a,t),null))}allowAnonymous(t,r){return!!t&&ik(t)&&!!t.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(r.error)}}return e.\u0275fac=function(t){return new(t||e)(L(n2),L(Pl),L(ck),L(r2))},e.\u0275prov=b({token:e,factory:e.\u0275fac}),e})();function lk(e){return[r2,eI,Ol,{provide:sk,useValue:e},{provide:Pl,useFactory:t2.createClient,deps:[n2]}]}var tI=e=>["/lease?.property?",e],Nl=class e{constructor(n){this.leaseRepository=n}leaseId=null;lease;route=M(St);RulerIcon=Ag;ngOnInit(){this.leaseId=this.route.snapshot.paramMap.get("id"),this.leaseId&&this.leaseRepository.findById(this.leaseId).subscribe(n=>{console.log(n),this.lease=n})}LayoutIcon=_g;MapPinIcon=Yc;HomeIcon=Eg;FlameIcon=Lg;static \u0275fac=function(t){return new(t||e)(se(xa))};static \u0275cmp=je({type:e,selectors:[["app-lease"]],decls:93,vars:33,consts:[[1,"px-2","md:px-48","py-4","md:py-8","flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-4","hover:bg-opacity-40","transition","cursor-pointer",3,"routerLink"],[1,"text-2xl","font-bold"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-300/50","my-2"],[1,"text-sm","text-gray-700","flex","items-center","gap-2"],[1,"text-xs","text-gray-600","flex","flex-wrap","gap-2","mt-2"],[1,"bg-gray-200","px-2","py-1","rounded-full"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],[1,"text-xl","font-bold"],[1,"border-t","border-gray-300/40","pt-2"],[1,"text-gray-800","font-medium"],[1,"text-xs","text-gray-600"],[1,"text-xl","font-bold","mt-8"],[1,"border-t","border-gray-300/40","pt-2","space-y-2","text-sm","text-gray-700"],[1,"flex","justify-between"],[1,"font-medium","text-gray-800"],[1,"capitalize"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1)(2,"h2",2),E(3),x(),I(4,"p",3),oe(5,"lucide-icon",4),E(6),x(),oe(7,"hr",5),I(8,"div",6),oe(9,"lucide-icon",4),I(10,"span"),E(11),Mn(12,"titlecase"),x(),E(13," \xB7 "),I(14,"span"),E(15),x()(),I(16,"div",6),oe(17,"lucide-icon",4),I(18,"span"),E(19),x(),I(20,"span"),E(21),x(),I(22,"span"),E(23),x()(),I(24,"div",6),oe(25,"lucide-icon",4),I(26,"span"),E(27),x(),I(28,"span"),E(29),x()(),I(30,"div",7)(31,"span",8),E(32,"Balcon"),x(),I(33,"span",8),E(34,"Terrasse"),x(),I(35,"span",8),E(36,"Jardin"),x(),I(37,"span",8),E(38,"Garage"),x(),I(39,"span",8),E(40,"Chemin\xE9e"),x(),I(41,"span",8),E(42,"Piscine"),x()()(),I(43,"div",9)(44,"h3",10),E(45,"Propri\xE9taire"),x(),I(46,"div",11)(47,"div",12),E(48," Koussila ZEKRI "),x(),I(49,"div",13),E(50," koussila zekri@gmail.com"),oe(51,"br"),E(52," +33123456789 "),x()(),I(53,"h3",14),E(54,"Locataires"),x(),I(55,"div",11)(56,"div",12),E(57," Koussila ZEKRI "),x(),I(58,"div",13),E(59," koussila zekri@gmail.com"),oe(60,"br"),E(61," +33123456789 "),x()()(),I(62,"div",9)(63,"h3",10),E(64,"D\xE9tails de la location"),x(),I(65,"div",15)(66,"div",16)(67,"span",17),E(68,"P\xE9riode"),x(),I(69,"span"),E(70),Mn(71,"date"),Mn(72,"date"),x()(),I(73,"div",16)(74,"span",17),E(75,"Loyer"),x(),I(76,"span"),E(77),x()(),I(78,"div",16)(79,"span",17),E(80,"Fr\xE9quence"),x(),I(81,"span"),E(82),x()(),I(83,"div",16)(84,"span",17),E(85,"D\xE9p\xF4t de garantie"),x(),I(86,"span"),E(87),x()(),I(88,"div",16)(89,"span",17),E(90,"Statut"),x(),I(91,"span",18),E(92),x()()()()()),t&2&&(B(),be("routerLink",ko(31,tI,r.lease==null||r.lease.property==null?null:r.lease.property.id)),B(2),tr(r.lease==null||r.lease.property==null?null:r.lease.property.name),B(2),be("img",r.MapPinIcon),B(),Ct(" ",r.lease==null||r.lease.property==null||r.lease.property.address==null?null:r.lease.property.address.street,", ",r.lease==null||r.lease.property==null||r.lease.property.address==null?null:r.lease.property.address.city," "),B(3),be("img",r.HomeIcon),B(2),tr(Su(12,23,r.lease==null||r.lease.property==null?null:r.lease.property.type)),B(4),et("",r.lease==null||r.lease.property==null||r.lease.property.surface==null?null:r.lease.property.surface.livingArea," m\xB2"),B(2),be("img",r.LayoutIcon),B(2),et("",r.lease==null||r.lease.property==null||r.lease.property.roomDetails==null?null:r.lease.property.roomDetails.rooms," pi\xE8ces"),B(2),et("\xB7 ",r.lease==null||r.lease.property==null||r.lease.property.roomDetails==null?null:r.lease.property.roomDetails.bedrooms," chambres"),B(2),et("\xB7 ",r.lease==null||r.lease.property==null||r.lease.property.roomDetails==null?null:r.lease.property.roomDetails.bathrooms," sdb"),B(2),be("img",r.FlameIcon),B(2),et("Chauffage ",r.lease==null||r.lease.property==null||r.lease.property.heating==null||r.lease.property.heating.type==null?null:r.lease.property.heating.type.toLowerCase()),B(2),et("\xB7 DPE ",r.lease==null||r.lease.property==null?null:r.lease.property.energyLabel),B(41),Ct("",nr(71,25,r.lease==null?null:r.lease.startDate,"dd MMM yyyy")," \u2013 ",nr(72,28,r.lease==null?null:r.lease.endDate,"dd MMM yyyy")),B(7),Ct("",r.lease==null?null:r.lease.rentAmount," ",r.lease==null?null:r.lease.rentCurrency),B(5),tr((r.lease==null?null:r.lease.paymentFrequency)||"Mensuel"),B(5),Ct("",r.lease==null?null:r.lease.securityDeposit," ",r.lease==null?null:r.lease.rentCurrency),B(5),tr(r.lease==null||r.lease.status==null?null:r.lease.status.toLowerCase()))},dependencies:[pa,ha,bn,ju,Do],encapsulation:2})};var dk=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Sl,canActivate:[Ol]},{path:"lease/:id",component:Nl,canActivate:[Ol]}];var uk={providers:[p1(),Eu({eventCoalescing:!0}),mh(dk),lk({domain:"bailo.eu.auth0.com",clientId:"pArbEhROiWpOaHFCprb8hm8FJrszoJyX",authorizationParams:{redirect_uri:window.location.origin}})]};var Fl=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=je({type:e,selectors:[["app-header"]],decls:10,vars:0,consts:[[1,"header","flex","flex-row","h-16","md:h-24","justify-between","items-center","px-8","bg-white","bg-opacity-30","backdrop-blur-md","p-6","shadow-lg","text-gray-900"],[1,"text-4xl","font-bold"],[1,"text-red-600"],[1,"flex","flex-row","items-center","gap-4"],[1,"h-12","w-12","bg-red-600","rounded-full","flex","justify-center","items-center","text-xl","text-white","font-semibold"],[1,"font-semibold","hidden","md:block"]],template:function(t,r){t&1&&(I(0,"div",0)(1,"div",1)(2,"span",2),E(3,"B"),x(),E(4,"ailo"),x(),I(5,"div",3)(6,"div",4),E(7,"KZ"),x(),I(8,"div",5),E(9,"Koussila ZEKRI"),x()()())},encapsulation:2})};var jl=class e{constructor(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=je({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"min-h-screen","bg-gray-100"]],template:function(t,r){t&1&&(I(0,"div",0),oe(1,"app-header")(2,"router-outlet"),x())},dependencies:[Xo,Fl],encapsulation:2})};Wu(jl,uk).catch(e=>console.error(e));
