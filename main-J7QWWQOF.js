import{a as I,b as V,c as gn,d as G4,e as W4,f,h as n0,i as r0,l as Z4,m as i0}from"./chunk-PZ5UXJ7I.js";var l2=gn(c2=>{"use strict";Object.defineProperty(c2,"__esModule",{value:!0});var s2=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};c2.default=s2});var u2=gn(za=>{"use strict";var Rk=za&&za.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(za,"__esModule",{value:!0});var Ub=Rk((i0(),W4(Z4))),$b=Rk(l2()),d2=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Ub.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var a,s,c;let l=null,d=null,u=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){let M=yield o.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=M:d=JSON.parse(M))}let g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),k=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");g&&k&&k.length>1&&(u=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,u=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=yield o.text();try{l=JSON.parse(g),Array.isArray(l)&&o.status===404&&(d=[],l=null,p=200,h="OK")}catch{o.status===404&&g===""?(p=204,h="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,h="OK"),l&&this.shouldThrowOnError)throw new $b.default(l)}return{error:l,data:d,count:u,status:p,statusText:h}}));return this.shouldThrowOnError||(i=i.catch(o=>{var a,s,c;return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:`${(s=o?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};za.default=d2});var p2=gn(Ua=>{"use strict";var Gb=Ua&&Ua.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ua,"__esModule",{value:!0});var Wb=Gb(u2()),h2=class extends Wb.default{select(t){let n=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let a=o?`${o}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var s;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ua.default=h2});var dd=gn($a=>{"use strict";var Zb=$a&&$a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});var Kb=Zb(p2()),f2=class extends Kb.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};$a.default=f2});var g2=gn(Wa=>{"use strict";var Xb=Wa&&Wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wa,"__esModule",{value:!0});var Ga=Xb(dd()),y2=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",o=!1,a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Ga.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let a=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ga.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let a="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let c=t.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ga.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Ga.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ga.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Wa.default=y2});var Pk=gn(ud=>{"use strict";Object.defineProperty(ud,"__esModule",{value:!0});ud.version=void 0;ud.version="0.0.0-automated"});var Ok=gn(hd=>{"use strict";Object.defineProperty(hd,"__esModule",{value:!0});hd.DEFAULT_HEADERS=void 0;var Yb=Pk();hd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Yb.version}`}});var Fk=gn(Za=>{"use strict";var Nk=Za&&Za.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Za,"__esModule",{value:!0});var Jb=Nk(g2()),Qb=Nk(dd()),eI=Ok(),m2=class e{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},eI.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){let n=new URL(`${this.url}/${t}`);return new Jb.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){let a,s=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([d,u])=>{s.searchParams.append(d,u)})):(a="POST",c=n);let l=Object.assign({},this.headers);return o&&(l.Prefer=`count=${o}`),new Qb.default({method:a,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Za.default=m2});var Uk=gn(Oe=>{"use strict";var Qi=Oe&&Oe.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oe,"__esModule",{value:!0});Oe.PostgrestError=Oe.PostgrestBuilder=Oe.PostgrestTransformBuilder=Oe.PostgrestFilterBuilder=Oe.PostgrestQueryBuilder=Oe.PostgrestClient=void 0;var jk=Qi(Fk());Oe.PostgrestClient=jk.default;var Vk=Qi(g2());Oe.PostgrestQueryBuilder=Vk.default;var Hk=Qi(dd());Oe.PostgrestFilterBuilder=Hk.default;var qk=Qi(p2());Oe.PostgrestTransformBuilder=qk.default;var Bk=Qi(u2());Oe.PostgrestBuilder=Bk.default;var zk=Qi(l2());Oe.PostgrestError=zk.default;Oe.default={PostgrestClient:jk.default,PostgrestQueryBuilder:Vk.default,PostgrestFilterBuilder:Hk.default,PostgrestTransformBuilder:qk.default,PostgrestBuilder:Bk.default,PostgrestError:zk.default}});var mu;function ku(){return mu}function mn(e){let t=mu;return mu=e,t}var K4=Symbol("NotFound"),ws=class extends Error{name="\u0275NotFound";constructor(t){super(t)}};function li(e){return e===K4||e?.name==="\u0275NotFound"}function Ss(e,t){return Object.is(e,t)}var Me=null,Cs=!1,vu=1,X4=null,$e=Symbol("SIGNAL");function F(e){let t=Me;return Me=e,t}function Ds(){return Me}var sr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function di(e){if(Cs)throw new Error("");if(Me===null)return;Me.consumerOnSignalRead(e);let t=Me.nextProducerIndex++;if(As(Me),t<Me.producerNode.length&&Me.producerNode[t]!==e&&yo(Me)){let n=Me.producerNode[t];Es(n,Me.producerIndexOfThis[t])}Me.producerNode[t]!==e&&(Me.producerNode[t]=e,Me.producerIndexOfThis[t]=yo(Me)?a0(e,Me,t):0),Me.producerLastReadVersion[t]=e.version}function o0(){vu++}function _s(e){if(!(yo(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===vu)){if(!e.producerMustRecompute(e)&&!go(e)){xs(e);return}e.producerRecomputeValue(e),xs(e)}}function Mu(e){if(e.liveConsumerNode===void 0)return;let t=Cs;Cs=!0;try{for(let n of e.liveConsumerNode)n.dirty||Y4(n)}finally{Cs=t}}function wu(){return Me?.consumerAllowSignalWrites!==!1}function Y4(e){e.dirty=!0,Mu(e),e.consumerMarkedDirty?.(e)}function xs(e){e.dirty=!1,e.lastCleanEpoch=vu}function cr(e){return e&&(e.nextProducerIndex=0),F(e)}function ui(e,t){if(F(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(yo(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)Es(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function go(e){As(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(_s(n),r!==n.version))return!0}return!1}function Ls(e){if(As(e),yo(e))for(let t=0;t<e.producerNode.length;t++)Es(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function a0(e,t,n){if(s0(e),e.liveConsumerNode.length===0&&c0(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=a0(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function Es(e,t){if(s0(e),e.liveConsumerNode.length===1&&c0(e))for(let r=0;r<e.producerNode.length;r++)Es(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];As(i),i.producerIndexOfThis[r]=t}}function yo(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function As(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function s0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function c0(e){return e.producerNode!==void 0}function Ts(e){X4?.(e)}function Rs(e,t){let n=Object.create(J4);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(_s(n),di(n),n.value===fo)throw n.error;return n.value};return r[$e]=n,Ts(n),r}var bs=Symbol("UNSET"),Is=Symbol("COMPUTING"),fo=Symbol("ERRORED"),J4=V(I({},sr),{value:bs,dirty:!0,error:null,equal:Ss,kind:"computed",producerMustRecompute(e){return e.value===bs||e.value===Is},producerRecomputeValue(e){if(e.value===Is)throw new Error("");let t=e.value;e.value=Is;let n=cr(e),r,i=!1;try{r=e.computation(),F(null),i=t!==bs&&t!==fo&&r!==fo&&e.equal(t,r)}catch(o){r=fo,e.error=o}finally{ui(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function Q4(){throw new Error}var l0=Q4;function d0(e){l0(e)}function Cu(e){l0=e}var e5=null;function bu(e,t){let n=Object.create(Ps);n.value=e,t!==void 0&&(n.equal=t);let r=()=>u0(n);return r[$e]=n,Ts(n),[r,a=>hi(n,a),a=>Iu(n,a)]}function u0(e){return di(e),e.value}function hi(e,t){wu()||d0(e),e.equal(e.value,t)||(e.value=t,t5(e))}function Iu(e,t){wu()||d0(e),hi(e,t(e.value))}var Ps=V(I({},sr),{equal:Ss,value:void 0,kind:"signal"});function t5(e){e.version++,o0(),Mu(e),e5?.(e)}function H(e){return typeof e=="function"}function pi(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Os=pi(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function lr(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var he=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){t=o instanceof Os?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{h0(o)}catch(a){t=t??[],a instanceof Os?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Os(t)}}add(t){var n;if(t&&t!==this)if(this.closed)h0(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&lr(n,t)}remove(t){let{_finalizers:n}=this;n&&lr(n,t),t instanceof e&&t._removeParent(this)}};he.EMPTY=(()=>{let e=new he;return e.closed=!0,e})();var xu=he.EMPTY;function Ns(e){return e instanceof he||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function h0(e){H(e)?e():e.unsubscribe()}var Rt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var fi={setTimeout(e,t,...n){let{delegate:r}=fi;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=fi;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Fs(e){fi.setTimeout(()=>{let{onUnhandledError:t}=Rt;if(t)t(e);else throw e})}function dr(){}var p0=Su("C",void 0,void 0);function f0(e){return Su("E",void 0,e)}function y0(e){return Su("N",e,void 0)}function Su(e,t,n){return{kind:e,value:t,error:n}}var ur=null;function yi(e){if(Rt.useDeprecatedSynchronousErrorHandling){let t=!ur;if(t&&(ur={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ur;if(ur=null,n)throw r}}else e()}function g0(e){Rt.useDeprecatedSynchronousErrorHandling&&ur&&(ur.errorThrown=!0,ur.error=e)}var hr=class extends he{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Ns(t)&&t.add(this)):this.destination=i5}static create(t,n,r){return new kn(t,n,r)}next(t){this.isStopped?_u(y0(t),this):this._next(t)}error(t){this.isStopped?_u(f0(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?_u(p0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},n5=Function.prototype.bind;function Du(e,t){return n5.call(e,t)}var Lu=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){js(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){js(r)}else js(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){js(n)}}},kn=class extends hr{constructor(t,n,r){super();let i;if(H(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Rt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Du(t.next,o),error:t.error&&Du(t.error,o),complete:t.complete&&Du(t.complete,o)}):i=t}this.destination=new Lu(i)}};function js(e){Rt.useDeprecatedSynchronousErrorHandling?g0(e):Fs(e)}function r5(e){throw e}function _u(e,t){let{onStoppedNotification:n}=Rt;n&&fi.setTimeout(()=>n(e,t))}var i5={closed:!0,next:dr,error:r5,complete:dr};var gi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ee(e){return e}function Eu(...e){return Au(e)}function Au(e){return e.length===0?Ee:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var K=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=a5(n)?n:new kn(n,r,i);return yi(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=m0(r),new r((i,o)=>{let a=new kn({next:s=>{try{n(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[gi](){return this}pipe(...n){return Au(n)(this)}toPromise(n){return n=m0(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=t=>new e(t),e})();function m0(e){var t;return(t=e??Rt.Promise)!==null&&t!==void 0?t:Promise}function o5(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}function a5(e){return e&&e instanceof hr||o5(e)&&Ns(e)}function Tu(e){return H(e?.lift)}function G(e){return t=>{if(Tu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(e,t,n,r,i){return new Ru(e,t,n,r,i)}var Ru=class extends hr{constructor(t,n,r,i,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){t.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function mi(){return G((e,t)=>{let n=null;e._refCount++;let r=U(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var ki=class extends K{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Tu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new he;let n=this.getSubject();t.add(this.source.subscribe(U(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=he.EMPTY)}return t}refCount(){return mi()(this)}};var k0=pi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class e extends K{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new k0}next(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){yi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xu:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,lr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new K;return n.source=this,n}}return e.create=(t,n)=>new Vs(t,n),e})(),Vs=class extends re{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:xu}};var we=class extends re{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var mo={now(){return(mo.delegate||Date).now()},delegate:void 0};var vn=class extends re{constructor(t=1/0,n=1/0,r=mo){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;n||(r.push(t),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!t.closed;a+=r?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let a=n.now(),s=0;for(let c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}}};var Hs=class extends he{constructor(t,n){super()}schedule(t,n=0){return this}};var ko={setInterval(e,t,...n){let{delegate:r}=ko;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=ko;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var qs=class extends Hs{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return ko.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ko.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,lr(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var vi=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};vi.now=mo.now;var Bs=class extends vi{constructor(t,n=vi.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var s5=new Bs(qs),v0=s5;var Fe=new K(e=>e.complete());function zs(e){return e&&H(e.schedule)}function Pu(e){return e[e.length-1]}function Mi(e){return H(Pu(e))?e.pop():void 0}function Zt(e){return zs(Pu(e))?e.pop():void 0}function M0(e,t){return typeof Pu(e)=="number"?e.pop():t}function C0(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})}function w0(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function pr(e){return this instanceof pr?(this.v=e,this):new pr(e)}function b0(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(i[h]=function(g){return new Promise(function(k,M){o.push([h,g,k,M])>1||c(h,g)})},y&&(i[h]=y(i[h])))}function c(h,y){try{l(r[h](y))}catch(g){p(o[0][3],g)}}function l(h){h.value instanceof pr?Promise.resolve(h.value.v).then(d,u):p(o[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function I0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof w0=="function"?w0(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,c){a=e[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}var Us=e=>e&&typeof e.length=="number"&&typeof e!="function";function $s(e){return H(e?.then)}function Gs(e){return H(e[gi])}function Ws(e){return Symbol.asyncIterator&&H(e?.[Symbol.asyncIterator])}function Zs(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function c5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ks=c5();function Xs(e){return H(e?.[Ks])}function Ys(e){return b0(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield pr(n.read());if(i)return yield pr(void 0);yield yield pr(r)}}finally{n.releaseLock()}})}function Js(e){return H(e?.getReader)}function ie(e){if(e instanceof K)return e;if(e!=null){if(Gs(e))return l5(e);if(Us(e))return d5(e);if($s(e))return u5(e);if(Ws(e))return x0(e);if(Xs(e))return h5(e);if(Js(e))return p5(e)}throw Zs(e)}function l5(e){return new K(t=>{let n=e[gi]();if(H(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function d5(e){return new K(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function u5(e){return new K(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Fs)})}function h5(e){return new K(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function x0(e){return new K(t=>{f5(e,t).catch(n=>t.error(n))})}function p5(e){return x0(Ys(e))}function f5(e,t){var n,r,i,o;return C0(this,void 0,void 0,function*(){try{for(n=I0(e);r=yield n.next(),!r.done;){let a=r.value;if(t.next(a),t.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function et(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Qs(e,t=0){return G((n,r)=>{n.subscribe(U(r,i=>et(r,e,()=>r.next(i),t),()=>et(r,e,()=>r.complete(),t),i=>et(r,e,()=>r.error(i),t)))})}function ec(e,t=0){return G((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function S0(e,t){return ie(e).pipe(ec(t),Qs(t))}function D0(e,t){return ie(e).pipe(ec(t),Qs(t))}function _0(e,t){return new K(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function L0(e,t){return new K(n=>{let r;return et(n,t,()=>{r=e[Ks](),et(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function tc(e,t){if(!e)throw new Error("Iterable cannot be null");return new K(n=>{et(n,t,()=>{let r=e[Symbol.asyncIterator]();et(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function E0(e,t){return tc(Ys(e),t)}function A0(e,t){if(e!=null){if(Gs(e))return S0(e,t);if(Us(e))return _0(e,t);if($s(e))return D0(e,t);if(Ws(e))return tc(e,t);if(Xs(e))return L0(e,t);if(Js(e))return E0(e,t)}throw Zs(e)}function $(e,t){return t?A0(e,t):ie(e)}function O(...e){let t=Zt(e);return $(e,t)}function Pt(e,t){let n=H(e)?e:()=>e,r=i=>i.error(n());return new K(t?i=>t.schedule(r,0,i):r)}function Ou(e){return!!e&&(e instanceof K||H(e.lift)&&H(e.subscribe))}var Mn=pi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function T0(e){return e instanceof Date&&!isNaN(e)}function R(e,t){return G((n,r)=>{let i=0;n.subscribe(U(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:y5}=Array;function g5(e,t){return y5(t)?e(...t):e(t)}function nc(e){return R(t=>g5(e,t))}var{isArray:m5}=Array,{getPrototypeOf:k5,prototype:v5,keys:M5}=Object;function rc(e){if(e.length===1){let t=e[0];if(m5(t))return{args:t,keys:null};if(w5(t)){let n=M5(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function w5(e){return e&&typeof e=="object"&&k5(e)===v5}function ic(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Nn(...e){let t=Zt(e),n=Mi(e),{args:r,keys:i}=rc(e);if(r.length===0)return $([],t);let o=new K(C5(r,t,i?a=>ic(i,a):Ee));return n?o.pipe(nc(n)):o}function C5(e,t,n=Ee){return r=>{R0(t,()=>{let{length:i}=e,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)R0(t,()=>{let l=$(e[c],t),d=!1;l.subscribe(U(r,u=>{o[c]=u,d||(d=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function R0(e,t,n){e?et(n,e,t):t()}function P0(e,t,n,r,i,o,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&t.complete()},h=g=>l<r?y(g):c.push(g),y=g=>{o&&t.next(g),l++;let k=!1;ie(n(g,d++)).subscribe(U(t,M=>{i?.(M),o?h(M):t.next(M)},()=>{k=!0},void 0,()=>{if(k)try{for(l--;c.length&&l<r;){let M=c.shift();a?et(t,a,()=>y(M)):y(M)}p()}catch(M){t.error(M)}}))};return e.subscribe(U(t,h,()=>{u=!0,p()})),()=>{s?.()}}function de(e,t,n=1/0){return H(t)?de((r,i)=>R((o,a)=>t(r,o,i,a))(ie(e(r,i))),n):(typeof t=="number"&&(n=t),G((r,i)=>P0(r,i,e,n)))}function oc(e=1/0){return de(Ee,e)}function O0(){return oc(1)}function wi(...e){return O0()($(e,Zt(e)))}function Ot(e){return new K(t=>{ie(e()).subscribe(t)})}function Nu(...e){let t=Mi(e),{args:n,keys:r}=rc(e),i=new K(o=>{let{length:a}=n;if(!a){o.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;ie(n[d]).subscribe(U(o,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(r?ic(r,s):s),o.complete())}))}});return t?i.pipe(nc(t)):i}function ac(e,t,n){return Ot(()=>e()?t:n)}function vo(e=0,t,n=v0){let r=-1;return t!=null&&(zs(t)?n=t:r=t),new K(i=>{let o=T0(e)?+e-n.now():e;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Fu(...e){let t=Zt(e),n=M0(e,1/0),r=e;return r.length?r.length===1?ie(r[0]):oc(n)($(r,t)):Fe}function je(e,t){return G((n,r)=>{let i=0;n.subscribe(U(r,o=>e.call(t,o,i++)&&r.next(o)))})}function tt(e){return G((t,n)=>{let r=null,i=!1,o;r=t.subscribe(U(n,void 0,void 0,a=>{o=ie(e(a,tt(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function N0(e,t,n,r,i){return(o,a)=>{let s=n,c=t,l=0;o.subscribe(U(a,d=>{let u=l++;c=s?e(c,d,u):(s=!0,d),r&&a.next(c)},i&&(()=>{s&&a.next(c),a.complete()})))}}function nt(e,t){return H(t)?de(e,t,1):de(e,1)}function Fn(e){return G((t,n)=>{let r=!1;t.subscribe(U(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Ve(e){return e<=0?()=>Fe:G((t,n)=>{let r=0;t.subscribe(U(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function ju(e){return R(()=>e)}function Mo(e,t=Ee){return e=e??b5,G((n,r)=>{let i,o=!0;n.subscribe(U(r,a=>{let s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function b5(e,t){return e===t}function sc(e=I5){return G((t,n)=>{let r=!1;t.subscribe(U(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function I5(){return new Mn}function wo(e){return G((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function kt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?je((i,o)=>e(i,o,r)):Ee,Ve(1),n?Fn(t):sc(()=>new Mn))}function Ci(e){return e<=0?()=>Fe:G((t,n)=>{let r=[];t.subscribe(U(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Vu(e,t){let n=arguments.length>=2;return r=>r.pipe(e?je((i,o)=>e(i,o,r)):Ee,Ci(1),n?Fn(t):sc(()=>new Mn))}function Hu(...e){let t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return R(n=>{let r=n;for(let i=0;i<t;i++){let o=r?.[e[i]];if(typeof o<"u")r=o;else return}return r})}function Co(e,t){return G(N0(e,t,arguments.length>=2,!0))}function F0(e={}){let{connector:t=()=>new re,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,s,c,l=0,d=!1,u=!1,p=()=>{s?.unsubscribe(),s=void 0},h=()=>{p(),a=c=void 0,d=u=!1},y=()=>{let g=a;h(),g?.unsubscribe()};return G((g,k)=>{l++,!u&&!d&&p();let M=c=c??t();k.add(()=>{l--,l===0&&!u&&!d&&(s=qu(y,i))}),M.subscribe(k),!a&&l>0&&(a=new kn({next:T=>M.next(T),error:T=>{u=!0,p(),s=qu(h,n,T),M.error(T)},complete:()=>{d=!0,p(),s=qu(h,r),M.complete()}}),ie(g).subscribe(a))})(o)}}function qu(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new kn({next:()=>{r.unsubscribe(),e()}});return ie(t(...n)).subscribe(r)}function Bu(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,F0({connector:()=>new vn(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function zu(...e){let t=Zt(e);return G((n,r)=>{(t?wi(e,n,t):wi(e,n)).subscribe(r)})}function He(e,t){return G((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe(U(r,c=>{i?.unsubscribe();let l=0,d=o++;ie(e(c,d)).subscribe(i=U(r,u=>r.next(t?t(c,u,d,l++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function bi(e){return G((t,n)=>{ie(e).subscribe(U(n,()=>n.complete(),dr)),!n.closed&&t.subscribe(n)})}function se(e,t,n){let r=H(e)||t||n?{next:e,error:t,complete:n}:e;return r?G((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(U(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ee}function Uu(...e){let t=Mi(e);return G((n,r)=>{let i=e.length,o=new Array(i),a=e.map(()=>!1),s=!1;for(let c=0;c<i;c++)ie(e[c]).subscribe(U(r,l=>{o[c]=l,!s&&!a[c]&&(a[c]=!0,(s=a.every(Ee))&&(a=null))},dr));n.subscribe(U(r,c=>{if(s){let l=[c,...o];r.next(t?t(...l):l)}}))})}function j0(e){let t=F(null);try{return e()}finally{F(t)}}var hc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(t,n){super(pc(t,n)),this.code=t}};function x5(e){return`NG0${Math.abs(e)}`}function pc(e,t){return`${x5(e)}${t?": "+t:""}`}var Cn=globalThis;function le(e){for(let t in e)if(e[t]===le)return t;throw Error("")}function B0(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function rt(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(rt).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function r1(e,t){return e?t?`${e} ${t}`:e:t||""}var S5=le({__forward_ref__:le});function Se(e){return e.__forward_ref__=Se,e.toString=function(){return rt(this())},e}function Ae(e){return i1(e)?e():e}function i1(e){return typeof e=="function"&&e.hasOwnProperty(S5)&&e.__forward_ref__===Se}function z0(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function L(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function lt(e){return{providers:e.providers||[],imports:e.imports||[]}}function So(e){return D5(e,fc)}function o1(e){return So(e)!==null}function D5(e,t){return e.hasOwnProperty(t)&&e[t]||null}function _5(e){let t=e?.[fc]??null;return t||null}function Gu(e){return e&&e.hasOwnProperty(lc)?e[lc]:null}var fc=le({\u0275prov:le}),lc=le({\u0275inj:le}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=L({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function a1(e){return e&&!!e.\u0275providers}var s1=le({\u0275cmp:le}),c1=le({\u0275dir:le}),l1=le({\u0275pipe:le}),d1=le({\u0275mod:le}),Io=le({\u0275fac:le}),vr=le({__NG_ELEMENT_ID__:le}),V0=le({__NG_ENV_ID__:le});function Mr(e){return typeof e=="string"?e:e==null?"":String(e)}function U0(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Mr(e)}function u1(e,t){throw new D(-200,e)}function yc(e,t){throw new D(-201,!1)}var Wu;function $0(){return Wu}function Ge(e){let t=Wu;return Wu=e,t}function h1(e,t,n){let r=So(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;yc(e,"Injector")}var L5={},fr=L5,Zu="__NG_DI_FLAG__",Ku=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=yr(n)||0;try{return this.injector.get(t,r&8?null:fr,r)}catch(i){if(li(i))return i;throw i}}},dc="ngTempTokenPath",E5="ngTokenPath",A5=/\n/gm,T5="\u0275",H0="__source";function R5(e,t=0){let n=ku();if(n===void 0)throw new D(-203,!1);if(n===null)return h1(e,void 0,t);{let r=P5(t),i=n.retrieve(e,r);if(li(i)){if(r.optional)return null;throw i}return i}}function P(e,t=0){return($0()||R5)(Ae(e),t)}function b(e,t){return P(e,yr(t))}function yr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function P5(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Xu(e){let t=[];for(let n=0;n<e.length;n++){let r=Ae(e[n]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=O5(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}t.push(P(i,o))}else t.push(P(r))}return t}function G0(e,t){return e[Zu]=t,e.prototype[Zu]=t,e}function O5(e){return e[Zu]}function N5(e,t,n,r){let i=e[dc];throw t[H0]&&i.unshift(t[H0]),e.message=F5(`
`+e.message,i,n,r),e[E5]=i,e[dc]=null,e}function F5(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==T5?e.slice(2):e;let i=rt(t);if(Array.isArray(t))i=t.map(rt).join(" -> ");else if(typeof t=="object"){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):rt(s)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(A5,`
  `)}`}function jn(e,t){let n=e.hasOwnProperty(Io);return n?e[Io]:null}function gc(e,t){e.forEach(n=>Array.isArray(n)?gc(n,t):t(n))}function p1(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Do(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function W0(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Z0(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function K0(e,t,n){let r=xi(e,t);return r>=0?e[r|1]=n:(r=~r,Z0(e,r,t,n)),r}function mc(e,t){let n=xi(e,t);if(n>=0)return e[n|1]}function xi(e,t){return j5(e,t,1)}function j5(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=e[o<<n];if(t===a)return o<<n;a>t?i=o:r=o+1}return~(i<<n)}var Hn={},ct=[],bn=new E(""),f1=new E("",-1),y1=new E(""),xo=class{get(t,n=fr){if(n===fr)throw new ws(`NullInjectorError: No provider for ${rt(t)}!`);return n}};function g1(e){return e[d1]||null}function qn(e){return e[s1]||null}function m1(e){return e[c1]||null}function X0(e){return e[l1]||null}function wr(e){return{\u0275providers:e}}function Y0(e){return wr([{provide:bn,multi:!0,useValue:e}])}function J0(...e){return{\u0275providers:k1(!0,e),\u0275fromNgModule:!0}}function k1(e,...t){let n=[],r=new Set,i,o=a=>{n.push(a)};return gc(t,a=>{let s=a;uc(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&Q0(i,o),n}function Q0(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];v1(i,o=>{t(o,r)})}}function uc(e,t,n,r){if(e=Ae(e),!e)return!1;let i=null,o=Gu(e),a=!o&&qn(e);if(!o&&!a){let c=e.ngModule;if(o=Gu(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=e}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)uc(l,t,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let l;try{gc(o.imports,d=>{uc(d,t,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&Q0(l,t)}if(!s){let l=jn(i)||(()=>new i);t({provide:i,useFactory:l,deps:ct},i),t({provide:y1,useValue:i,multi:!0},i),t({provide:bn,useValue:()=>P(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let l=e;v1(c,d=>{t(d,l)})}}else return!1;return i!==e&&e.providers!==void 0}function v1(e,t){for(let n of e)a1(n)&&(n=n.\u0275providers),Array.isArray(n)?v1(n,t):t(n)}var V5=le({provide:String,useValue:le});function ef(e){return e!==null&&typeof e=="object"&&V5 in e}function H5(e){return!!(e&&e.useExisting)}function q5(e){return!!(e&&e.useFactory)}function gr(e){return typeof e=="function"}function tf(e){return!!e.useClass}var _o=new E(""),cc={},q0={},$u;function Lo(){return $u===void 0&&($u=new xo),$u}var Ie=class{},mr=class extends Ie{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Ju(t,a=>this.processProvider(a)),this.records.set(f1,Ii(void 0,this)),i.has("environment")&&this.records.set(Ie,Ii(void 0,this));let o=this.records.get(_o);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(y1,ct,{self:!0}))}retrieve(t,n){let r=yr(n)||0;try{return this.get(t,fr,r)}catch(i){if(li(i))return i;throw i}}destroy(){bo(this),this._destroyed=!0;let t=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(t)}}onDestroy(t){return bo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){bo(this);let n=mn(this),r=Ge(void 0),i;try{return t()}finally{mn(n),Ge(r)}}get(t,n=fr,r){if(bo(this),t.hasOwnProperty(V0))return t[V0](this);let i=yr(r),o,a=mn(this),s=Ge(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let d=G5(t)&&So(t);d&&this.injectableDefInScope(d)?l=Ii(Yu(t),cc):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let c=i&2?Lo():this.parent;return n=i&8&&n===fr?null:n,c.get(t,n)}catch(c){if(li(c)){if((c[dc]=c[dc]||[]).unshift(rt(t)),a)throw c;return N5(c,t,"R3InjectorError",this.source)}else throw c}finally{Ge(s),mn(a)}}resolveInjectorInitializers(){let t=F(null),n=mn(this),r=Ge(void 0),i;try{let o=this.get(bn,ct,{self:!0});for(let a of o)a()}finally{mn(n),Ge(r),F(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(rt(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=Ae(t);let n=gr(t)?t:Ae(t&&t.provide),r=z5(t);if(!gr(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Ii(void 0,cc,!0),i.factory=()=>Xu(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=F(null);try{return n.value===q0?u1(rt(t)):n.value===cc&&(n.value=q0,n.value=n.factory()),typeof n.value=="object"&&n.value&&$5(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{F(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=Ae(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Yu(e){let t=So(e),n=t!==null?t.factory:jn(e);if(n!==null)return n;if(e instanceof E)throw new D(204,!1);if(e instanceof Function)return B5(e);throw new D(204,!1)}function B5(e){if(e.length>0)throw new D(204,!1);let n=_5(e);return n!==null?()=>n.factory(e):()=>new e}function z5(e){if(ef(e))return Ii(void 0,e.useValue);{let t=M1(e);return Ii(t,cc)}}function M1(e,t,n){let r;if(gr(e)){let i=Ae(e);return jn(i)||Yu(i)}else if(ef(e))r=()=>Ae(e.useValue);else if(q5(e))r=()=>e.useFactory(...Xu(e.deps||[]));else if(H5(e))r=()=>P(Ae(e.useExisting));else{let i=Ae(e&&(e.useClass||e.provide));if(U5(e))r=()=>new i(...Xu(e.deps));else return jn(i)||Yu(i)}return r}function bo(e){if(e.destroyed)throw new D(205,!1)}function Ii(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function U5(e){return!!e.deps}function $5(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function G5(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Ju(e,t){for(let n of e)Array.isArray(n)?Ju(n,t):n&&a1(n)?Ju(n.\u0275providers,t):t(n)}function dt(e,t){let n;e instanceof mr?(bo(e),n=e):n=new Ku(e);let r,i=mn(n),o=Ge(void 0);try{return t()}finally{mn(i),Ge(o)}}function nf(){return $0()!==void 0||ku()!=null}var Nt=0,B=1,q=2,xe=3,vt=4,We=5,Cr=6,Si=7,ye=8,br=9,Xt=10,pe=11,Di=12,w1=13,Ir=14,Ze=15,xr=16,Sr=17,Dr=18,Eo=19,C1=20,wn=21,kc=22,Ao=23,ut=24,vc=25,Ce=26,rf=1,b1=6,Bn=7,To=8,Ro=9,Re=10;function Yt(e){return Array.isArray(e)&&typeof e[rf]=="object"}function Ft(e){return Array.isArray(e)&&e[rf]===!0}function I1(e){return(e.flags&4)!==0}function zn(e){return e.componentOffset>-1}function Mc(e){return(e.flags&1)===1}function Jt(e){return!!e.template}function _i(e){return(e[q]&512)!==0}function _r(e){return(e[q]&256)===256}var x1="svg",of="math";function Mt(e){for(;Array.isArray(e);)e=e[Nt];return e}function S1(e,t){return Mt(t[e])}function jt(e,t){return Mt(t[e.index])}function Po(e,t){return e.data[t]}function D1(e,t){return e[t]}function _1(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function wt(e,t){let n=t[e];return Yt(n)?n:n[Nt]}function wc(e){return(e[q]&128)===128}function af(e){return Ft(e[xe])}function Un(e,t){return t==null?null:e[t]}function L1(e){e[Sr]=0}function E1(e){e[q]&1024||(e[q]|=1024,wc(e)&&No(e))}function sf(e,t){for(;e>0;)t=t[Ir],e--;return t}function Oo(e){return!!(e[q]&9216||e[ut]?.dirty)}function Cc(e){e[Xt].changeDetectionScheduler?.notify(8),e[q]&64&&(e[q]|=1024),Oo(e)&&No(e)}function No(e){e[Xt].changeDetectionScheduler?.notify(0);let t=Vn(e);for(;t!==null&&!(t[q]&8192||(t[q]|=8192,!wc(t)));)t=Vn(t)}function A1(e,t){if(_r(e))throw new D(911,!1);e[wn]===null&&(e[wn]=[]),e[wn].push(t)}function cf(e,t){if(e[wn]===null)return;let n=e[wn].indexOf(t);n!==-1&&e[wn].splice(n,1)}function Vn(e){let t=e[xe];return Ft(t)?t[xe]:t}function lf(e){return e[Si]??=[]}function df(e){return e.cleanup??=[]}var X={lFrame:If(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Fo=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Fo||{}),W5=0,Qu=!1;function uf(){return X.lFrame.elementDepthCount}function hf(){X.lFrame.elementDepthCount++}function pf(){X.lFrame.elementDepthCount--}function T1(){return X.bindingsEnabled}function R1(){return X.skipHydrationRootTNode!==null}function ff(e){return X.skipHydrationRootTNode===e}function yf(){X.skipHydrationRootTNode=null}function Y(){return X.lFrame.lView}function qe(){return X.lFrame.tView}function ht(){let e=P1();for(;e!==null&&e.type===64;)e=e.parent;return e}function P1(){return X.lFrame.currentTNode}function gf(){let e=X.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Li(e,t){let n=X.lFrame;n.currentTNode=e,n.isParent=t}function O1(){return X.lFrame.isParent}function N1(){X.lFrame.isParent=!1}function F1(e){z0("Must never be called in production mode"),W5=e}function j1(){return Qu}function V1(e){let t=Qu;return Qu=e,t}function Lr(){let e=X.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function mf(){return X.lFrame.bindingIndex}function kf(e){return X.lFrame.bindingIndex=e}function Ei(){return X.lFrame.bindingIndex++}function H1(e){let t=X.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function vf(){return X.lFrame.inI18n}function Mf(e,t){let n=X.lFrame;n.bindingIndex=n.bindingRootIndex=e,bc(t)}function wf(){return X.lFrame.currentDirectiveIndex}function bc(e){X.lFrame.currentDirectiveIndex=e}function Cf(e){let t=X.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function q1(e){X.lFrame.currentQueryIndex=e}function Z5(e){let t=e[B];return t.type===2?t.declTNode:t.type===1?e[We]:null}function B1(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=Z5(o),i===null||(o=o[Ir],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=X.lFrame=bf();return r.currentTNode=t,r.lView=e,!0}function Ic(e){let t=bf(),n=e[B];X.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bf(){let e=X.lFrame,t=e===null?null:e.child;return t===null?If(e):t}function If(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function xf(){let e=X.lFrame;return X.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var z1=xf;function xc(){let e=xf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Sf(e){return(X.lFrame.contextLView=sf(e,X.lFrame.contextLView))[ye]}function In(){return X.lFrame.selectedIndex}function $n(e){X.lFrame.selectedIndex=e}function U1(){let e=X.lFrame;return Po(e.tView,e.selectedIndex)}function Sc(){X.lFrame.currentNamespace=x1}function Df(){return X.lFrame.currentNamespace}var _f=!0;function Dc(){return _f}function _c(e){_f=e}function e1(e,t=null,n=null,r){let i=$1(e,t,n,r);return i.resolveInjectorInitializers(),i}function $1(e,t=null,n=null,r,i=new Set){let o=[n||ct,J0(e)];return r=r||(typeof e=="object"?void 0:rt(e)),new mr(o,t||Lo(),r||null,i)}var Te=class e{static THROW_IF_NOT_FOUND=fr;static NULL=new xo;static create(t,n){if(Array.isArray(t))return e1({name:""},n,t,"");{let r=t.name??"";return e1({name:r},t.parent,t.providers,r)}}static \u0275prov=L({token:e,providedIn:"any",factory:()=>P(f1)});static __NG_ELEMENT_ID__=-1},De=new E(""),Er=(()=>{class e{static __NG_ELEMENT_ID__=K5;static __NG_ENV_ID__=n=>n}return e})(),t1=class extends Er{_lView;constructor(t){super(),this._lView=t}get destroyed(){return _r(this._lView)}onDestroy(t){let n=this._lView;return A1(n,t),()=>cf(n,t)}};function K5(){return new t1(Y())}var Kt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},it=new E("",{providedIn:"root",factory:()=>{let e=b(Ie),t;return n=>{t??=e.get(Kt),t.handleError(n)}}}),Lf={provide:bn,useValue:()=>void b(Kt),multi:!0},X5=new E("",{providedIn:"root",factory:()=>{let e=b(De).defaultView;if(!e)return;let t=b(it),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),b(Er).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function G1(){return wr([Y0(()=>void b(X5))])}function xn(e,t){let[n,r,i]=bu(e,t?.equal),o=n,a=o[$e];return o.set=r,o.update=i,o.asReadonly=Ef.bind(o),o}function Ef(){let e=this[$e];if(e.readonlyFn===void 0){let t=()=>this();t[$e]=e,e.readonlyFn=t}return e.readonlyFn}var kr=class{},jo=new E("",{providedIn:"root",factory:()=>!1});var W1=new E(""),Z1=new E("");var Gn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new we(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new K(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}return e})();function Vo(...e){}var K1=(()=>{class e{static \u0275prov=L({token:e,providedIn:"root",factory:()=>new n1})}return e})(),n1=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ni(e){return{toString:e}.toString()}var Lc="__parameters__";function lM(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function dM(e,t,n){return Ni(()=>{let r=lM(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Lc)?c[Lc]:Object.defineProperty(c,Lc,{value:[]})[Lc];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Th=G0(dM("Optional"),8);function uM(e){return typeof e=="function"}var Oc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function cy(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var Ht=(()=>{let e=()=>ly;return e.ngInherit=!0,e})();function ly(e){return e.type.prototype.ngOnChanges&&(e.setInput=pM),hM}function hM(){let e=uy(this),t=e?.current;if(t){let n=e.previous;if(n===Hn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function pM(e,t,n,r,i){let o=this.declaredInputs[r],a=uy(e)||fM(e,{previous:Hn,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[o];s[o]=new Oc(l&&l.currentValue,n,c===Hn),cy(e,t,i,n)}var dy="__ngSimpleChanges__";function uy(e){return e[dy]||null}function fM(e,t){return e[dy]=t}var Af=[];var oe=function(e,t=null,n){for(let r=0;r<Af.length;r++){let i=Af[r];i(e,t,n)}};function yM(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let a=ly(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function hy(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;a&&(e.contentHooks??=[]).push(-n,a),s&&((e.contentHooks??=[]).push(n,s),(e.contentCheckHooks??=[]).push(n,s)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function Tc(e,t,n){py(e,t,3,n)}function Rc(e,t,n,r){(e[q]&3)===n&&py(e,t,n,r)}function X1(e,t){let n=e[q];(n&3)===t&&(n&=16383,n+=1,e[q]=n)}function py(e,t,n,r){let i=r!==void 0?e[Sr]&65535:0,o=r??-1,a=t.length-1,s=0;for(let c=i;c<a;c++)if(typeof t[c+1]=="number"){if(s=t[c],r!=null&&s>=r)break}else t[c]<0&&(e[Sr]+=65536),(s<o||o==-1)&&(gM(e,n,t,c),e[Sr]=(e[Sr]&4294901760)+c+2),c++}function Tf(e,t){oe(4,e,t);let n=F(null);try{t.call(e)}finally{F(n),oe(5,e,t)}}function gM(e,t,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=e[a];i?e[q]>>14<e[Sr]>>16&&(e[q]&3)===t&&(e[q]+=16384,Tf(s,o)):Tf(s,o)}var Ti=-1,Rr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function mM(e){return(e.flags&8)!==0}function kM(e){return(e.flags&16)!==0}function vM(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];e.setAttribute(t,a,s,o)}else{let o=i,a=n[++r];MM(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),r++}}return r}function fy(e){return e===3||e===4||e===6}function MM(e){return e.charCodeAt(0)===64}function Bo(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Rf(e,n,i,null,t[++r]):Rf(e,n,i,null,null))}}return e}function Rf(e,t,n,r,i){let o=0,a=e.length;if(t===-1)a=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function yy(e){return e!==Ti}function Nc(e){return e&32767}function wM(e){return e>>16}function Fc(e,t){let n=wM(e),r=t;for(;n>0;)r=r[Ir],n--;return r}var ch=!0;function jc(e){let t=ch;return ch=e,t}var CM=256,gy=CM-1,my=5,bM=0,Qt={};function IM(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(vr)&&(r=n[vr]),r==null&&(r=n[vr]=bM++);let i=r&gy,o=1<<i;t.data[e+(i>>my)]|=o}function Vc(e,t){let n=ky(e,t);if(n!==-1)return n;let r=t[B];r.firstCreatePass&&(e.injectorIndex=t.length,Y1(r.data,e),Y1(t,null),Y1(r.blueprint,null));let i=Rh(e,t),o=e.injectorIndex;if(yy(i)){let a=Nc(i),s=Fc(i,t),c=s[B].data;for(let l=0;l<8;l++)t[o+l]=s[a+l]|c[a+l]}return t[o+8]=i,o}function Y1(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ky(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Rh(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=by(i),r===null)return Ti;if(n++,i=i[Ir],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ti}function lh(e,t,n){IM(e,t,n)}function xM(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(fy(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function vy(e,t,n){if(n&8||e!==void 0)return e;yc(t,"NodeInjector")}function My(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[br],o=Ge(void 0);try{return i?i.get(t,r,n&8):h1(t,r,n&8)}finally{Ge(o)}}return vy(r,t,n)}function wy(e,t,n,r=0,i){if(e!==null){if(t[q]&2048&&!(r&2)){let a=EM(e,t,n,r,Qt);if(a!==Qt)return a}let o=Cy(e,t,n,r,Qt);if(o!==Qt)return o}return My(t,n,r,i)}function Cy(e,t,n,r,i){let o=_M(n);if(typeof o=="function"){if(!B1(t,e,r))return r&1?vy(i,n,r):My(t,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))yc(n);else return a}finally{z1()}}else if(typeof o=="number"){let a=null,s=ky(e,t),c=Ti,l=r&1?t[Ze][We]:null;for((s===-1||r&4)&&(c=s===-1?Rh(e,t):t[s+8],c===Ti||!Of(r,!1)?s=-1:(a=t[B],s=Nc(c),t=Fc(c,t)));s!==-1;){let d=t[B];if(Pf(o,s,d.data)){let u=SM(s,t,n,a,r,l);if(u!==Qt)return u}c=t[s+8],c!==Ti&&Of(r,t[B].data[s+8]===l)&&Pf(o,s,t)?(a=d,s=Nc(c),t=Fc(c,t)):s=-1}}return i}function SM(e,t,n,r,i,o){let a=t[B],s=a.data[e+8],c=r==null?zn(s)&&ch:r!=a&&(s.type&3)!==0,l=i&1&&o===s,d=DM(s,a,n,c,l);return d!==null?Hc(t,a,d,s):Qt}function DM(e,t,n,r,i){let o=e.providerIndexes,a=t.data,s=o&1048575,c=e.directiveStart,l=e.directiveEnd,d=o>>20,u=r?s:s+d,p=i?s+d:l;for(let h=u;h<p;h++){let y=a[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(i){let h=a[c];if(h&&Jt(h)&&h.type===n)return c}return null}function Hc(e,t,n,r){let i=e[n],o=t.data;if(i instanceof Rr){let a=i;a.resolving&&u1(U0(o[n]));let s=jc(a.canSeeViewProviders);a.resolving=!0;let c=o[n].type||o[n],l,d=a.injectImpl?Ge(a.injectImpl):null,u=B1(e,r,0);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&yM(n,o[n],t)}finally{d!==null&&Ge(d),jc(s),a.resolving=!1,z1()}}return i}function _M(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(vr)?e[vr]:void 0;return typeof t=="number"?t>=0?t&gy:LM:t}function Pf(e,t,n){let r=1<<e;return!!(n[t+(e>>my)]&r)}function Of(e,t){return!(e&2)&&!(e&1&&t)}var Tr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return wy(this._tNode,this._lView,t,yr(r),n)}};function LM(){return new Tr(ht(),Y())}function jr(e){return Ni(()=>{let t=e.prototype.constructor,n=t[Io]||dh(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Io]||dh(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function dh(e){return i1(e)?()=>{let t=dh(Ae(e));return t&&t()}:jn(e)}function EM(e,t,n,r,i){let o=e,a=t;for(;o!==null&&a!==null&&a[q]&2048&&!_i(a);){let s=Cy(o,a,n,r|2,Qt);if(s!==Qt)return s;let c=o.parent;if(!c){let l=a[C1];if(l){let d=l.get(n,Qt,r);if(d!==Qt)return d}c=by(a),a=a[Ir]}o=c}return i}function by(e){let t=e[B],n=t.type;return n===2?t.declTNode:n===1?e[We]:null}function Zo(e){return xM(ht(),e)}function AM(){return Ph(ht(),Y())}function Ph(e,t){return new qt(jt(e,t))}var qt=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=AM}return e})();function Iy(e){return(e.flags&128)===128}var Oh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Oh||{}),xy=new Map,TM=0;function RM(){return TM++}function PM(e){xy.set(e[Eo],e)}function uh(e){xy.delete(e[Eo])}var Nf="__ngContext__";function Ko(e,t){Yt(t)?(e[Nf]=t[Eo],PM(t)):e[Nf]=t}function Sy(e){return _y(e[Di])}function Dy(e){return _y(e[vt])}function _y(e){for(;e!==null&&!Ft(e);)e=e[vt];return e}var hh;function Nh(e){hh=e}function Ly(){if(hh!==void 0)return hh;if(typeof document<"u")return document;throw new D(210,!1)}var el=new E("",{providedIn:"root",factory:()=>OM}),OM="ng",tl=new E(""),Fi=new E("",{providedIn:"platform",factory:()=>"unknown"});var nl=new E("",{providedIn:"root",factory:()=>Ly().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var NM="h",FM="b";var Ey="r";var Ay="di";var Ty=!1,Ry=new E("",{providedIn:"root",factory:()=>Ty});var jM=(e,t,n,r)=>{};function VM(e,t,n,r){jM(e,t,n,r)}var HM=()=>null;function Py(e,t,n=!1){return HM(e,t,n)}function Oy(e,t){let n=e.contentQueries;if(n!==null){let r=F(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=e.data[a];q1(o),s.contentQueries(2,t[a],a)}}}finally{F(r)}}}function ph(e,t,n){q1(0);let r=F(null);try{t(e,n)}finally{F(r)}}function Ny(e,t,n){if(I1(t)){let r=F(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let a=i;a<o;a++){let s=e.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{F(r)}}}var Sn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Sn||{});var Ec;function qM(){if(Ec===void 0&&(Ec=null,Cn.trustedTypes))try{Ec=Cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ec}function Ff(e){return qM()?.createScriptURL(e)||e}var qc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${hc})`}};function rl(e){return e instanceof qc?e.changingThisBreaksApplicationSecurity:e}function Fh(e,t){let n=Fy(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${hc})`)}return n===t}function Fy(e){return e instanceof qc&&e.getTypeName()||null}var BM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jy(e){return e=String(e),e.match(BM)?e:"unsafe:"+e}var il=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(il||{});function Vy(e){let t=qy();return t?t.sanitize(il.URL,e)||"":Fh(e,"URL")?rl(e):jy(Mr(e))}function Hy(e){let t=qy();if(t)return Ff(t.sanitize(il.RESOURCE_URL,e)||"");if(Fh(e,"ResourceURL"))return Ff(rl(e));throw new D(904,!1)}function zM(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?Hy:Vy}function jh(e,t,n){return zM(t,n)(e)}function qy(){let e=Y();return e&&e[Xt].sanitizer}function By(e){return e instanceof Function?e():e}function UM(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var zy="ng-template";function $M(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&UM(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Vh(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Vh(e){return e.type===4&&e.value!==zy}function GM(e,t,n){let r=e.type===4&&!n?zy:e.value;return t===r}function WM(e,t,n){let r=4,i=e.attrs,o=i!==null?XM(i):0,a=!1;for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number"){if(!a&&!Vt(r)&&!Vt(c))return!1;if(a&&Vt(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!GM(e,c,n)||c===""&&t.length===1){if(Vt(r))return!1;a=!0}}else if(r&8){if(i===null||!$M(e,i,c,n)){if(Vt(r))return!1;a=!0}}else{let l=t[++s],d=ZM(c,i,Vh(e),n);if(d===-1){if(Vt(r))return!1;a=!0;continue}if(l!==""){let u;if(d>o?u="":u=i[d+1].toLowerCase(),r&2&&l!==u){if(Vt(r))return!1;a=!0}}}}return Vt(r)||a}function Vt(e){return(e&1)===0}function ZM(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let a=t[i];if(a===e)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++i];for(;typeof s=="string";)s=t[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return YM(t,e)}function Uy(e,t,n=!1){for(let r=0;r<t.length;r++)if(WM(e,t[r],n))return!0;return!1}function KM(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function XM(e){for(let t=0;t<e.length;t++){let n=e[t];if(fy(n))return t}return e.length}function YM(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function JM(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function jf(e,t){return e?":not("+t.trim()+")":t}function QM(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let a=e[n];if(typeof a=="string")if(r&2){let s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Vt(a)&&(t+=jf(o,i),i=""),r=a,o=o||!Vt(r);n++}return i!==""&&(t+=jf(o,i)),t}function e3(e){return e.map(QM).join(",")}function t3(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Vt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var pt={};function n3(e,t){return e.createText(t)}function r3(e,t,n){e.setValue(t,n)}function $y(e,t,n){return e.createElement(t,n)}function Bc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Gy(e,t,n){e.appendChild(t,n)}function Vf(e,t,n,r,i){r!==null?Bc(e,t,n,r,i):Gy(e,t,n)}function Wy(e,t,n){e.removeChild(null,t,n)}function i3(e,t,n){e.setAttribute(t,"style",n)}function o3(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Zy(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&vM(e,t,r),i!==null&&o3(e,t,i),o!==null&&i3(e,t,o)}function Hh(e,t,n,r,i,o,a,s,c,l,d){let u=Ce+r,p=u+i,h=a3(u,p),y=typeof l=="function"?l():l;return h[B]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function a3(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:pt);return n}function s3(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=Hh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function qh(e,t,n,r,i,o,a,s,c,l,d){let u=t.blueprint.slice();return u[Nt]=i,u[q]=r|4|128|8|64|1024,(l!==null||e&&e[q]&2048)&&(u[q]|=2048),L1(u),u[xe]=u[Ir]=e,u[ye]=n,u[Xt]=a||e&&e[Xt],u[pe]=s||e&&e[pe],u[br]=c||e&&e[br]||null,u[We]=o,u[Eo]=RM(),u[Cr]=d,u[C1]=l,u[Ze]=t.type==2?e[Ze]:u,u}function c3(e,t,n){let r=jt(t,e),i=s3(n),o=e[Xt].rendererFactory,a=Bh(e,qh(e,i,null,Ky(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=a}function Ky(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function Xy(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Bh(e,t){return e[Di]?e[w1][vt]=t:e[Di]=t,e[w1]=t,t}function C(e=1){Yy(qe(),Y(),In()+e,!1)}function Yy(e,t,n,r){if(!r)if((t[q]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Tc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Rc(t,o,0,n)}$n(n)}var ol=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ol||{});function fh(e,t,n,r){let i=F(null);try{let[o,a,s]=e.inputs[n],c=null;(a&ol.SignalBased)!==0&&(c=t[o][$e]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):cy(t,c,o,r)}finally{F(i)}}function Jy(e,t,n,r,i){let o=In(),a=r&2;try{$n(-1),a&&t.length>Ce&&Yy(e,t,Ce,!1),oe(a?2:0,i,n),n(r,i)}finally{$n(o),oe(a?3:1,i,n)}}function zh(e,t,n){g3(e,t,n),(n.flags&64)===64&&m3(e,t,n)}function Qy(e,t,n=jt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(t,e):e[a];e[i++]=s}}}function l3(e,t,n,r){let o=r.get(Ry,Ty)||n===Sn.ShadowDom,a=e.selectRootElement(t,o);return d3(a),a}function d3(e){u3(e)}var u3=()=>null;function h3(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function p3(e,t,n,r,i,o){let a=t[B];if(Uh(e,a,t,n,r)){zn(e)&&y3(t,e.index);return}f3(e,t,n,r,i,o)}function f3(e,t,n,r,i,o){if(e.type&3){let a=jt(e,t);n=h3(n),r=o!=null?o(r,e.value||"",n):r,i.setProperty(a,n,r)}else e.type&12}function y3(e,t){let n=wt(t,e);n[q]&16||(n[q]|=64)}function g3(e,t,n){let r=n.directiveStart,i=n.directiveEnd;zn(n)&&c3(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Vc(n,t);let o=n.initialInputs;for(let a=r;a<i;a++){let s=e.data[a],c=Hc(t,e,a,n);if(Ko(c,t),o!==null&&w3(t,a-r,c,s,n,o),Jt(s)){let l=wt(n.index,t);l[ye]=Hc(t,e,a,n)}}}function m3(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=wf();try{$n(o);for(let s=r;s<i;s++){let c=e.data[s],l=t[s];bc(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&k3(c,l)}}finally{$n(-1),bc(a)}}function k3(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function eg(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Uy(t,o.selectors,!1)&&(r??=[],Jt(o)?r.unshift(o):r.push(o))}return r}function v3(e,t,n,r,i,o){let a=jt(e,t);M3(t[pe],a,o,e.value,n,r,i)}function M3(e,t,n,r,i,o,a){if(o==null)e.removeAttribute(t,i,n);else{let s=a==null?Mr(o):a(o,r||"",i);e.setAttribute(t,i,s,n)}}function w3(e,t,n,r,i,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];fh(r,n,c,l)}}function C3(e,t){let n=e[br];if(!n)return;n.get(it,null)?.(t)}function Uh(e,t,n,r,i){let o=e.inputs?.[r],a=e.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=t.data[l];fh(u,n[l],d,i),s=!0}if(o)for(let c of o){let l=n[c],d=t.data[c];fh(d,l,r,i),s=!0}return s}function b3(e,t){let n=wt(t,e),r=n[B];I3(r,n);let i=n[Nt];i!==null&&n[Cr]===null&&(n[Cr]=Py(i,n[br])),oe(18),$h(r,n,n[ye]),oe(19,n[ye])}function I3(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function $h(e,t,n){Ic(t);try{let r=e.viewQuery;r!==null&&ph(1,r,n);let i=e.template;i!==null&&Jy(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Dr]?.finishViewCreation(e),e.staticContentQueries&&Oy(e,t),e.staticViewQueries&&ph(2,e.viewQuery,n);let o=e.components;o!==null&&x3(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[q]&=-5,xc()}}function x3(e,t){for(let n=0;n<t.length;n++)b3(e,t[n])}function al(e,t,n,r){let i=F(null);try{let o=t.tView,s=e[q]&4096?4096:16,c=qh(e,o,n,s,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[xr]=l;let d=e[Dr];return d!==null&&(c[Dr]=d.createEmbeddedView(o)),$h(o,c,n),c}finally{F(i)}}function Ri(e,t){return!t||t.firstChild===null||Iy(e)}var Hf=!1,S3=new E(""),D3;function Gh(e,t){return D3(e,t)}var en=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(en||{});function sl(e){return(e.flags&32)===32}function Ai(e,t,n,r,i){if(r!=null){let o,a=!1;Ft(r)?o=r:Yt(r)&&(a=!0,r=r[Nt]);let s=Mt(r);e===0&&n!==null?i==null?Gy(t,n,s):Bc(t,n,s,i||null,!0):e===1&&n!==null?Bc(t,n,s,i||null,!0):e===2?Wy(t,s,a):e===3&&t.destroyNode(s),o!=null&&F3(t,e,o,n,i)}}function _3(e,t){tg(e,t),t[Nt]=null,t[We]=null}function L3(e,t,n,r,i,o){r[Nt]=i,r[We]=t,ll(e,r,n,1,i,o)}function tg(e,t){t[Xt].changeDetectionScheduler?.notify(9),ll(e,t,t[pe],2,null,null)}function E3(e){let t=e[Di];if(!t)return J1(e[B],e);for(;t;){let n=null;if(Yt(t))n=t[Di];else{let r=t[Re];r&&(n=r)}if(!n){for(;t&&!t[vt]&&t!==e;)Yt(t)&&J1(t[B],t),t=t[xe];t===null&&(t=e),Yt(t)&&J1(t[B],t),n=t&&t[vt]}t=n}}function Wh(e,t){let n=e[Ro],r=n.indexOf(t);n.splice(r,1)}function cl(e,t){if(_r(t))return;let n=t[pe];n.destroyNode&&ll(e,t,n,3,null,null),E3(t)}function J1(e,t){if(_r(t))return;let n=F(null);try{t[q]&=-129,t[q]|=256,t[ut]&&Ls(t[ut]),T3(e,t),A3(e,t),t[B].type===1&&t[pe].destroy();let r=t[xr];if(r!==null&&Ft(t[xe])){r!==t[xe]&&Wh(r,t);let i=t[Dr];i!==null&&i.detachView(e)}uh(t)}finally{F(n)}}function A3(e,t){let n=e.cleanup,r=t[Si];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(t[Si]=null);let i=t[wn];if(i!==null){t[wn]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=t[Ao];if(o!==null){t[Ao]=null;for(let a of o)a.destroy()}}function T3(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Rr)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];oe(4,s,c);try{c.call(s)}finally{oe(5,s,c)}}else{oe(4,i,o);try{o.call(i)}finally{oe(5,i,o)}}}}}function ng(e,t,n){return R3(e,t.parent,n)}function R3(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Nt];if(zn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Sn.None||i===Sn.Emulated)return null}return jt(r,n)}function rg(e,t,n){return O3(e,t,n)}function P3(e,t,n){return e.type&40?jt(e,n):null}var O3=P3,qf;function Zh(e,t,n,r){let i=ng(e,r,t),o=t[pe],a=r.parent||t[We],s=rg(a,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)Vf(o,i,n[c],s,!1);else Vf(o,i,n,s,!1);qf!==void 0&&qf(o,r,t,n,i)}function Ho(e,t){if(t!==null){let n=t.type;if(n&3)return jt(t,e);if(n&4)return yh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return Ho(e,r);{let i=e[t.index];return Ft(i)?yh(-1,i):Mt(i)}}else{if(n&128)return Ho(e,t.next);if(n&32)return Gh(t,e)()||Mt(e[t.index]);{let r=ig(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Vn(e[Ze]);return Ho(i,r)}else return Ho(e,t.next)}}}return null}function ig(e,t){if(t!==null){let r=e[Ze][We],i=t.projection;return r.projection[i]}return null}function yh(e,t){let n=Re+e+1;if(n<t.length){let r=t[n],i=r[B].firstChild;if(i!==null)return Ho(r,i)}return t[Bn]}function Kh(e,t,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let s=r[n.index],c=n.type;if(a&&t===0&&(s&&Ko(Mt(s),r),n.flags|=2),!sl(n))if(c&8)Kh(e,t,n.child,r,i,o,!1),Ai(t,e,i,s,o);else if(c&32){let l=Gh(n,r),d;for(;d=l();)Ai(t,e,i,d,o);Ai(t,e,i,s,o)}else c&16?og(e,t,r,n,i,o):Ai(t,e,i,s,o);n=a?n.projectionNext:n.next}}function ll(e,t,n,r,i,o){Kh(n,r,e.firstChild,t,i,o,!1)}function N3(e,t,n){let r=t[pe],i=ng(e,n,t),o=n.parent||t[We],a=rg(o,n,t);og(r,0,t,n,i,a)}function og(e,t,n,r,i,o){let a=n[Ze],c=a[We].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ai(t,e,i,d,o)}else{let l=c,d=a[xe];Iy(r)&&(l.flags|=128),Kh(e,t,l,d,i,o,!0)}}function F3(e,t,n,r,i){let o=n[Bn],a=Mt(n);o!==a&&Ai(t,e,r,o,i);for(let s=Re;s<n.length;s++){let c=n[s];ll(c[B],c,e,t,r,o)}}function j3(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:en.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=en.Important),e.setStyle(n,r,i,o))}}function zo(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Mt(o)),Ft(o)&&ag(o,r);let a=n.type;if(a&8)zo(e,t,n.child,r);else if(a&32){let s=Gh(n,t),c;for(;c=s();)r.push(c)}else if(a&16){let s=ig(t,n);if(Array.isArray(s))r.push(...s);else{let c=Vn(t[Ze]);zo(c[B],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function ag(e,t){for(let n=Re;n<e.length;n++){let r=e[n],i=r[B].firstChild;i!==null&&zo(r[B],r,i,t)}e[Bn]!==e[Nt]&&t.push(e[Bn])}function sg(e){if(e[vc]!==null){for(let t of e[vc])t.impl.addSequence(t);e[vc].length=0}}var cg=[];function V3(e){return e[ut]??H3(e)}function H3(e){let t=cg.pop()??Object.create(B3);return t.lView=e,t}function q3(e){e.lView[ut]!==e&&(e.lView=null,cg.push(e))}var B3=V(I({},sr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{No(e.lView)},consumerOnSignalRead(){this.lView[ut]=this}});function z3(e){let t=e[ut]??Object.create(U3);return t.lView=e,t}var U3=V(I({},sr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Vn(e.lView);for(;t&&!lg(t[B]);)t=Vn(t);t&&E1(t)},consumerOnSignalRead(){this.lView[ut]=this}});function lg(e){return e.type!==2}function dg(e){if(e[Ao]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Ao])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[q]&8192)}}var $3=100;function Xh(e,t=0){let r=e[Xt].rendererFactory,i=!1;i||r.begin?.();try{G3(e,t)}finally{i||r.end?.()}}function G3(e,t){let n=j1();try{V1(!0),gh(e,t);let r=0;for(;Oo(e);){if(r===$3)throw new D(103,!1);r++,gh(e,1)}}finally{V1(n)}}function ug(e,t){F1(t?Fo.Exhaustive:Fo.OnlyDirtyViews);try{Xh(e)}finally{F1(Fo.Off)}}function W3(e,t,n,r){if(_r(t))return;let i=t[q],o=!1,a=!1;Ic(t);let s=!0,c=null,l=null;o||(lg(e)?(l=V3(t),c=cr(l)):Ds()===null?(s=!1,l=z3(t),c=cr(l)):t[ut]&&(Ls(t[ut]),t[ut]=null));try{L1(t),kf(e.bindingStartIndex),n!==null&&Jy(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let h=e.preOrderCheckHooks;h!==null&&Tc(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Rc(t,h,0,null),X1(t,0)}if(a||Z3(t),dg(t),hg(t,0),e.contentQueries!==null&&Oy(e,t),!o)if(d){let h=e.contentCheckHooks;h!==null&&Tc(t,h)}else{let h=e.contentHooks;h!==null&&Rc(t,h,1),X1(t,1)}X3(e,t);let u=e.components;u!==null&&fg(t,u,0);let p=e.viewQuery;if(p!==null&&ph(2,p,r),!o)if(d){let h=e.viewCheckHooks;h!==null&&Tc(t,h)}else{let h=e.viewHooks;h!==null&&Rc(t,h,2),X1(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[kc]){for(let h of t[kc])h();t[kc]=null}o||(sg(t),t[q]&=-73)}catch(d){throw o||No(t),d}finally{l!==null&&(ui(l,c),s&&q3(l)),xc()}}function hg(e,t){for(let n=Sy(e);n!==null;n=Dy(n))for(let r=Re;r<n.length;r++){let i=n[r];pg(i,t)}}function Z3(e){for(let t=Sy(e);t!==null;t=Dy(t)){if(!(t[q]&2))continue;let n=t[Ro];for(let r=0;r<n.length;r++){let i=n[r];E1(i)}}}function K3(e,t,n){oe(18);let r=wt(t,e);pg(r,n),oe(19,r[ye])}function pg(e,t){wc(e)&&gh(e,t)}function gh(e,t){let r=e[B],i=e[q],o=e[ut],a=!!(t===0&&i&16);if(a||=!!(i&64&&t===0),a||=!!(i&1024),a||=!!(o?.dirty&&go(o)),a||=!1,o&&(o.dirty=!1),e[q]&=-9217,a)W3(r,e,r.template,e[ye]);else if(i&8192){let s=F(null);try{dg(e),hg(e,1);let c=r.components;c!==null&&fg(e,c,1),sg(e)}finally{F(s)}}}function fg(e,t,n){for(let r=0;r<t.length;r++)K3(e,t[r],n)}function X3(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)$n(~i);else{let o=i,a=n[++r],s=n[++r];Mf(a,o);let c=t[o];oe(24,c),s(2,c),oe(25,c)}}}finally{$n(-1)}}function Yh(e,t){let n=j1()?64:1088;for(e[Xt].changeDetectionScheduler?.notify(t);e;){e[q]|=n;let r=Vn(e);if(_i(e)&&!r)return e;e=r}return null}function yg(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function gg(e,t){let n=Re+t;if(n<e.length)return e[n]}function Xo(e,t,n,r=!0){let i=t[B];if(Y3(i,t,e,n),r){let a=yh(n,e),s=t[pe],c=s.parentNode(e[Bn]);c!==null&&L3(i,e[We],s,t,c,a)}let o=t[Cr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function mg(e,t){let n=Uo(e,t);return n!==void 0&&cl(n[B],n),n}function Uo(e,t){if(e.length<=Re)return;let n=Re+t,r=e[n];if(r){let i=r[xr];i!==null&&i!==e&&Wh(i,r),t>0&&(e[n-1][vt]=r[vt]);let o=Do(e,Re+t);_3(r[B],r);let a=o[Dr];a!==null&&a.detachView(o[B]),r[xe]=null,r[vt]=null,r[q]&=-129}return r}function Y3(e,t,n,r){let i=Re+r,o=n.length;r>0&&(n[i-1][vt]=t),r<o-Re?(t[vt]=n[i],p1(n,Re+r,t)):(n.push(t),t[vt]=null),t[xe]=n;let a=t[xr];a!==null&&n!==a&&kg(a,t);let s=t[Dr];s!==null&&s.insertView(e),Cc(t),t[q]|=128}function kg(e,t){let n=e[Ro],r=t[xe];if(Yt(r))e[q]|=2;else{let i=r[xe][Ze];t[Ze]!==i&&(e[q]|=2)}n===null?e[Ro]=[t]:n.push(t)}var Pr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[B];return zo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[ye]}set context(t){this._lView[ye]=t}get destroyed(){return _r(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[xe];if(Ft(t)){let n=t[To],r=n?n.indexOf(this):-1;r>-1&&(Uo(t,r),Do(n,r))}this._attachedToViewContainer=!1}cl(this._lView[B],this._lView)}onDestroy(t){A1(this._lView,t)}markForCheck(){Yh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){Cc(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,Xh(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[br].get(S3,Hf)}catch{this.exhaustive=Hf}}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=_i(this._lView),n=this._lView[xr];n!==null&&!t&&Wh(n,this._lView),tg(this._lView[B],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=t;let n=_i(this._lView),r=this._lView[xr];r!==null&&!n&&kg(r,this._lView),Cc(this._lView)}};function dl(e,t,n,r,i){let o=e.data[t];if(o===null)o=J3(e,t,n,r,i),vf()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=gf();o.injectorIndex=a===null?-1:a.injectorIndex}return Li(o,!0),o}function J3(e,t,n,r,i){let o=P1(),a=O1(),s=a?o:o&&o.parent,c=e.data[t]=ew(e,s,n,t,r,i);return Q3(e,c,o,a),c}function Q3(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function ew(e,t,n,r,i,o){let a=t?t.injectorIndex:-1,s=0;return R1()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var FT=new RegExp(`^(\\d+)*(${FM}|${NM})*(.*)`);function tw(e){let t=e[b1]??[],r=e[xe][pe],i=[];for(let o of t)o.data[Ay]!==void 0?i.push(o):nw(o,r);e[b1]=i}function nw(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Ey];for(;n<i;){let o=r.nextSibling;Wy(t,r,!1),r=o,n++}}}var rw=()=>null,iw=()=>null;function zc(e,t){return rw(e,t)}function vg(e,t,n){return iw(e,t,n)}var Mg=class{},ul=class{},mh=class{resolveComponentFactory(t){throw new D(917,!1)}},Yo=class{static NULL=new mh},Or=class{},nn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>ow()}return e})();function ow(){let e=Y(),t=ht(),n=wt(t.index,e);return(Yt(n)?n:e)[pe]}var wg=(()=>{class e{static \u0275prov=L({token:e,providedIn:"root",factory:()=>null})}return e})();var Pc={},kh=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,Pc,r);return i!==Pc||n===Pc?i:this.parentInjector.get(t,n,r)}};function Bf(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)i=r1(i,s);else if(o==2){let c=s,l=t[++a];r=r1(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function A(e,t=0){let n=Y();if(n===null)return P(e,t);let r=ht();return wy(r,n,Ae(e),t)}function Cg(e,t,n,r,i){let o=r===null?null:{"":-1},a=i(e,n);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}cw(e,t,n,s,o,c,l)}o!==null&&r!==null&&aw(n,r,o)}function aw(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new D(-301,!1);r.push(t[i],o)}}function sw(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function cw(e,t,n,r,i,o,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&Jt(h)&&(c=!0,sw(e,n,p)),lh(Vc(n,t),e,h.type)}fw(n,e.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=Xy(e,t,s,null);s>0&&(n.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(n.mergedAttrs=Bo(n.mergedAttrs,h.hostAttrs),dw(e,n,t,u,h),pw(u,h,i),a!==null&&a.has(h)){let[g,k]=a.get(h);n.directiveToIndex.set(h.type,[u,g+n.directiveStart,k+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}lw(e,n,o)}function lw(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))zf(0,t,i,r),zf(1,t,i,r),$f(t,r,!1);else{let o=n.get(i);Uf(0,t,o,r),Uf(1,t,o,r),$f(t,r,!0)}}}function zf(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;e===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(r),bg(t,o)}}function Uf(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;e===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),bg(t,a)}}function bg(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function $f(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||Vh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===t){a??=[],a.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===t){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(a)}function dw(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=jn(i.type,!0)),a=new Rr(o,Jt(i),A);e.blueprint[r]=a,n[r]=a,uw(e,t,r,Xy(e,n,i.hostVars,pt),i)}function uw(e,t,n,r,i){let o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let s=~t.index;hw(a)!=s&&a.push(s),a.push(n,r,o)}}function hw(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function pw(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Jt(t)&&(n[""]=e)}}function fw(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ig(e,t,n,r,i,o,a,s){let c=t.consts,l=Un(c,a),d=dl(t,e,2,r,l);return o&&Cg(t,n,d,Un(c,s),i),d.mergedAttrs=Bo(d.mergedAttrs,d.attrs),d.attrs!==null&&Bf(d,d.attrs,!1),d.mergedAttrs!==null&&Bf(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function xg(e,t){hy(e,t),I1(t)&&e.queries.elementEnd(t)}function hl(e,t,n){return e[t]=n}function yw(e,t){return e[t]}function tn(e,t,n){if(n===pt)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Jh(e,t,n,r){let i=tn(e,t,n);return tn(e,t+1,r)||i}function gw(e,t,n,r,i){let o=Jh(e,t,n,r);return tn(e,t+2,i)||o}function Q1(e,t,n){return function r(i){let o=zn(e)?wt(e.index,t):t;Yh(o,5);let a=t[ye],s=Gf(t,a,n,i),c=r.__ngNextListenerFn__;for(;c;)s=Gf(t,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function Gf(e,t,n,r){let i=F(null);try{return oe(6,t,n),n(r)!==!1}catch(o){return C3(e,o),!1}finally{oe(7,t,n),F(i)}}function mw(e,t,n,r,i,o,a,s){let c=Mc(e),l=!1,d=null;if(!r&&c&&(d=kw(t,n,o,e.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=jt(e,n),p=r?r(u):u;VM(n,p,o,s);let h=i.listen(p,o,s),y=r?g=>r(Mt(g[e.index])):e.index;Sg(y,t,n,o,s,h,!1)}return l}function kw(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=t[Si],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function Sg(e,t,n,r,i,o,a){let s=t.firstCreatePass?df(t):null,c=lf(n),l=c.length;c.push(i,o),s&&s.push(r,e,l,(l+1)*(a?-1:1))}function Wf(e,t,n,r,i,o){let a=t[n],s=t[B],l=s.data[n].outputs[r],u=a[l].subscribe(o);Sg(e.index,s,t,i,o,u,!0)}var vh=Symbol("BINDING");var Uc=class extends Yo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=qn(t);return new Pi(n,this.ngModule)}};function vw(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&ol.SignalBased)!==0};return i&&(o.transform=i),o})}function Mw(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function ww(e,t,n){let r=t instanceof Ie?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new kh(n,r):n}function Cw(e){let t=e.get(Or,null);if(t===null)throw new D(407,!1);let n=e.get(wg,null),r=e.get(kr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function bw(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return $y(t,n,n==="svg"?x1:n==="math"?of:null)}var Pi=class extends ul{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=vw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Mw(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=e3(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,a){oe(22);let s=F(null);try{let c=this.componentDef,l=Iw(r,c,a,o),d=ww(c,i||this.ngModule,t),u=Cw(d),p=u.rendererFactory.createRenderer(null,c),h=r?l3(p,r,c.encapsulation,d):bw(c,p),y=a?.some(Zf)||o?.some(M=>typeof M!="function"&&M.bindings.some(Zf)),g=qh(null,l,null,512|Ky(c),null,null,u,p,d,null,Py(h,d,!0));g[Ce]=h,Ic(g);let k=null;try{let M=Ig(Ce,l,g,"#host",()=>l.directiveRegistry,!0,0);h&&(Zy(p,h,M),Ko(h,g)),zh(l,g,M),Ny(l,M,g),xg(l,M),n!==void 0&&Sw(M,this.ngContentSelectors,n),k=wt(M.index,g),g[ye]=k[ye],$h(l,g,null)}catch(M){throw k!==null&&uh(k),uh(g),M}finally{oe(23),xc()}return new $c(this.componentType,g,!!y)}finally{F(s)}}};function Iw(e,t,n,r){let i=e?["ng-version","20.0.4"]:t3(t.selectors[0]),o=null,a=null,s=0;if(n)for(let d of n)s+=d[vh].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[vh].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[t];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=m1(u);c.push(p)}return Hh(0,null,xw(o,a),1,s,c,null,null,null,[i],null)}function xw(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function Zf(e){let t=e[vh].kind;return t==="input"||t==="twoWay"}var $c=class extends Mg{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Po(n[B],Ce),this.location=Ph(this._tNode,n),this.instance=wt(this._tNode.index,n)[ye],this.hostView=this.changeDetectorRef=new Pr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=Uh(r,i[B],i,t,n);this.previousInputValues.set(t,n);let a=wt(r.index,i);Yh(a,1)}get injector(){return new Tr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function Sw(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Jo=(()=>{class e{static __NG_ELEMENT_ID__=Dw}return e})();function Dw(){let e=ht();return Lw(e,Y())}var _w=Jo,Dg=class extends _w{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ph(this._hostTNode,this._hostLView)}get injector(){return new Tr(this._hostTNode,this._hostLView)}get parentInjector(){let t=Rh(this._hostTNode,this._hostLView);if(yy(t)){let n=Fc(t,this._hostLView),r=Nc(t),i=n[B].data[r+8];return new Tr(i,n)}else return new Tr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=Kf(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Re}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=zc(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,Ri(this._hostTNode,a)),s}createComponent(t,n,r,i,o,a,s){let c=t&&!uM(t),l;if(c)l=n;else{let k=n||{};l=k.index,r=k.injector,i=k.projectableNodes,o=k.environmentInjector||k.ngModuleRef,a=k.directives,s=k.bindings}let d=c?t:new Pi(qn(t)),u=r||this.parentInjector;if(!o&&d.ngModule==null){let M=(c?u:this.parentInjector).get(Ie,null);M&&(o=M)}let p=qn(d.componentType??{}),h=zc(this._lContainer,p?.id??null),y=h?.firstChild??null,g=d.create(u,i,y,o,a,s);return this.insertImpl(g.hostView,l,Ri(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(af(i)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let c=i[xe],l=new Dg(c,c[We],c[xe]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),a=this._lContainer;return Xo(a,i,o,r),t.attachToViewContainerRef(),p1(eh(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=Kf(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Uo(this._lContainer,n);r&&(Do(eh(this._lContainer),n),cl(r[B],r))}detach(t){let n=this._adjustIndex(t,-1),r=Uo(this._lContainer,n);return r&&Do(eh(this._lContainer),n)!=null?new Pr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function Kf(e){return e[To]}function eh(e){return e[To]||(e[To]=[])}function Lw(e,t){let n,r=t[e.index];return Ft(r)?n=r:(n=yg(r,t,null,e),t[e.index]=n,Bh(t,n)),Aw(n,t,e,r),new Dg(n,e,t)}function Ew(e,t){let n=e[pe],r=n.createComment(""),i=jt(t,e),o=n.parentNode(i);return Bc(n,o,r,n.nextSibling(i),!1),r}var Aw=Pw,Tw=()=>!1;function Rw(e,t,n){return Tw(e,t,n)}function Pw(e,t,n,r){if(e[Bn])return;let i;n.type&8?i=Mt(r):i=Ew(t,n),e[Bn]=i}var Xf=new Set;function Wn(e){Xf.has(e)||(Xf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Nr=class{},pl=class{};var Gc=class extends Nr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Uc(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=g1(t);this._bootstrapComponents=By(o.bootstrap),this._r3Injector=$1(t,n,[{provide:Nr,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver},...r],rt(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Wc=class extends pl{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Gc(this.moduleType,t,[])}};var $o=class extends Nr{injector;componentFactoryResolver=new Uc(this);instance=null;constructor(t){super();let n=new mr([...t.providers,{provide:Nr,useValue:this},{provide:Yo,useValue:this.componentFactoryResolver}],t.parent||Lo(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Qo(e,t,n=null){return new $o({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var Ow=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=k1(!1,n.type),i=r.length>0?Qo([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(P(Ie))})}return e})();function J(e){return Ni(()=>{let t=_g(e),n=V(I({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Oh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(Ow).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Sn.Emulated,styles:e.styles||ct,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Wn("NgStandalone"),Lg(n);let r=e.dependencies;return n.directiveDefs=Yf(r,!1),n.pipeDefs=Yf(r,!0),n.id=Hw(n),n})}function Nw(e){return qn(e)||m1(e)}function Fw(e){return e!==null}function Ct(e){return Ni(()=>({type:e.type,bootstrap:e.bootstrap||ct,declarations:e.declarations||ct,imports:e.imports||ct,exports:e.exports||ct,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function jw(e,t){if(e==null)return Hn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=ol.None,c=null),n[o]=[r,s,c],t[o]=a}return n}function Vw(e){if(e==null)return Hn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function _e(e){return Ni(()=>{let t=_g(e);return Lg(t),t})}function fl(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function _g(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Hn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ct,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:jw(e.inputs,t),outputs:Vw(e.outputs),debugInfo:null}}function Lg(e){e.features?.forEach(t=>t(e))}function Yf(e,t){if(!e)return null;let n=t?X0:Nw;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(Fw)}function Hw(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function qw(e){return Object.getPrototypeOf(e.prototype).constructor}function bt(e){let t=qw(e.type),n=!0,r=[e];for(;t;){let i;if(Jt(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new D(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let a=e;a.inputs=th(e.inputs),a.declaredInputs=th(e.declaredInputs),a.outputs=th(e.outputs);let s=i.hostBindings;s&&Gw(e,s);let c=i.viewQuery,l=i.contentQueries;if(c&&Uw(e,c),l&&$w(e,l),Bw(e,i),B0(e.outputs,i.outputs),Jt(i)&&i.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(e),s===bt&&(n=!1)}}t=Object.getPrototypeOf(t)}zw(r)}function Bw(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function zw(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Bo(i.hostAttrs,n=Bo(n,i.hostAttrs))}}function th(e){return e===Hn?{}:e===ct?[]:e}function Uw(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function $w(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function Gw(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function Ww(e,t,n,r,i,o,a,s,c){let l=t.consts,d=dl(t,e,4,a||null,s||null);T1()&&Cg(t,n,d,Un(l,c),eg),d.mergedAttrs=Bo(d.mergedAttrs,d.attrs),hy(t,d);let u=d.tView=Hh(2,d,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}function Go(e,t,n,r,i,o,a,s,c,l,d){let u=n+Ce,p=t.firstCreatePass?Ww(u,t,e,r,i,o,a,s,l):t.data[u];c&&(p.flags|=c),Li(p,!1);let h=Zw(t,e,p,n);Dc()&&Zh(t,e,h,p),Ko(h,e);let y=yg(h,e,h,p);return e[u]=y,Bh(e,y),Rw(y,p,e),Mc(p)&&zh(t,e,p),l!=null&&Qy(e,p,d),p}var Zw=Kw;function Kw(e,t,n,r){return _c(!0),t[pe].createComment("")}var Qh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(Qh||{}),ea=new E(""),Eg=!1,Mh=class extends re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,nf()&&(this.destroyRef=b(Er,{optional:!0})??void 0,this.pendingTasks=b(Gn,{optional:!0})??void 0)}emit(t){let n=F(null);try{super.next(t)}finally{F(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),a=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return t instanceof he&&t.add(s),s}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},ge=Mh;function Ag(e){let t,n;function r(){e=Vo;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function Jf(e){return queueMicrotask(()=>e()),()=>{e=Vo}}var ep="isAngularZone",Zc=ep+"_ID",Xw=0,be=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new ge(!1);onMicrotaskEmpty=new ge(!1);onStable=new ge(!1);onError=new ge(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Eg}=t;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,Qw(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ep)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,t,Yw,Vo,Vo);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},Yw={};function tp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Jw(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Ag(()=>{e.callbackScheduled=!1,wh(e),e.isCheckStableRunning=!0,tp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),wh(e)}function Qw(e){let t=()=>{Jw(e)},n=Xw++;e._inner=e._inner.fork({name:"angular",properties:{[ep]:!0,[Zc]:n,[Zc+n]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(e8(c))return r.invokeTask(o,a,s,c);try{return Qf(e),r.invokeTask(o,a,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),ey(e)}},onInvoke:(r,i,o,a,s,c,l)=>{try{return Qf(e),r.invoke(o,a,s,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!t8(c)&&t(),ey(e)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,wh(e),tp(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function wh(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function Qf(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ey(e){e._nesting--,tp(e)}var Kc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new ge;onMicrotaskEmpty=new ge;onStable=new ge;onError=new ge;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function e8(e){return Tg(e,"__ignore_ng_zone__")}function t8(e){return Tg(e,"__scheduler_tick__")}function Tg(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Rg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}return e})();var np=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var rp=new E("");function Zn(e){return!!e&&typeof e.then=="function"}function ip(e){return!!e&&typeof e.subscribe=="function"}var Pg=new E("");var op=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=b(Pg,{optional:!0})??[];injector=b(Te);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=dt(this.injector,i);if(Zn(o))n.push(o);else if(ip(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),yl=new E("");function Og(){Cu(()=>{let e="";throw new D(600,e)})}function Ng(e){return e.isBoundToModule}var n8=10;var Vr=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(it);afterRenderManager=b(Rg);zonelessEnabled=b(jo);rootEffectScheduler=b(K1);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new re;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(Gn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(R(n=>!n))}constructor(){b(ea,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=b(Ie);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Te.NULL){return this._injector.get(be).run(()=>{oe(10);let a=n instanceof ul;if(!this._injector.get(op).done){let y="";throw new D(405,y)}let c;a?c=n:c=this._injector.get(Yo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=Ng(c)?void 0:this._injector.get(Nr),d=r||c.selector,u=c.create(i,[],d,l),p=u.location.nativeElement,h=u.injector.get(rp,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),qo(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),oe(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Qh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let n=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(n),this.afterTick.next(),oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Or,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<n8;)oe(14),this.synchronizeOnce(),oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Oo(i))continue;let o=r&&!this.zonelessEnabled?0:1;Xh(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Oo(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;qo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(yl,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new D(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Kn(e,t,n,r){let i=Y(),o=Ei();if(tn(i,o,t)){let a=qe(),s=U1();v3(s,i,e,t,n,r)}return Kn}var Ch=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function nh(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function r8(e,t,n){let r,i,o=0,a=e.length-1,s=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=a&&o<=c;){let l=e.at(o),d=t[o],u=nh(o,l,o,d,n);if(u!==0){u<0&&e.updateValue(o,d),o++;continue}let p=e.at(a),h=t[c],y=nh(a,p,c,h,n);if(y!==0){y<0&&e.updateValue(a,h),a--,c--;continue}let g=n(o,l),k=n(a,p),M=n(o,d);if(Object.is(M,k)){let T=n(c,h);Object.is(T,g)?(e.swap(o,a),e.updateValue(a,h),c--,a--):e.move(a,o),e.updateValue(o,d),o++;continue}if(r??=new Xc,i??=ny(e,o,a,n),bh(e,r,o,M))e.updateValue(o,d),o++,a++;else if(i.has(M))r.set(g,e.detach(o)),a--;else{let T=e.create(o,t[o]);e.attach(o,T),o++,a++}}for(;o<=c;)ty(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=a;){let d=e.at(o),u=l.value,p=nh(o,d,o,u,n);if(p!==0)p<0&&e.updateValue(o,u),o++,l=c.next();else{r??=new Xc,i??=ny(e,o,a,n);let h=n(o,u);if(bh(e,r,o,h))e.updateValue(o,u),o++,a++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,u)),o++,a++,l=c.next();else{let y=n(o,d);r.set(y,e.detach(o)),a--}}}for(;!l.done;)ty(e,r,n,e.length,l.value),l=c.next()}for(;o<=a;)e.destroy(e.detach(a--));r?.forEach(c=>{e.destroy(c)})}function bh(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function ty(e,t,n,r,i){if(bh(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function ny(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Xc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Ke(e,t,n,r,i,o,a,s){Wn("NgControlFlow");let c=Y(),l=qe(),d=Un(l.consts,o);return Go(c,l,e,t,n,r,i,d,256,a,s),ap}function ap(e,t,n,r,i,o,a,s){Wn("NgControlFlow");let c=Y(),l=qe(),d=Un(l.consts,o);return Go(c,l,e,t,n,r,i,d,512,a,s),ap}function Xe(e,t){Wn("NgControlFlow");let n=Y(),r=Ei(),i=n[r]!==pt?n[r]:-1,o=i!==-1?Yc(n,Ce+i):void 0,a=0;if(tn(n,r,e)){let s=F(null);try{if(o!==void 0&&mg(o,a),e!==-1){let c=Ce+e,l=Yc(n,c),d=Dh(n[B],c),u=vg(l,d,n),p=al(n,d,t,{dehydratedView:u});Xo(l,p,a,Ri(d,u))}}finally{F(s)}}else if(o!==void 0){let s=gg(o,a);s!==void 0&&(s[ye]=t)}}var Ih=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Re}};function ji(e,t){return t}var xh=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function Bt(e,t,n,r,i,o,a,s,c,l,d,u,p){Wn("NgControlFlow");let h=Y(),y=qe(),g=c!==void 0,k=Y(),M=s?a.bind(k[Ze][ye]):a,T=new xh(g,M);k[Ce+e]=T,Go(h,y,e+1,t,n,r,i,Un(y.consts,o),256),g&&Go(h,y,e+2,c,l,d,u,Un(y.consts,p),512)}var Sh=class extends Ch{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Re}at(t){return this.getLView(t)[ye].$implicit}attach(t,n){let r=n[Cr];this.needsIndexUpdate||=t!==this.length,Xo(this.lContainer,n,t,Ri(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,i8(this.lContainer,t)}create(t,n){let r=zc(this.lContainer,this.templateTNode.tView.ssrId),i=al(this.hostLView,this.templateTNode,new Ih(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){cl(t[B],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[ye].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[ye].$index=t}getLView(t){return o8(this.lContainer,t)}};function zt(e){let t=F(null),n=In();try{let r=Y(),i=r[B],o=r[n],a=n+1,s=Yc(r,a);if(o.liveCollection===void 0){let l=Dh(i,a);o.liveCollection=new Sh(s,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(r8(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Ei(),d=c.length===0;if(tn(r,l,d)){let u=n+2,p=Yc(r,u);if(d){let h=Dh(i,u),y=vg(p,h,r),g=al(r,h,void 0,{dehydratedView:y});Xo(p,g,0,Ri(h,y))}else i.firstUpdatePass&&tw(p),mg(p,0)}}}finally{F(t)}}function Yc(e,t){return e[t]}function i8(e,t){return Uo(e,t)}function o8(e,t){return gg(e,t)}function Dh(e,t){return Po(e,t)}function _(e,t,n){let r=Y(),i=Ei();if(tn(r,i,t)){let o=qe(),a=U1();p3(a,r,e,t,r[pe],n)}return _}function ry(e,t,n,r,i){Uh(t,e,n,i?"class":"style",r)}function m(e,t,n,r){let i=Y(),o=qe(),a=Ce+e,s=i[pe],c=o.firstCreatePass?Ig(a,o,i,t,eg,T1(),n,r):o.data[a],l=a8(o,i,c,s,t,e);i[a]=l;let d=Mc(c);return Li(c,!0),Zy(s,l,c),!sl(c)&&Dc()&&Zh(o,i,l,c),(uf()===0||d)&&Ko(l,i),hf(),d&&(zh(o,i,c),Ny(o,c,i)),r!==null&&Qy(i,c),m}function v(){let e=ht();O1()?N1():(e=e.parent,Li(e,!1));let t=e;ff(t)&&yf(),pf();let n=qe();return n.firstCreatePass&&xg(n,t),t.classesWithoutHost!=null&&mM(t)&&ry(n,t,Y(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&kM(t)&&ry(n,t,Y(),t.stylesWithoutHost,!1),v}function S(e,t,n,r){return m(e,t,n,r),v(),S}var a8=(e,t,n,r,i,o)=>(_c(!0),$y(r,i,Df()));var Ar=void 0;function s8(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var c8=["en",[["a","p"],["AM","PM"],Ar],[["AM","PM"],Ar,Ar],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Ar,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Ar,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Ar,"{1} 'at' {0}",Ar],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",s8],rh={};function ft(e){let t=l8(e),n=iy(t);if(n)return n;let r=t.split("-")[0];if(n=iy(r),n)return n;if(r==="en")return c8;throw new D(701,!1)}function iy(e){return e in rh||(rh[e]=Cn.ng&&Cn.ng.common&&Cn.ng.common.locales&&Cn.ng.common.locales[e]),rh[e]}var fe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(fe||{});function l8(e){return e.toLowerCase().replace(/_/g,"-")}var ta="en-US";var d8=ta;function Fg(e){typeof e=="string"&&(d8=e.toLowerCase().replace(/_/g,"-"))}function Pe(e,t,n){let r=Y(),i=qe(),o=ht();return u8(i,r,r[pe],o,e,t,n),Pe}function u8(e,t,n,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=Q1(r,t,o),mw(r,e,t,a,n,i,o,c)&&(s=!1)),s){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=Q1(r,t,o),Wf(r,t,p,h,i,c)}if(l&&l.length)for(let u of l)c??=Q1(r,t,o),Wf(r,t,u,i,i,c)}}function Ut(e=1){return Sf(e)}function h8(e,t){let n=null,r=KM(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?Uy(e,o,!0):JM(r,o))return i}return n}function sp(e){let t=Y()[Ze][We];if(!t.projection){let n=e?e.length:1,r=t.projection=W0(n,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=e?h8(o,e):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function cp(e,t=0,n,r,i,o){let a=Y(),s=qe(),c=r?e+1:null;c!==null&&Go(a,s,c,r,i,o,null,n);let l=dl(s,Ce+e,16,null,n||null);l.projection===null&&(l.projection=t),N1();let u=!a[Cr]||R1();a[Ze][We].projection[l.projection]===null&&c!==null?p8(a,s,c):u&&!sl(l)&&N3(s,a,l)}function p8(e,t,n){let r=Ce+n,i=t.data[r],o=e[r],a=zc(o,i.tView.ssrId),s=al(e,i,void 0,{dehydratedView:a});Xo(o,s,0,Ri(i,a))}function Ac(e,t){return e<<17|t<<2}function Fr(e){return e>>17&32767}function f8(e){return(e&2)==2}function y8(e,t){return e&131071|t<<17}function _h(e){return e|2}function Oi(e){return(e&131068)>>2}function ih(e,t){return e&-131069|t<<2}function g8(e){return(e&1)===1}function Lh(e){return e|1}function m8(e,t,n,r,i,o){let a=o?t.classBindings:t.styleBindings,s=Fr(a),c=Oi(a);e[r]=n;let l=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||xi(u,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let p=Fr(e[s+1]);e[r+1]=Ac(p,s),p!==0&&(e[p+1]=ih(e[p+1],r)),e[s+1]=y8(e[s+1],r)}else e[r+1]=Ac(s,0),s!==0&&(e[s+1]=ih(e[s+1],r)),s=r;else e[r+1]=Ac(c,0),s===0?s=r:e[c+1]=ih(e[c+1],r),c=r;l&&(e[r+1]=_h(e[r+1])),oy(e,d,r,!0),oy(e,d,r,!1),k8(t,d,e,r,o),a=Ac(s,c),o?t.classBindings=a:t.styleBindings=a}function k8(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&xi(o,t)>=0&&(n[r+1]=Lh(n[r+1]))}function oy(e,t,n,r){let i=e[n+1],o=t===null,a=r?Fr(i):Oi(i),s=!1;for(;a!==0&&(s===!1||o);){let c=e[a],l=e[a+1];v8(c,t)&&(s=!0,e[a+1]=r?Lh(l):_h(l)),a=r?Fr(l):Oi(l)}s&&(e[n+1]=r?_h(i):Lh(i))}function v8(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?xi(e,t)>=0:!1}function na(e,t){return M8(e,t,null,!0),na}function M8(e,t,n,r){let i=Y(),o=qe(),a=H1(2);if(o.firstUpdatePass&&C8(o,e,a,r),t!==pt&&tn(i,a,t)){let s=o.data[In()];D8(o,s,i,i[pe],e,i[a+1]=_8(t,n),r,a)}}function w8(e,t){return t>=e.expandoStartIndex}function C8(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[In()],a=w8(e,n);L8(o,r)&&t===null&&!a&&(t=!1),t=b8(i,o,t,r),m8(i,o,t,n,a,r)}}function b8(e,t,n,r){let i=Cf(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=oh(null,e,t,n,r),n=Wo(n,t.attrs,r),o=null);else{let a=t.directiveStylingLast;if(a===-1||e[a]!==i)if(n=oh(i,e,t,n,r),o===null){let c=I8(e,t,r);c!==void 0&&Array.isArray(c)&&(c=oh(null,e,t,c[1],r),c=Wo(c,t.attrs,r),x8(e,t,r,c))}else o=S8(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function I8(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Oi(r)!==0)return e[Fr(r)]}function x8(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[Fr(i)]=r}function S8(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let a=e[o].hostAttrs;r=Wo(r,a,n)}return Wo(r,t.attrs,n)}function oh(e,t,n,r,i){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=t[s],r=Wo(r,o.hostAttrs,i),o!==e);)s++;return e!==null&&(n.directiveStylingLast=s),r}function Wo(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?i=a:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),K0(e,a,n?!0:t[++o]))}return e===void 0?null:e}function D8(e,t,n,r,i,o,a,s){if(!(t.type&3))return;let c=e.data,l=c[s+1],d=g8(l)?ay(c,t,n,i,Oi(l),a):void 0;if(!Jc(d)){Jc(o)||f8(l)&&(o=ay(c,null,n,i,s,a));let u=S1(In(),n);j3(r,a,u,i,o)}}function ay(e,t,n,r,i,o){let a=t===null,s;for(;i>0;){let c=e[i],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=n[i+1];p===pt&&(p=u?ct:void 0);let h=u?mc(p,r):d===r?p:void 0;if(l&&!Jc(h)&&(h=mc(c,r)),Jc(h)&&(s=h,a))return s;let y=e[i+1];i=a?Fr(y):Oi(y)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(s=mc(c,r))}return s}function Jc(e){return e!==void 0}function _8(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=rt(rl(e)))),e}function L8(e,t){return(e.flags&(t?8:16))!==0}function x(e,t=""){let n=Y(),r=qe(),i=e+Ce,o=r.firstCreatePass?dl(r,i,1,t,null):r.data[i],a=E8(r,n,o,t,e);n[i]=a,Dc()&&Zh(r,n,a,o),Li(o,!1)}var E8=(e,t,n,r,i)=>(_c(!0),n3(t[pe],r));function A8(e,t,n,r=""){return tn(e,Ei(),n)?t+Mr(n)+r:pt}function T8(e,t,n,r,i,o=""){let a=mf(),s=Jh(e,a,n,i);return H1(2),s?t+Mr(n)+r+Mr(i)+o:pt}function ot(e){return me("",e),ot}function me(e,t,n){let r=Y(),i=A8(r,e,t,n);return i!==pt&&jg(r,In(),i),me}function $t(e,t,n,r,i){let o=Y(),a=T8(o,e,t,n,r,i);return a!==pt&&jg(o,In(),a),$t}function jg(e,t,n){let r=S1(t,e);r3(e[pe],r,n)}function R8(e,t,n){let r=qe();if(r.firstCreatePass){let i=Jt(e);Eh(n,r.data,r.blueprint,i,!0),Eh(t,r.data,r.blueprint,i,!1)}}function Eh(e,t,n,r,i){if(e=Ae(e),Array.isArray(e))for(let o=0;o<e.length;o++)Eh(e[o],t,n,r,i);else{let o=qe(),a=Y(),s=ht(),c=gr(e)?e:Ae(e.provide),l=M1(e),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(gr(e)||!e.multi){let h=new Rr(l,i,A),y=sh(c,t,i?d:d+p,u);y===-1?(lh(Vc(s,a),o,c),ah(o,e,t.length),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(h),a.push(h)):(n[y]=h,a[y]=h)}else{let h=sh(c,t,d+p,u),y=sh(c,t,d,d+p),g=h>=0&&n[h],k=y>=0&&n[y];if(i&&!k||!i&&!g){lh(Vc(s,a),o,c);let M=N8(i?O8:P8,n.length,i,r,l);!i&&k&&(n[y].providerFactory=M),ah(o,e,t.length,0),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(M),a.push(M)}else{let M=Vg(n[i?y:h],l,!i&&r);ah(o,e,h>-1?h:y,M)}!i&&r&&k&&n[y].componentProviders++}}}function ah(e,t,n,r){let i=gr(t),o=tf(t);if(i||o){let c=(o?Ae(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function Vg(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function sh(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function P8(e,t,n,r){return Ah(this.multi,[])}function O8(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,s=Hc(n,n[B],this.providerFactory.index,r);o=s.slice(0,a),Ah(i,o);for(let c=a;c<s.length;c++)o.push(s[c])}else o=[],Ah(i,o);return o}function Ah(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function N8(e,t,n,r,i){let o=new Rr(e,n,A);return o.multi=[],o.index=t,o.componentProviders=0,Vg(o,i,r&&!n),o}function Ye(e,t=[]){return n=>{n.providersResolver=(r,i)=>R8(r,i?i(e):e,t)}}function Hr(e,t,n){let r=Lr()+e,i=Y();return i[r]===pt?hl(i,r,n?t.call(n):t()):yw(i,r)}function ra(e,t,n,r){return Hg(Y(),Lr(),e,t,n,r)}function lp(e,t,n,r,i){return qg(Y(),Lr(),e,t,n,r,i)}function dp(e,t,n,r,i,o){return F8(Y(),Lr(),e,t,n,r,i,o)}function up(e,t){let n=e[t];return n===pt?void 0:n}function Hg(e,t,n,r,i,o){let a=t+n;return tn(e,a,i)?hl(e,a+1,o?r.call(o,i):r(i)):up(e,a+1)}function qg(e,t,n,r,i,o,a){let s=t+n;return Jh(e,s,i,o)?hl(e,s+2,a?r.call(a,i,o):r(i,o)):up(e,s+2)}function F8(e,t,n,r,i,o,a,s){let c=t+n;return gw(e,c,i,o,a)?hl(e,c+3,s?r.call(s,i,o,a):r(i,o,a)):up(e,c+3)}function Xn(e,t){let n=qe(),r,i=e+Ce;n.firstCreatePass?(r=j8(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=jn(r.type,!0)),a,s=Ge(A);try{let c=jc(!1),l=o();return jc(c),_1(n,Y(),i,l),l}finally{Ge(s)}}function j8(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function hp(e,t,n){let r=e+Ce,i=Y(),o=D1(i,r);return Bg(i,r)?Hg(i,Lr(),t,o.transform,n,o):o.transform(n)}function qr(e,t,n,r){let i=e+Ce,o=Y(),a=D1(o,i);return Bg(o,i)?qg(o,Lr(),t,a.transform,n,r,a):a.transform(n,r)}function Bg(e,t){return e[B].data[t].pure}var Qc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},pp=(()=>{class e{compileModuleSync(n){return new Wc(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=g1(n),o=By(i.declarations).reduce((a,s)=>{let c=qn(s);return c&&a.push(new Pi(c)),a},[]);return new Qc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var V8=(()=>{class e{zone=b(be);changeDetectionScheduler=b(kr);applicationRef=b(Vr);applicationErrorHandler=b(it);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),zg=new E("",{factory:()=>!1});function fp({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new be(V(I({},gp()),{scheduleInRootZone:n})),[{provide:be,useFactory:e},{provide:bn,multi:!0,useFactory:()=>{let r=b(V8,{optional:!0});return()=>r.initialize()}},{provide:bn,multi:!0,useFactory:()=>{let r=b(H8);return()=>{r.initialize()}}},t===!0?{provide:W1,useValue:!0}:[],{provide:Z1,useValue:n??Eg},{provide:it,useFactory:()=>{let r=b(be),i=b(Ie),o;return a=>{o??=i.get(Kt),r.runOutsideAngular(()=>o.handleError(a))}}}]}function yp(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=fp({ngZoneFactory:()=>{let i=gp(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Wn("NgZone_CoalesceEvent"),new be(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return wr([{provide:zg,useValue:!0},{provide:jo,useValue:!1},r])}function gp(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var H8=(()=>{class e{subscription=new he;initialized=!1;zone=b(be);pendingTasks=b(Gn);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{be.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{be.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Ug=(()=>{class e{applicationErrorHandler=b(it);appRef=b(Vr);taskService=b(Gn);ngZone=b(be);zonelessEnabled=b(jo);tracing=b(ea,{optional:!0});disableScheduling=b(W1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Zc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(Z1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Kc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?Jf:Ag;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Zc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Jf(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function q8(){return typeof $localize<"u"&&$localize.locale||ta}var ia=new E("",{providedIn:"root",factory:()=>b(ia,{optional:!0,skipSelf:!0})||q8()});function It(e){return j0(e)}function Vi(e,t){return Rs(e,t?.equal)}var $g=class{[$e];constructor(t){this[$e]=t}destroy(){this[$e].destroy()}};var Wg=Symbol("InputSignalNode#UNSET"),o6=V(I({},Ps),{transformFn:void 0,applyValueToInputSignal(e,t){hi(e,t)}});function Zg(e,t){let n=Object.create(o6);n.value=e,n.transformFn=t?.transform;function r(){if(di(n),n.value===Wg){let i=null;throw new D(-950,i)}return n.value}return r[$e]=n,r}var ml=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Zo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},a6=new E("");a6.__NG_ELEMENT_ID__=e=>{let t=ht();if(t===null)throw new D(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new D(204,!1)};function Gg(e,t){return Zg(e,t)}function s6(e){return Zg(Wg,e)}var Kg=(Gg.required=s6,Gg);var kl=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},Xg=new kl("20.0.4");var mp=new E(""),c6=new E("");function oa(e){return!e.moduleRef}function l6(e){let t=oa(e)?e.r3Injector:e.moduleRef.injector,n=t.get(be);return n.run(()=>{oa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(it),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),oa(e)){let o=()=>t.destroy(),a=e.platformInjector.get(mp);a.add(o),t.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(mp);a.add(o),e.moduleRef.onDestroy(()=>{qo(e.allPlatformModules,e.moduleRef),i.unsubscribe(),a.delete(o)})}return u6(r,n,()=>{let o=t.get(op);return o.runInitializers(),o.donePromise.then(()=>{let a=t.get(ia,ta);if(Fg(a||ta),!t.get(c6,!0))return oa(e)?t.get(Vr):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(oa(e)){let c=t.get(Vr);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return d6?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var d6;function u6(e,t,n){try{let r=n();return Zn(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var gl=null;function h6(e=[],t){return Te.create({name:t,providers:[{provide:_o,useValue:"platform"},{provide:mp,useValue:new Set([()=>gl=null])},...e]})}function p6(e=[]){if(gl)return gl;let t=h6(e);return gl=t,Og(),f6(t),t}function f6(e){let t=e.get(tl,null);dt(e,()=>{t?.forEach(n=>n())})}var Br=(()=>{class e{static __NG_ELEMENT_ID__=y6}return e})();function y6(e){return g6(ht(),Y(),(e&16)===16)}function g6(e,t,n){if(zn(e)&&!n){let r=wt(e.index,t);return new Pr(r,r)}else if(e.type&175){let r=t[Ze];return new Pr(r,t)}return null}function Yg(e){oe(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=p6(r),o=[fp({}),{provide:kr,useExisting:Ug},Lf,...n||[]],a=new $o({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return l6({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{oe(9)}}function aa(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var em=null;function xt(){return em}function kp(e){em??=e}var sa=class{},vp=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(tm),providedIn:"platform"})}return e})();var tm=(()=>{class e extends vp{_location;_history;_doc=b(De);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return xt().getBaseHref(this._doc)}onPopState(n){let r=xt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=xt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function nm(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function Jg(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Yn(e){return e&&e[0]!=="?"?`?${e}`:e}var Hi=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(im),providedIn:"root"})}return e})(),rm=new E(""),im=(()=>{class e extends Hi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(De).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return nm(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Yn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Yn(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Yn(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(P(vp),P(rm,8))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jn=(()=>{class e{_subject=new re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=v6(Jg(Qg(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Yn(r))}normalize(n){return e.stripTrailingSlash(k6(this._basePath,Qg(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Yn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Yn;static joinWithSlash=nm;static stripTrailingSlash=Jg;static \u0275fac=function(r){return new(r||e)(P(Hi))};static \u0275prov=L({token:e,factory:()=>m6(),providedIn:"root"})}return e})();function m6(){return new Jn(P(Hi))}function k6(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function Qg(e){return e.replace(/\/index.html$/,"")}function v6(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Be=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Be||{}),ne=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ne||{}),at=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(at||{}),_n={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function sm(e){return ft(e)[fe.LocaleId]}function cm(e,t,n){let r=ft(e),i=[r[fe.DayPeriodsFormat],r[fe.DayPeriodsStandalone]],o=St(i,t);return St(o,n)}function lm(e,t,n){let r=ft(e),i=[r[fe.DaysFormat],r[fe.DaysStandalone]],o=St(i,t);return St(o,n)}function dm(e,t,n){let r=ft(e),i=[r[fe.MonthsFormat],r[fe.MonthsStandalone]],o=St(i,t);return St(o,n)}function um(e,t){let r=ft(e)[fe.Eras];return St(r,t)}function ca(e,t){let n=ft(e);return St(n[fe.DateFormat],t)}function la(e,t){let n=ft(e);return St(n[fe.TimeFormat],t)}function da(e,t){let r=ft(e)[fe.DateTimeFormat];return St(r,t)}function ua(e,t){let n=ft(e),r=n[fe.NumberSymbols][t];if(typeof r>"u"){if(t===_n.CurrencyDecimal)return n[fe.NumberSymbols][_n.Decimal];if(t===_n.CurrencyGroup)return n[fe.NumberSymbols][_n.Group]}return r}function hm(e){if(!e[fe.ExtraData])throw new D(2303,!1)}function pm(e){let t=ft(e);return hm(t),(t[fe.ExtraData][2]||[]).map(r=>typeof r=="string"?Mp(r):[Mp(r[0]),Mp(r[1])])}function fm(e,t,n){let r=ft(e);hm(r);let i=[r[fe.ExtraData][0],r[fe.ExtraData][1]],o=St(i,t)||[];return St(o,n)||[]}function St(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new D(2304,!1)}function Mp(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var M6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,vl={},w6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function ym(e,t,n,r){let i=E6(e);t=Dn(n,t)||t;let a=[],s;for(;t;)if(s=w6.exec(t),s){a=a.concat(s.slice(1));let d=a.pop();if(!d)break;t=d}else{a.push(t);break}let c=i.getTimezoneOffset();r&&(c=mm(r,c),i=L6(i,r));let l="";return a.forEach(d=>{let u=D6(d);l+=u?u(i,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Il(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function Dn(e,t){let n=sm(e);if(vl[n]??={},vl[n][t])return vl[n][t];let r="";switch(t){case"shortDate":r=ca(e,at.Short);break;case"mediumDate":r=ca(e,at.Medium);break;case"longDate":r=ca(e,at.Long);break;case"fullDate":r=ca(e,at.Full);break;case"shortTime":r=la(e,at.Short);break;case"mediumTime":r=la(e,at.Medium);break;case"longTime":r=la(e,at.Long);break;case"fullTime":r=la(e,at.Full);break;case"short":let i=Dn(e,"shortTime"),o=Dn(e,"shortDate");r=Ml(da(e,at.Short),[i,o]);break;case"medium":let a=Dn(e,"mediumTime"),s=Dn(e,"mediumDate");r=Ml(da(e,at.Medium),[a,s]);break;case"long":let c=Dn(e,"longTime"),l=Dn(e,"longDate");r=Ml(da(e,at.Long),[c,l]);break;case"full":let d=Dn(e,"fullTime"),u=Dn(e,"fullDate");r=Ml(da(e,at.Full),[d,u]);break}return r&&(vl[n][t]=r),r}function Ml(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Gt(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let a=String(e);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),o+a}function C6(e,t){return Gt(e,3).substring(0,t)}function ke(e,t,n=0,r=!1,i=!1){return function(o,a){let s=b6(e,o);if((n>0||s>-n)&&(s+=n),e===3)s===0&&n===-12&&(s=12);else if(e===6)return C6(s,t);let c=ua(a,_n.MinusSign);return Gt(s,t,c,r,i)}}function b6(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new D(2301,!1)}}function ae(e,t,n=Be.Format,r=!1){return function(i,o){return I6(i,o,e,t,n,r)}}function I6(e,t,n,r,i,o){switch(n){case 2:return dm(t,i,r)[e.getMonth()];case 1:return lm(t,i,r)[e.getDay()];case 0:let a=e.getHours(),s=e.getMinutes();if(o){let l=pm(t),d=fm(t,i,r),u=l.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,g=a>=h.hours&&s>=h.minutes,k=a<y.hours||a===y.hours&&s<y.minutes;if(h.hours<y.hours){if(g&&k)return!0}else if(g||k)return!0}else if(p.hours===a&&p.minutes===s)return!0;return!1});if(u!==-1)return d[u]}return cm(t,i,r)[a<12?0:1];case 3:return um(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new D(2302,!1)}}function wl(e){return function(t,n,r){let i=-1*r,o=ua(n,_n.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Gt(a,2,o)+Gt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Gt(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+Gt(a,2,o)+":"+Gt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Gt(a,2,o)+":"+Gt(Math.abs(i%60),2,o);default:throw new D(2302,!1)}}}var x6=0,bl=4;function S6(e){let t=Il(e,x6,1).getDay();return Il(e,0,1+(t<=bl?bl:bl+7)-t)}function gm(e){let t=e.getDay(),n=t===0?-3:bl-t;return Il(e.getFullYear(),e.getMonth(),e.getDate()+n)}function wp(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=gm(n),a=S6(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return Gt(i,e,ua(r,_n.MinusSign))}}function Cl(e,t=!1){return function(n,r){let o=gm(n).getFullYear();return Gt(o,e,ua(r,_n.MinusSign),t)}}var Cp={};function D6(e){if(Cp[e])return Cp[e];let t;switch(e){case"G":case"GG":case"GGG":t=ae(3,ne.Abbreviated);break;case"GGGG":t=ae(3,ne.Wide);break;case"GGGGG":t=ae(3,ne.Narrow);break;case"y":t=ke(0,1,0,!1,!0);break;case"yy":t=ke(0,2,0,!0,!0);break;case"yyy":t=ke(0,3,0,!1,!0);break;case"yyyy":t=ke(0,4,0,!1,!0);break;case"Y":t=Cl(1);break;case"YY":t=Cl(2,!0);break;case"YYY":t=Cl(3);break;case"YYYY":t=Cl(4);break;case"M":case"L":t=ke(1,1,1);break;case"MM":case"LL":t=ke(1,2,1);break;case"MMM":t=ae(2,ne.Abbreviated);break;case"MMMM":t=ae(2,ne.Wide);break;case"MMMMM":t=ae(2,ne.Narrow);break;case"LLL":t=ae(2,ne.Abbreviated,Be.Standalone);break;case"LLLL":t=ae(2,ne.Wide,Be.Standalone);break;case"LLLLL":t=ae(2,ne.Narrow,Be.Standalone);break;case"w":t=wp(1);break;case"ww":t=wp(2);break;case"W":t=wp(1,!0);break;case"d":t=ke(2,1);break;case"dd":t=ke(2,2);break;case"c":case"cc":t=ke(7,1);break;case"ccc":t=ae(1,ne.Abbreviated,Be.Standalone);break;case"cccc":t=ae(1,ne.Wide,Be.Standalone);break;case"ccccc":t=ae(1,ne.Narrow,Be.Standalone);break;case"cccccc":t=ae(1,ne.Short,Be.Standalone);break;case"E":case"EE":case"EEE":t=ae(1,ne.Abbreviated);break;case"EEEE":t=ae(1,ne.Wide);break;case"EEEEE":t=ae(1,ne.Narrow);break;case"EEEEEE":t=ae(1,ne.Short);break;case"a":case"aa":case"aaa":t=ae(0,ne.Abbreviated);break;case"aaaa":t=ae(0,ne.Wide);break;case"aaaaa":t=ae(0,ne.Narrow);break;case"b":case"bb":case"bbb":t=ae(0,ne.Abbreviated,Be.Standalone,!0);break;case"bbbb":t=ae(0,ne.Wide,Be.Standalone,!0);break;case"bbbbb":t=ae(0,ne.Narrow,Be.Standalone,!0);break;case"B":case"BB":case"BBB":t=ae(0,ne.Abbreviated,Be.Format,!0);break;case"BBBB":t=ae(0,ne.Wide,Be.Format,!0);break;case"BBBBB":t=ae(0,ne.Narrow,Be.Format,!0);break;case"h":t=ke(3,1,-12);break;case"hh":t=ke(3,2,-12);break;case"H":t=ke(3,1);break;case"HH":t=ke(3,2);break;case"m":t=ke(4,1);break;case"mm":t=ke(4,2);break;case"s":t=ke(5,1);break;case"ss":t=ke(5,2);break;case"S":t=ke(6,1);break;case"SS":t=ke(6,2);break;case"SSS":t=ke(6,3);break;case"Z":case"ZZ":case"ZZZ":t=wl(0);break;case"ZZZZZ":t=wl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=wl(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=wl(2);break;default:return null}return Cp[e]=t,t}function mm(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function _6(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function L6(e,t,n){let i=e.getTimezoneOffset(),o=mm(t,i);return _6(e,-1*(o-i))}function E6(e){if(om(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,a=1]=e.split("-").map(s=>+s);return Il(i,o-1,a)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(M6))return A6(r)}let t=new Date(e);if(!om(t))throw new D(2302,!1);return t}function A6(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,a,s,c,l),t}function om(e){return e instanceof Date&&!isNaN(e.valueOf())}var bp=/\s+/,am=[],ha=(()=>{class e{_ngEl;_renderer;initialClasses=am;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(bp):am}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(bp):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(bp).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(A(qt),A(nn))};static \u0275dir=_e({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function km(e,t){return new D(2100,!1)}var T6=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Ip=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw km(e,n);return n.replace(T6,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=fl({name:"titlecase",type:e,pure:!0})}return e})();var R6="mediumDate",vm=new E(""),Mm=new E(""),pa=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??R6,s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return ym(n,a,o||this.locale,s)}catch(a){throw km(e,a.message)}}static \u0275fac=function(r){return new(r||e)(A(ia,16),A(vm,24),A(Mm,24))};static \u0275pipe=fl({name:"date",type:e,pure:!0})}return e})();function xp(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var fa=class{};var wm="browser",N6="server";function Cm(e){return e===N6}var Dl=new E(""),Lp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(P(Dl),P(be))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),ya=class{_doc;constructor(t){this._doc=t}manager},xl="ng-app-id";function Im(e){for(let t of e)t.remove()}function xm(e,t){let n=t.createElement("style");return n.textContent=e,n}function F6(e,t,n,r){let i=e.head?.querySelectorAll(`style[${xl}="${t}"],link[${xl}="${t}"]`);if(i)for(let o of i)o.removeAttribute(xl),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Dp(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var Ep=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Cm(o),F6(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,xm);r?.forEach(i=>this.addUsage(i,this.external,Dp))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Im(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Im(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,xm(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Dp(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(xl,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(P(De),P(el),P(nl,8),P(Fi))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),Sp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ap=/%COMP%/g;var Dm="%COMP%",j6=`_nghost-${Dm}`,V6=`_ngcontent-${Dm}`,H6=!0,q6=new E("",{providedIn:"root",factory:()=>H6});function B6(e){return V6.replace(Ap,e)}function z6(e){return j6.replace(Ap,e)}function _m(e,t){return t.map(n=>n.replace(Ap,e))}var Tp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,s,c,l=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new ga(n,a,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof Sl?i.applyToHost(n):i instanceof ma&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Sn.Emulated:o=new Sl(c,l,r,this.appId,d,a,s,u,p);break;case Sn.ShadowDom:return new _p(c,l,n,r,a,s,this.nonce,u,p);default:o=new ma(c,l,r,d,a,s,u,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(P(Lp),P(Ep),P(el),P(q6),P(De),P(Fi),P(be),P(nl),P(ea,8))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),ga=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Sp[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Sm(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Sm(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new D(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Sp[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Sp[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(en.DashCase|en.Important)?t.style.setProperty(n,r,i&en.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&en.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=xt().getGlobalEventTarget(this.doc,t),!t))throw new D(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Sm(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var _p=class extends ga{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,a,s,c,l){super(t,o,a,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=_m(i.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=i.getExternalStyles?.();if(u)for(let p of u){let h=Dp(p,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ma=class extends ga{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,a,s,c,l){super(t,o,a,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?_m(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Sl=class extends ma{contentAttr;hostAttr;constructor(t,n,r,i,o,a,s,c,l){let d=i+"-"+r.id;super(t,n,r,o,a,s,c,l,d),this.contentAttr=B6(d),this.hostAttr=z6(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var _l=class e extends sa{supportsDOMEvents=!0;static makeCurrent(){kp(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=U6();return n==null?null:$6(n)}resetBaseElement(){ka=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return xp(document.cookie,t)}},ka=null;function U6(){return ka=ka||document.head.querySelector("base"),ka?ka.getAttribute("href"):null}function $6(e){return new URL(e,document.baseURI).pathname}var G6=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),Em=(()=>{class e extends ya{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(P(De))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),Lm=["alt","control","meta","shift"],W6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Z6={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Am=(()=>{class e extends ya{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=e.parseEventName(r),s=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>xt().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Lm.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let i=W6[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Lm.forEach(a=>{if(a!==i){let s=Z6[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(P(De))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})();function Rp(e,t){return Yg(I({rootComponent:e},K6(t)))}function K6(e){return{appProviders:[...eC,...e?.providers??[]],platformProviders:Q6}}function X6(){_l.makeCurrent()}function Y6(){return new Kt}function J6(){return Nh(document),document}var Q6=[{provide:Fi,useValue:wm},{provide:tl,useValue:X6,multi:!0},{provide:De,useFactory:J6}];var eC=[{provide:_o,useValue:"root"},{provide:Kt,useFactory:Y6},{provide:Dl,useClass:Em,multi:!0,deps:[De]},{provide:Dl,useClass:Am,multi:!0,deps:[De]},Tp,Ep,Lp,{provide:Or,useExisting:Tp},{provide:fa,useClass:G6},[]];var Tm=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(P(De))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z="primary",Ra=Symbol("RouteTitle"),jp=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function $r(e){return new jp(e)}function Hm(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=e[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function nC(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!rn(e[n],t[n]))return!1;return!0}function rn(e,t){let n=e?Vp(e):void 0,r=t?Vp(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!qm(e[i],t[i]))return!1;return!0}function Vp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function qm(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Bm(e){return e.length>0?e[e.length-1]:null}function En(e){return Ou(e)?e:Zn(e)?$(Promise.resolve(e)):O(e)}var rC={exact:Um,subset:$m},zm={exact:iC,subset:oC,ignored:()=>!0};function Rm(e,t,n){return rC[n.paths](e.root,t.root,n.matrixParams)&&zm[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function iC(e,t){return rn(e,t)}function Um(e,t,n){if(!zr(e.segments,t.segments)||!Al(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Um(e.children[r],t.children[r],n))return!1;return!0}function oC(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>qm(e[n],t[n]))}function $m(e,t,n){return Gm(e,t,t.segments,n)}function Gm(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!zr(i,n)||t.hasChildren()||!Al(i,n,r))}else if(e.segments.length===n.length){if(!zr(e.segments,n)||!Al(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!$m(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!zr(e.segments,i)||!Al(e.segments,i,r)||!e.children[z]?!1:Gm(e.children[z],t,o,r)}}function Al(e,t,n){return t.every((r,i)=>zm[n](e[i].parameters,r.parameters))}var an=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=$r(this.queryParams),this._queryParamMap}toString(){return cC.serialize(this)}},ee=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tl(this)}},Qn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=$r(this.parameters),this._parameterMap}toString(){return Zm(this)}};function aC(e,t){return zr(e,t)&&e.every((n,r)=>rn(n.parameters,t[r].parameters))}function zr(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function sC(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(n=n.concat(t(i,r)))}),n}var Pa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>new Gr,providedIn:"root"})}return e})(),Gr=class{parse(t){let n=new qp(t);return new an(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${va(t.root,!0)}`,r=uC(t.queryParams),i=typeof t.fragment=="string"?`#${lC(t.fragment)}`:"";return`${n}${r}${i}`}},cC=new Gr;function Tl(e){return e.segments.map(t=>Zm(t)).join("/")}function va(e,t){if(!e.hasChildren())return Tl(e);if(t){let n=e.children[z]?va(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${va(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=sC(e,(r,i)=>i===z?[va(e.children[z],!1)]:[`${i}:${va(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[z]!=null?`${Tl(e)}/${n[0]}`:`${Tl(e)}/(${n.join("//")})`}}function Wm(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ll(e){return Wm(e).replace(/%3B/gi,";")}function lC(e){return encodeURI(e)}function Hp(e){return Wm(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rl(e){return decodeURIComponent(e)}function Pm(e){return Rl(e.replace(/\+/g,"%20"))}function Zm(e){return`${Hp(e.path)}${dC(e.parameters)}`}function dC(e){return Object.entries(e).map(([t,n])=>`;${Hp(t)}=${Hp(n)}`).join("")}function uC(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${Ll(n)}=${Ll(i)}`).join("&"):`${Ll(n)}=${Ll(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var hC=/^[^\/()?;#]+/;function Pp(e){let t=e.match(hC);return t?t[0]:""}var pC=/^[^\/()?;=#]+/;function fC(e){let t=e.match(pC);return t?t[0]:""}var yC=/^[^=?&#]+/;function gC(e){let t=e.match(yC);return t?t[0]:""}var mC=/^[^&#]+/;function kC(e){let t=e.match(mC);return t?t[0]:""}var qp=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[z]=new ee(t,n)),r}parseSegment(){let t=Pp(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(t),new Qn(Rl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=fC(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Pp(this.remaining);i&&(r=i,this.capture(r))}t[Rl(n)]=Rl(r)}parseQueryParam(t){let n=gC(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=kC(this.remaining);a&&(r=a,this.capture(r))}let i=Pm(n),o=Pm(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Pp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=z);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[z]:new ee([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new D(4011,!1)}};function Km(e){return e.segments.length>0?new ee([],{[z]:e}):e}function Xm(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=Xm(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ee(e.segments,t);return vC(n)}function vC(e){if(e.numberOfChildren===1&&e.children[z]){let t=e.children[z];return new ee(e.segments.concat(t.segments),t.children)}return e}function er(e){return e instanceof an}function Ym(e,t,n=null,r=null){let i=Jm(e);return Qm(i,t,n,r)}function Jm(e){let t;function n(o){let a={};for(let c of o.children){let l=n(c);a[c.outlet]=l}let s=new ee(o.url,a);return o===e&&(t=s),s}let r=n(e.root),i=Km(r);return t??i}function Qm(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Op(i,i,i,n,r);let o=MC(t);if(o.toRoot())return Op(i,i,new ee([],{}),n,r);let a=wC(o,i,e),s=a.processChildren?wa(a.segmentGroup,a.index,o.commands):tk(a.segmentGroup,a.index,o.commands);return Op(i,a.segmentGroup,s,n,r)}function Pl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ia(e){return typeof e=="object"&&e!=null&&e.outlets}function Op(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;e===t?a=n:a=ek(e,t,n);let s=Km(Xm(a));return new an(s,o,i)}function ek(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=ek(o,t,n)}),new ee(e.segments,r)}var Ol=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Pl(r[0]))throw new D(4003,!1);let i=r.find(Ia);if(i&&i!==Bm(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MC(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Ol(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?t++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new Ol(n,t,r)}var zi=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function wC(e,t,n){if(e.isAbsolute)return new zi(t,!0,0);if(!n)return new zi(t,!1,NaN);if(n.parent===null)return new zi(n,!0,0);let r=Pl(e.commands[0])?0:1,i=n.segments.length-1+r;return CC(n,i,e.numberOfDoubleDots)}function CC(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new zi(r,!1,i-o)}function bC(e){return Ia(e[0])?e[0].outlets:{[z]:e}}function tk(e,t,n){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return wa(e,t,n);let r=IC(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[z]=new ee(e.segments.slice(r.pathIndex),e.children),wa(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?Bp(e,t,n):r.match?wa(e,0,i):Bp(e,t,n)}function wa(e,t,n){if(n.length===0)return new ee(e.segments,{});{let r=bC(n),i={};if(Object.keys(r).some(o=>o!==z)&&e.children[z]&&e.numberOfChildren===1&&e.children[z].segments.length===0){let o=wa(e.children[z],t,n);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=tk(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new ee(e.segments,i)}}function IC(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let a=e.segments[i],s=n[r];if(Ia(s))break;let c=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Nm(c,l,a))return o;r+=2}else{if(!Nm(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Bp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Ia(o)){let c=xC(o.outlets);return new ee(r,c)}if(i===0&&Pl(n[0])){let c=e.segments[t];r.push(new Qn(c.path,Om(n[0]))),i++;continue}let a=Ia(o)?o.outlets[z]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&Pl(s)?(r.push(new Qn(a,Om(s))),i+=2):(r.push(new Qn(a,{})),i++)}return new ee(r,{})}function xC(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Bp(new ee([],{}),0,r))}),t}function Om(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Nm(e,t,n){return e==n.path&&rn(t,n.parameters)}var Ca="imperative",Le=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Le||{}),gt=class{id;url;constructor(t,n){this.id=t,this.url=n}},Wr=class extends gt{type=Le.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sn=class extends gt{urlAfterRedirects;type=Le.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Qe=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Qe||{}),xa=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(xa||{}),on=class extends gt{reason;code;type=Le.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ln=class extends gt{reason;code;type=Le.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},$i=class extends gt{error;target;type=Le.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Sa=class extends gt{urlAfterRedirects;state;type=Le.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Nl=class extends gt{urlAfterRedirects;state;type=Le.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fl=class extends gt{urlAfterRedirects;state;shouldActivate;type=Le.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},jl=class extends gt{urlAfterRedirects;state;type=Le.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vl=class extends gt{urlAfterRedirects;state;type=Le.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class{route;type=Le.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ql=class{route;type=Le.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Bl=class{snapshot;type=Le.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},zl=class{snapshot;type=Le.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ul=class{snapshot;type=Le.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},$l=class{snapshot;type=Le.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Da=class{},Gi=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function SC(e){return!(e instanceof Da)&&!(e instanceof Gi)}function DC(e,t){return e.providers&&!e._injector&&(e._injector=Qo(e.providers,t,`Route: ${e.path}`)),e._injector??t}function Wt(e){return e.outlet||z}function _C(e,t){let n=e.filter(r=>Wt(r)===t);return n.push(...e.filter(r=>Wt(r)!==t)),n}function Oa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Gl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Oa(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ki(this.rootInjector)}},Ki=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Gl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(P(Ie))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wl=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=zp(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=zp(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Up(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Up(t,this._root).map(n=>n.value)}};function zp(e,t){if(e===t.value)return t;for(let n of t.children){let r=zp(e,n);if(r)return r}return null}function Up(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Up(e,n);if(r.length)return r.unshift(t),r}return[]}var yt=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function Bi(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var _a=class extends Wl{snapshot;constructor(t,n){super(t),this.snapshot=n,Jp(this,t)}toString(){return this.snapshot.toString()}};function nk(e){let t=LC(e),n=new we([new Qn("",{})]),r=new we({}),i=new we({}),o=new we({}),a=new we(""),s=new mt(n,r,o,a,i,z,e,t.root);return s.snapshot=t.root,new _a(new yt(s,[]),t)}function LC(e){let t={},n={},r={},i="",o=new Ur([],t,r,i,n,z,e,null,{});return new La("",new yt(o,[]))}var mt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,a,s,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(R(l=>l[Ra]))??O(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(t=>$r(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(t=>$r(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Zl(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:I(I({},t.params),e.params),data:I(I({},t.data),e.data),resolve:I(I(I(I({},e.data),t.data),i?.data),e._resolvedData)}:r={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},i&&ik(i)&&(r.resolve[Ra]=i.title),r}var Ur=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ra]}constructor(t,n,r,i,o,a,s,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=$r(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=$r(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},La=class extends Wl{url;constructor(t,n){super(n),this.url=t,Jp(this,n)}toString(){return rk(this._root)}};function Jp(e,t){t.value._routerState=e,t.children.forEach(n=>Jp(e,n))}function rk(e){let t=e.children.length>0?` { ${e.children.map(rk).join(", ")} } `:"";return`${e.value}${t}`}function Np(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,rn(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),rn(t.params,n.params)||e.paramsSubject.next(n.params),nC(t.url,n.url)||e.urlSubject.next(n.url),rn(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function $p(e,t){let n=rn(e.params,t.params)&&aC(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||$p(e.parent,t.parent))}function ik(e){return typeof e.title=="string"||e.title===null}var ok=new E(""),Na=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new ge;deactivateEvents=new ge;attachEvents=new ge;detachEvents=new ge;routerOutletData=Kg(void 0);parentContexts=b(Ki);location=b(Jo);changeDetector=b(Br);inputBinder=b(Jl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Gp(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=_e({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ht]})}return e})(),Gp=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===mt?this.route:t===Ki?this.childContexts:t===ok?this.outletData:this.parent.get(t,n)}},Jl=new E("");var Qp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=J({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&S(0,"router-outlet")},dependencies:[Na],encapsulation:2})}return e})();function e2(e){let t=e.children&&e.children.map(e2),n=t?V(I({},e),{children:t}):I({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==z&&(n.component=Qp),n}function EC(e,t,n){let r=Ea(e,t._root,n?n._root:void 0);return new _a(r,t)}function Ea(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=AC(e,t,n);return new yt(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Ea(e,s)),a}}let r=TC(t.value),i=t.children.map(o=>Ea(e,o));return new yt(r,i)}}function AC(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ea(e,r,i);return Ea(e,r)})}function TC(e){return new mt(new we(e.url),new we(e.params),new we(e.queryParams),new we(e.fragment),new we(e.data),e.outlet,e.component,e)}var Wi=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},ak="ngNavigationCancelingError";function Kl(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=er(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=sk(!1,Qe.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function sk(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[ak]=!0,n.cancellationCode=t,n}function RC(e){return ck(e)&&er(e.url)}function ck(e){return!!e&&e[ak]}var PC=(e,t,n,r)=>R(i=>(new Wp(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),Wp=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Np(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=Bi(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Bi(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=Bi(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=Bi(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new $l(o.value.snapshot))}),t.children.length&&this.forwardEvent(new zl(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Np(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Np(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},Xl=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ui=class{component;route;constructor(t,n){this.component=t,this.route=n}};function OC(e,t,n){let r=e._root,i=t?t._root:null;return Ma(r,i,n,[r.value])}function NC(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Xi(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!o1(e)?e:t.get(e):r}function Ma(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Bi(t);return e.children.forEach(a=>{FC(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>ba(s,n.getContext(a),i)),i}function FC(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=jC(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Xl(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Ma(e,t,s?s.children:null,r,i):Ma(e,t,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Ui(s.outlet.component,a))}else a&&ba(t,s,i),i.canActivateChecks.push(new Xl(r)),o.component?Ma(e,null,s?s.children:null,r,i):Ma(e,null,n,r,i);return i}function jC(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!zr(e.url,t.url);case"pathParamsOrQueryParamsChange":return!zr(e.url,t.url)||!rn(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$p(e,t)||!rn(e.queryParams,t.queryParams);case"paramsChange":default:return!$p(e,t)}}function ba(e,t,n){let r=Bi(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?t?ba(a,t.children.getContext(o),n):ba(a,null,n):ba(a,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ui(t.outlet.component,i)):n.canDeactivateChecks.push(new Ui(null,i)):n.canDeactivateChecks.push(new Ui(null,i))}function Fa(e){return typeof e=="function"}function VC(e){return typeof e=="boolean"}function HC(e){return e&&Fa(e.canLoad)}function qC(e){return e&&Fa(e.canActivate)}function BC(e){return e&&Fa(e.canActivateChild)}function zC(e){return e&&Fa(e.canDeactivate)}function UC(e){return e&&Fa(e.canMatch)}function lk(e){return e instanceof Mn||e?.name==="EmptyError"}var El=Symbol("INITIAL_VALUE");function Zi(){return He(e=>Nn(e.map(t=>t.pipe(Ve(1),zu(El)))).pipe(R(t=>{for(let n of t)if(n!==!0){if(n===El)return El;if(n===!1||$C(n))return n}return!0}),je(t=>t!==El),Ve(1)))}function $C(e){return er(e)||e instanceof Wi}function GC(e,t){return de(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?O(V(I({},n),{guardsResult:!0})):WC(a,r,i,e).pipe(de(s=>s&&VC(s)?ZC(r,o,e,t):O(s)),R(s=>V(I({},n),{guardsResult:s})))})}function WC(e,t,n,r){return $(e).pipe(de(i=>QC(i.component,i.route,n,t,r)),kt(i=>i!==!0,!0))}function ZC(e,t,n,r){return $(t).pipe(nt(i=>wi(XC(i.route.parent,r),KC(i.route,r),JC(e,i.path,n),YC(e,i.route,n))),kt(i=>i!==!0,!0))}function KC(e,t){return e!==null&&t&&t(new Ul(e)),O(!0)}function XC(e,t){return e!==null&&t&&t(new Bl(e)),O(!0)}function YC(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>Ot(()=>{let a=Oa(t)??n,s=Xi(o,a),c=qC(s)?s.canActivate(t,e):dt(a,()=>s(t,e));return En(c).pipe(kt())}));return O(i).pipe(Zi())}function JC(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>NC(a)).filter(a=>a!==null).map(a=>Ot(()=>{let s=a.guards.map(c=>{let l=Oa(a.node)??n,d=Xi(c,l),u=BC(d)?d.canActivateChild(r,e):dt(l,()=>d(r,e));return En(u).pipe(kt())});return O(s).pipe(Zi())}));return O(o).pipe(Zi())}function QC(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let a=o.map(s=>{let c=Oa(t)??i,l=Xi(s,c),d=zC(l)?l.canDeactivate(e,t,n,r):dt(c,()=>l(e,t,n,r));return En(d).pipe(kt())});return O(a).pipe(Zi())}function eb(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(a=>{let s=Xi(a,e),c=HC(s)?s.canLoad(t,n):dt(e,()=>s(t,n));return En(c)});return O(o).pipe(Zi(),dk(r))}function dk(e){return Eu(se(t=>{if(typeof t!="boolean")throw Kl(e,t)}),R(t=>t===!0))}function tb(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(a=>{let s=Xi(a,e),c=UC(s)?s.canMatch(t,n):dt(e,()=>s(t,n));return En(c)});return O(o).pipe(Zi(),dk(r))}var Aa=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Ta=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function qi(e){return Pt(new Aa(e))}function nb(e){return Pt(new D(4e3,!1))}function rb(e){return Pt(sk(!1,Qe.GuardRejected))}var Zp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[z])return nb(`${t.redirectTo}`);i=i.children[z]}}applyRedirectCommands(t,n,r,i,o){return ib(n,i,o).pipe(R(a=>{if(a instanceof an)throw new Ta(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,r);if(a[0]==="/")throw new Ta(s);return s}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new an(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,i)}),new ee(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function ib(e,t,n){if(typeof e=="string")return O(e);let r=e,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=t;return En(dt(n,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u})))}var Kp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ob(e,t,n,r,i){let o=uk(e,t,n);return o.matched?(r=DC(t,r),tb(r,t,n,i).pipe(R(a=>a===!0?o:I({},Kp)))):O(o)}function uk(e,t,n){if(t.path==="**")return ab(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?I({},Kp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||Hm)(n,e,t);if(!i)return I({},Kp);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function ab(e){return{matched:!0,parameters:e.length>0?Bm(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Fm(e,t,n,r){return n.length>0&&lb(e,n,r)?{segmentGroup:new ee(t,cb(r,new ee(n,e.children))),slicedSegments:[]}:n.length===0&&db(e,n,r)?{segmentGroup:new ee(e.segments,sb(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:n}}function sb(e,t,n,r){let i={};for(let o of n)if(Ql(e,t,o)&&!r[Wt(o)]){let a=new ee([],{});i[Wt(o)]=a}return I(I({},r),i)}function cb(e,t){let n={};n[z]=t;for(let r of e)if(r.path===""&&Wt(r)!==z){let i=new ee([],{});n[Wt(r)]=i}return n}function lb(e,t,n){return n.some(r=>Ql(e,t,r)&&Wt(r)!==z)}function db(e,t,n){return n.some(r=>Ql(e,t,r))}function Ql(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function ub(e,t,n){return t.length===0&&!e.children[n]}var Xp=class{};function hb(e,t,n,r,i,o,a="emptyOnly"){return new Yp(e,t,n,r,i,a,o).recognize()}var pb=31,Yp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,a,s){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new Zp(this.urlSerializer,this.urlTree)}noMatchError(t){return new D(4002,`'${t.segmentGroup}'`)}recognize(){let t=Fm(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(R(({children:n,rootSnapshot:r})=>{let i=new yt(r,n),o=new La("",i),a=Ym(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let n=new Ur([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,z,n).pipe(R(r=>({children:r,rootSnapshot:n})),tt(r=>{if(r instanceof Ta)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Aa?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(R(a=>a instanceof yt?[a]:[]))}processChildren(t,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return $(o).pipe(nt(a=>{let s=r.children[a],c=_C(n,a);return this.processSegmentGroup(t,c,s,a,i)}),Co((a,s)=>(a.push(...s),a)),Fn(null),Vu(),de(a=>{if(a===null)return qi(r);let s=hk(a);return fb(s),O(s)}))}processSegment(t,n,r,i,o,a,s){return $(n).pipe(nt(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,a,s).pipe(tt(l=>{if(l instanceof Aa)return O(null);throw l}))),kt(c=>!!c),tt(c=>{if(lk(c))return ub(r,i,o)?O(new Xp):qi(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,a,s,c){return Wt(r)!==a&&(a===z||!Ql(i,o,r))?qi(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a,c):qi(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=uk(n,i,o);if(!c)return qi(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pb&&(this.allowRedirects=!1));let h=new Ur(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,jm(i),Wt(i),i.component??i._loadedComponent??null,i,Vm(i)),y=Zl(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,u,h,t).pipe(He(k=>this.applyRedirects.lineralizeSegments(i,k)),de(k=>this.processSegment(t,r,n,k.concat(p),a,!1,s)))}matchSegmentAgainstRoute(t,n,r,i,o,a){let s=ob(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(He(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(He(({routes:l})=>{let d=r._loadedInjector??t,{parameters:u,consumedSegments:p,remainingSegments:h}=c,y=new Ur(p,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,jm(r),Wt(r),r.component??r._loadedComponent??null,r,Vm(r)),g=Zl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(g.params),y.data=Object.freeze(g.data);let{segmentGroup:k,slicedSegments:M}=Fm(n,p,h,l);if(M.length===0&&k.hasChildren())return this.processChildren(d,l,k,y).pipe(R(N=>new yt(y,N)));if(l.length===0&&M.length===0)return O(new yt(y,[]));let T=Wt(r)===o;return this.processSegment(d,l,k,M,T?z:o,!0,y).pipe(R(N=>new yt(y,N instanceof yt?[N]:[])))}))):qi(n)))}getChildConfig(t,n,r){return n.children?O({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?O({routes:n._loadedRoutes,injector:n._loadedInjector}):eb(t,n,r,this.urlSerializer).pipe(de(i=>i?this.configLoader.loadChildren(t,n).pipe(se(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):rb(n))):O({routes:[],injector:t})}};function fb(e){e.sort((t,n)=>t.value.outlet===z?-1:n.value.outlet===z?1:t.value.outlet.localeCompare(n.value.outlet))}function yb(e){let t=e.value.routeConfig;return t&&t.path===""}function hk(e){let t=[],n=new Set;for(let r of e){if(!yb(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=hk(r.children);t.push(new yt(r.value,i))}return t.filter(r=>!n.has(r))}function jm(e){return e.data||{}}function Vm(e){return e.resolve||{}}function gb(e,t,n,r,i,o){return de(a=>hb(e,t,n,r,a.extractedUrl,i,o).pipe(R(({state:s,tree:c})=>V(I({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function mb(e,t){return de(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return O(n);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let l of pk(c))a.add(l);let s=0;return $(a).pipe(nt(c=>o.has(c)?kb(c,r,e,t):(c.data=Zl(c,c.parent,e).resolve,O(void 0))),se(()=>s++),Ci(1),de(c=>s===a.size?O(n):Fe))})}function pk(e){let t=e.children.map(n=>pk(n)).flat();return[e,...t]}function kb(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!ik(i)&&(o[Ra]=i.title),Ot(()=>(e.data=Zl(e,e.parent,n).resolve,vb(o,e,t,r).pipe(R(a=>(e._resolvedData=a,e.data=I(I({},e.data),a),null)))))}function vb(e,t,n,r){let i=Vp(e);if(i.length===0)return O({});let o={};return $(i).pipe(de(a=>Mb(e[a],t,n,r).pipe(kt(),se(s=>{if(s instanceof Wi)throw Kl(new Gr,s);o[a]=s}))),Ci(1),R(()=>o),tt(a=>lk(a)?Fe:Pt(a)))}function Mb(e,t,n,r){let i=Oa(t)??r,o=Xi(e,i),a=o.resolve?o.resolve(t,n):dt(i,()=>o(t,n));return En(a)}function Fp(e){return He(t=>{let n=e(t);return n?$(n).pipe(R(()=>t)):O(t)})}var t2=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(n){return n.data[Ra]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(fk),providedIn:"root"})}return e})(),fk=(()=>{class e extends t2{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(P(Tm))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Yi=new E("",{providedIn:"root",factory:()=>({})}),ja=new E(""),yk=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(pp);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return O(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=En(n.loadComponent()).pipe(R(mk),se(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),wo(()=>{this.componentLoaders.delete(n)})),i=new ki(r,()=>new re).pipe(mi());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=gk(r,this.compiler,n,this.onLoadEndListener).pipe(wo(()=>{this.childrenLoaders.delete(r)})),a=new ki(o,()=>new re).pipe(mi());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function gk(e,t,n,r){return En(e.loadChildren()).pipe(R(mk),de(i=>i instanceof pl||Array.isArray(i)?O(i):$(t.compileModuleAsync(i))),R(i=>{r&&r(e);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(n).injector,a=o.get(ja,[],{optional:!0,self:!0}).flat()),{routes:a.map(e2),injector:o}}))}function wb(e){return e&&typeof e=="object"&&"default"in e}function mk(e){return wb(e)?e.default:e}var ed=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(Cb),providedIn:"root"})}return e})(),Cb=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kk=new E("");var vk=new E(""),Mk=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new re;transitionAbortWithErrorSubject=new re;configLoader=b(yk);environmentInjector=b(Ie);destroyRef=b(Er);urlSerializer=b(Pa);rootContexts=b(Ki);location=b(Jn);inputBindingEnabled=b(Jl,{optional:!0})!==null;titleStrategy=b(t2);options=b(Yi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(ed);createViewTransition=b(kk,{optional:!0});navigationErrorHandler=b(vk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new Hl(i)),r=i=>this.events.next(new ql(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(V(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new we(null),this.transitions.pipe(je(r=>r!==null),He(r=>{let i=!1;return O(r).pipe(He(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Qe.SupersededByNewNavigation),Fe;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?V(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&s!=="reload"){let c="";return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.rawUrl),c,xa.IgnoredSameUrlNavigation)),o.resolve(!1),Fe}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return O(o).pipe(He(c=>(this.events.next(new Wr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Fe:Promise.resolve(c))),gb(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),se(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=V(I({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new Sa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=o,h=new Wr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let y=nk(this.rootComponentType).snapshot;return this.currentTransition=r=V(I({},o),{targetSnapshot:y,urlAfterRedirects:l,extras:V(I({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,O(r)}else{let c="";return this.events.next(new Ln(o.id,this.urlSerializer.serialize(o.extractedUrl),c,xa.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Fe}}),se(o=>{let a=new Nl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),R(o=>(this.currentTransition=r=V(I({},o),{guards:OC(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),GC(this.environmentInjector,o=>this.events.next(o)),se(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Kl(this.urlSerializer,o.guardsResult);let a=new Fl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),je(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Qe.GuardRejected),!1)),Fp(o=>{if(o.guards.canActivateChecks.length!==0)return O(o).pipe(se(a=>{let s=new jl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),He(a=>{let s=!1;return O(a).pipe(mb(this.paramsInheritanceStrategy,this.environmentInjector),se({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",Qe.NoDataFromResolver)}}))}),se(a=>{let s=new Vl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),Fp(o=>{let a=s=>{let c=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(s.routeConfig).pipe(se(l=>{s.component=l}),R(()=>{})));for(let l of s.children)c.push(...a(l));return c};return Nn(a(o.targetSnapshot.root)).pipe(Fn(null),Ve(1))}),Fp(()=>this.afterPreactivation()),He(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?$(s).pipe(R(()=>r)):O(r)}),R(o=>{let a=EC(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=V(I({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),se(()=>{this.events.next(new Da)}),PC(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Ve(1),bi(new K(o=>{let a=r.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(je(()=>!i&&!r.targetRouterState),se(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Qe.Aborted)}))),se({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),bi(this.transitionAbortWithErrorSubject.pipe(se(o=>{throw o}))),wo(()=>{i||this.cancelNavigationTransition(r,"",Qe.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),tt(o=>{if(this.destroyed)return r.resolve(!1),Fe;if(i=!0,ck(o))this.events.next(new on(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),RC(o)?this.events.next(new Gi(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new $i(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let s=dt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof Wi){let{message:c,cancellationCode:l}=Kl(this.urlSerializer,s);this.events.next(new on(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Gi(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return Fe}))}))}cancelNavigationTransition(n,r,i){let o=new on(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function bb(e){return e!==Ca}var wk=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(Ib),providedIn:"root"})}return e})(),Yl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},Ib=(()=>{class e extends Yl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=jr(e)))(i||e)}})();static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ck=(()=>{class e{urlSerializer=b(Pa);options=b(Yi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(Jn);urlHandlingStrategy=b(ed);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new an;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof an?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=nk(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(xb),providedIn:"root"})}return e})(),xb=(()=>{class e extends Ck{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Wr?this.updateStateMemento():n instanceof Ln?this.commitTransition(r):n instanceof Sa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Da?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof on&&n.code!==Qe.SupersededByNewNavigation&&n.code!==Qe.Redirect?this.restoreHistory(r):n instanceof $i?this.restoreHistory(r,!0):n instanceof sn&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,c=I(I({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",c)}else{let s=I(I({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jr(e)))(i||e)}})();static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function n2(e,t){e.events.pipe(je(n=>n instanceof sn||n instanceof on||n instanceof $i||n instanceof Ln),R(n=>n instanceof sn||n instanceof Ln?0:(n instanceof on?n.code===Qe.Redirect||n.code===Qe.SupersededByNewNavigation:!1)?2:1),je(n=>n!==2),Ve(1)).subscribe(()=>{t()})}var Sb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Db={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},An=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(np);stateManager=b(Ck);options=b(Yi,{optional:!0})||{};pendingTasks=b(Gn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(Mk);urlSerializer=b(Pa);location=b(Jn);urlHandlingStrategy=b(ed);injector=b(Ie);_events=new re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(wk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(ja,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(Jl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof on&&r.code!==Qe.Redirect&&r.code!==Qe.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sn)this.navigated=!0;else if(r instanceof Gi){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bb(i.source)},a);this.scheduleNavigation(s,Ca,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}SC(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ca,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(c=>{this.injector.get(it)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(e2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=i?i.snapshot:this.routerState.snapshot.root;u=Jm(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return Qm(u,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=er(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ca,null,r)}navigate(n,r={skipLocationChange:!1}){return _b(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},Sb):r===!1?i=I({},Db):i=r,er(n))return Rm(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Rm(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return n2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _b(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new D(4008,!1)}var cn=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=xn(null);get href(){return It(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new re;applicationErrorHandler=b(it);options=b(Yi,{optional:!0});constructor(n,r,i,o,a,s){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(b(new ml("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof sn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(er(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(n!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:er(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(A(An),A(mt),Zo("tabindex"),A(nn),A(qt),A(Hi))};static \u0275dir=_e({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Pe("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Kn("href",i.reactiveHref(),jh)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",aa],skipLocationChange:[2,"skipLocationChange","skipLocationChange",aa],replaceUrl:[2,"replaceUrl","replaceUrl",aa],routerLink:"routerLink"},features:[Ht]})}return e})();var Eb=new E("");function r2(e,...t){return wr([{provide:ja,multi:!0,useValue:e},[],{provide:mt,useFactory:Ab,deps:[An]},{provide:yl,multi:!0,useFactory:Tb},t.map(n=>n.\u0275providers)])}function Ab(e){return e.routerState.root}function Tb(){let e=b(Te);return t=>{let n=e.get(Vr);if(t!==n.components[0])return;let r=e.get(An),i=e.get(Rb);e.get(Pb)===1&&r.initialNavigation(),e.get(Ob,null,{optional:!0})?.setUpPreloading(),e.get(Eb,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Rb=new E("",{factory:()=>new re}),Pb=new E("",{providedIn:"root",factory:()=>1});var Ob=new E("");var Fb=["*"];var td=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]];var bk=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]];var Ik=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var xk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]];var Sk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]];var nd=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]];var Dk=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]];var _k=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]];var Ji=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]];var Lk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]];var rd=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]];var Ek=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var Ak=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]];var Va={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},i2=new E("LucideIcons",{factory:()=>new Ha({})}),Ha=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},jb=(()=>{class e{constructor(){this.color=Va.stroke,this.size=Va.width,this.strokeWidth=Va["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Vb(e,t=3){return parseFloat(e.toFixed(t)).toString(10)}var tr=(()=>{class e{constructor(n,r,i,o,a){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=Va.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=V(I({},Va),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?Vb(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,n]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return e.\u0275fac=function(n){return new(n||e)(A(qt),A(nn),A(Br),A(i2),A(jb))},e.\u0275cmp=J({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Ht],ngContentSelectors:Fb,decls:1,vars:0,template:function(n,r){n&1&&(sp(),cp(0))},encapsulation:2}),e})(),o2=class{constructor(t){this.icons=t}},Hb=e=>new Ha(e??{}),nr=(()=>{class e{static pick(n){return{ngModule:e,providers:[{provide:i2,multi:!0,useValue:new Ha(n)},{provide:i2,multi:!0,useFactory:Hb,deps:[[new Th,o2]]}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ct({type:e}),e.\u0275inj=lt({imports:[[]]}),e})();var qb=e=>["/lease",e];function Bb(e,t){if(e&1&&(m(0,"div",0)(1,"div",1),S(2,"img",2),v(),m(3,"h2",3),x(4),v(),m(5,"p",4),S(6,"lucide-icon",5),x(7),v(),S(8,"hr",6),m(9,"div",7),S(10,"lucide-icon",5),m(11,"span"),x(12),Xn(13,"date"),Xn(14,"date"),v()(),m(15,"div",8),S(16,"lucide-icon",5),m(17,"span",9),x(18),v(),m(19,"span",10),x(20),v()()()),e&2){let n=Ut();_("routerLink",ra(18,qb,n.lease.id)),C(4),me(" ",n.lease.property==null?null:n.lease.property.name," "),C(2),_("img",n.MapPinIcon),C(),$t(" ",n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.street,", ",n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.city," "),C(3),_("img",n.CalendarIcon),C(2),$t("",qr(13,12,n.lease.startDate,"MMM y")," \u2013 ",qr(14,15,n.lease.endDate,"MMM y")),C(4),_("img",n.Banknote),C(2),$t(" ",n.lease.rentAmount," ",n.lease.rentCurrency),C(2),me("/ ",n.lease.paymentFrequency||"mois")}}var od=class e{lease;MapPinIcon=Ji;CalendarIcon=Ik;Banknote=bk;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-lease-card"]],inputs:{lease:"lease"},decls:1,vars:1,consts:[[1,"bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4",3,"routerLink"],[1,"h-32","flex","justify-center"],["src","/illustrations/home.svg",1,"h-full"],[1,"text-2xl","font-bold","leading-tight"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-200/50","my-2"],[1,"flex","items-center","text-sm","flex","items-center","gap-1","text-gray-600"],[1,"flex","items-baseline","text-gray-800","flex","items-center","gap-1"],[1,"ml-1","text-sm","font-medium"],[1,"ml-2","text-sm","text-gray-500"]],template:function(n,r){n&1&&Ke(0,Bb,21,20,"div",0),n&2&&Xe(r.lease?0:-1)},dependencies:[pa,nr,tr,cn],encapsulation:2})};var ad=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-lease-skeleton-card"]],decls:11,vars:0,consts:[[1,"w-full","md:w-80","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-4","animate-pulse"],[1,"h-6","bg-gray-300/50","rounded","w-2/3","mx-auto"],[1,"h-4","bg-gray-300/50","rounded","w-full"],[1,"border-t","border-gray-300/30","my-2"],[1,"h-4","bg-gray-300/50","rounded","w-3/4"],[1,"h-4","bg-gray-300/50","rounded","w-4/5"],[1,"h-4","bg-gray-300/50","rounded","w-3/5"],[1,"flex","flex-wrap","gap-2"],[1,"h-6","w-16","bg-gray-300/50","rounded-full"],[1,"h-6","w-20","bg-gray-300/50","rounded-full"],[1,"h-6","w-14","bg-gray-300/50","rounded-full"]],template:function(n,r){n&1&&(m(0,"div",0),S(1,"div",1)(2,"div",2)(3,"hr",3)(4,"div",4)(5,"div",5)(6,"div",6),m(7,"div",7),S(8,"div",8)(9,"div",9)(10,"div",10),v()())},encapsulation:2})};var Tk=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var qa=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},sd=class extends qa{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},cd=class extends qa{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},ld=class extends qa{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},a2=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(a2||{});var zb=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},Ba=class{constructor(t,{headers:n={},customFetch:r,region:i=a2.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Tk(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return zb(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:a}=n,s={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(s["x-region"]=c);let l;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",l=a):typeof a=="string"?(s["Content-Type"]="text/plain",l=a):typeof FormData<"u"&&a instanceof FormData?l=a:(s["Content-Type"]="application/json",l=JSON.stringify(a)));let d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:l}).catch(y=>{throw new sd(y)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new cd(d);if(!d.ok)throw new ld(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield d.json():p==="application/octet-stream"?h=yield d.blob():p==="text/event-stream"?h=d:p==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}};var $k=G4(Uk(),1),{PostgrestClient:Gk,PostgrestQueryBuilder:cB,PostgrestFilterBuilder:lB,PostgrestTransformBuilder:dB,PostgrestBuilder:uB,PostgrestError:tI}=$k.default;function Wk(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Zk=Wk();var Kk="2.11.13";var Xk={"X-Client-Info":`realtime-js/${Kk}`},Yk="1.0.0";var pd=1e4,Jk=1e3,Ka=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ka||{}),ze=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(ze||{}),Dt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Dt||{}),k2=function(e){return e.websocket="websocket",e}(k2||{}),Zr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Zr||{});var fd=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(t.slice(a,a+i));a=a+i;let c=r.decode(t.slice(a,a+o));a=a+o;let l=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var eo=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ce=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ce||{}),M2=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=nI(a,e,t,i),o),{})},nI=(e,t,n,r)=>{let i=t.find(s=>s.name===e),o=i?.type,a=n[e];return o&&!r.includes(o)?Qk(o,a):v2(a)},Qk=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return aI(t,n)}switch(e){case ce.bool:return rI(t);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return iI(t);case ce.json:case ce.jsonb:return oI(t);case ce.timestamp:return sI(t);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return v2(t);default:return v2(t)}},v2=e=>e,rI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},iI=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},oI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},aI=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>Qk(t,s))}return e},sI=e=>typeof e=="string"?e.replace(" ","T"):e,yd=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var to=class{constructor(t,n,r={},i=pd){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Xa=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),a=this.transformState(n),s={},c={};return this.map(o,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=o[l];if(u){let p=d.map(k=>k.presence_ref),h=u.map(k=>k.presence_ref),y=d.filter(k=>h.indexOf(k.presence_ref)<0),g=u.filter(k=>p.indexOf(k.presence_ref)<0);y.length>0&&(s[l]=y),g.length>0&&(c[l]=g)}else s[l]=d}),this.syncDiff(o,{joins:s,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,c)=>{var l;let d=(l=t[s])!==null&&l!==void 0?l:[];if(t[s]=this.cloneDeep(c),d.length>0){let u=t[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);t[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=t[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),t[s]=l,i(s,l,c),l.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Tn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Tn||{});var Ya=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new to(this,Dt.join,this.params,this.timeout),this.rejoinTimer=new eo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Dt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Xa(this),this.broadcastEndpointURL=yd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){let{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(d=>t?.(Tn.CHANNEL_ERROR,d)),this._onClose(()=>t?.(Tn.CLOSED));let c={},l={broadcast:o,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",u=>f(this,[u],function*({postgres_changes:d}){var p;if(this.socket.setAuth(),d===void 0){t?.(Tn.SUBSCRIBED);return}else{let h=this.bindings.postgres_changes,y=(p=h?.length)!==null&&p!==void 0?p:0,g=[];for(let k=0;k<y;k++){let M=h[k],{filter:{event:T,schema:N,table:w,filter:W}}=M,Ne=d&&d[k];if(Ne&&Ne.event===T&&Ne.schema===N&&Ne.table===w&&Ne.filter===W)g.push(Object.assign(Object.assign({},M),{id:Ne.id}));else{this.unsubscribe(),this.state=ze.errored,t?.(Tn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(Tn.SUBSCRIBED);return}})).receive("error",d=>{this.state=ze.errored,t?.(Tn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(Tn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(r){return f(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){let{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ze.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Dt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new to(this,Dt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(t,n,r){return f(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),a=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new to(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let a=t.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=Dt;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,k;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(g=h.filter)===null||g===void 0?void 0:g.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(o=this.bindings[a])===null||o===void 0||o.filter(h=>{var y,g,k,M,T,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let w=h.id,W=(y=h.filter)===null||y===void 0?void 0:y.event;return w&&((g=n.ids)===null||g===void 0?void 0:g.includes(w))&&(W==="*"||W?.toLocaleLowerCase()===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{let w=(T=(M=h?.filter)===null||M===void 0?void 0:M.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return w==="*"||w===((N=n?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:g,table:k,commit_timestamp:M,type:T,errors:N}=y;p=Object.assign(Object.assign({},{schema:g,table:k,commit_timestamp:M,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Dt.close,{},t)}_onError(t){this._on(Dt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=M2(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=M2(t.columns,t.old_record)),n}};var ev=()=>{},lI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Ja=class{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Xk,this.params={},this.timeout=pd,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ev,this.ref=0,this.logger=ev,this.conn=null,this.sendBuffer=[],this.serializer=new fd,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:c})=>c(...s)):a=fetch,(...s)=>a(...s)},this.endPoint=`${t}/${k2.websocket}`,this.httpEndpoint=yd(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,a)=>a(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new eo(()=>f(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=Zk),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yk}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(t){return f(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return f(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ka.connecting:return Zr.Connecting;case Ka.open:return Zr.Open;case Ka.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ya(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t=null){return f(this,null,function*(){let n=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Dt.access_token,{access_token:n})}))})}sendHeartbeat(){return f(this,null,function*(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(Jk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:o,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(s=>s._isMember(r)).forEach(s=>s._trigger(i,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(Dt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([lI],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}};var no=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function ve(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var gd=class extends no{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Kr=class extends no{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var dI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},kd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},tv=()=>dI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),md=e=>{if(Array.isArray(e))return e.map(n=>md(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=md(r)}),t};var Xr=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},w2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),uI=(e,t,n)=>Xr(void 0,void 0,void 0,function*(){let r=yield tv();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{t(new gd(w2(i),e.status||500))}).catch(i=>{t(new Kr(w2(i),i))}):t(new Kr(w2(e),e))}),hI=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Qa(e,t,n,r,i,o){return Xr(this,void 0,void 0,function*(){return new Promise((a,s)=>{e(n,hI(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>uI(c,s,r))})})}function ro(e,t,n,r){return Xr(this,void 0,void 0,function*(){return Qa(e,"GET",t,n,r)})}function ln(e,t,n,r,i){return Xr(this,void 0,void 0,function*(){return Qa(e,"POST",t,r,i,n)})}function nv(e,t,n,r,i){return Xr(this,void 0,void 0,function*(){return Qa(e,"PUT",t,r,i,n)})}function rv(e,t,n,r){return Xr(this,void 0,void 0,function*(){return Qa(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function vd(e,t,n,r,i){return Xr(this,void 0,void 0,function*(){return Qa(e,"DELETE",t,r,i,n)})}var st=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},pI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},iv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Md=class{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=kd(i)}uploadOrUpdate(t,n,r,i){return st(this,void 0,void 0,function*(){try{let o,a=Object.assign(Object.assign({},iv),i),s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));let l=this._removeEmptyFolders(n),d=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:s},a?.duplex?{duplex:a.duplex}:{})),p=yield u.json();return u.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(ve(o))return{data:null,error:o};throw o}})}upload(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return st(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let c,l=Object.assign({upsert:iv.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield this.fetch(s.toString(),{method:"PUT",body:c,headers:d}),p=yield u.json();return u.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(ve(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return st(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield ln(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new no("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}update(t,n,r){return st(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}copy(t,n,r){return st(this,void 0,void 0,function*(){try{return{data:{path:(yield ln(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return st(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield ln(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return st(this,void 0,void 0,function*(){try{let i=yield ln(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}download(t,n){return st(this,void 0,void 0,function*(){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),a=o?`?${o}`:"";try{let s=this._getFinalPath(t);return{data:yield(yield ro(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(ve(s))return{data:null,error:s};throw s}})}info(t){return st(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield ro(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:md(r),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}exists(t){return st(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield rv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ve(r)&&r instanceof Kr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let s=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(t){return st(this,void 0,void 0,function*(){try{return{data:yield vd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}list(t,n,r){return st(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},pI),n),{prefix:t||""});return{data:yield ln(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(ve(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var ov="2.7.1";var av={"X-Client-Info":`storage-js/${ov}`};var io=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},wd=class{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},av),n),this.fetch=kd(r)}listBuckets(){return io(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(ve(t))return{data:null,error:t};throw t}})}getBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield ro(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return io(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return io(this,void 0,void 0,function*(){try{return{data:yield nv(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ve(r))return{data:null,error:r};throw r}})}emptyBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield ln(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}deleteBucket(t){return io(this,void 0,void 0,function*(){try{return{data:yield vd(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(ve(n))return{data:null,error:n};throw n}})}};var es=class extends wd{constructor(t,n={},r){super(t,n,r)}from(t){return new Md(this.url,this.headers,t,this.fetch)}};var sv="2.50.1";var ts="";typeof Deno<"u"?ts="deno":typeof document<"u"?ts="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ts="react-native":ts="node";var fI={"X-Client-Info":`supabase-js-${ts}/${sv}`},cv={headers:fI},lv={schema:"public"},dv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},uv={};i0();var yI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},gI=e=>{let t;return e?t=e:typeof fetch>"u"?t=n0:t=fetch,(...n)=>t(...n)},mI=()=>typeof Headers>"u"?r0:Headers,hv=(e,t,n)=>{let r=gI(n),i=mI();return(o,a)=>yI(void 0,void 0,void 0,function*(){var s;let c=(s=yield t())!==null&&s!==void 0?s:e,l=new i(a?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:l}))})};var kI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};function pv(e){return e.endsWith("/")?e:e+"/"}function fv(e,t){var n,r;let{db:i,auth:o,realtime:a,global:s}=e,{db:c,auth:l,realtime:d,global:u}=t,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(n=u?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>kI(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}var Cd="2.70.0";var Yr=30*1e3,bd=3,Id=bd*Yr,yv="http://localhost:9999",gv="supabase.auth.token";var mv={"X-Client-Info":`gotrue-js/${Cd}`};var ns="X-Supabase-Api-Version",C2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vv=6e5;var rs=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function j(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var xd=class extends rs{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function Mv(e){return j(e)&&e.name==="AuthApiError"}var oo=class extends rs{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},dn=class extends rs{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},_t=class extends dn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function wv(e){return j(e)&&e.name==="AuthSessionMissingError"}var Jr=class extends dn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Qr=class extends dn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ei=class extends dn{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Cv(e){return j(e)&&e.name==="AuthImplicitGrantRedirectError"}var is=class extends dn{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ao=class extends dn{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function Sd(e){return j(e)&&e.name==="AuthRetryableFetchError"}var os=class extends dn{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var Rn=class extends dn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var Dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),bv=` 	
\r=`.split(""),vI=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<bv.length;t+=1)e[bv[t].charCodeAt(0)]=-2;for(let t=0;t<Dd.length;t+=1)e[Dd[t].charCodeAt(0)]=t;return e})();function Iv(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Dd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(Dd[r]),t.queuedBits-=6}}function xv(e,t,n){let r=vI[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function b2(e){let t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{CI(a,r,n)};for(let a=0;a<e.length;a+=1)xv(e.charCodeAt(a),i,o);return t.join("")}function MI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function wI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}MI(r,t)}}function CI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Sv(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)xv(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Dv(e){let t=[];return wI(e,n=>t.push(n)),new Uint8Array(t)}function _v(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>Iv(i,n,r)),Iv(null,n,r),t.join("")}function Lv(e){return Math.round(Date.now()/1e3)+e}function Ev(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var Lt=()=>typeof window<"u"&&typeof document<"u",ti={tested:!1,writable:!1},rr=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ti.tested)return ti.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ti.tested=!0,ti.writable=!0}catch{ti.tested=!0,ti.writable=!1}return ti.writable};function Av(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var _d=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Tv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",I2=(e,t,n)=>f(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),ss=(e,t)=>f(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),cs=(e,t)=>f(null,null,function*(){yield e.removeItem(t)}),as=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};as.promiseConstructor=Promise;function Ld(e){let t=e.split(".");if(t.length!==3)throw new Rn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!kv.test(t[r]))throw new Rn("JWT not in base64url format");return{header:JSON.parse(b2(t[0])),payload:JSON.parse(b2(t[1])),signature:Sv(t[2]),raw:{header:t[0],payload:t[1]}}}function Rv(e){return f(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function Pv(e,t){return new Promise((r,i)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let a=yield e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})})}function bI(e){return("0"+e.toString(16)).substr(-2)}function II(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,bI).join("")}function xI(e){return f(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function SI(e){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield xI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ni(e,t,n=!1){return f(this,null,function*(){let r=II(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield I2(e,`${t}-code-verifier`,i);let o=yield SI(r);return[o,r===o?"plain":"s256"]})}var DI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Ov(e){let t=e.headers.get(ns);if(!t||!t.match(DI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Nv(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Fv(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var _I=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ri(e){if(!_I.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var LI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},ii=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),EI=[502,503,504];function jv(e){return f(this,null,function*(){var t;if(!Tv(e))throw new ao(ii(e),0);if(EI.includes(e.status))throw new ao(ii(e),e.status);let n;try{n=yield e.json()}catch(o){throw new oo(ii(o),o)}let r,i=Ov(e);if(i&&i.getTime()>=C2["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new os(ii(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new os(ii(n),e.status,n.weak_password.reasons);throw new xd(ii(n),e.status||500,r)})}var AI=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function Z(e,t,n,r){return f(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[ns]||(o[ns]=C2["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield TI(e,t,n+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function TI(e,t,n,r,i,o){return f(this,null,function*(){let a=AI(t,r,i,o),s;try{s=yield e(n,Object.assign({},a))}catch(c){throw console.error(c),new ao(ii(c),0)}if(s.ok||(yield jv(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield jv(c)}})}function un(e){var t;let n=null;RI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Lv(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function x2(e){let t=un(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function hn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Vv(e){return{data:e,error:null}}function Hv(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=LI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function qv(e){return e}function RI(e){return e.access_token&&e.refresh_token&&e.expires_in}var Ed=["global","local","others"];var PI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},so=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=_d(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return f(this,arguments,function*(t,n=Ed[0]){if(Ed.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ed.join(", ")}`);try{return yield Z(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(j(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return f(this,arguments,function*(t,n={}){try{return yield Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:hn})}catch(i){if(j(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return f(this,null,function*(){try{let{options:n}=t,r=PI(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Hv,redirectTo:n?.redirectTo})}catch(n){if(j(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return f(this,null,function*(){try{return yield Z(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:hn})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return f(this,null,function*(){var n,r,i,o,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:qv});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);l[`${k}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(j(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return f(this,null,function*(){ri(t);try{return yield Z(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:hn})}catch(n){if(j(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return f(this,null,function*(){ri(t);try{return yield Z(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:hn})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return f(this,null,function*(){ri(t);try{return yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:hn})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return f(this,null,function*(){ri(t.userId);try{let{data:n,error:r}=yield Z(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(j(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return f(this,null,function*(){ri(t.userId),ri(t.id);try{return{data:yield Z(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(j(n))return{data:null,error:n};throw n}})}};var Bv={getItem:e=>rr()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{rr()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{rr()&&globalThis.localStorage.removeItem(e)}};function S2(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function zv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var oi={debug:!!(globalThis&&rr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ls=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},Ad=class extends ls{};function D2(e,t,n){return f(this,null,function*(){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),oi.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>f(null,null,function*(){if(i){oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw oi.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Ad(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(oi.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}zv();var OI={url:yv,storageKey:gv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Uv(e,t,n){return f(this,null,function*(){return yield n()})}var _2=(()=>{class e{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},OI),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new so({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=_d(o.fetch),this.lock=o.lock||Uv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Lt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=D2:this.lock=Uv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:rr()?this.storage=Bv:(this.memoryStorage={},this.storage=S2(this.memoryStorage)):(this.memoryStorage={},this.storage=S2(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Cd}) ${new Date().toISOString()}`,...n),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var n;try{let r=Av(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Lt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:a}=yield this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Cv(a)){let l=(n=a.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return j(r)?{error:r}:{error:new oo("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return f(this,null,function*(){var r,i,o;try{let a=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:un}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(j(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(n){return f(this,null,function*(){var r,i,o;try{let a;if("email"in n){let{email:u,password:p,options:h}=n,y=null,g=null;this.flowType==="pkce"&&([y,g]=yield ni(this.storage,this.storageKey)),a=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:g},xform:un})}else if("phone"in n){let{phone:u,password:p,options:h}=n;a=yield Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:un})}else throw new Qr("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(j(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(n){return f(this,null,function*(){try{let r;if("email"in n){let{email:a,password:s,options:c}=n;r=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:x2})}else if("phone"in n){let{phone:a,password:s,options:c}=n;r=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:x2})}else throw new Qr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Jr}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return f(this,null,function*(){var r,i,o,a;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=n.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(n){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return f(this,null,function*(){let{chain:r}=n;if(r==="solana")return yield this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(n){return f(this,null,function*(){var r,i,o,a,s,c,l,d,u,p,h,y;let g,k;if("message"in n)g=n.message,k=n.signature;else{let{chain:M,wallet:T,statement:N,options:w}=n,W;if(Lt())if(typeof T=="object")W=T;else{let Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))W=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=T}let Ne=new URL((r=w?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in W&&W.signIn){let Q=yield W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:Ne.host,uri:Ne.href}),N?{statement:N}:null)),ue;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")ue=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)ue=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ue&&"signature"in ue&&(typeof ue.signedMessage=="string"||ue.signedMessage instanceof Uint8Array)&&ue.signature instanceof Uint8Array)g=typeof ue.signedMessage=="string"?ue.signedMessage:new TextDecoder().decode(ue.signedMessage),k=ue.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${Ne.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${Ne.href}`,`Issued At: ${(o=(i=w?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=w?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((d=w?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((p=(u=w?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...w.signInWithSolana.resources.map(ue=>`- ${ue}`)]:[]].join(`
`);let Q=yield W.signMessage(new TextEncoder().encode(g),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=Q}}try{let{data:M,error:T}=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:_v(k)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:un});if(T)throw T;return!M||!M.session||!M.user?{data:{user:null,session:null},error:new Jr}:(M.session&&(yield this._saveSession(M.session),yield this._notifyAllSubscribers("SIGNED_IN",M.session)),{data:Object.assign({},M),error:T})}catch(M){if(j(M))return{data:{user:null,session:null},error:M};throw M}})}_exchangeCodeForSession(n){return f(this,null,function*(){let r=yield ss(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:a,error:s}=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:un});if(yield cs(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new Jr}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:s})}catch(a){if(j(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(n){return f(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:a,nonce:s}=n,c=yield Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:un}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Jr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return f(this,null,function*(){var r,i,o,a,s;try{if("email"in n){let{email:c,options:l}=n,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield ni(this.storage,this.storageKey));let{error:p}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:l}=n,{data:d,error:u}=yield Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new Qr("You must provide either an email or phone number.")}catch(c){if(j(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return f(this,null,function*(){var r,i;try{let o,a;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,a=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:s,error:c}=yield Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:un});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(j(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(n){return f(this,null,function*(){var r,i,o;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield ni(this.storage,this.storageKey)),yield Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Vv})}catch(a){if(j(a))return{data:null,error:a};throw a}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new _t;let{error:o}=yield Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(n){if(j(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:a}=n,{error:s}=yield Z(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in n){let{phone:i,type:o,options:a}=n,{data:s,error:c}=yield Z(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new Qr("You must provide either an email or phone number and a type")}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(n,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield ss(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<Id:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let s=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,d,u)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:n},error:null}}let{session:o,error:a}=yield this._callRefreshToken(n.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return f(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return f(this,null,function*(){try{return n?yield Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:hn}):yield this._useSession(r=>f(this,null,function*(){var i,o,a;let{data:s,error:c}=r;if(c)throw c;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:yield Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:hn})}))}catch(r){if(j(r))return wv(r)&&(yield this._removeSession(),yield cs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return f(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return f(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:a,error:s}=o;if(s)throw s;if(!a.session)throw new _t;let c=a.session,l=null,d=null;this.flowType==="pkce"&&n.email!=null&&([l,d]=yield ni(this.storage,this.storageKey));let{data:u,error:p}=yield Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:hn});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(j(o))return{data:{user:null},error:o};throw o}})}setSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return f(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new _t;let r=Date.now()/1e3,i=r,o=!0,a=null,{payload:s}=Ld(n.access_token);if(s.exp&&(i=s.exp,o=i<=r),o){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;a={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(j(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;if(!n){let{data:s,error:c}=r;if(c)throw c;n=(i=s.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new _t;let{session:o,error:a}=yield this._callRefreshToken(n.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return f(this,null,function*(){try{if(!Lt())throw new ei("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ei(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new is("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ei("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new is("No code detected.");let{data:N,error:w}=yield this._exchangeCodeForSession(n.code);if(w)throw w;let W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:N.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=n;if(!a||!c||!s||!d)throw new ei("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=Yr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let g=h-p;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);let{data:k,error:M}=yield this._getUser(a);if(M)throw M;let T={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:n.type},error:null}}catch(i){if(j(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return f(this,null,function*(){let r=yield ss(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return f(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return f(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;if(a)return{error:a};let s=(i=o.session)===null||i===void 0?void 0:i.access_token;if(s){let{error:c}=yield this.admin.signOut(s,n);if(c&&!(Mv(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield cs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Ev(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var i,o;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",n,"session",a)}catch(a){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",a),console.error(a)}}))})}resetPasswordForEmail(i){return f(this,arguments,function*(n,r={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=yield ni(this.storage,this.storageKey,!0));try{return yield Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(j(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}})}linkIdentity(n){return f(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(a=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield Z(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(o)throw o;return Lt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(j(i))return{data:{provider:n.provider,url:null},error:i};throw i}})}unlinkIdentity(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:a,error:s}=r;if(s)throw s;return yield Z(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(j(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return f(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Pv(o=>f(this,null,function*(){return o>0&&(yield Rv(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:un})}),(o,a)=>{let s=200*Math.pow(2,o);return a&&Sd(a)&&Date.now()+s-i<Yr})}catch(i){if(this._debug(r,"error",i),j(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return f(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Lt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield ss(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Id;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Id}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Sd(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return f(this,null,function*(){var r,i;if(!n)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new as;let{data:a,error:s}=yield this._refreshAccessToken(n);if(s)throw s;if(!a.session)throw new _t;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),j(a)){let s={session:null,error:a};return Sd(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(n,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return f(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield I2(this.storage,this.storageKey,n)})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield cs(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Lt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Yr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Yr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Yr}ms, refresh threshold is ${bd} ticks`),o<=bd&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof ls)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return f(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[a,s]=yield ni(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(i?.queryParams){let a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;return a?{data:null,error:a}:yield Z(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(j(r))return{data:null,error:r};throw r}})}_enroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:d}=yield Z(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(n.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(j(r))return{data:null,error:r};throw r}})}_verify(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;if(a)return{data:null,error:a};let{data:s,error:c}=yield Z(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})}))}catch(r){if(j(r))return{data:null,error:r};throw r}}))})}_challenge(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;return a?{data:null,error:a}:yield Z(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(j(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return f(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return f(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=i.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){return yield this._useSession(n=>f(this,null,function*(){var r,i;let{data:{session:o},error:a}=n;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Ld(o.access_token),c=null;s.aal&&(c=s.aal);let l=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}))})}fetchJwk(i){return f(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o||(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+vv>Date.now()))return o;let{data:a,error:s}=yield Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new Rn("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),o=a.keys.find(c=>c.kid===n),!o)throw new Rn("No matching signing key found in JWKS");return o})}getClaims(i){return f(this,arguments,function*(n,r={keys:[]}){try{let o=n;if(!o){let{data:g,error:k}=yield this.getSession();if(k||!g.session)return{data:null,error:k};o=g.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=Ld(o);if(Nv(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:g}=yield this.getUser(o);if(g)throw g;return{data:{claims:s,header:a,signature:c},error:null}}let u=Fv(a.alg),p=yield this.fetchJwk(a.kid,r),h=yield crypto.subtle.importKey("jwk",p,u,!0,["verify"]);if(!(yield crypto.subtle.verify(u,h,c,Dv(`${l}.${d}`))))throw new Rn("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(o){if(j(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var NI=_2,L2=NI;var Td=class extends L2{constructor(t){super(t)}};var FI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},Rd=class{constructor(t,n,r){var i,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let s=pv(t),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:lv,realtime:uv,auth:Object.assign(Object.assign({},dv),{storageKey:l}),global:cv},u=fv(r??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=hv(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Gk(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ba(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new es(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return FI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:a,lock:s,debug:c},l,d){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Td({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),l),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:s,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Ja(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var $v=(e,t,n)=>new Rd(e,t,n);var jI="https://otxhrbsfcrkajaljaips.supabase.co",VI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im90eGhyYnNmY3JrYWphbGphaXBzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDc2MzkwOSwiZXhwIjoyMDY2MzM5OTA5fQ.nTDMEhkmQXh5-Adh_d4VFmqREBgM6GxaenaprzLuBAo",Et=$v(jI,VI);function HI(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function ds(e){if(Array.isArray(e))return e.map(ds);if(e!==null&&typeof e=="object"){let t={};for(let n of Object.keys(e)){let r=HI(n);t[r]=ds(e[n])}return t}return e}function pn(e){if(Array.isArray(e))return e.map(pn);if(e!==null&&typeof e=="object"){let t={};for(let n of Object.keys(e)){let r=qI(n);t[r]=pn(e[n])}return t}return e}function qI(e){return e.replace(/[A-Z]/g,t=>`_${t.toLowerCase()}`)}var ir=class e{findAll(){return $(Et.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `)).pipe(R(t=>{if(t.error)throw t.error;return ds(t.data)}))}findById(t){return $(Et.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `).eq("id",t).single()).pipe(R(n=>{if(n.error)throw n.error;return ds(n.data)}))}create(t){return $(Et.from("lease").insert(pn(t)).select().single()).pipe(R(n=>{if(n.error)throw n.error;return n.data}))}update(t,n){return $(Et.from("lease").update(n).eq("id",t).select().single()).pipe(R(r=>{if(r.error)throw r.error;return r.data}))}delete(t){return $(Et.from("lease").delete().eq("id",t)).pipe(R(n=>{if(n.error)throw n.error}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})};var BI=()=>[1,2,3],zI=()=>["/lease","new"],UI=(e,t)=>t.id;function $I(e,t){e&1&&(m(0,"div",3),S(1,"app-lease-skeleton-card"),v())}function GI(e,t){e&1&&Bt(0,$I,2,0,"div",3,ji),e&2&&zt(Hr(0,BI))}function WI(e,t){if(e&1&&(m(0,"div",3),S(1,"app-lease-card",9),v()),e&2){let n=t.$implicit;C(),_("lease",n)}}function ZI(e,t){if(e&1&&(Bt(0,WI,2,1,"div",3,UI),m(2,"div",4)(3,"div",5),S(4,"lucide-icon",6),v(),m(5,"h2",7),x(6," Nouveau bail "),v(),m(7,"p",8),x(8," Cr\xE9ez un nouveau contrat de location "),v()()),e&2){let n=Ut();zt(n.leases),C(2),_("routerLink",Hr(2,zI)),C(2),_("img",n.PlusCircleIcon)}}var Pd=class e{constructor(t){this.leaseRepository=t}leases=[];loading=!0;ngOnInit(){this.loadLeases()}loadLeases(){Nn([this.leaseRepository.findAll(),vo(1e3)]).pipe(Ve(1)).subscribe(([t])=>{this.leases=t,this.loading=!1})}PlusCircleIcon=xk;static \u0275fac=function(n){return new(n||e)(A(ir))};static \u0275cmp=J({type:e,selectors:[["app-home"]],decls:6,vars:1,consts:[[1,"px-2","md:px-48","py-4","md:py-8"],[1,"text-3xl","font-bold","mb-4","md:mb-8","text-gray-800","gap-2"],[1,"flex","flex-row","flex-wrap","gap-4"],[1,"w-full","md:w-80"],[1,"w-full","md:w-80","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4","hover:bg-opacity-40","transition",3,"routerLink"],[1,"h-32","flex","justify-center","items-center"],[1,"w-12","h-12","text-red-500",3,"img"],[1,"text-2xl","font-bold","leading-tight","text-center"],[1,"text-sm","text-gray-600","text-center"],[3,"lease"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),x(2,"Mes locations"),v(),m(3,"div",2),Ke(4,GI,2,1)(5,ZI,9,3),v()()),n&2&&(C(4),Xe(r.loading?4:5))},dependencies:[od,cn,nr,tr,ad],encapsulation:2})};function fn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var si=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function V2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function H2(e,t){return e(t={exports:{}},t.exports),t.exports}var ai=H2(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,a){var s=i.locked.get(o);s===void 0?a===void 0?i.locked.set(o,[]):i.locked.set(o,[a]):a!==void 0&&(s.unshift(a),i.locked.set(o,s))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(a,s){i.isLocked(o)?i.addToLocked(o,a):(i.addToLocked(o),a())})},this.unlock=function(o){var a=i.locked.get(o);if(a!==void 0&&a.length!==0){var s=a.pop();i.locked.set(o,a),s!==void 0&&setTimeout(s,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();t.default=function(){return n.getInstance()}});V2(ai);var KI=V2(H2(function(e,t){var n=si&&si.__awaiter||function(d,u,p,h){return new(p||(p=Promise))(function(y,g){function k(N){try{T(h.next(N))}catch(w){g(w)}}function M(N){try{T(h.throw(N))}catch(w){g(w)}}function T(N){N.done?y(N.value):new p(function(w){w(N.value)}).then(k,M)}T((h=h.apply(d,u||[])).next())})},r=si&&si.__generator||function(d,u){var p,h,y,g,k={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return g={next:M(0),throw:M(1),return:M(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function M(T){return function(N){return function(w){if(p)throw new TypeError("Generator is already executing.");for(;k;)try{if(p=1,h&&(y=2&w[0]?h.return:w[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,w[1])).done)return y;switch(h=0,y&&(w=[2&w[0],y.value]),w[0]){case 0:case 1:y=w;break;case 4:return k.label++,{value:w[1],done:!1};case 5:k.label++,h=w[1],w=[0];continue;case 7:w=k.ops.pop(),k.trys.pop();continue;default:if(y=k.trys,!((y=y.length>0&&y[y.length-1])||w[0]!==6&&w[0]!==2)){k=0;continue}if(w[0]===3&&(!y||w[1]>y[0]&&w[1]<y[3])){k.label=w[1];break}if(w[0]===6&&k.label<y[1]){k.label=y[1],y=w;break}if(y&&k.label<y[2]){k.label=y[2],k.ops.push(w);break}y[2]&&k.ops.pop(),k.trys.pop();continue}w=u.call(d,k)}catch(W){w=[6,W],h=0}finally{p=y=0}if(5&w[0])throw w[1];return{value:w[0]?w[1]:void 0,done:!0}}([T,N])}}},i=si;Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key",a={key:function(d){return n(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},getItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return r(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},setItem:function(d,u){return n(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,u){return window.localStorage.setItem(d,u)}};function s(d){return new Promise(function(u){return setTimeout(u,d)})}function c(d){for(var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="",h=0;h<d;h++)p+=u[Math.floor(Math.random()*u.length)];return p}var l=function(){function d(u){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=u,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(u,p){return p===void 0&&(p=5e3),n(this,void 0,void 0,function(){var h,y,g,k,M,T,N;return r(this,function(w){switch(w.label){case 0:h=Date.now()+c(4),y=Date.now()+p,g=o+"-"+u,k=this.storageHandler===void 0?a:this.storageHandler,w.label=1;case 1:return Date.now()<y?[4,s(30)]:[3,8];case 2:return w.sent(),k.getItemSync(g)!==null?[3,5]:(M=this.id+"-"+u+"-"+h,[4,s(Math.floor(25*Math.random()))]);case 3:return w.sent(),k.setItemSync(g,JSON.stringify({id:this.id,iat:h,timeoutKey:M,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return w.sent(),(T=k.getItemSync(g))!==null&&(N=JSON.parse(T)).id===this.id&&N.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(g,h),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(y)];case 6:w.sent(),w.label=7;case 7:return h=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(u,p){return n(this,void 0,void 0,function(){var h=this;return r(this,function(y){return setTimeout(function(){return n(h,void 0,void 0,function(){var g,k,M;return r(this,function(T){switch(T.label){case 0:return[4,ai.default().lock(p)];case 1:return T.sent(),this.acquiredIatSet.has(p)?(g=this.storageHandler===void 0?a:this.storageHandler,(k=g.getItemSync(u))===null?(ai.default().unlock(p),[2]):((M=JSON.parse(k)).timeRefreshed=Date.now(),g.setItemSync(u,JSON.stringify(M)),ai.default().unlock(p),this.refreshLockWhileAcquired(u,p),[2])):(ai.default().unlock(p),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(u){return n(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,new Promise(function(h){var y=!1,g=Date.now(),k=!1;function M(){if(k||(window.removeEventListener("storage",M),d.removeFromWaiting(M),clearTimeout(T),k=!0),!y){y=!0;var N=50-(Date.now()-g);N>0?setTimeout(h,N):h(null)}}window.addEventListener("storage",M),d.addToWaiting(M);var T=setTimeout(M,Math.max(0,u-Date.now()))})];case 1:return p.sent(),[2]}})})},d.addToWaiting=function(u){this.removeFromWaiting(u),d.waiters!==void 0&&d.waiters.push(u)},d.removeFromWaiting=function(u){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(p){return p!==u}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(u){return u()})},d.prototype.releaseLock=function(u){return n(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,this.releaseLock__private__(u)];case 1:return[2,p.sent()]}})})},d.prototype.releaseLock__private__=function(u){return n(this,void 0,void 0,function(){var p,h,y,g;return r(this,function(k){switch(k.label){case 0:return p=this.storageHandler===void 0?a:this.storageHandler,h=o+"-"+u,(y=p.getItemSync(h))===null?[2]:(g=JSON.parse(y)).id!==this.id?[3,2]:[4,ai.default().lock(g.iat)];case 1:k.sent(),this.acquiredIatSet.delete(g.iat),p.removeItemSync(h),ai.default().unlock(g.iat),d.notifyWaiters(),k.label=2;case 2:return[2]}})})},d.lockCorrector=function(u){for(var p=Date.now()-5e3,h=u,y=[],g=0;;){var k=h.keySync(g);if(k===null)break;y.push(k),g++}for(var M=!1,T=0;T<y.length;T++){var N=y[T];if(N.includes(o)){var w=h.getItemSync(N);if(w!==null){var W=JSON.parse(w);(W.timeRefreshed===void 0&&W.timeAcquired<p||W.timeRefreshed!==void 0&&W.timeRefreshed<p)&&(h.removeItemSync(N),M=!0)}}}M&&d.notifyWaiters()},d.waiters=void 0,d}();t.default=l})),XI={timeoutInSeconds:60},e4={name:"auth0-spa-js",version:"2.2.0"},t4=()=>Date.now(),Ue=class e extends Error{constructor(t,n){super(n),this.error=t,this.error_description=n,Object.setPrototypeOf(this,e.prototype)}static fromPayload({error:t,error_description:n}){return new e(t,n)}},Nd=class e extends Ue{constructor(t,n,r,i=null){super(t,n),this.state=r,this.appState=i,Object.setPrototypeOf(this,e.prototype)}},lo=class e extends Ue{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,e.prototype)}},Fd=class e extends lo{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,e.prototype)}},jd=class e extends Ue{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,e.prototype)}},Vd=class e extends Ue{constructor(t,n,r){super(t,n),this.mfa_token=r,Object.setPrototypeOf(this,e.prototype)}},ps=class e extends Ue{constructor(t,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${Gv(t,["default"])}', scope: '${Gv(n)}')`),this.audience=t,this.scope=n,Object.setPrototypeOf(this,e.prototype)}};function Gv(e,t=[]){return e&&!t.includes(e)?e:""}var Od=()=>window.crypto,A2=()=>{let e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(Od().getRandomValues(new Uint8Array(43))).forEach(n=>t+=e[n%e.length]),t},Wv=e=>btoa(e),O2=e=>{var{clientId:t}=e,n=fn(e,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:t},n))).toString()},Zv=e=>(t=>decodeURIComponent(atob(t).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),YI=(e,t)=>f(null,null,function*(){let n=yield fetch(e,t);return{ok:n.ok,json:yield n.json()}}),JI=(e,t,n)=>f(null,null,function*(){let r=new AbortController,i;return t.signal=r.signal,Promise.race([YI(e,t),new Promise((o,a)=>{i=setTimeout(()=>{r.abort(),a(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})}),QI=(e,t,n,r,i,o,a)=>f(null,null,function*(){return s={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:r,useFormData:a},c=o,new Promise(function(l,d){let u=new MessageChannel;u.port1.onmessage=function(p){p.data.error?d(new Error(p.data.error)):l(p.data),u.port1.close()},c.postMessage(s,[u.port2])});var s,c}),ex=(e,t,n,r,i,o,a=1e4)=>f(null,null,function*(){return i?QI(e,t,n,r,a,i,o):JI(e,r,a)});function tx(e,t){return f(this,null,function*(){var{baseUrl:n,timeout:r,audience:i,scope:o,auth0Client:a,useFormData:s}=e,c=fn(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let l=s?O2(c):JSON.stringify(c);return yield function(d,u,p,h,y,g,k){return f(this,null,function*(){let M,T=null;for(let ue=0;ue<3;ue++)try{M=yield ex(d,p,h,y,g,k,u),T=null;break}catch($4){T=$4}if(T)throw T;let N=M.json,{error:w,error_description:W}=N,Ne=fn(N,["error","error_description"]),{ok:Q}=M;if(!Q){let ue=W||`HTTP error. Unable to fetch ${d}`;throw w==="mfa_required"?new Vd(w,ue,Ne.mfa_token):w==="missing_refresh_token"?new ps(p,h):new Ue(w||"request_error",ue)}return Ne})}(`${n}/oauth/token`,r,i||"default",o,{method:"POST",body:l,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||e4))}},t,s)})}var us=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t},Pn=class e{constructor(t,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){let[n,r,i,o]=t.split("::");return new e({clientId:r,scope:o,audience:i},n)}static fromCacheEntry(t){let{scope:n,audience:r,client_id:i}=t;return new e({scope:n,audience:r,clientId:i})}},Hd=class{set(t,n){localStorage.setItem(t,JSON.stringify(n))}get(t){let n=window.localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith("@@auth0spajs@@"))}},fs=class{constructor(){this.enclosedCache=function(){let t={};return{set(n,r){t[n]=r},get(n){let r=t[n];if(r)return r},remove(n){delete t[n]},allKeys:()=>Object.keys(t)}}()}},N2=class{constructor(t,n,r){this.cache=t,this.keyManifest=n,this.nowProvider=r||t4}setIdToken(t,n,r){return f(this,null,function*(){var i;let o=this.getIdTokenCacheKey(t);yield this.cache.set(o,{id_token:n,decodedToken:r}),yield(i=this.keyManifest)===null||i===void 0?void 0:i.add(o)})}getIdToken(t){return f(this,null,function*(){let n=yield this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!n&&t.scope&&t.audience){let r=yield this.get(t);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}})}get(t,n=0){return f(this,null,function*(){var r;let i=yield this.cache.get(t.toKey());if(!i){let s=yield this.getCacheKeys();if(!s)return;let c=this.matchExistingCacheKey(t,s);c&&(i=yield this.cache.get(c))}if(!i)return;let o=yield this.nowProvider(),a=Math.floor(o/1e3);return i.expiresAt-n<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},yield this.cache.set(t.toKey(),i),i.body):(yield this.cache.remove(t.toKey()),void(yield(r=this.keyManifest)===null||r===void 0?void 0:r.remove(t.toKey()))):i.body})}set(t){return f(this,null,function*(){var n;let r=new Pn({clientId:t.client_id,scope:t.scope,audience:t.audience}),i=yield this.wrapCacheEntry(t);yield this.cache.set(r.toKey(),i),yield(n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey())})}clear(t){return f(this,null,function*(){var n;let r=yield this.getCacheKeys();r&&(yield r.filter(i=>!t||i.includes(t)).reduce((i,o)=>f(this,null,function*(){yield i,yield this.cache.remove(o)}),Promise.resolve()),yield(n=this.keyManifest)===null||n===void 0?void 0:n.clear())})}wrapCacheEntry(t){return f(this,null,function*(){let n=yield this.nowProvider();return{body:t,expiresAt:Math.floor(n/1e3)+t.expires_in}})}getCacheKeys(){return f(this,null,function*(){var t;return this.keyManifest?(t=yield this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(t){return new Pn({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,n){return n.filter(r=>{var i;let o=Pn.fromKey(r),a=new Set(o.scope&&o.scope.split(" ")),s=((i=t.scope)===null||i===void 0?void 0:i.split(" "))||[],c=o.scope&&s.reduce((l,d)=>l&&a.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===t.clientId&&o.audience===t.audience&&c})[0]}},F2=class{constructor(t,n,r){this.storage=t,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(t){this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},hs=e=>typeof e=="number",nx=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],rx=e=>{if(!e.id_token)throw new Error("ID token is required but missing");let t=(o=>{let a=o.split("."),[s,c,l]=a;if(a.length!==3||!s||!c||!l)throw new Error("ID token could not be decoded");let d=JSON.parse(Zv(c)),u={__raw:o},p={};return Object.keys(d).forEach(h=>{u[h]=d[h],nx.includes(h)||(p[h]=d[h])}),{encoded:{header:s,payload:c,signature:l},header:JSON.parse(Zv(s)),claims:u,user:p}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!hs(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(t.claims.exp==null||!hs(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!hs(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let n=e.leeway||60,r=new Date(e.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(t.claims.exp+n),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(t.claims.nbf!=null&&hs(t.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(t.claims.nbf-n),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(t.claims.auth_time!=null&&hs(t.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(e.organization){let o=e.organization.trim();if(o.startsWith("org_")){let a=o;if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${t.claims.org_id}"`)}else{let a=o.toLowerCase();if(!t.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${t.claims.org_name}"`)}}return t},ci=H2(function(e,t){var n=si&&si.__assign||function(){return n=Object.assign||function(c){for(var l,d=1,u=arguments.length;d<u;d++)for(var p in l=arguments[d])Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p]);return c},n.apply(this,arguments)};function r(c,l){if(!l)return"";var d="; "+c;return l===!0?d:d+"="+l}function i(c,l,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(u){if(typeof u.expires=="number"){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*u.expires),u.expires=p}return r("Expires",u.expires?u.expires.toUTCString():"")+r("Domain",u.domain)+r("Path",u.path)+r("Secure",u.secure)+r("SameSite",u.sameSite)}(d)}function o(c){for(var l={},d=c?c.split("; "):[],u=/(%[\dA-F]{2})+/gi,p=0;p<d.length;p++){var h=d[p].split("="),y=h.slice(1).join("=");y.charAt(0)==='"'&&(y=y.slice(1,-1));try{l[h[0].replace(u,decodeURIComponent)]=y.replace(u,decodeURIComponent)}catch{}}return l}function a(){return o(document.cookie)}function s(c,l,d){document.cookie=i(c,l,n({path:"/"},d))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=a,t.get=function(c){return a()[c]},t.set=s,t.remove=function(c,l){s(c,"",n(n({},l),{expires:-1}))}});V2(ci),ci.encode,ci.parse,ci.getAll;var ix=ci.get,n4=ci.set,r4=ci.remove,co={get(e){let t=ix(e);if(t!==void 0)return JSON.parse(t)},save(e,t,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),n4(e,JSON.stringify(t),r)},remove(e,t){let n={};t?.cookieDomain&&(n.domain=t.cookieDomain),r4(e,n)}},ox={get(e){return co.get(e)||co.get(`_legacy_${e}`)},save(e,t,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),n4(`_legacy_${e}`,JSON.stringify(t),r),co.save(e,t,n)},remove(e,t){let n={};t?.cookieDomain&&(n.domain=t.cookieDomain),r4(e,n),co.remove(e,t),co.remove(`_legacy_${e}`,t)}},ax={get(e){if(typeof sessionStorage>"u")return;let t=sessionStorage.getItem(e);return t!=null?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function sx(e,t,n){var r=t===void 0?null:t,i=function(c,l){var d=atob(c);if(l){for(var u=new Uint8Array(d.length),p=0,h=d.length;p<h;++p)u[p]=d.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(u.buffer))}return d}(e,n!==void 0&&n),o=i.indexOf(`
`,10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}var Kv,Xv,Yv,T2,cx=(Kv="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Xv=null,Yv=!1,function(e){return T2=T2||sx(Kv,Xv,Yv),new Worker(T2,e)}),R2={},j2=class{constructor(t,n){this.cache=t,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(t){return f(this,null,function*(){var n;let r=new Set(((n=yield this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(t),yield this.cache.set(this.manifestKey,{keys:[...r]})})}remove(t){return f(this,null,function*(){let n=yield this.cache.get(this.manifestKey);if(n){let r=new Set(n.keys);return r.delete(t),r.size>0?yield this.cache.set(this.manifestKey,{keys:[...r]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}},lx={memory:()=>new fs().enclosedCache,localstorage:()=>new Hd},Jv=e=>lx[e],Qv=e=>{let{openUrl:t,onRedirect:n}=e,r=fn(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:t===!1||t?t:n})},P2=new KI,qd=class{constructor(t){let n,r;if(this.userCache=new fs().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>f(this,null,function*(){yield P2.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!Od())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Od().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)r=t.cache;else{if(n=t.cacheLocation||"memory",!Jv(n))throw new Error(`Invalid cache location "${n}"`);r=Jv(n)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?co:ox,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(a=>`auth0.${a}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;let i=t.useCookiesForTransactions?this.cookieStorage:ax;var o;this.scope=us("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new F2(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||t4,this.cacheManager=new N2(r,r.allKeys?void 0:new j2(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((a,s)=>a?a.startsWith("https://")?a:`https://${a}/`:`${s}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new cx)}_url(t){let n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||e4)));return`${this.domainUrl}${t}&auth0Client=${n}`}_authorizeUrl(t){return this._url(`/authorize?${O2(t)}`)}_verifyIdToken(t,n,r){return f(this,null,function*(){let i=yield this.nowProvider();return rx({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:n,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o})}_processOrgHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(t,n,r){return f(this,null,function*(){let i=Wv(A2()),o=Wv(A2()),a=A2(),s=(d=>{let u=new Uint8Array(d);return(p=>{let h={"+":"-","/":"_","=":""};return p.replace(/[+/=]/g,y=>h[y])})(window.btoa(String.fromCharCode(...Array.from(u))))})(yield(d=>f(null,null,function*(){return yield Od().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d))}))(a)),c=((d,u,p,h,y,g,k,M)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),p),{scope:us(u,p.scope),response_type:"code",response_mode:M||"query",state:h,nonce:y,redirect_uri:k||d.authorizationParams.redirect_uri,code_challenge:g,code_challenge_method:"S256"}))(this.options,this.scope,t,i,o,s,t.redirect_uri||this.options.authorizationParams.redirect_uri||r,n?.response_mode),l=this._authorizeUrl(c);return{nonce:o,code_verifier:a,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:i,url:l}})}loginWithPopup(t,n){return f(this,null,function*(){var r;if(t=t||{},!(n=n||{}).popup&&(n.popup=(s=>{let c=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup",`left=${c},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let i=yield this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;let o=yield(s=>new Promise((c,l)=>{let d,u=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(u),clearTimeout(p),window.removeEventListener("message",d,!1),l(new jd(s.popup)))},1e3),p=setTimeout(()=>{clearInterval(u),l(new Fd(s.popup)),window.removeEventListener("message",d,!1)},1e3*(s.timeoutInSeconds||60));d=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(p),clearInterval(u),window.removeEventListener("message",d,!1),s.popup.close(),h.data.response.error)return l(Ue.fromPayload(h.data.response));c(h.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new Ue("state_mismatch","Invalid state");let a=((r=t.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:a})})}getUser(){return f(this,null,function*(){var t;let n=yield this._getIdTokenFromCache();return(t=n?.decodedToken)===null||t===void 0?void 0:t.user})}getIdTokenClaims(){return f(this,null,function*(){var t;let n=yield this._getIdTokenFromCache();return(t=n?.decodedToken)===null||t===void 0?void 0:t.claims})}loginWithRedirect(){return f(this,arguments,function*(t={}){var n;let r=Qv(t),{openUrl:i,fragment:o,appState:a}=r,s=fn(r,["openUrl","fragment","appState"]),c=((n=s.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,l=yield this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:d}=l,u=fn(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},u),{appState:a}),c&&{organization:c}));let p=o?`${d}#${o}`:d;i?yield i(p):window.location.assign(p)})}handleRedirectCallback(){return f(this,arguments,function*(t=window.location.href){let n=t.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");let{state:r,code:i,error:o,error_description:a}=(u=>{u.indexOf("#")>-1&&(u=u.substring(0,u.indexOf("#")));let p=new URLSearchParams(u);return{state:p.get("state"),code:p.get("code")||void 0,error:p.get("error")||void 0,error_description:p.get("error_description")||void 0}})(n.join("")),s=this.transactionManager.get();if(!s)throw new Ue("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new Nd(o,a||o,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new Ue("state_mismatch","Invalid state");let c=s.organization,l=s.nonce,d=s.redirect_uri;return yield this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i},d?{redirect_uri:d}:{}),{nonceIn:l,organization:c}),{appState:s.appState}})}checkSession(t){return f(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(t)}catch{}})}getTokenSilently(){return f(this,arguments,function*(t={}){var n;let r=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:us(this.scope,(n=t.authorizationParams)===null||n===void 0?void 0:n.scope)})}),i=yield((o,a)=>{let s=R2[a];return s||(s=o().finally(()=>{delete R2[a],s=null}),R2[a]=s),s})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return t.detailedResponse?i:i?.access_token})}_getTokenSilently(t){return f(this,null,function*(){let{cacheMode:n}=t,r=fn(t,["cacheMode"]);if(n!=="off"){let i=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(n!=="cache-only"){if(!(yield((i,o=3)=>f(this,null,function*(){for(let a=0;a<o;a++)if(yield i())return!0;return!1}))(()=>P2.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new lo;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){let l=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}let i=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(r):yield this._getTokenFromIFrame(r),{id_token:o,access_token:a,oauthTokenScope:s,expires_in:c}=i;return Object.assign(Object.assign({id_token:o,access_token:a},s?{scope:s}:null),{expires_in:c})}finally{yield P2.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return f(this,arguments,function*(t={},n={}){var r;let i=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:us(this.scope,(r=t.authorizationParams)===null||r===void 0?void 0:r.scope)})});return n=Object.assign(Object.assign({},XI),n),yield this.loginWithPopup(i,n),(yield this.cacheManager.get(new Pn({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return f(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;let n=t.logoutParams||{},{federated:r}=n,i=fn(n,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${O2(Object.assign({clientId:t.clientId},i))}`)+o}logout(){return f(this,arguments,function*(t={}){let n=Qv(t),{openUrl:r}=n,i=fn(n,["openUrl"]);t.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let o=this._buildLogoutUrl(i);r?yield r(o):r!==!1&&window.location.assign(o)})}_getTokenFromIFrame(t){return f(this,null,function*(){let n=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);let{url:i,state:o,nonce:a,code_verifier:s,redirect_uri:c,scope:l,audience:d}=yield this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Ue("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let u=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,p=yield((y,g,k=60)=>new Promise((M,T)=>{let N=window.document.createElement("iframe");N.setAttribute("width","0"),N.setAttribute("height","0"),N.style.display="none";let w=()=>{window.document.body.contains(N)&&(window.document.body.removeChild(N),window.removeEventListener("message",W,!1))},W,Ne=setTimeout(()=>{T(new lo),w()},1e3*k);W=function(Q){if(Q.origin!=g||!Q.data||Q.data.type!=="authorization_response")return;let ue=Q.source;ue&&ue.close(),Q.data.response.error?T(Ue.fromPayload(Q.data.response)):M(Q.data.response),clearTimeout(Ne),window.removeEventListener("message",W,!1),setTimeout(w,2e3)},window.addEventListener("message",W,!1),window.document.body.appendChild(N),N.setAttribute("src",y)}))(i,this.domainUrl,u);if(o!==p.state)throw new Ue("state_mismatch","Invalid state");let h=yield this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:s,code:p.code,grant_type:"authorization_code",redirect_uri:c,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:n.organization});return Object.assign(Object.assign({},h),{scope:l,oauthTokenScope:h.scope,audience:d})}catch(u){throw u.error==="login_required"&&this.logout({openUrl:!1}),u}})}_getTokenUsingRefreshToken(t){return f(this,null,function*(){let n=yield this.cacheManager.get(new Pn({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(t);throw new ps(t.authorizationParams.audience||"default",t.authorizationParams.scope)}let r=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null;try{let o=yield this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:t.authorizationParams.scope,oauthTokenScope:o.scope,audience:t.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(t);throw o}})}_saveEntryInCache(t){return f(this,null,function*(){let{id_token:n,decodedToken:r}=t,i=fn(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),yield this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),yield this.cacheManager.set(i)})}_getIdTokenFromCache(){return f(this,null,function*(){let t=this.options.authorizationParams.audience||"default",n=yield this.cacheManager.getIdToken(new Pn({clientId:this.options.clientId,audience:t,scope:this.scope})),r=this.userCache.get("@@user@@");return n&&n.id_token===r?.id_token?r:(this.userCache.set("@@user@@",n),n)})}_getEntryFromCache(i){return f(this,arguments,function*({scope:t,audience:n,clientId:r}){let o=yield this.cacheManager.get(new Pn({scope:t,audience:n,clientId:r}),60);if(o&&o.access_token){let{access_token:a,oauthTokenScope:s,expires_in:c}=o,l=yield this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:a},s?{scope:s}:null),{expires_in:c})}})}_requestToken(t,n){return f(this,null,function*(){let{nonceIn:r,organization:i}=n||{},o=yield tx(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},t),this.worker),a=yield this._verifyIdToken(o.id_token,r,i);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:a,scope:t.scope,audience:t.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||a.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:a})})}exchangeToken(t){return f(this,null,function*(){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:t.subject_token,subject_token_type:t.subject_token_type,scope:us(t.scope,this.scope),audience:this.options.authorizationParams.audience})})}};var i4={name:"@auth0/auth0-angular",version:"2.2.3"},q2=class{static createClient(t){let n=t.get();if(!n)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new qd(V(I({},n),{auth0Client:{name:i4.name,version:i4.version,env:{"angular/core":Xg.full}}}))}},Bd=new E("auth0.client");function o4(e){return typeof e!="string"}var a4=new E("auth0-angular.config"),B2=(()=>{class e{constructor(n){n&&this.set(n)}set(n){this.config=n}get(){return this.config}}return e.\u0275fac=function(n){return new(n||e)(P(a4,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dx=(()=>{class e{constructor(n,r){this.location=n;try{this.router=r.get(An)}catch{}}navigateByUrl(n){if(this.router){this.router.navigateByUrl(n);return}this.location.replaceState(n)}}return e.\u0275fac=function(n){return new(n||e)(P(Jn),P(Te))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),s4=(()=>{class e{constructor(n){this.auth0Client=n,this.isLoadingSubject$=new we(!0),this.refresh$=new re,this.accessToken$=new vn(1),this.errorSubject$=new vn(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(Co((r,i)=>({previous:r.current,current:i}),{current:null,previous:null}),je(({previous:r,current:i})=>r!==i)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(je(r=>!r),Mo(),He(()=>Fu(Ot(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(de(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(de(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(Mo(),Bu(1)),this.user$=this.isAuthenticatedTrigger$.pipe(nt(r=>r?this.auth0Client.getUser():O(null)),Mo()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(nt(r=>r?this.auth0Client.getIdTokenClaims():O(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(n){this.isLoadingSubject$.next(n)}refresh(){this.refresh$.next()}setAccessToken(n){this.accessToken$.next(n)}setError(n){this.errorSubject$.next(n)}}return e.\u0275fac=function(n){return new(n||e)(P(Bd))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ys=(()=>{class e{constructor(n,r,i,o){this.auth0Client=n,this.configFactory=r,this.navigator=i,this.authState=o,this.appStateSubject$=new vn(1),this.ngUnsubscribe$=new re,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let a=s=>ac(()=>s,this.handleRedirectCallback(),Ot(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(He(s=>a(s).pipe(tt(c=>{let l=this.configFactory.get();return this.navigator.navigateByUrl(l.errorPath||"/"),this.authState.setError(c),O(void 0)}))),se(()=>{this.authState.setIsLoading(!1)}),bi(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(n){return $(this.auth0Client.loginWithRedirect(n))}loginWithPopup(n,r){return $(this.auth0Client.loginWithPopup(n,r).then(()=>{this.authState.refresh()}))}logout(n){return $(this.auth0Client.logout(n).then(()=>{(n?.openUrl===!1||n?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(n={}){return O(this.auth0Client).pipe(nt(r=>n.detailedResponse===!0?r.getTokenSilently(V(I({},n),{detailedResponse:!0})):r.getTokenSilently(n)),se(r=>{r&&this.authState.setAccessToken(typeof r=="string"?r:r.access_token)}),tt(r=>(this.authState.setError(r),this.authState.refresh(),Pt(r))))}getAccessTokenWithPopup(n){return O(this.auth0Client).pipe(nt(r=>r.getTokenWithPopup(n)),se(r=>{r&&this.authState.setAccessToken(r)}),tt(r=>(this.authState.setError(r),this.authState.refresh(),Pt(r))))}handleRedirectCallback(n){return Ot(()=>this.auth0Client.handleRedirectCallback(n)).pipe(Uu(this.authState.isLoading$),se(([r,i])=>{i||this.authState.refresh();let o=r?.appState,a=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(a)}),R(([r])=>r))}shouldHandleCallback(){return O(location.search).pipe(R(n=>{let r=new URLSearchParams(n);return(r.has("code")||r.has("error"))&&r.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return e.\u0275fac=function(n){return new(n||e)(P(Bd),P(B2),P(dx),P(s4))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),or=(()=>{class e{constructor(n){this.auth=n}canLoad(n,r){return this.auth.isAuthenticated$.pipe(Ve(1))}canActivate(n,r){return this.redirectIfUnauthenticated(r)}canActivateChild(n,r){return this.redirectIfUnauthenticated(r)}redirectIfUnauthenticated(n){return this.auth.isAuthenticated$.pipe(se(r=>{r||this.auth.loginWithRedirect({appState:{target:n.url}})}))}}return e.\u0275fac=function(n){return new(n||e)(P(ys))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ux=e=>t=>t.pipe(de(n=>e.pipe(kt(),ju(n)))),hx=(()=>{class e{constructor(n,r,i,o){this.configFactory=n,this.auth0Client=r,this.authState=i,this.authService=o}intercept(n,r){let i=this.configFactory.get();if(!i.httpInterceptor?.allowedList)return r.handle(n);let o=this.authService.isLoading$.pipe(je(a=>!a));return this.findMatchingRoute(n,i.httpInterceptor).pipe(nt(a=>ac(()=>a!==null,O(a).pipe(ux(o),Hu("tokenOptions"),nt(s=>this.getAccessTokenSilently(s).pipe(tt(c=>this.allowAnonymous(a,c)?O(""):(this.authState.setError(c),Pt(c))))),He(s=>{let c=s?n.clone({headers:n.headers.set("Authorization",`Bearer ${s}`)}):n;return r.handle(c)})),r.handle(n))))}getAccessTokenSilently(n){return O(this.auth0Client).pipe(nt(r=>r.getTokenSilently(n)),se(r=>this.authState.setAccessToken(r)),tt(r=>(this.authState.refresh(),Pt(r))))}stripQueryFrom(n){return n.indexOf("?")>-1&&(n=n.substr(0,n.indexOf("?"))),n.indexOf("#")>-1&&(n=n.substr(0,n.indexOf("#"))),n}canAttachToken(n,r){let i=o=>{if(!o)return!1;let a=this.stripQueryFrom(r.url);return o===a?!0:o.indexOf("*")===o.length-1&&r.url.startsWith(o.substr(0,o.length-1))};return o4(n)?n.httpMethod&&n.httpMethod!==r.method?!1:(!n.uri&&!n.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),n.uriMatcher?n.uriMatcher(r.url):i(n.uri)):i(n)}findMatchingRoute(n,r){return $(r.allowedList).pipe(kt(i=>this.canAttachToken(i,n),null))}allowAnonymous(n,r){return!!n&&o4(n)&&!!n.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(r.error)}}return e.\u0275fac=function(n){return new(n||e)(P(B2),P(Bd),P(s4),P(ys))},e.\u0275prov=L({token:e,factory:e.\u0275fac}),e})();function c4(e){return[ys,hx,or,{provide:a4,useValue:e},{provide:Bd,useFactory:q2.createClient,deps:[B2]}]}var fx=()=>[1,2,3,4],yx=()=>[1,2,3,4,5];function gx(e,t){e&1&&S(0,"div",12)}function mx(e,t){e&1&&(m(0,"div",20),S(1,"div",21)(2,"div",22),v())}var zd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-lease-view-skeleton"]],decls:27,vars:2,consts:[[1,"md:px-48","py-4","md:py-8","animate-pulse"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],[1,"w-10","h-10","rounded-full","bg-white","bg-opacity-30","backdrop-blur-md","shadow-md"],[1,"h-8","w-48","bg-gray-300","bg-opacity-40","rounded"],[1,"flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","space-y-4"],[1,"h-6","w-32","bg-gray-300","rounded"],[1,"h-4","w-64","bg-gray-300","rounded"],[1,"border-t","border-gray-300/30","my-2"],[1,"h-4","w-56","bg-gray-300","rounded"],[1,"h-4","w-72","bg-gray-300","rounded"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"h-6","w-20","bg-gray-200","rounded-full"],[1,"h-5","w-40","bg-gray-300","rounded"],[1,"h-4","w-40","bg-gray-300","rounded","mt-2"],[1,"h-3","w-64","bg-gray-200","rounded"],[1,"h-5","w-40","bg-gray-300","rounded","mt-8"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","space-y-2"],[1,"h-5","w-48","bg-gray-300","rounded"],[1,"border-t","border-gray-300/30","pt-2","space-y-2"],[1,"flex","justify-between"],[1,"h-4","w-32","bg-gray-300","rounded"],[1,"h-4","w-24","bg-gray-300","rounded"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),S(2,"div",2)(3,"div",3),v(),m(4,"div",4)(5,"div",5),S(6,"div",6)(7,"div",7)(8,"hr",8)(9,"div",9)(10,"div",10)(11,"div",7),m(12,"div",11),Bt(13,gx,1,0,"div",12,ji),v()(),m(15,"div",5),S(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",14)(21,"div",15),v(),m(22,"div",17),S(23,"div",18),m(24,"div",19),Bt(25,mx,3,0,"div",20,ji),v()()()()),n&2&&(C(13),zt(Hr(0,fx)),C(12),zt(Hr(1,yx)))},encapsulation:2})};var kx=e=>["/lease",e,"property"];function vx(e,t){e&1&&S(0,"app-lease-view-skeleton")}function Mx(e,t){if(e&1&&(m(0,"div",0)(1,"div",1)(2,"a",2),S(3,"lucide-icon",3),v(),m(4,"div",4),x(5),v()(),m(6,"div",5)(7,"div",6)(8,"h2",7),x(9,"Mon bien"),v(),m(10,"p",8),S(11,"lucide-icon",9),x(12),v(),S(13,"hr",10),m(14,"div",11),S(15,"lucide-icon",9),m(16,"span"),x(17),Xn(18,"titlecase"),v(),x(19," \xB7 "),m(20,"span"),x(21),v()(),m(22,"div",11),S(23,"lucide-icon",9),m(24,"span"),x(25),v(),m(26,"span"),x(27),v(),m(28,"span"),x(29),v()(),m(30,"div",11),S(31,"lucide-icon",9),m(32,"span"),x(33),v(),m(34,"span"),x(35),v()(),m(36,"div",12)(37,"span",13),x(38,"Balcon"),v(),m(39,"span",13),x(40,"Terrasse"),v(),m(41,"span",13),x(42,"Jardin"),v(),m(43,"span",13),x(44,"Garage"),v(),m(45,"span",13),x(46,"Chemin\xE9e"),v(),m(47,"span",13),x(48,"Piscine"),v()()(),m(49,"div",14)(50,"h3",15),x(51,"Propri\xE9taires"),v(),m(52,"div",16)(53,"div",17),x(54," Koussila ZEKRI "),v(),m(55,"div",18),x(56," koussila zekri@gmail.com"),S(57,"br"),x(58," +33123456789 "),v()(),m(59,"h3",19),x(60,"Locataires"),v(),m(61,"div",16)(62,"div",17),x(63," Koussila ZEKRI "),v(),m(64,"div",18),x(65," koussila zekri@gmail.com"),S(66,"br"),x(67," +33123456789 "),v()()(),m(68,"div",14)(69,"h3",15),x(70,"D\xE9tails de la location"),v(),m(71,"div",20)(72,"div",21)(73,"span",22),x(74,"P\xE9riode"),v(),m(75,"span"),x(76),Xn(77,"date"),Xn(78,"date"),v()(),m(79,"div",21)(80,"span",22),x(81,"Loyer"),v(),m(82,"span"),x(83),v()(),m(84,"div",21)(85,"span",22),x(86,"Fr\xE9quence"),v(),m(87,"span"),x(88),v()(),m(89,"div",21)(90,"span",22),x(91,"D\xE9p\xF4t de garantie"),v(),m(92,"span"),x(93),v()(),m(94,"div",21)(95,"span",22),x(96,"Statut"),v(),m(97,"span",23),x(98),v()(),m(99,"div",24)(100,"button",25),S(101,"lucide-icon",26),x(102," G\xE9n\xE9rer le bail (PDF) "),v()()()()()()),e&2){let n=Ut();C(3),_("img",n.ArrowLeftIcon),C(2),me(" ",n.lease==null||n.lease.property==null?null:n.lease.property.name," "),C(2),_("routerLink",ra(33,kx,n.lease==null?null:n.lease.id)),C(4),_("img",n.MapPinIcon),C(),$t(" ",n.lease==null||n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.street,", ",n.lease==null||n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.city," "),C(3),_("img",n.HomeIcon),C(2),ot(hp(18,25,n.lease==null||n.lease.property==null?null:n.lease.property.type)),C(4),me("",n.lease==null||n.lease.property==null?null:n.lease.property.livingArea," m\xB2"),C(2),_("img",n.LayoutIcon),C(2),me("",n.lease==null||n.lease.property==null?null:n.lease.property.rooms," pi\xE8ces"),C(2),me("\xB7 ",n.lease==null||n.lease.property==null?null:n.lease.property.bedrooms," chambres"),C(2),me("\xB7 ",n.lease==null||n.lease.property==null?null:n.lease.property.bathrooms," sdb"),C(2),_("img",n.FlameIcon),C(2),me("Chauffage ",n.lease==null||n.lease.property==null||n.lease.property.heatingType==null?null:n.lease.property.heatingType.toLowerCase()),C(2),me("\xB7 DPE ",n.lease==null||n.lease.property==null?null:n.lease.property.energyLabel),C(41),$t("",qr(77,27,n.lease==null?null:n.lease.startDate,"dd MMM yyyy")," \u2013 ",qr(78,30,n.lease==null?null:n.lease.endDate,"dd MMM yyyy")),C(7),$t("",n.lease==null?null:n.lease.rentAmount," ",n.lease==null?null:n.lease.rentCurrency),C(5),ot((n.lease==null?null:n.lease.paymentFrequency)||"Mensuel"),C(5),$t("",n.lease==null?null:n.lease.securityDeposit," ",n.lease==null?null:n.lease.rentCurrency),C(5),ot(n.lease==null||n.lease.status==null?null:n.lease.status.toLowerCase()),C(3),_("img",n.FileTextIcon)}}var Ud=class e{constructor(t){this.leaseRepository=t}leaseId=null;lease;loading=!0;route=b(mt);RulerIcon=rd;ngOnInit(){this.leaseId=this.route.snapshot.paramMap.get("id"),this.leaseId?this.leaseRepository.findById(this.leaseId).subscribe(t=>{this.lease=t,this.loading=!1}):this.loading=!1}LayoutIcon=Lk;MapPinIcon=Ji;HomeIcon=Dk;FlameIcon=nd;ArrowLeftIcon=td;FileTextIcon=Sk;static \u0275fac=function(n){return new(n||e)(A(ir))};static \u0275cmp=J({type:e,selectors:[["app-lease"]],decls:2,vars:1,consts:[[1,"p-2","md:px-48","py-4","md:py-8"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],["routerLink","/home",1,"w-10","h-10","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","rounded-full","shadow-md","hover:bg-opacity-40","transition"],[1,"w-5","h-5","text-red-500",3,"img"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-4","hover:bg-opacity-40","transition","cursor-pointer",3,"routerLink"],[1,"text-2xl","font-bold"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-300/50","my-2"],[1,"text-sm","text-gray-700","flex","items-center","gap-2"],[1,"text-xs","text-gray-600","flex","flex-wrap","gap-2","mt-2"],[1,"bg-gray-200","px-2","py-1","rounded-full"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2","cursor-pointer"],[1,"text-xl","font-bold"],[1,"border-t","border-gray-300/40","pt-2"],[1,"text-gray-800","font-medium"],[1,"text-xs","text-gray-600"],[1,"text-xl","font-bold","mt-8"],[1,"border-t","border-gray-300/40","pt-2","space-y-2","text-sm","text-gray-700"],[1,"flex","justify-between"],[1,"font-medium","text-gray-800"],[1,"capitalize"],[1,"flex","items-center","justify-center","mt-8"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","transition","flex","items-center","gap-2"],[1,"w-5","h-5",3,"img"]],template:function(n,r){n&1&&Ke(0,vx,1,0,"app-lease-view-skeleton")(1,Mx,103,35,"div",0),n&2&&Xe(r.loading?0:1)},dependencies:[nr,tr,cn,Ip,pa,zd],encapsulation:2})};var m4=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(A(nn),A(qt))};static \u0275dir=_e({type:e})}return e})(),wx=(()=>{class e extends m4{static \u0275fac=(()=>{let n;return function(i){return(n||(n=jr(e)))(i||e)}})();static \u0275dir=_e({type:e,features:[bt]})}return e})(),yn=new E("");var Cx={provide:yn,useExisting:Se(()=>k4),multi:!0};function bx(){let e=xt()?xt().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Ix=new E(""),k4=(()=>{class e extends m4{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!bx())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(A(nn),A(qt),A(Ix,8))};static \u0275dir=_e({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Pe("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[Ye([Cx]),bt]})}return e})();function Z2(e){return e==null||K2(e)===0}function K2(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var eu=new E(""),tu=new E(""),xx=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,At=class{static min(t){return Sx(t)}static max(t){return Dx(t)}static required(t){return _x(t)}static requiredTrue(t){return Lx(t)}static email(t){return Ex(t)}static minLength(t){return Ax(t)}static maxLength(t){return Tx(t)}static pattern(t){return Rx(t)}static nullValidator(t){return v4()}static compose(t){return x4(t)}static composeAsync(t){return D4(t)}};function Sx(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function Dx(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function _x(e){return Z2(e.value)?{required:!0}:null}function Lx(e){return e.value===!0?null:{required:!0}}function Ex(e){return Z2(e.value)||xx.test(e.value)?null:{email:!0}}function Ax(e){return t=>{let n=t.value?.length??K2(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function Tx(e){return t=>{let n=t.value?.length??K2(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function Rx(e){if(!e)return v4;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Z2(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function v4(e){return null}function M4(e){return e!=null}function w4(e){return Zn(e)?$(e):e}function C4(e){let t={};return e.forEach(n=>{t=n!=null?I(I({},t),n):t}),Object.keys(t).length===0?null:t}function b4(e,t){return t.map(n=>n(e))}function Px(e){return!e.validate}function I4(e){return e.map(t=>Px(t)?t:n=>t.validate(n))}function x4(e){if(!e)return null;let t=e.filter(M4);return t.length==0?null:function(n){return C4(b4(n,t))}}function S4(e){return e!=null?x4(I4(e)):null}function D4(e){if(!e)return null;let t=e.filter(M4);return t.length==0?null:function(n){let r=b4(n,t).map(w4);return Nu(r).pipe(R(C4))}}function _4(e){return e!=null?D4(I4(e)):null}function l4(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function L4(e){return e._rawValidators}function E4(e){return e._rawAsyncValidators}function z2(e){return e?Array.isArray(e)?e:[e]:[]}function Wd(e,t){return Array.isArray(e)?e.includes(t):e===t}function d4(e,t){let n=z2(t);return z2(e).forEach(i=>{Wd(n,i)||n.push(i)}),n}function u4(e,t){return z2(t).filter(n=>!Wd(e,n))}var Zd=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=S4(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=_4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},Tt=class extends Zd{name;get formDirective(){return null}get path(){return null}},On=class extends Zd{_parent=null;name=null;valueAccessor=null},Kd=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},Ox={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},F$=V(I({},Ox),{"[class.ng-submitted]":"isSubmitted"}),A4=(()=>{class e extends Kd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(A(On,2))};static \u0275dir=_e({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&na("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[bt]})}return e})(),T4=(()=>{class e extends Kd{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(A(Tt,10))};static \u0275dir=_e({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&na("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[bt]})}return e})();var gs="VALID",$d="INVALID",uo="PENDING",ms="DISABLED",ar=class{},Xd=class extends ar{value;source;constructor(t,n){super(),this.value=t,this.source=n}},ks=class extends ar{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},vs=class extends ar{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},ho=class extends ar{status;source;constructor(t,n){super(),this.status=t,this.source=n}},U2=class extends ar{source;constructor(t){super(),this.source=t}},$2=class extends ar{source;constructor(t){super(),this.source=t}};function X2(e){return(nu(e)?e.validators:e)||null}function Nx(e){return Array.isArray(e)?S4(e):e||null}function Y2(e,t){return(nu(t)?t.asyncValidators:e)||null}function Fx(e){return Array.isArray(e)?_4(e):e||null}function nu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function R4(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new D(1e3,"");if(!r[n])throw new D(1001,"")}function P4(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new D(1002,"")})}var po=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return It(this.statusReactive)}set status(t){It(()=>this.statusReactive.set(t))}_status=Vi(()=>this.statusReactive());statusReactive=xn(void 0);get valid(){return this.status===gs}get invalid(){return this.status===$d}get pending(){return this.status==uo}get disabled(){return this.status===ms}get enabled(){return this.status!==ms}errors;get pristine(){return It(this.pristineReactive)}set pristine(t){It(()=>this.pristineReactive.set(t))}_pristine=Vi(()=>this.pristineReactive());pristineReactive=xn(!0);get dirty(){return!this.pristine}get touched(){return It(this.touchedReactive)}set touched(t){It(()=>this.touchedReactive.set(t))}_touched=Vi(()=>this.touchedReactive());touchedReactive=xn(!1);get untouched(){return!this.touched}_events=new re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(d4(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(d4(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(u4(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(u4(t,this._rawAsyncValidators))}hasValidator(t){return Wd(this._rawValidators,t)}hasAsyncValidator(t){return Wd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(V(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new vs(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new vs(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(V(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new ks(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new ks(!0,r))}markAsPending(t={}){this.status=uo;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new ho(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(V(I({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=ms,this.errors=null,this._forEachChild(i=>{i.disable(V(I({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xd(this.value,r)),this._events.next(new ho(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=gs,this._forEachChild(r=>{r.enable(V(I({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(V(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===gs||this.status===uo)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Xd(this.value,n)),this._events.next(new ho(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(V(I({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ms:gs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=uo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=w4(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new ho(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new ge,this.statusChanges=new ge}_calculateStatus(){return this._allControlsDisabled()?ms:this.errors?$d:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(uo)?uo:this._anyControlsHaveStatus($d)?$d:gs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new ks(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new vs(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){nu(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=Nx(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=Fx(this._rawAsyncValidators)}},Yd=class extends po{constructor(t,n,r){super(X2(n),Y2(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){P4(this,!0,t),Object.keys(t).forEach(r=>{R4(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var G2=class extends Yd{};var J2=new E("",{providedIn:"root",factory:()=>ru}),ru="always";function Q2(e,t){return[...t.path,e]}function h4(e,t,n=ru){e0(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),Vx(e,t),qx(e,t),Hx(e,t),jx(e,t)}function p4(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Qd(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Jd(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function jx(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function e0(e,t){let n=L4(e);t.validator!==null?e.setValidators(l4(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=E4(e);t.asyncValidator!==null?e.setAsyncValidators(l4(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Jd(t._rawValidators,i),Jd(t._rawAsyncValidators,i)}function Qd(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=L4(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=E4(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Jd(t._rawValidators,r),Jd(t._rawAsyncValidators,r),n}function Vx(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&O4(e,t)})}function Hx(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&O4(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function O4(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function qx(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function Bx(e,t){e==null,e0(e,t)}function zx(e,t){return Qd(e,t)}function Ux(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function $x(e){return Object.getPrototypeOf(e.constructor)===wx}function Gx(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Wx(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===k4?n=o:$x(o)?r=o:i=o}),i||r||n||null}function Zx(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function f4(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function y4(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Gd=class extends po{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(X2(n),Y2(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),nu(n)&&(n.nonNullable||n.initialValueIsDefault)&&(y4(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){f4(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){f4(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){y4(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Kx=e=>e instanceof Gd,Xx=(()=>{class e extends Tt{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Q2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let n;return function(i){return(n||(n=jr(e)))(i||e)}})();static \u0275dir=_e({type:e,standalone:!1,features:[bt]})}return e})();var N4=new E("");var Yx={provide:Tt,useExisting:Se(()=>iu)},iu=(()=>{class e extends Tt{callSetDisabledState;get submitted(){return It(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=Vi(()=>this._submittedReactive());_submittedReactive=xn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ge;constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Qd(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return h4(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){p4(n.control||null,n,!1),Zx(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),Gx(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new U2(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new $2(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(p4(r||null,n),Kx(i)&&(h4(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);Bx(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&zx(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){e0(this.form,this),this._oldForm&&Qd(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(A(eu,10),A(tu,10),A(J2,8))};static \u0275dir=_e({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Pe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[Ye([Yx]),bt,Ht]})}return e})(),Jx={provide:Tt,useExisting:Se(()=>ou)},ou=(()=>{class e extends Xx{name=null;constructor(n,r,i){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){j4(this._parent)}static \u0275fac=function(r){return new(r||e)(A(Tt,13),A(eu,10),A(tu,10))};static \u0275dir=_e({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[Ye([Jx]),bt]})}return e})(),Qx={provide:Tt,useExisting:Se(()=>F4)},F4=(()=>{class e extends Tt{_parent;name=null;constructor(n,r,i){super(),this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){j4(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Q2(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||e)(A(Tt,13),A(eu,10),A(tu,10))};static \u0275dir=_e({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[Ye([Qx]),bt]})}return e})();function j4(e){return!(e instanceof ou)&&!(e instanceof iu)&&!(e instanceof F4)}var e7={provide:On,useExisting:Se(()=>t0)},t0=(()=>{class e extends On{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new ge;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Wx(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Ux(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Q2(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(A(Tt,13),A(eu,10),A(tu,10),A(yn,10),A(N4,8))};static \u0275dir=_e({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[Ye([e7]),bt,Ht]})}return e})();var V4=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ct({type:e});static \u0275inj=lt({})}return e})(),W2=class extends po{constructor(t,n,r){super(X2(n),Y2(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){P4(this,!1,t),t.forEach((r,i)=>{R4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function g4(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var H4=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return g4(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Yd(i,o)}record(n,r=null){let i=this._reduceControls(n);return new G2(i,r)}control(n,r,i){let o={};return this.useNonNullable?(g4(r)?o=r:(o.validators=r,o.asyncValidators=i),new Gd(n,V(I({},o),{nonNullable:!0}))):new Gd(n,r,i)}array(n,r,i){let o=n.map(a=>this._createControl(a));return new W2(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Gd)return n;if(n instanceof po)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var q4=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:J2,useValue:n.callSetDisabledState??ru}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ct({type:e});static \u0275inj=lt({imports:[V4]})}return e})(),B4=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:N4,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:J2,useValue:n.callSetDisabledState??ru}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ct({type:e});static \u0275inj=lt({imports:[V4]})}return e})();var n7=(e,t,n)=>({"outline-red-300":e,"outline-gray-300":t,"bg-gray-100":n});function r7(e,t){e&1&&(m(0,"span",2),x(1,"*"),v())}function i7(e,t){if(e&1&&(m(0,"div",4),x(1),v()),e&2){let n=Ut();C(),ot(n.errorMessage)}}var au=class e{constructor(t){this.injector=t}label="";placeholder="";type="text";value="";isDisabled=!1;ngControl;ngOnInit(){this.ngControl=this.injector.get(On,null,{self:!0}),this.ngControl&&(this.ngControl.valueAccessor=this)}onChange=t=>{};onTouched=()=>{};errorMessage;writeValue(t){this.value=t??""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onInput(t){let n=t.target.value;this.value=n,this.onChange(n),this.setErrorMessage()}onBlur(){this.onTouched()}isRequired(){return this.ngControl?.control?.validator?.({})?.required??!1}setErrorMessage(){this.errorMessage="",this.ngControl?.errors&&Object.keys(this.ngControl?.errors).forEach(t=>this.errorMessage=this.getMessage(t,this.ngControl?.errors?.[t]))}getMessage(t,n){return{required:()=>"Ce champ est requis.",email:()=>"Email invalide.",minlength:i=>`Minimum ${i.requiredLength} caract\xE8res.`,maxlength:i=>`Maximum ${i.requiredLength} caract\xE8res.`,pattern:()=>"Format invalide.",min:i=>`Valeur minimale : ${i.min}.`,max:i=>`Valeur maximale : ${i.max}.`}[t]?.(n)||"Champ invalide."}static \u0275fac=function(n){return new(n||e)(A(Te))};static \u0275cmp=J({type:e,selectors:[["app-text-input"]],inputs:{label:"label",placeholder:"placeholder",type:"type"},features:[Ye([{provide:yn,useExisting:Se(()=>e),multi:!0}])],decls:7,vars:12,consts:[[1,""],["for","field",1,"block","text-sm/6","font-medium","text-gray-900"],[1,"text-red-600"],["id","field","autocomplete","off",1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","placeholder:text-gray-400","sm:text-sm/6",3,"input","blur","type","value","placeholder","disabled","ngClass"],[1,"text-red-500","text-xs","mt-1","ml-2.5"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"label",1),x(2),Ke(3,r7,2,0,"span",2),v(),m(4,"div",0)(5,"input",3),Pe("input",function(o){return r.onInput(o)})("blur",function(){return r.onBlur()}),v()(),Ke(6,i7,2,1,"div",4),v()),n&2&&(C(2),me("",r.label," "),C(),Xe(r.isRequired()?3:-1),C(2),_("type",r.type)("value",r.value)("placeholder",r.placeholder)("disabled",r.isDisabled)("ngClass",dp(8,n7,r.errorMessage,!r.errorMessage&&!r.isDisabled,r.isDisabled)),C(),Xe(r.errorMessage?6:-1))},dependencies:[ha],encapsulation:2})};var o7=(e,t)=>t.key;function a7(e,t){e&1&&(m(0,"span",1),x(1,"*"),v())}function s7(e,t){if(e&1&&(m(0,"option",5),x(1),v()),e&2){let n=t.$implicit;_("value",n.key),C(),ot(n.label)}}function c7(e,t){if(e&1&&(m(0,"div",8),x(1),v()),e&2){let n=Ut();C(),ot(n.errorMessage)}}var su=class e{constructor(t){this.injector=t}label="";placeholder="S\xE9lectionner...";options=[];value=null;isDisabled=!1;ngControl;errorMessage="";ngOnInit(){this.ngControl=this.injector.get(On,null,{self:!0}),this.ngControl&&(this.ngControl.valueAccessor=this)}onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onSelect(t){let n=t.target.value;this.value=n,this.onChange(n),this.setErrorMessage()}onBlur(){this.onTouched()}isRequired(){return this.ngControl?.control?.validator?.({})?.required??!1}setErrorMessage(){this.errorMessage="",this.ngControl?.errors&&Object.keys(this.ngControl?.errors).forEach(t=>this.errorMessage=this.getMessage(t,this.ngControl?.errors?.[t]))}getMessage(t,n){return{required:()=>"Ce champ est requis.",email:()=>"Email invalide.",minlength:i=>`Minimum ${i.requiredLength} caract\xE8res.`,maxlength:i=>`Maximum ${i.requiredLength} caract\xE8res.`,pattern:()=>"Format invalide.",min:i=>`Valeur minimale : ${i.min}.`,max:i=>`Valeur maximale : ${i.max}.`}[t]?.(n)||"Champ invalide."}static \u0275fac=function(n){return new(n||e)(A(Te))};static \u0275cmp=J({type:e,selectors:[["app-dropdown"]],inputs:{label:"label",placeholder:"placeholder",options:"options"},features:[Ye([{provide:yn,useExisting:Se(()=>e),multi:!0}])],decls:13,vars:8,consts:[[1,"block","text-sm/6","font-medium","text-gray-900",3,"for"],[1,"text-red-600"],[1,"relative"],[1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-gray-400","sm:text-sm/6","appearance-none",3,"change","blur","id","value","disabled"],["value","","disabled","","hidden",""],[3,"value"],["viewBox","0 0 16 16","fill","currentColor","aria-hidden","true",1,"pointer-events-none","absolute","right-2","top-1/2","-translate-y-1/2","size-5","text-gray-500","sm:size-4"],["fill-rule","evenodd","d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],[1,"text-red-500","text-xs","mt-1","ml-2.5"]],template:function(n,r){n&1&&(m(0,"div")(1,"label",0),x(2),Ke(3,a7,2,0,"span",1),v(),m(4,"div",2)(5,"select",3),Pe("change",function(o){return r.onSelect(o)})("blur",function(){return r.onBlur()}),m(6,"option",4),x(7),v(),Bt(8,s7,2,2,"option",5,o7),v(),Sc(),m(10,"svg",6),S(11,"path",7),v()(),Ke(12,c7,2,1,"div",8),v()),n&2&&(C(),_("for",r.label),C(),me(" ",r.label," "),C(),Xe(r.isRequired()?3:-1),C(2),_("id",r.label)("value",r.value)("disabled",r.isDisabled),C(2),ot(r.placeholder),C(),zt(r.options),C(4),Xe(r.errorMessage?12:-1))},encapsulation:2})};var cu=class e{label="";disabled=!1;value=!1;onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}onInputChange(t){let n=t.target;this.value=n.checked,this.onChange(this.value),this.onTouched()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-checkbox"]],inputs:{label:"label",disabled:"disabled"},features:[Ye([{provide:yn,useExisting:Se(()=>e),multi:!0}])],decls:4,vars:5,consts:[[1,"flex","items-center","gap-3"],["type","checkbox",1,"w-4","h-4","rounded","border","border-gray-300","text-indigo-600","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-0","cursor-pointer","transition","duration-150","ease-in-out",3,"change","blur","checked","disabled"],[1,"text-gray-900","font-normal","text-base","cursor-pointer","select-none"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"input",1),Pe("change",function(o){return r.onInputChange(o)})("blur",function(){return r.onTouched()}),v(),m(2,"label",2),x(3),v()()),n&2&&(C(),_("checked",r.value)("disabled",r.disabled),Kn("id",r.label),C(),Kn("for",r.label),C(),me(" ",r.label," "))},encapsulation:2})};var lu=class e{label="";placeholder="";isDisabled=!1;value="";onChange=()=>{};onTouched=()=>{};writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onInput(t){let n=t.target.value;this.value=n,this.onChange(n)}onBlur(){this.onTouched()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-text-area"]],inputs:{label:"label",placeholder:"placeholder",isDisabled:"isDisabled"},features:[Ye([{provide:yn,useExisting:Se(()=>e),multi:!0}])],decls:5,vars:4,consts:[[1,""],["for","field",1,"block","text-sm/6","font-medium","text-gray-900"],["id","field","autocomplete","off","rows","4",1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-gray-400","sm:text-sm/6",3,"input","blur","value","placeholder","disabled"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"label",1),x(2),v(),m(3,"div",0)(4,"textarea",2),Pe("input",function(o){return r.onInput(o)})("blur",function(){return r.onBlur()}),v()()()),n&2&&(C(2),ot(r.label),C(2),_("value",r.value)("placeholder",r.placeholder)("disabled",r.isDisabled))},encapsulation:2})};var du=class e{create(t){return $(Et.from("property").insert(pn(t)).select().single()).pipe(R(n=>{if(n.error)throw n.error;return n.data}))}update(t){return $(Et.from("property").update(pn(t)).eq("id",t.id).select().single()).pipe(R(n=>{if(n.error)throw n.error;return n.data}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})};var uu=class e{create(t){return $(Et.from("address").insert(pn(t)).select().single()).pipe(R(n=>{if(n.error)throw n.error;return n.data}))}update(t){return $(Et.from("address").insert(pn(t)).select().single()).pipe(R(n=>{if(n.error)throw n.error;return n.data}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})};var u7=(e,t)=>({"bg-gray-300 text-gray-500":e,"bg-red-600 text-white":t}),h7=(e,t)=>t.key;function p7(e,t){if(e&1&&(m(0,"div"),S(1,"app-checkbox",47),v()),e&2){let n=t.$implicit;C(),_("label",n.label)}}var Ms=class e{constructor(t,n,r,i,o,a){this.fb=t;this.route=n;this.router=r;this.leaseRepository=i;this.propertyRepository=o;this.addressRepository=a;this.initForm()}propertyForm;property=void 0;heatingOptions=[{key:"GAS",label:"Gaz"},{key:"FUEL",label:"Fioul"},{key:"ELECTRIC",label:"\xC9lectrique"},{key:"HEAT_PUMP",label:"Pompe \xE0 chaleur"},{key:"WOOD",label:"Bois"},{key:"DISTRICT",label:"R\xE9seau urbain"},{key:"SOLAR",label:"Solaire"}];heatingDistributions=[{key:"RADIATORS",label:"Radiateurs"},{key:"UNDERFLOOR",label:"Plancher chauffant"},{key:"AIR_BLOWER",label:"Soufflage d\u2019air chaud"},{key:"WALL_HEATING",label:"Chauffage mural"},{key:"CEILING",label:"Plafond chauffant"},{key:"STOVES",label:"Po\xEAles"},{key:"INDIVIDUAL_UNITS",label:"Unit\xE9s individuelles"},{key:"OTHER",label:"Autre"}];propertyTypes=[{key:"STUDIO",label:"Studio"},{key:"APARTMENT",label:"Appartement"},{key:"HOUSE",label:"Maison"},{key:"DUPLEX",label:"Duplex"},{key:"VILLA",label:"Villa"},{key:"ROOM",label:"Chambre"},{key:"COMMERCIAL",label:"Local commercial"},{key:"LAND",label:"Terrain"},{key:"OTHER",label:"Autre"}];energyLabels=[{key:"A",label:"A - Tr\xE8s performant"},{key:"B",label:"B - Performant"},{key:"C",label:"C - Correct"},{key:"D",label:"D - Passable"},{key:"E",label:"E - Faible"},{key:"F",label:"F - Tr\xE8s faible"},{key:"G",label:"G - Extr\xEAmement faible"}];featuresOptions=[{key:"elevator",label:"Ascenseur"},{key:"balcony",label:"Balcon"},{key:"terrace",label:"Terrasse"},{key:"garden",label:"Jardin"},{key:"cellar",label:"Cave"},{key:"garage",label:"Garage"},{key:"parking",label:"Place de parking"},{key:"attic",label:"Grenier"},{key:"accessible",label:"Accessible PMR"},{key:"intercom",label:"Interphone"},{key:"swimmingPool",label:"Piscine"},{key:"fireplace",label:"Chemin\xE9e"}];cantons=[{key:"AG",label:"Argovie"},{key:"AI",label:"Appenzell Rhodes-Int\xE9rieures"},{key:"AR",label:"Appenzell Rhodes-Ext\xE9rieures"},{key:"BE",label:"Berne"},{key:"BL",label:"B\xE2le-Campagne"},{key:"BS",label:"B\xE2le-Ville"},{key:"FR",label:"Fribourg"},{key:"GE",label:"Gen\xE8ve"},{key:"GL",label:"Glaris"},{key:"GR",label:"Grisons"},{key:"JU",label:"Jura"},{key:"LU",label:"Lucerne"},{key:"NE",label:"Neuch\xE2tel"},{key:"NW",label:"Nidwald"},{key:"OW",label:"Obwald"},{key:"SG",label:"Saint-Gall"},{key:"SH",label:"Schaffhouse"},{key:"SO",label:"Soleure"},{key:"SZ",label:"Schwyz"},{key:"TG",label:"Thurgovie"},{key:"TI",label:"Tessin"},{key:"UR",label:"Uri"},{key:"VD",label:"Vaud"},{key:"VS",label:"Valais"},{key:"ZG",label:"Zoug"},{key:"ZH",label:"Zurich"}];leaseId=null;loading=!0;ArrowLeftIcon=td;MapPinIcon=Ji;RulerIcon=rd;TagIcon=Ak;SettingsIcon=Ek;FlameIcon=nd;InfoIcon=_k;ngOnInit(){this.leaseId=this.route.snapshot.paramMap.get("id"),this.leaseId&&this.leaseRepository.findById(this.leaseId).subscribe(t=>{this.property=t.property,this.loading=!1,this.initForm()})}save(){this.leaseId?this.update():this.create()}initForm(){this.propertyForm=this.fb.group({general:this.fb.group({name:[this.property?.name??"",At.required],type:[this.property?.type??"",At.required],rooms:[this.property?.rooms??"",At.required],bedrooms:[this.property?.bedrooms??""],bathrooms:[this.property?.bathrooms??""],toilets:[this.property?.toilets??""]}),address:this.fb.group({street:[this.property?.address?.street??"",At.required],additional:[this.property?.address?.additional??""],building:[this.property?.address?.building??""],floor:[this.property?.address?.floor??""],zipCode:[this.property?.address?.zipCode??"",At.required],city:[this.property?.address?.city??"",At.required],state:[this.property?.address?.state??"",At.required],country:[this.property?.address?.country??"CH"]}),surface:this.fb.group({livingArea:[this.property?.livingArea??"",At.required],totalArea:[this.property?.totalArea??""],landArea:[this.property?.landArea??""],balconyArea:[this.property?.balconyArea??""],terraceArea:[this.property?.terraceArea??""],gardenArea:[this.property?.gardenArea??""]}),energy:this.fb.group({yearOfConstruction:[this.property?.yearOfConstruction??""],yearOfRenovation:[this.property?.yearOfRenovation??""],heatingType:[this.property?.heatingType??"",At.required],heatingDistribution:[this.property?.heatingDistribution??""],energyLabel:[this.property?.energyLabel??""]}),features:this.fb.group({elevator:[this.property?.features?.elevator??!1],balcony:[this.property?.features?.balcony??!1],terrace:[this.property?.features?.terrace??!1],garden:[this.property?.features?.garden??!1],cellar:[this.property?.features?.cellar??!1],garage:[this.property?.features?.garage??!1],parking:[this.property?.features?.parking??!1],attic:[this.property?.features?.attic??!1],accessible:[this.property?.features?.accessible??!1],intercom:[this.property?.features?.intercom??!1],swimmingPool:[this.property?.features?.swimmingPool??!1],fireplace:[this.property?.features?.fireplace??!1]}),additionalInformation:this.fb.group({description:[this.property?.description??""]})})}create(){this.addressRepository.create(this.buildAddressFromForm()).subscribe(t=>{let n=this.buildPropertyFromForm();n.addressId=t.id,this.propertyRepository.create(n).subscribe(r=>{this.leaseRepository.create({id:this.leaseId??crypto.randomUUID(),propertyId:r.id}).subscribe(i=>{this.router.navigate(["/lease",i.id]).then()})})})}update(){this.addressRepository.update(this.buildAddressFromForm()).subscribe(t=>{let n=this.buildPropertyFromForm();n.addressId=t.id,n.id=this.property?.id??"",this.propertyRepository.update(n).subscribe(r=>{this.router.navigate(["/lease",this.leaseId]).then()})})}buildAddressFromForm(){return{street:this.propertyForm.get("address.street")?.value,additional:this.propertyForm.get("address.additional")?.value,building:this.propertyForm.get("address.building")?.value,floor:this.propertyForm.get("address.floor")?.value,zipCode:this.propertyForm.get("address.zipCode")?.value,city:this.propertyForm.get("address.city")?.value,state:this.propertyForm.get("address.state")?.value,country:"CH"}}buildPropertyFromForm(){let t=this.propertyForm.get("general")?.value,n=this.propertyForm.get("surface")?.value,r=this.propertyForm.get("energy")?.value,i=this.propertyForm.get("features")?.value,o=this.propertyForm.get("additionalInformation")?.value;return{name:t.name,type:t.type,rooms:t.rooms,bedrooms:t.bedrooms,bathrooms:t.bathrooms,toilets:t.toilets,livingArea:n.livingArea,totalArea:n.totalArea,landArea:n.landArea,balconyArea:n.balconyArea,terraceArea:n.terraceArea,gardenArea:n.gardenArea,yearOfConstruction:r.yearOfConstruction,yearOfRenovation:r.yearOfRenovation,energyLabel:r.energyLabel,heatingType:r.heatingType,heatingDistribution:r.heatingDistribution,features:i,description:o.description}}static \u0275fac=function(n){return new(n||e)(A(H4),A(mt),A(An),A(ir),A(du),A(uu))};static \u0275cmp=J({type:e,selectors:[["app-edit-property"]],decls:79,vars:64,consts:[[1,"p-2","md:px-48","py-4","md:py-8",3,"formGroup"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],[1,"w-10","h-10","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","rounded-full","shadow-md","hover:bg-opacity-40","transition",3,"routerLink"],[1,"w-5","h-5","text-red-500",3,"img"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","flex-wrap","gap-4","mb-16"],["formGroupName","general",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],[1,"text-xl","font-bold","flex","items-center","gap-2"],[1,"w-5","h-5",3,"img"],["formControlName","name",3,"label","placeholder"],[1,"mt-2"],["formControlName","type",3,"label","options"],[1,"flex","gap-4","mt-4"],["type","number","formControlName","rooms",3,"label","placeholder"],["type","number","formControlName","bedrooms",3,"label","placeholder"],[1,"flex","gap-4"],["type","number","formControlName","bathrooms",3,"label","placeholder"],["type","number","formControlName","toilets",3,"label","placeholder"],["formGroupName","address",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["formControlName","street",3,"label","placeholder"],["formControlName","additional",3,"label","placeholder"],["formControlName","building",3,"label","placeholder"],["formControlName","floor",3,"label","placeholder"],["formControlName","zipCode",3,"label","placeholder"],["formControlName","city",3,"label","placeholder"],[1,""],["formControlName","state",3,"label","options"],["formGroupName","surface",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["type","number","formControlName","livingArea",3,"label","placeholder"],["formControlName","totalArea","type","number",3,"label","placeholder"],["formControlName","landArea","type","number",3,"label","placeholder"],["formControlName","balconyArea","type","number",3,"label","placeholder"],["formControlName","terraceArea","type","number",3,"label","placeholder"],["formControlName","gardenArea","type","number",3,"label","placeholder"],["formGroupName","energy",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["formControlName","yearOfConstruction","type","number",3,"label","placeholder"],["formControlName","yearOfRenovation","type","number",3,"label","placeholder"],[1,"grid","grid-cols-2","gap-4"],["formControlName","heatingType",3,"label","options"],["formControlName","heatingDistribution",3,"label","options"],["formControlName","energyLabel",3,"label","options"],["formGroupName","features",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],[1,"grid","grid-cols-2","gap-2"],["formGroupName","additionalInformation",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["formControlName","description",3,"label","placeholder"],[1,"fixed","bottom-4","left-0","w-full","flex","justify-center","px-4"],[1,"text-white","font-semibold","py-3","px-8","rounded-lg","shadow-lg","transition",3,"click","disabled","ngClass"],[3,"label"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"a",2),S(3,"lucide-icon",3),v(),m(4,"div",4),x(5,"\xC9diter le bien"),v()(),m(6,"div",5)(7,"div",6)(8,"h3",7),S(9,"lucide-icon",8),x(10," Informations g\xE9n\xE9rales "),v(),m(11,"div"),S(12,"app-text-input",9),v(),m(13,"div",10),S(14,"app-dropdown",11),v(),m(15,"div")(16,"div",12),S(17,"app-text-input",13)(18,"app-text-input",14),v(),m(19,"div",15),S(20,"app-text-input",16)(21,"app-text-input",17),v()()(),m(22,"div",18)(23,"h3",7),S(24,"lucide-icon",8),x(25," Adresse "),v(),m(26,"div"),S(27,"app-text-input",19),v(),m(28,"div"),S(29,"app-text-input",20),v(),m(30,"div",15),S(31,"app-text-input",21)(32,"app-text-input",22),v(),m(33,"div",15),S(34,"app-text-input",23)(35,"app-text-input",24),v(),m(36,"div",25),S(37,"app-dropdown",26),v()(),m(38,"div",27)(39,"h3",7),S(40,"lucide-icon",8),x(41," Surfaces "),v(),m(42,"div",15),S(43,"app-text-input",28)(44,"app-text-input",29),v(),m(45,"div",15),S(46,"app-text-input",30)(47,"app-text-input",31),v(),m(48,"div",15),S(49,"app-text-input",32)(50,"app-text-input",33),v()(),m(51,"div",34)(52,"h3",7),S(53,"lucide-icon",8),x(54," Performance En\xE9rgetique "),v(),m(55,"div",15),S(56,"app-text-input",35)(57,"app-text-input",36),v(),m(58,"div",37),S(59,"app-dropdown",38)(60,"app-dropdown",39),v(),m(61,"div",25),S(62,"app-dropdown",40),v()(),m(63,"div",41)(64,"h3",7),S(65,"lucide-icon",8),x(66," \xC9quipements "),v(),m(67,"div",42),Bt(68,p7,2,1,"div",null,h7),v()(),m(70,"div",43)(71,"h3",7),S(72,"lucide-icon",8),x(73," Plus d'informations "),v(),m(74,"div",25),S(75,"app-text-area",44),v()()(),m(76,"div",45)(77,"button",46),Pe("click",function(){return r.save()}),x(78," Sauvegarder "),v()()()),n&2&&(_("formGroup",r.propertyForm),C(2),_("routerLink",r.leaseId?"/lease/"+r.leaseId:"/home"),C(),_("img",r.ArrowLeftIcon),C(6),_("img",r.TagIcon),C(3),_("label","Nom du bien")("placeholder","Exemple: Studio Lausanne"),C(2),_("label","Type du bien")("options",r.propertyTypes),C(3),_("label","Nombre de pi\xE8ces")("placeholder","Exemple: 4"),C(),_("label","Chambres")("placeholder","Exemple: 2"),C(2),_("label","Salles de bain")("placeholder","Exemple: 1"),C(),_("label","Toilettes")("placeholder","Exemple: 1"),C(3),_("img",r.MapPinIcon),C(3),_("label","Adresse")("placeholder","Exemple: 2 rue du vieux moulin"),C(2),_("label","Compl\xE9ment")("placeholder","Exemple: R\xE9sidence Les Lilas"),C(2),_("label","Batiment")("placeholder","Exemple: A"),C(),_("label","Etage")("placeholder","Exemple: 108"),C(2),_("label","Code postal")("placeholder","Exemple: 1005"),C(),_("label","Ville")("placeholder","Exemple: Lausanne"),C(2),_("label","Canton")("options",r.cantons),C(3),_("img",r.RulerIcon),C(3),_("label","Surface hab. (m\xB2)")("placeholder","Exemple: 85"),C(),_("label","Surface totale (m\xB2)")("placeholder","Exemple: 100"),C(2),_("label","Surface du terrain (m\xB2)")("placeholder","Exemple: 300"),C(),_("label","Balcon (m\xB2)")("placeholder","Exemple: 5"),C(2),_("label","Terrasse (m\xB2)")("placeholder","Exemple: 12"),C(),_("label","Jardin (m\xB2)")("placeholder","Exemple: 150"),C(3),_("img",r.FlameIcon),C(3),_("label","Ann\xE9e de construction")("placeholder","Exemple: 2005"),C(),_("label","Ann\xE9e de r\xE9novation")("placeholder","Exemple: 2020"),C(2),_("label","Chauffage")("options",r.heatingOptions),C(),_("label","Ditribution")("options",r.heatingDistributions),C(2),_("label","\xC9tiquette \xE9nerg\xE9tique (DPE)")("options",r.energyLabels),C(3),_("img",r.SettingsIcon),C(3),zt(r.featuresOptions),C(4),_("img",r.InfoIcon),C(3),_("label","Description")("placeholder","Exemple: Charmant studio lumineux avec vue sur le lac..."),C(2),_("disabled",!r.propertyForm.valid)("ngClass",lp(61,u7,!r.propertyForm.valid,r.propertyForm.valid)))},dependencies:[nr,tr,cn,B4,A4,T4,iu,t0,ou,q4,au,su,cu,lu,ha],encapsulation:2})};var hu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-edit-contractors"]],decls:2,vars:0,template:function(n,r){n&1&&(m(0,"p"),x(1,"edit-contractors works!"),v())},encapsulation:2})};var pu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-edit-lease-information"]],decls:2,vars:0,template:function(n,r){n&1&&(m(0,"p"),x(1,"edit-lease-information works!"),v())},encapsulation:2})};var z4=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Pd,canActivate:[or]},{path:"lease/new",component:Ms,canActivate:[or]},{path:"lease/:id",component:Ud,canActivate:[or]},{path:"lease/:id/property",component:Ms,canActivate:[or]},{path:"lease/:id/contractors",component:hu,canActivate:[or]},{path:"lease/:id/information",component:pu,canActivate:[or]}];var U4={providers:[G1(),yp({eventCoalescing:!0}),r2(z4),c4({domain:"bailo.eu.auth0.com",clientId:"pArbEhROiWpOaHFCprb8hm8FJrszoJyX",authorizationParams:{redirect_uri:window.location.origin}})]};var fu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-header"]],decls:9,vars:0,consts:[[1,"header","flex","flex-row","h-16","md:h-24","justify-between","items-center","px-8","bg-white","bg-opacity-30","backdrop-blur-md","p-6","shadow-lg","text-gray-900"],[1,"text-4xl","font-bold","flex","items-center","gap-1"],["src","suisse.png",1,"h-6"],[1,"flex","flex-row","items-center","gap-4"],[1,"h-12","w-12","bg-red-600","rounded-full","flex","justify-center","items-center","text-xl","text-white","font-semibold"],[1,"font-semibold","hidden","md:block"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1),S(2,"img",2),x(3,"Bailo"),v(),m(4,"div",3)(5,"div",4),x(6,"KZ"),v(),m(7,"div",5),x(8,"Koussila ZEKRI"),v()()())},encapsulation:2})};var yu=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=J({type:e,selectors:[["app-auth-loading"]],decls:8,vars:0,consts:[[1,"fixed","inset-0","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","z-50"],[1,"text-center","space-y-4","animate-fade-in"],[1,"flex","items-center","justify-center","gap-2","text-4xl","font-bold","text-gray-800"],["src","suisse.png","alt","Logo B",1,"h-8"],[1,"text-gray-800","text-sm","font-medium","tracking-wide"]],template:function(n,r){n&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),S(3,"img",3),m(4,"span"),x(5,"Bailo"),v()(),m(6,"p",4),x(7,"Connexion s\xE9curis\xE9e..."),v()()())},styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out}"]})};function f7(e,t){e&1&&S(0,"app-auth-loading")}function y7(e,t){e&1&&(m(0,"div",1,0),S(2,"app-header")(3,"router-outlet"),v())}var gu=class e{constructor(t){this.auth=t;Nn([this.auth.isLoading$,vo(3e3)]).pipe(Ve(1)).subscribe(()=>{this.isLoading=!1})}isLoading=!0;static \u0275fac=function(n){return new(n||e)(A(ys))};static \u0275cmp=J({type:e,selectors:[["app-root"]],decls:2,vars:1,consts:[["content",""],[1,"min-h-screen","bg-gray-100"]],template:function(n,r){n&1&&Ke(0,f7,1,0,"app-auth-loading")(1,y7,4,0,"div",1),n&2&&Xe(r.isLoading?0:1)},dependencies:[Na,fu,yu],encapsulation:2})};Rp(gu,U4).catch(e=>console.error(e));
