import{a as I,b as F,c as Zt,d as Nv,e as Fv,f,h as u2,i as h2,l as jv,m as p2}from"./chunk-PZ5UXJ7I.js";var Cp=Zt(wp=>{"use strict";Object.defineProperty(wp,"__esModule",{value:!0});var Mp=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};wp.default=Mp});var bp=Zt(Ea=>{"use strict";var Fm=Ea&&Ea.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ea,"__esModule",{value:!0});var uC=Fm((p2(),Fv(jv))),hC=Fm(Cp()),Ip=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=uC.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,n){return this.headers=Object.assign({},this.headers),this.headers[t]=n,this}then(t,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var a,s,c;let l=null,d=null,u=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){let v=yield o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=v:d=JSON.parse(v))}let g=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),m=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");g&&m&&m.length>1&&(u=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,u=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let g=yield o.text();try{l=JSON.parse(g),Array.isArray(l)&&o.status===404&&(d=[],l=null,p=200,h="OK")}catch{o.status===404&&g===""?(p=204,h="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,h="OK"),l&&this.shouldThrowOnError)throw new hC.default(l)}return{error:l,data:d,count:u,status:p,statusText:h}}));return this.shouldThrowOnError||(i=i.catch(o=>{var a,s,c;return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:`${(s=o?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,n)}returns(){return this}overrideTypes(){return this}};Ea.default=Ip});var Sp=Zt(Aa=>{"use strict";var pC=Aa&&Aa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Aa,"__esModule",{value:!0});var fC=pC(bp()),xp=class extends fC.default{select(t){let n=!1,r=(t??"*").split("").map(i=>/\s/.test(i)&&!n?"":(i==='"'&&(n=!n),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:n=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let a=o?`${o}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${t}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,n,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${t}`),this.url.searchParams.set(a,`${n-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:n=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var s;let c=[t?"analyze":null,n?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`,a==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Aa.default=xp});var Ul=Zt(Ta=>{"use strict";var yC=Ta&&Ta.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ta,"__esModule",{value:!0});var gC=yC(Sp()),Dp=class extends gC.default{eq(t,n){return this.url.searchParams.append(t,`eq.${n}`),this}neq(t,n){return this.url.searchParams.append(t,`neq.${n}`),this}gt(t,n){return this.url.searchParams.append(t,`gt.${n}`),this}gte(t,n){return this.url.searchParams.append(t,`gte.${n}`),this}lt(t,n){return this.url.searchParams.append(t,`lt.${n}`),this}lte(t,n){return this.url.searchParams.append(t,`lte.${n}`),this}like(t,n){return this.url.searchParams.append(t,`like.${n}`),this}likeAllOf(t,n){return this.url.searchParams.append(t,`like(all).{${n.join(",")}}`),this}likeAnyOf(t,n){return this.url.searchParams.append(t,`like(any).{${n.join(",")}}`),this}ilike(t,n){return this.url.searchParams.append(t,`ilike.${n}`),this}ilikeAllOf(t,n){return this.url.searchParams.append(t,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(t,n){return this.url.searchParams.append(t,`ilike(any).{${n.join(",")}}`),this}is(t,n){return this.url.searchParams.append(t,`is.${n}`),this}in(t,n){let r=Array.from(new Set(n)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}contains(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cs.{${n.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(n)}`),this}containedBy(t,n){return typeof n=="string"?this.url.searchParams.append(t,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(t,`cd.{${n.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(n)}`),this}rangeGt(t,n){return this.url.searchParams.append(t,`sr.${n}`),this}rangeGte(t,n){return this.url.searchParams.append(t,`nxl.${n}`),this}rangeLt(t,n){return this.url.searchParams.append(t,`sl.${n}`),this}rangeLte(t,n){return this.url.searchParams.append(t,`nxr.${n}`),this}rangeAdjacent(t,n){return this.url.searchParams.append(t,`adj.${n}`),this}overlaps(t,n){return typeof n=="string"?this.url.searchParams.append(t,`ov.${n}`):this.url.searchParams.append(t,`ov.{${n.join(",")}}`),this}textSearch(t,n,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${o}fts${a}.${n}`),this}match(t){return Object.entries(t).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(t,n,r){return this.url.searchParams.append(t,`not.${n}.${r}`),this}or(t,{foreignTable:n,referencedTable:r=n}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,n,r){return this.url.searchParams.append(t,`${n}.${r}`),this}};Ta.default=Dp});var Lp=Zt(Pa=>{"use strict";var mC=Pa&&Pa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Pa,"__esModule",{value:!0});var Ra=mC(Ul()),_p=class{constructor(t,{headers:n={},schema:r,fetch:i}){this.url=t,this.headers=n,this.schema=r,this.fetch=i}select(t,{head:n=!1,count:r}={}){let i=n?"HEAD":"GET",o=!1,a=(t??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Ra.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:n,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(t)){let a=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new Ra.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:n,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let a="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let c=t.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ra.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:n}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),this.headers.Prefer=i.join(","),new Ra.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let n="DELETE",r=[];return t&&r.push(`count=${t}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Ra.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Pa.default=_p});var jm=Zt($l=>{"use strict";Object.defineProperty($l,"__esModule",{value:!0});$l.version=void 0;$l.version="0.0.0-automated"});var Vm=Zt(Gl=>{"use strict";Object.defineProperty(Gl,"__esModule",{value:!0});Gl.DEFAULT_HEADERS=void 0;var kC=jm();Gl.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${kC.version}`}});var qm=Zt(Oa=>{"use strict";var Hm=Oa&&Oa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oa,"__esModule",{value:!0});var vC=Hm(Lp()),MC=Hm(Ul()),wC=Vm(),Ep=class e{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},wC.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=i}from(t){let n=new URL(`${this.url}/${t}`);return new vC.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){let a,s=new URL(`${this.url}/rpc/${t}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(n).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([d,u])=>{s.searchParams.append(d,u)})):(a="POST",c=n);let l=Object.assign({},this.headers);return o&&(l.Prefer=`count=${o}`),new MC.default({method:a,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Oa.default=Ep});var Zm=Zt(Ee=>{"use strict";var ji=Ee&&Ee.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.PostgrestError=Ee.PostgrestBuilder=Ee.PostgrestTransformBuilder=Ee.PostgrestFilterBuilder=Ee.PostgrestQueryBuilder=Ee.PostgrestClient=void 0;var Bm=ji(qm());Ee.PostgrestClient=Bm.default;var zm=ji(Lp());Ee.PostgrestQueryBuilder=zm.default;var Um=ji(Ul());Ee.PostgrestFilterBuilder=Um.default;var $m=ji(Sp());Ee.PostgrestTransformBuilder=$m.default;var Gm=ji(bp());Ee.PostgrestBuilder=Gm.default;var Wm=ji(Cp());Ee.PostgrestError=Wm.default;Ee.default={PostgrestClient:Bm.default,PostgrestQueryBuilder:zm.default,PostgrestFilterBuilder:Um.default,PostgrestTransformBuilder:$m.default,PostgrestBuilder:Gm.default,PostgrestError:Wm.default}});var Vd;function Hd(){return Vd}function Kt(e){let t=Vd;return Vd=e,t}var Vv=Symbol("NotFound"),ss=class extends Error{name="\u0275NotFound";constructor(t){super(t)}};function Xr(e){return e===Vv||e?.name==="\u0275NotFound"}function hs(e,t){return Object.is(e,t)}var ke=null,cs=!1,qd=1,Hv=null,He=Symbol("SIGNAL");function O(e){let t=ke;return ke=e,t}function ps(){return ke}var $n={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yr(e){if(cs)throw new Error("");if(ke===null)return;ke.consumerOnSignalRead(e);let t=ke.nextProducerIndex++;if(ms(ke),t<ke.producerNode.length&&ke.producerNode[t]!==e&&to(ke)){let n=ke.producerNode[t];gs(n,ke.producerIndexOfThis[t])}ke.producerNode[t]!==e&&(ke.producerNode[t]=e,ke.producerIndexOfThis[t]=to(ke)?y2(e,ke,t):0),ke.producerLastReadVersion[t]=e.version}function f2(){qd++}function fs(e){if(!(to(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===qd)){if(!e.producerMustRecompute(e)&&!no(e)){us(e);return}e.producerRecomputeValue(e),us(e)}}function Bd(e){if(e.liveConsumerNode===void 0)return;let t=cs;cs=!0;try{for(let n of e.liveConsumerNode)n.dirty||qv(n)}finally{cs=t}}function zd(){return ke?.consumerAllowSignalWrites!==!1}function qv(e){e.dirty=!0,Bd(e),e.consumerMarkedDirty?.(e)}function us(e){e.dirty=!1,e.lastCleanEpoch=qd}function Gn(e){return e&&(e.nextProducerIndex=0),O(e)}function Jr(e,t){if(O(t),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(to(e))for(let n=e.nextProducerIndex;n<e.producerNode.length;n++)gs(e.producerNode[n],e.producerIndexOfThis[n]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function no(e){ms(e);for(let t=0;t<e.producerNode.length;t++){let n=e.producerNode[t],r=e.producerLastReadVersion[t];if(r!==n.version||(fs(n),r!==n.version))return!0}return!1}function ys(e){if(ms(e),to(e))for(let t=0;t<e.producerNode.length;t++)gs(e.producerNode[t],e.producerIndexOfThis[t]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function y2(e,t,n){if(g2(e),e.liveConsumerNode.length===0&&m2(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=y2(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(n),e.liveConsumerNode.push(t)-1}function gs(e,t){if(g2(e),e.liveConsumerNode.length===1&&m2(e))for(let r=0;r<e.producerNode.length;r++)gs(e.producerNode[r],e.producerIndexOfThis[r]);let n=e.liveConsumerNode.length-1;if(e.liveConsumerNode[t]=e.liveConsumerNode[n],e.liveConsumerIndexOfThis[t]=e.liveConsumerIndexOfThis[n],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,t<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[t],i=e.liveConsumerNode[t];ms(i),i.producerIndexOfThis[r]=t}}function to(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function ms(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function g2(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function m2(e){return e.producerNode!==void 0}function ks(e){Hv?.(e)}function vs(e,t){let n=Object.create(Bv);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(fs(n),Yr(n),n.value===eo)throw n.error;return n.value};return r[He]=n,ks(n),r}var ls=Symbol("UNSET"),ds=Symbol("COMPUTING"),eo=Symbol("ERRORED"),Bv=F(I({},$n),{value:ls,dirty:!0,error:null,equal:hs,kind:"computed",producerMustRecompute(e){return e.value===ls||e.value===ds},producerRecomputeValue(e){if(e.value===ds)throw new Error("");let t=e.value;e.value=ds;let n=Gn(e),r,i=!1;try{r=e.computation(),O(null),i=t!==ls&&t!==eo&&r!==eo&&e.equal(t,r)}catch(o){r=eo,e.error=o}finally{Jr(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function zv(){throw new Error}var k2=zv;function v2(e){k2(e)}function Ud(e){k2=e}var Uv=null;function $d(e,t){let n=Object.create(Ms);n.value=e,t!==void 0&&(n.equal=t);let r=()=>M2(n);return r[He]=n,ks(n),[r,a=>Qr(n,a),a=>Gd(n,a)]}function M2(e){return Yr(e),e.value}function Qr(e,t){zd()||v2(e),e.equal(e.value,t)||(e.value=t,$v(e))}function Gd(e,t){zd()||v2(e),Qr(e,t(e.value))}var Ms=F(I({},$n),{equal:hs,value:void 0,kind:"signal"});function $v(e){e.version++,f2(),Bd(e),Uv?.(e)}function j(e){return typeof e=="function"}function ei(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var ws=ei(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Wn(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var he=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(j(r))try{r()}catch(o){t=o instanceof ws?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{w2(o)}catch(a){t=t??[],a instanceof ws?t=[...t,...a.errors]:t.push(a)}}if(t)throw new ws(t)}}add(t){var n;if(t&&t!==this)if(this.closed)w2(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&Wn(n,t)}remove(t){let{_finalizers:n}=this;n&&Wn(n,t),t instanceof e&&t._removeParent(this)}};he.EMPTY=(()=>{let e=new he;return e.closed=!0,e})();var Wd=he.EMPTY;function Cs(e){return e instanceof he||e&&"closed"in e&&j(e.remove)&&j(e.add)&&j(e.unsubscribe)}function w2(e){j(e)?e():e.unsubscribe()}var kt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ti={setTimeout(e,t,...n){let{delegate:r}=ti;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ti;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Is(e){ti.setTimeout(()=>{let{onUnhandledError:t}=kt;if(t)t(e);else throw e})}function Zn(){}var C2=Zd("C",void 0,void 0);function I2(e){return Zd("E",void 0,e)}function b2(e){return Zd("N",e,void 0)}function Zd(e,t,n){return{kind:e,value:t,error:n}}var Kn=null;function ni(e){if(kt.useDeprecatedSynchronousErrorHandling){let t=!Kn;if(t&&(Kn={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=Kn;if(Kn=null,n)throw r}}else e()}function x2(e){kt.useDeprecatedSynchronousErrorHandling&&Kn&&(Kn.errorThrown=!0,Kn.error=e)}var Xn=class extends he{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,Cs(t)&&t.add(this)):this.destination=Zv}static create(t,n,r){return new Xt(t,n,r)}next(t){this.isStopped?Xd(b2(t),this):this._next(t)}error(t){this.isStopped?Xd(I2(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Xd(C2,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Gv=Function.prototype.bind;function Kd(e,t){return Gv.call(e,t)}var Yd=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){bs(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){bs(r)}else bs(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){bs(n)}}},Xt=class extends Xn{constructor(t,n,r){super();let i;if(j(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&kt.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Kd(t.next,o),error:t.error&&Kd(t.error,o),complete:t.complete&&Kd(t.complete,o)}):i=t}this.destination=new Yd(i)}};function bs(e){kt.useDeprecatedSynchronousErrorHandling?x2(e):Is(e)}function Wv(e){throw e}function Xd(e,t){let{onStoppedNotification:n}=kt;n&&ti.setTimeout(()=>n(e,t))}var Zv={closed:!0,next:Zn,error:Wv,complete:Zn};var ri=typeof Symbol=="function"&&Symbol.observable||"@@observable";function De(e){return e}function Jd(...e){return Qd(e)}function Qd(e){return e.length===0?De:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var G=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Xv(n)?n:new Xt(n,r,i);return ni(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=S2(r),new r((i,o)=>{let a=new Xt({next:s=>{try{n(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[ri](){return this}pipe(...n){return Qd(n)(this)}toPromise(n){return n=S2(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=t=>new e(t),e})();function S2(e){var t;return(t=e??kt.Promise)!==null&&t!==void 0?t:Promise}function Kv(e){return e&&j(e.next)&&j(e.error)&&j(e.complete)}function Xv(e){return e&&e instanceof Xn||Kv(e)&&Cs(e)}function eu(e){return j(e?.lift)}function z(e){return t=>{if(eu(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(e,t,n,r,i){return new tu(e,t,n,r,i)}var tu=class extends Xn{constructor(t,n,r,i,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){t.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};function ii(){return z((e,t)=>{let n=null;e._refCount++;let r=B(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){n=null;return}let i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}var oi=class extends G{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,eu(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){let t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new he;let n=this.getSubject();t.add(this.source.subscribe(B(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=he.EMPTY)}return t}refCount(){return ii()(this)}};var D2=ei(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=(()=>{class e extends G{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new xs(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new D2}next(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ni(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Wd:(this.currentObservers=null,o.push(n),new he(()=>{this.currentObservers=null,Wn(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new G;return n.source=this,n}}return e.create=(t,n)=>new xs(t,n),e})(),xs=class extends ne{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Wd}};var ve=class extends ne{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var ro={now(){return(ro.delegate||Date).now()},delegate:void 0};var Yt=class extends ne{constructor(t=1/0,n=1/0,r=ro){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;n||(r.push(t),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!t.closed;a+=r?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let a=n.now(),s=0;for(let c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}}};var Ss=class extends he{constructor(t,n){super()}schedule(t,n=0){return this}};var io={setInterval(e,t,...n){let{delegate:r}=io;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=io;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var Ds=class extends Ss{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return io.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&io.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Wn(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var ai=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};ai.now=ro.now;var _s=class extends ai{constructor(t,n=ai.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Yv=new _s(Ds),_2=Yv;var Te=new G(e=>e.complete());function Ls(e){return e&&j(e.schedule)}function nu(e){return e[e.length-1]}function si(e){return j(nu(e))?e.pop():void 0}function Tt(e){return Ls(nu(e))?e.pop():void 0}function L2(e,t){return typeof nu(e)=="number"?e.pop():t}function A2(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})}function E2(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Yn(e){return this instanceof Yn?(this.v=e,this):new Yn(e)}function T2(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(i[h]=function(g){return new Promise(function(m,v){o.push([h,g,m,v])>1||c(h,g)})},y&&(i[h]=y(i[h])))}function c(h,y){try{l(r[h](y))}catch(g){p(o[0][3],g)}}function l(h){h.value instanceof Yn?Promise.resolve(h.value.v).then(d,u):p(o[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function R2(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof E2=="function"?E2(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,c){a=e[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}var Es=e=>e&&typeof e.length=="number"&&typeof e!="function";function As(e){return j(e?.then)}function Ts(e){return j(e[ri])}function Rs(e){return Symbol.asyncIterator&&j(e?.[Symbol.asyncIterator])}function Ps(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Jv(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Os=Jv();function Ns(e){return j(e?.[Os])}function Fs(e){return T2(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield Yn(n.read());if(i)return yield Yn(void 0);yield yield Yn(r)}}finally{n.releaseLock()}})}function js(e){return j(e?.getReader)}function re(e){if(e instanceof G)return e;if(e!=null){if(Ts(e))return Qv(e);if(Es(e))return e4(e);if(As(e))return t4(e);if(Rs(e))return P2(e);if(Ns(e))return n4(e);if(js(e))return r4(e)}throw Ps(e)}function Qv(e){return new G(t=>{let n=e[ri]();if(j(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function e4(e){return new G(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function t4(e){return new G(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Is)})}function n4(e){return new G(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function P2(e){return new G(t=>{i4(e,t).catch(n=>t.error(n))})}function r4(e){return P2(Fs(e))}function i4(e,t){var n,r,i,o;return A2(this,void 0,void 0,function*(){try{for(n=R2(e);r=yield n.next(),!r.done;){let a=r.value;if(t.next(a),t.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function Ge(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Vs(e,t=0){return z((n,r)=>{n.subscribe(B(r,i=>Ge(r,e,()=>r.next(i),t),()=>Ge(r,e,()=>r.complete(),t),i=>Ge(r,e,()=>r.error(i),t)))})}function Hs(e,t=0){return z((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function O2(e,t){return re(e).pipe(Hs(t),Vs(t))}function N2(e,t){return re(e).pipe(Hs(t),Vs(t))}function F2(e,t){return new G(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function j2(e,t){return new G(n=>{let r;return Ge(n,t,()=>{r=e[Os](),Ge(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>j(r?.return)&&r.return()})}function qs(e,t){if(!e)throw new Error("Iterable cannot be null");return new G(n=>{Ge(n,t,()=>{let r=e[Symbol.asyncIterator]();Ge(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function V2(e,t){return qs(Fs(e),t)}function H2(e,t){if(e!=null){if(Ts(e))return O2(e,t);if(Es(e))return F2(e,t);if(As(e))return N2(e,t);if(Rs(e))return qs(e,t);if(Ns(e))return j2(e,t);if(js(e))return V2(e,t)}throw Ps(e)}function Z(e,t){return t?H2(e,t):re(e)}function A(...e){let t=Tt(e);return Z(e,t)}function vt(e,t){let n=j(e)?e:()=>e,r=i=>i.error(n());return new G(t?i=>t.schedule(r,0,i):r)}function ru(e){return!!e&&(e instanceof G||j(e.lift)&&j(e.subscribe))}var Jt=ei(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function q2(e){return e instanceof Date&&!isNaN(e)}function P(e,t){return z((n,r)=>{let i=0;n.subscribe(B(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:o4}=Array;function a4(e,t){return o4(t)?e(...t):e(t)}function Bs(e){return P(t=>a4(e,t))}var{isArray:s4}=Array,{getPrototypeOf:c4,prototype:l4,keys:d4}=Object;function zs(e){if(e.length===1){let t=e[0];if(s4(t))return{args:t,keys:null};if(u4(t)){let n=d4(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function u4(e){return e&&typeof e=="object"&&c4(e)===l4}function Us(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function vn(...e){let t=Tt(e),n=si(e),{args:r,keys:i}=zs(e);if(r.length===0)return Z([],t);let o=new G(h4(r,t,i?a=>Us(i,a):De));return n?o.pipe(Bs(n)):o}function h4(e,t,n=De){return r=>{B2(t,()=>{let{length:i}=e,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)B2(t,()=>{let l=Z(e[c],t),d=!1;l.subscribe(B(r,u=>{o[c]=u,d||(d=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function B2(e,t,n){e?Ge(n,e,t):t()}function z2(e,t,n,r,i,o,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&t.complete()},h=g=>l<r?y(g):c.push(g),y=g=>{o&&t.next(g),l++;let m=!1;re(n(g,d++)).subscribe(B(t,v=>{i?.(v),o?h(v):t.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(l--;c.length&&l<r;){let v=c.shift();a?Ge(t,a,()=>y(v)):y(v)}p()}catch(v){t.error(v)}}))};return e.subscribe(B(t,h,()=>{u=!0,p()})),()=>{s?.()}}function de(e,t,n=1/0){return j(t)?de((r,i)=>P((o,a)=>t(r,o,i,a))(re(e(r,i))),n):(typeof t=="number"&&(n=t),z((r,i)=>z2(r,i,e,n)))}function $s(e=1/0){return de(De,e)}function U2(){return $s(1)}function ci(...e){return U2()(Z(e,Tt(e)))}function Mt(e){return new G(t=>{re(e()).subscribe(t)})}function iu(...e){let t=si(e),{args:n,keys:r}=zs(e),i=new G(o=>{let{length:a}=n;if(!a){o.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;re(n[d]).subscribe(B(o,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(r?Us(r,s):s),o.complete())}))}});return t?i.pipe(Bs(t)):i}function Gs(e,t,n){return Mt(()=>e()?t:n)}function oo(e=0,t,n=_2){let r=-1;return t!=null&&(Ls(t)?n=t:r=t),new G(i=>{let o=q2(e)?+e-n.now():e;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function ou(...e){let t=Tt(e),n=L2(e,1/0),r=e;return r.length?r.length===1?re(r[0]):$s(n)(Z(r,t)):Te}function Re(e,t){return z((n,r)=>{let i=0;n.subscribe(B(r,o=>e.call(t,o,i++)&&r.next(o)))})}function We(e){return z((t,n)=>{let r=null,i=!1,o;r=t.subscribe(B(n,void 0,void 0,a=>{o=re(e(a,We(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function $2(e,t,n,r,i){return(o,a)=>{let s=n,c=t,l=0;o.subscribe(B(a,d=>{let u=l++;c=s?e(c,d,u):(s=!0,d),r&&a.next(c)},i&&(()=>{s&&a.next(c),a.complete()})))}}function Ze(e,t){return j(t)?de(e,t,1):de(e,1)}function Mn(e){return z((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function Pe(e){return e<=0?()=>Te:z((t,n)=>{let r=0;t.subscribe(B(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function au(e){return P(()=>e)}function ao(e,t=De){return e=e??p4,z((n,r)=>{let i,o=!0;n.subscribe(B(r,a=>{let s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function p4(e,t){return e===t}function Ws(e=f4){return z((t,n)=>{let r=!1;t.subscribe(B(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function f4(){return new Jt}function so(e){return z((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function lt(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Re((i,o)=>e(i,o,r)):De,Pe(1),n?Mn(t):Ws(()=>new Jt))}function li(e){return e<=0?()=>Te:z((t,n)=>{let r=[];t.subscribe(B(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function su(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Re((i,o)=>e(i,o,r)):De,li(1),n?Mn(t):Ws(()=>new Jt))}function cu(...e){let t=e.length;if(t===0)throw new Error("list of properties cannot be empty.");return P(n=>{let r=n;for(let i=0;i<t;i++){let o=r?.[e[i]];if(typeof o<"u")r=o;else return}return r})}function co(e,t){return z($2(e,t,arguments.length>=2,!0))}function G2(e={}){let{connector:t=()=>new ne,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,s,c,l=0,d=!1,u=!1,p=()=>{s?.unsubscribe(),s=void 0},h=()=>{p(),a=c=void 0,d=u=!1},y=()=>{let g=a;h(),g?.unsubscribe()};return z((g,m)=>{l++,!u&&!d&&p();let v=c=c??t();m.add(()=>{l--,l===0&&!u&&!d&&(s=lu(y,i))}),v.subscribe(m),!a&&l>0&&(a=new Xt({next:L=>v.next(L),error:L=>{u=!0,p(),s=lu(h,n,L),v.error(L)},complete:()=>{d=!0,p(),s=lu(h,r),v.complete()}}),re(g).subscribe(a))})(o)}}function lu(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Xt({next:()=>{r.unsubscribe(),e()}});return re(t(...n)).subscribe(r)}function du(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,G2({connector:()=>new Yt(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function uu(...e){let t=Tt(e);return z((n,r)=>{(t?ci(e,n,t):ci(e,n)).subscribe(r)})}function Oe(e,t){return z((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe(B(r,c=>{i?.unsubscribe();let l=0,d=o++;re(e(c,d)).subscribe(i=B(r,u=>r.next(t?t(c,u,d,l++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function di(e){return z((t,n)=>{re(e).subscribe(B(n,()=>n.complete(),Zn)),!n.closed&&t.subscribe(n)})}function ae(e,t,n){let r=j(e)||t||n?{next:e,error:t,complete:n}:e;return r?z((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(B(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):De}function hu(...e){let t=si(e);return z((n,r)=>{let i=e.length,o=new Array(i),a=e.map(()=>!1),s=!1;for(let c=0;c<i;c++)re(e[c]).subscribe(B(r,l=>{o[c]=l,!s&&!a[c]&&(a[c]=!0,(s=a.every(De))&&(a=null))},Zn));n.subscribe(B(r,c=>{if(s){let l=[c,...o];r.next(t?t(...l):l)}}))})}function W2(e){let t=O(null);try{return e()}finally{O(t)}}var Js="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",x=class extends Error{code;constructor(t,n){super(Qs(t,n)),this.code=t}};function y4(e){return`NG0${Math.abs(e)}`}function Qs(e,t){return`${y4(e)}${t?": "+t:""}`}var en=globalThis;function ce(e){for(let t in e)if(e[t]===ce)return t;throw Error("")}function Je(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Je).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xu(e,t){return e?t?`${e} ${t}`:e:t||""}var g4=ce({__forward_ref__:ce});function tn(e){return e.__forward_ref__=tn,e.toString=function(){return Je(this())},e}function _e(e){return Su(e)?e():e}function Su(e){return typeof e=="function"&&e.hasOwnProperty(g4)&&e.__forward_ref__===tn}function Y2(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}function S(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function et(e){return{providers:e.providers||[],imports:e.imports||[]}}function po(e){return m4(e,ec)}function Du(e){return po(e)!==null}function m4(e,t){return e.hasOwnProperty(t)&&e[t]||null}function k4(e){let t=e?.[ec]??null;return t||null}function fu(e){return e&&e.hasOwnProperty(Ks)?e[Ks]:null}var ec=ce({\u0275prov:ce}),Ks=ce({\u0275inj:ce}),D=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=S({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function _u(e){return e&&!!e.\u0275providers}var Lu=ce({\u0275cmp:ce}),Eu=ce({\u0275dir:ce}),Au=ce({\u0275pipe:ce}),Tu=ce({\u0275mod:ce}),uo=ce({\u0275fac:ce}),rr=ce({__NG_ELEMENT_ID__:ce}),Z2=ce({__NG_ENV_ID__:ce});function ir(e){return typeof e=="string"?e:e==null?"":String(e)}function J2(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ir(e)}function Ru(e,t){throw new x(-200,e)}function tc(e,t){throw new x(-201,!1)}var yu;function Q2(){return yu}function qe(e){let t=yu;return yu=e,t}function Pu(e,t,n){let r=po(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;tc(e,"Injector")}var v4={},Jn=v4,gu="__NG_DI_FLAG__",mu=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=Qn(n)||0;try{return this.injector.get(t,r&8?null:Jn,r)}catch(i){if(Xr(i))return i;throw i}}},Xs="ngTempTokenPath",M4="ngTokenPath",w4=/\n/gm,C4="\u0275",K2="__source";function I4(e,t=0){let n=Hd();if(n===void 0)throw new x(-203,!1);if(n===null)return Pu(e,void 0,t);{let r=b4(t),i=n.retrieve(e,r);if(Xr(i)){if(r.optional)return null;throw i}return i}}function E(e,t=0){return(Q2()||I4)(_e(e),t)}function C(e,t){return E(e,Qn(t))}function Qn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function b4(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function ku(e){let t=[];for(let n=0;n<e.length;n++){let r=_e(e[n]);if(Array.isArray(r)){if(r.length===0)throw new x(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=x4(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}t.push(E(i,o))}else t.push(E(r))}return t}function e0(e,t){return e[gu]=t,e.prototype[gu]=t,e}function x4(e){return e[gu]}function S4(e,t,n,r){let i=e[Xs];throw t[K2]&&i.unshift(t[K2]),e.message=D4(`
`+e.message,i,n,r),e[M4]=i,e[Xs]=null,e}function D4(e,t,n,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==C4?e.slice(2):e;let i=Je(t);if(Array.isArray(t))i=t.map(Je).join(" -> ");else if(typeof t=="object"){let o=[];for(let a in t)if(t.hasOwnProperty(a)){let s=t[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):Je(s)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(w4,`
  `)}`}function wn(e,t){let n=e.hasOwnProperty(uo);return n?e[uo]:null}function nc(e,t){e.forEach(n=>Array.isArray(n)?nc(n,t):t(n))}function Ou(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fo(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function t0(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}var or={},wt=[],nn=new D(""),Nu=new D("",-1),Fu=new D(""),ho=class{get(t,n=Jn){if(n===Jn)throw new ss(`NullInjectorError: No provider for ${Je(t)}!`);return n}};function ju(e){return e[Tu]||null}function In(e){return e[Lu]||null}function Vu(e){return e[Eu]||null}function n0(e){return e[Au]||null}function ar(e){return{\u0275providers:e}}function r0(e){return ar([{provide:nn,multi:!0,useValue:e}])}function i0(...e){return{\u0275providers:Hu(!0,e),\u0275fromNgModule:!0}}function Hu(e,...t){let n=[],r=new Set,i,o=a=>{n.push(a)};return nc(t,a=>{let s=a;Ys(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&o0(i,o),n}function o0(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];qu(i,o=>{t(o,r)})}}function Ys(e,t,n,r){if(e=_e(e),!e)return!1;let i=null,o=fu(e),a=!o&&In(e);if(!o&&!a){let c=e.ngModule;if(o=fu(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=e}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)Ys(l,t,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let l;try{nc(o.imports,d=>{Ys(d,t,n,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&o0(l,t)}if(!s){let l=wn(i)||(()=>new i);t({provide:i,useFactory:l,deps:wt},i),t({provide:Fu,useValue:i,multi:!0},i),t({provide:nn,useValue:()=>E(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let l=e;qu(c,d=>{t(d,l)})}}else return!1;return i!==e&&e.providers!==void 0}function qu(e,t){for(let n of e)_u(n)&&(n=n.\u0275providers),Array.isArray(n)?qu(n,t):t(n)}var _4=ce({provide:String,useValue:ce});function a0(e){return e!==null&&typeof e=="object"&&_4 in e}function L4(e){return!!(e&&e.useExisting)}function E4(e){return!!(e&&e.useFactory)}function er(e){return typeof e=="function"}function s0(e){return!!e.useClass}var yo=new D(""),Zs={},X2={},pu;function go(){return pu===void 0&&(pu=new ho),pu}var Ce=class{},tr=class extends Ce{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Mu(t,a=>this.processProvider(a)),this.records.set(Nu,ui(void 0,this)),i.has("environment")&&this.records.set(Ce,ui(void 0,this));let o=this.records.get(yo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Fu,wt,{self:!0}))}retrieve(t,n){let r=Qn(n)||0;try{return this.get(t,Jn,r)}catch(i){if(Xr(i))return i;throw i}}destroy(){lo(this),this._destroyed=!0;let t=O(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),O(t)}}onDestroy(t){return lo(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){lo(this);let n=Kt(this),r=qe(void 0),i;try{return t()}finally{Kt(n),qe(r)}}get(t,n=Jn,r){if(lo(this),t.hasOwnProperty(Z2))return t[Z2](this);let i=Qn(r),o,a=Kt(this),s=qe(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let d=O4(t)&&po(t);d&&this.injectableDefInScope(d)?l=ui(vu(t),Zs):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l)}let c=i&2?go():this.parent;return n=i&8&&n===Jn?null:n,c.get(t,n)}catch(c){if(Xr(c)){if((c[Xs]=c[Xs]||[]).unshift(Je(t)),a)throw c;return S4(c,t,"R3InjectorError",this.source)}else throw c}finally{qe(s),Kt(a)}}resolveInjectorInitializers(){let t=O(null),n=Kt(this),r=qe(void 0),i;try{let o=this.get(nn,wt,{self:!0});for(let a of o)a()}finally{Kt(n),qe(r),O(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Je(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=_e(t);let n=er(t)?t:_e(t&&t.provide),r=T4(t);if(!er(t)&&t.multi===!0){let i=this.records.get(n);i||(i=ui(void 0,Zs,!0),i.factory=()=>ku(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){let r=O(null);try{return n.value===X2?Ru(Je(t)):n.value===Zs&&(n.value=X2,n.value=n.factory()),typeof n.value=="object"&&n.value&&P4(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{O(r)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=_e(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function vu(e){let t=po(e),n=t!==null?t.factory:wn(e);if(n!==null)return n;if(e instanceof D)throw new x(204,!1);if(e instanceof Function)return A4(e);throw new x(204,!1)}function A4(e){if(e.length>0)throw new x(204,!1);let n=k4(e);return n!==null?()=>n.factory(e):()=>new e}function T4(e){if(a0(e))return ui(void 0,e.useValue);{let t=Bu(e);return ui(t,Zs)}}function Bu(e,t,n){let r;if(er(e)){let i=_e(e);return wn(i)||vu(i)}else if(a0(e))r=()=>_e(e.useValue);else if(E4(e))r=()=>e.useFactory(...ku(e.deps||[]));else if(L4(e))r=()=>E(_e(e.useExisting));else{let i=_e(e&&(e.useClass||e.provide));if(R4(e))r=()=>new i(...ku(e.deps));else return wn(i)||vu(i)}return r}function lo(e){if(e.destroyed)throw new x(205,!1)}function ui(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function R4(e){return!!e.deps}function P4(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function O4(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Mu(e,t){for(let n of e)Array.isArray(n)?Mu(n,t):n&&_u(n)?Mu(n.\u0275providers,t):t(n)}function tt(e,t){let n;e instanceof tr?(lo(e),n=e):n=new mu(e);let r,i=Kt(n),o=qe(void 0);try{return t()}finally{Kt(i),qe(o)}}function c0(){return Q2()!==void 0||Hd()!=null}var Ct=0,H=1,V=2,Ie=3,dt=4,Be=5,sr=6,hi=7,fe=8,cr=9,Pt=10,ye=11,pi=12,zu=13,lr=14,ze=15,dr=16,ur=17,hr=18,mo=19,Uu=20,Qt=21,rc=22,ko=23,nt=24,ic=25,Me=26,l0=1,$u=6,bn=7,vo=8,Mo=9,Le=10;function Ot(e){return Array.isArray(e)&&typeof e[l0]=="object"}function It(e){return Array.isArray(e)&&e[l0]===!0}function Gu(e){return(e.flags&4)!==0}function xn(e){return e.componentOffset>-1}function oc(e){return(e.flags&1)===1}function Sn(e){return!!e.template}function fi(e){return(e[V]&512)!==0}function pr(e){return(e[V]&256)===256}var Wu="svg",d0="math";function ut(e){for(;Array.isArray(e);)e=e[Ct];return e}function u0(e,t){return ut(t[e])}function bt(e,t){return ut(t[e.index])}function wo(e,t){return e.data[t]}function Zu(e,t){return e[t]}function Ku(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function ht(e,t){let n=t[e];return Ot(n)?n:n[Ct]}function ac(e){return(e[V]&128)===128}function h0(e){return It(e[Ie])}function Dn(e,t){return t==null?null:e[t]}function Xu(e){e[ur]=0}function Yu(e){e[V]&1024||(e[V]|=1024,ac(e)&&Io(e))}function p0(e,t){for(;e>0;)t=t[lr],e--;return t}function Co(e){return!!(e[V]&9216||e[nt]?.dirty)}function sc(e){e[Pt].changeDetectionScheduler?.notify(8),e[V]&64&&(e[V]|=1024),Co(e)&&Io(e)}function Io(e){e[Pt].changeDetectionScheduler?.notify(0);let t=Cn(e);for(;t!==null&&!(t[V]&8192||(t[V]|=8192,!ac(t)));)t=Cn(t)}function Ju(e,t){if(pr(e))throw new x(911,!1);e[Qt]===null&&(e[Qt]=[]),e[Qt].push(t)}function f0(e,t){if(e[Qt]===null)return;let n=e[Qt].indexOf(t);n!==-1&&e[Qt].splice(n,1)}function Cn(e){let t=e[Ie];return It(t)?t[Ie]:t}function y0(e){return e[hi]??=[]}function g0(e){return e.cleanup??=[]}var W={lFrame:E0(null),bindingsEnabled:!0,skipHydrationRootTNode:null},bo=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(bo||{}),N4=0,wu=!1;function m0(){return W.lFrame.elementDepthCount}function k0(){W.lFrame.elementDepthCount++}function v0(){W.lFrame.elementDepthCount--}function Qu(){return W.bindingsEnabled}function e1(){return W.skipHydrationRootTNode!==null}function M0(e){return W.skipHydrationRootTNode===e}function w0(){W.skipHydrationRootTNode=null}function X(){return W.lFrame.lView}function Ue(){return W.lFrame.tView}function rt(){let e=t1();for(;e!==null&&e.type===64;)e=e.parent;return e}function t1(){return W.lFrame.currentTNode}function C0(){let e=W.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function yi(e,t){let n=W.lFrame;n.currentTNode=e,n.isParent=t}function n1(){return W.lFrame.isParent}function r1(){W.lFrame.isParent=!1}function i1(e){Y2("Must never be called in production mode"),N4=e}function o1(){return wu}function a1(e){let t=wu;return wu=e,t}function xo(){let e=W.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function I0(){return W.lFrame.bindingIndex}function b0(e){return W.lFrame.bindingIndex=e}function gi(){return W.lFrame.bindingIndex++}function x0(e){let t=W.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function S0(){return W.lFrame.inI18n}function D0(e,t){let n=W.lFrame;n.bindingIndex=n.bindingRootIndex=e,cc(t)}function _0(){return W.lFrame.currentDirectiveIndex}function cc(e){W.lFrame.currentDirectiveIndex=e}function s1(e){W.lFrame.currentQueryIndex=e}function F4(e){let t=e[H];return t.type===2?t.declTNode:t.type===1?e[Be]:null}function c1(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=F4(o),i===null||(o=o[lr],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=W.lFrame=L0();return r.currentTNode=t,r.lView=e,!0}function lc(e){let t=L0(),n=e[H];W.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function L0(){let e=W.lFrame,t=e===null?null:e.child;return t===null?E0(e):t}function E0(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function A0(){let e=W.lFrame;return W.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var l1=A0;function dc(){let e=A0();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function T0(e){return(W.lFrame.contextLView=p0(e,W.lFrame.contextLView))[fe]}function mi(){return W.lFrame.selectedIndex}function _n(e){W.lFrame.selectedIndex=e}function d1(){let e=W.lFrame;return wo(e.tView,e.selectedIndex)}function uc(){W.lFrame.currentNamespace=Wu}function R0(){return W.lFrame.currentNamespace}var P0=!0;function hc(){return P0}function pc(e){P0=e}function Cu(e,t=null,n=null,r){let i=u1(e,t,n,r);return i.resolveInjectorInitializers(),i}function u1(e,t=null,n=null,r,i=new Set){let o=[n||wt,i0(e)];return r=r||(typeof e=="object"?void 0:Je(e)),new tr(o,t||go(),r||null,i)}var Qe=class e{static THROW_IF_NOT_FOUND=Jn;static NULL=new ho;static create(t,n){if(Array.isArray(t))return Cu({name:""},n,t,"");{let r=t.name??"";return Cu({name:r},t.parent,t.providers,r)}}static \u0275prov=S({token:e,providedIn:"any",factory:()=>E(Nu)});static __NG_ELEMENT_ID__=-1},be=new D(""),fr=(()=>{class e{static __NG_ELEMENT_ID__=j4;static __NG_ENV_ID__=n=>n}return e})(),Iu=class extends fr{_lView;constructor(t){super(),this._lView=t}get destroyed(){return pr(this._lView)}onDestroy(t){let n=this._lView;return Ju(n,t),()=>f0(n,t)}};function j4(){return new Iu(X())}var Rt=class{_console=console;handleError(t){this._console.error("ERROR",t)}},Ke=new D("",{providedIn:"root",factory:()=>{let e=C(Ce),t;return n=>{t??=e.get(Rt),t.handleError(n)}}}),O0={provide:nn,useValue:()=>void C(Rt),multi:!0},V4=new D("",{providedIn:"root",factory:()=>{let e=C(be).defaultView;if(!e)return;let t=C(Ke),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),C(fr).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function h1(){return ar([r0(()=>void C(V4))])}function Ln(e,t){let[n,r,i]=$d(e,t?.equal),o=n,a=o[He];return o.set=r,o.update=i,o.asReadonly=N0.bind(o),o}function N0(){let e=this[He];if(e.readonlyFn===void 0){let t=()=>this();t[He]=e,e.readonlyFn=t}return e.readonlyFn}var nr=class{},So=new D("",{providedIn:"root",factory:()=>!1});var p1=new D(""),f1=new D("");var En=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new ve(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new G(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})();function Do(...e){}var y1=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>new bu})}return e})(),bu=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}};function Ci(e){return{toString:e}.toString()}var fc="__parameters__";function J4(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function Q4(e,t,n){return Ci(()=>{let r=J4(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(fc)?c[fc]:Object.defineProperty(c,fc,{value:[]})[fc];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var W1=e0(Q4("Optional"),8);function e5(e){return typeof e=="function"}var vc=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function pf(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var on=(()=>{let e=()=>ff;return e.ngInherit=!0,e})();function ff(e){return e.type.prototype.ngOnChanges&&(e.setInput=n5),t5}function t5(){let e=gf(this),t=e?.current;if(t){let n=e.previous;if(n===or)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function n5(e,t,n,r,i){let o=this.declaredInputs[r],a=gf(e)||r5(e,{previous:or,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[o];s[o]=new vc(l&&l.currentValue,n,c===or),pf(e,t,i,n)}var yf="__ngSimpleChanges__";function gf(e){return e[yf]||null}function r5(e,t){return e[yf]=t}var F0=[];var ie=function(e,t=null,n){for(let r=0;r<F0.length;r++){let i=F0[r];i(e,t,n)}};function i5(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let a=ff(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function mf(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;a&&(e.contentHooks??=[]).push(-n,a),s&&((e.contentHooks??=[]).push(n,s),(e.contentCheckHooks??=[]).push(n,s)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function gc(e,t,n){kf(e,t,3,n)}function mc(e,t,n,r){(e[V]&3)===n&&kf(e,t,n,r)}function g1(e,t){let n=e[V];(n&3)===t&&(n&=16383,n+=1,e[V]=n)}function kf(e,t,n,r){let i=r!==void 0?e[ur]&65535:0,o=r??-1,a=t.length-1,s=0;for(let c=i;c<a;c++)if(typeof t[c+1]=="number"){if(s=t[c],r!=null&&s>=r)break}else t[c]<0&&(e[ur]+=65536),(s<o||o==-1)&&(o5(e,n,t,c),e[ur]=(e[ur]&4294901760)+c+2),c++}function j0(e,t){ie(4,e,t);let n=O(null);try{t.call(e)}finally{O(n),ie(5,e,t)}}function o5(e,t,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=e[a];i?e[V]>>14<e[ur]>>16&&(e[V]&3)===t&&(e[V]+=16384,j0(s,o)):j0(s,o)}var vi=-1,mr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r){this.factory=t,this.canSeeViewProviders=n,this.injectImpl=r}};function a5(e){return(e.flags&8)!==0}function s5(e){return(e.flags&16)!==0}function c5(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];e.setAttribute(t,a,s,o)}else{let o=i,a=n[++r];l5(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),r++}}return r}function vf(e){return e===3||e===4||e===6}function l5(e){return e.charCodeAt(0)===64}function Z1(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?V0(e,n,i,null,t[++r]):V0(e,n,i,null,null))}}return e}function V0(e,t,n,r,i){let o=0,a=e.length;if(t===-1)a=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function Mf(e){return e!==vi}function Mc(e){return e&32767}function d5(e){return e>>16}function wc(e,t){let n=d5(e),r=t;for(;n>0;)r=r[lr],n--;return r}var x1=!0;function Cc(e){let t=x1;return x1=e,t}var u5=256,wf=u5-1,Cf=5,h5=0,Nt={};function p5(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(rr)&&(r=n[rr]),r==null&&(r=n[rr]=h5++);let i=r&wf,o=1<<i;t.data[e+(i>>Cf)]|=o}function Ic(e,t){let n=If(e,t);if(n!==-1)return n;let r=t[H];r.firstCreatePass&&(e.injectorIndex=t.length,m1(r.data,e),m1(t,null),m1(r.blueprint,null));let i=K1(e,t),o=e.injectorIndex;if(Mf(i)){let a=Mc(i),s=wc(i,t),c=s[H].data;for(let l=0;l<8;l++)t[o+l]=s[a+l]|c[a+l]}return t[o+8]=i,o}function m1(e,t){e.push(0,0,0,0,0,0,0,0,t)}function If(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function K1(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=_f(i),r===null)return vi;if(n++,i=i[lr],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return vi}function S1(e,t,n){p5(e,t,n)}function f5(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(vf(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function bf(e,t,n){if(n&8||e!==void 0)return e;tc(t,"NodeInjector")}function xf(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[cr],o=qe(void 0);try{return i?i.get(t,r,n&8):Pu(t,r,n&8)}finally{qe(o)}}return bf(r,t,n)}function Sf(e,t,n,r=0,i){if(e!==null){if(t[V]&2048&&!(r&2)){let a=v5(e,t,n,r,Nt);if(a!==Nt)return a}let o=Df(e,t,n,r,Nt);if(o!==Nt)return o}return xf(t,n,r,i)}function Df(e,t,n,r,i){let o=m5(n);if(typeof o=="function"){if(!c1(t,e,r))return r&1?bf(i,n,r):xf(t,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))tc(n);else return a}finally{l1()}}else if(typeof o=="number"){let a=null,s=If(e,t),c=vi,l=r&1?t[ze][Be]:null;for((s===-1||r&4)&&(c=s===-1?K1(e,t):t[s+8],c===vi||!q0(r,!1)?s=-1:(a=t[H],s=Mc(c),t=wc(c,t)));s!==-1;){let d=t[H];if(H0(o,s,d.data)){let u=y5(s,t,n,a,r,l);if(u!==Nt)return u}c=t[s+8],c!==vi&&q0(r,t[H].data[s+8]===l)&&H0(o,s,t)?(a=d,s=Mc(c),t=wc(c,t)):s=-1}}return i}function y5(e,t,n,r,i,o){let a=t[H],s=a.data[e+8],c=r==null?xn(s)&&x1:r!=a&&(s.type&3)!==0,l=i&1&&o===s,d=g5(s,a,n,c,l);return d!==null?bc(t,a,d,s):Nt}function g5(e,t,n,r,i){let o=e.providerIndexes,a=t.data,s=o&1048575,c=e.directiveStart,l=e.directiveEnd,d=o>>20,u=r?s:s+d,p=i?s+d:l;for(let h=u;h<p;h++){let y=a[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(i){let h=a[c];if(h&&Sn(h)&&h.type===n)return c}return null}function bc(e,t,n,r){let i=e[n],o=t.data;if(i instanceof mr){let a=i;a.resolving&&Ru(J2(o[n]));let s=Cc(a.canSeeViewProviders);a.resolving=!0;let c=o[n].type||o[n],l,d=a.injectImpl?qe(a.injectImpl):null,u=c1(e,r,0);try{i=e[n]=a.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&i5(n,o[n],t)}finally{d!==null&&qe(d),Cc(s),a.resolving=!1,l1()}}return i}function m5(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(rr)?e[rr]:void 0;return typeof t=="number"?t>=0?t&wf:k5:t}function H0(e,t,n){let r=1<<e;return!!(n[t+(e>>Cf)]&r)}function q0(e,t){return!(e&2)&&!(e&1&&t)}var gr=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return Sf(this._tNode,this._lView,t,Qn(r),n)}};function k5(){return new gr(rt(),X())}function Po(e){return Ci(()=>{let t=e.prototype.constructor,n=t[uo]||D1(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[uo]||D1(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function D1(e){return Su(e)?()=>{let t=D1(_e(e));return t&&t()}:wn(e)}function v5(e,t,n,r,i){let o=e,a=t;for(;o!==null&&a!==null&&a[V]&2048&&!fi(a);){let s=Df(o,a,n,r|2,Nt);if(s!==Nt)return s;let c=o.parent;if(!c){let l=a[Uu];if(l){let d=l.get(n,Nt,r);if(d!==Nt)return d}c=_f(a),a=a[lr]}o=c}return i}function _f(e){let t=e[H],n=t.type;return n===2?t.declTNode:n===1?e[Be]:null}function Oo(e){return f5(rt(),e)}function M5(){return X1(rt(),X())}function X1(e,t){return new Tn(bt(e,t))}var Tn=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=M5}return e})();function Lf(e){return(e.flags&128)===128}var Y1=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Y1||{}),Ef=new Map,w5=0;function C5(){return w5++}function I5(e){Ef.set(e[mo],e)}function _1(e){Ef.delete(e[mo])}var B0="__ngContext__";function No(e,t){Ot(t)?(e[B0]=t[mo],I5(t)):e[B0]=t}function Af(e){return Rf(e[pi])}function Tf(e){return Rf(e[dt])}function Rf(e){for(;e!==null&&!It(e);)e=e[dt];return e}var L1;function J1(e){L1=e}function Pf(){if(L1!==void 0)return L1;if(typeof document<"u")return document;throw new x(210,!1)}var Fc=new D("",{providedIn:"root",factory:()=>b5}),b5="ng",jc=new D(""),Ii=new D("",{providedIn:"platform",factory:()=>"unknown"});var Vc=new D("",{providedIn:"root",factory:()=>Pf().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var x5="h",S5="b";var Of="r";var Nf="di";var Ff=!1,jf=new D("",{providedIn:"root",factory:()=>Ff});var D5=(e,t,n,r)=>{};function _5(e,t,n,r){D5(e,t,n,r)}var L5=()=>null;function Vf(e,t,n=!1){return L5(e,t,n)}function Hf(e,t){let n=e.contentQueries;if(n!==null){let r=O(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=e.data[a];s1(o),s.contentQueries(2,t[a],a)}}}finally{O(r)}}}function E1(e,t,n){s1(0);let r=O(null);try{t(e,n)}finally{O(r)}}function qf(e,t,n){if(Gu(t)){let r=O(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let a=i;a<o;a++){let s=e.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{O(r)}}}var rn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(rn||{});var yc;function E5(){if(yc===void 0&&(yc=null,en.trustedTypes))try{yc=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return yc}function z0(e){return E5()?.createScriptURL(e)||e}var xc=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Js})`}};function Q1(e){return e instanceof xc?e.changingThisBreaksApplicationSecurity:e}function eh(e,t){let n=Bf(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Js})`)}return n===t}function Bf(e){return e instanceof xc&&e.getTypeName()||null}var A5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function zf(e){return e=String(e),e.match(A5)?e:"unsafe:"+e}var Hc=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Hc||{});function Uf(e){let t=Gf();return t?t.sanitize(Hc.URL,e)||"":eh(e,"URL")?Q1(e):zf(ir(e))}function $f(e){let t=Gf();if(t)return z0(t.sanitize(Hc.RESOURCE_URL,e)||"");if(eh(e,"ResourceURL"))return z0(Q1(e));throw new x(904,!1)}function T5(e,t){return t==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||t==="href"&&(e==="base"||e==="link")?$f:Uf}function th(e,t,n){return T5(t,n)(e)}function Gf(){let e=X();return e&&e[Pt].sanitizer}function Wf(e){return e instanceof Function?e():e}function R5(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var Zf="ng-template";function P5(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&R5(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(nh(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function nh(e){return e.type===4&&e.value!==Zf}function O5(e,t,n){let r=e.type===4&&!n?Zf:e.value;return t===r}function N5(e,t,n){let r=4,i=e.attrs,o=i!==null?V5(i):0,a=!1;for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number"){if(!a&&!xt(r)&&!xt(c))return!1;if(a&&xt(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!O5(e,c,n)||c===""&&t.length===1){if(xt(r))return!1;a=!0}}else if(r&8){if(i===null||!P5(e,i,c,n)){if(xt(r))return!1;a=!0}}else{let l=t[++s],d=F5(c,i,nh(e),n);if(d===-1){if(xt(r))return!1;a=!0;continue}if(l!==""){let u;if(d>o?u="":u=i[d+1].toLowerCase(),r&2&&l!==u){if(xt(r))return!1;a=!0}}}}return xt(r)||a}function xt(e){return(e&1)===0}function F5(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let a=t[i];if(a===e)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++i];for(;typeof s=="string";)s=t[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return H5(t,e)}function Kf(e,t,n=!1){for(let r=0;r<t.length;r++)if(N5(e,t[r],n))return!0;return!1}function j5(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function V5(e){for(let t=0;t<e.length;t++){let n=e[t];if(vf(n))return t}return e.length}function H5(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function q5(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function U0(e,t){return e?":not("+t.trim()+")":t}function B5(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let a=e[n];if(typeof a=="string")if(r&2){let s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!xt(a)&&(t+=U0(o,i),i=""),r=a,o=o||!xt(r);n++}return i!==""&&(t+=U0(o,i)),t}function z5(e){return e.map(B5).join(",")}function U5(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!xt(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var St={};function $5(e,t){return e.createText(t)}function G5(e,t,n){e.setValue(t,n)}function Xf(e,t,n){return e.createElement(t,n)}function Sc(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Yf(e,t,n){e.appendChild(t,n)}function $0(e,t,n,r,i){r!==null?Sc(e,t,n,r,i):Yf(e,t,n)}function Jf(e,t,n){e.removeChild(null,t,n)}function W5(e,t,n){e.setAttribute(t,"style",n)}function Z5(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function Qf(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&c5(e,t,r),i!==null&&Z5(e,t,i),o!==null&&W5(e,t,o)}function rh(e,t,n,r,i,o,a,s,c,l,d){let u=Me+r,p=u+i,h=K5(u,p),y=typeof l=="function"?l():l;return h[H]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function K5(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:St);return n}function X5(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=rh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ih(e,t,n,r,i,o,a,s,c,l,d){let u=t.blueprint.slice();return u[Ct]=i,u[V]=r|4|128|8|64|1024,(l!==null||e&&e[V]&2048)&&(u[V]|=2048),Xu(u),u[Ie]=u[lr]=e,u[fe]=n,u[Pt]=a||e&&e[Pt],u[ye]=s||e&&e[ye],u[cr]=c||e&&e[cr]||null,u[Be]=o,u[mo]=C5(),u[sr]=d,u[Uu]=l,u[ze]=t.type==2?e[ze]:u,u}function Y5(e,t,n){let r=bt(t,e),i=X5(n),o=e[Pt].rendererFactory,a=oh(e,ih(e,i,null,ey(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=a}function ey(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function ty(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function oh(e,t){return e[pi]?e[zu][dt]=t:e[pi]=t,e[zu]=t,t}function _(e=1){ny(Ue(),X(),mi()+e,!1)}function ny(e,t,n,r){if(!r)if((t[V]&3)===3){let o=e.preOrderCheckHooks;o!==null&&gc(t,o,n)}else{let o=e.preOrderHooks;o!==null&&mc(t,o,0,n)}_n(n)}var qc=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(qc||{});function A1(e,t,n,r){let i=O(null);try{let[o,a,s]=e.inputs[n],c=null;(a&qc.SignalBased)!==0&&(c=t[o][He]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):pf(t,c,o,r)}finally{O(i)}}function ry(e,t,n,r,i){let o=mi(),a=r&2;try{_n(-1),a&&t.length>Me&&ny(e,t,Me,!1),ie(a?2:0,i,n),n(r,i)}finally{_n(o),ie(a?3:1,i,n)}}function ah(e,t,n){oM(e,t,n),(n.flags&64)===64&&aM(e,t,n)}function iy(e,t,n=bt){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(t,e):e[a];e[i++]=s}}}function J5(e,t,n,r){let o=r.get(jf,Ff)||n===rn.ShadowDom,a=e.selectRootElement(t,o);return Q5(a),a}function Q5(e){eM(e)}var eM=()=>null;function tM(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function nM(e,t,n,r,i,o){let a=t[H];if(sh(e,a,t,n,r)){xn(e)&&iM(t,e.index);return}rM(e,t,n,r,i,o)}function rM(e,t,n,r,i,o){if(e.type&3){let a=bt(e,t);n=tM(n),r=o!=null?o(r,e.value||"",n):r,i.setProperty(a,n,r)}else e.type&12}function iM(e,t){let n=ht(t,e);n[V]&16||(n[V]|=64)}function oM(e,t,n){let r=n.directiveStart,i=n.directiveEnd;xn(n)&&Y5(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||Ic(n,t);let o=n.initialInputs;for(let a=r;a<i;a++){let s=e.data[a],c=bc(t,e,a,n);if(No(c,t),o!==null&&dM(t,a-r,c,s,n,o),Sn(s)){let l=ht(n.index,t);l[fe]=bc(t,e,a,n)}}}function aM(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=_0();try{_n(o);for(let s=r;s<i;s++){let c=e.data[s],l=t[s];cc(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&sM(c,l)}}finally{_n(-1),cc(a)}}function sM(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function oy(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];Kf(t,o.selectors,!1)&&(r??=[],Sn(o)?r.unshift(o):r.push(o))}return r}function cM(e,t,n,r,i,o){let a=bt(e,t);lM(t[ye],a,o,e.value,n,r,i)}function lM(e,t,n,r,i,o,a){if(o==null)e.removeAttribute(t,i,n);else{let s=a==null?ir(o):a(o,r||"",i);e.setAttribute(t,i,s,n)}}function dM(e,t,n,r,i,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];A1(r,n,c,l)}}function uM(e,t){let n=e[cr];if(!n)return;n.get(Ke,null)?.(t)}function sh(e,t,n,r,i){let o=e.inputs?.[r],a=e.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=t.data[l];A1(u,n[l],d,i),s=!0}if(o)for(let c of o){let l=n[c],d=t.data[c];A1(d,l,r,i),s=!0}return s}function hM(e,t){let n=ht(t,e),r=n[H];pM(r,n);let i=n[Ct];i!==null&&n[sr]===null&&(n[sr]=Vf(i,n[cr])),ie(18),ch(r,n,n[fe]),ie(19,n[fe])}function pM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function ch(e,t,n){lc(t);try{let r=e.viewQuery;r!==null&&E1(1,r,n);let i=e.template;i!==null&&ry(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[hr]?.finishViewCreation(e),e.staticContentQueries&&Hf(e,t),e.staticViewQueries&&E1(2,e.viewQuery,n);let o=e.components;o!==null&&fM(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[V]&=-5,dc()}}function fM(e,t){for(let n=0;n<t.length;n++)hM(e,t[n])}function Bc(e,t,n,r){let i=O(null);try{let o=t.tView,s=e[V]&4096?4096:16,c=ih(e,o,n,s,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[dr]=l;let d=e[hr];return d!==null&&(c[hr]=d.createEmbeddedView(o)),ch(o,c,n),c}finally{O(i)}}function Mi(e,t){return!t||t.firstChild===null||Lf(e)}var G0=!1,yM=new D(""),gM;function lh(e,t){return gM(e,t)}var Rn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(Rn||{});function zc(e){return(e.flags&32)===32}function ki(e,t,n,r,i){if(r!=null){let o,a=!1;It(r)?o=r:Ot(r)&&(a=!0,r=r[Ct]);let s=ut(r);e===0&&n!==null?i==null?Yf(t,n,s):Sc(t,n,s,i||null,!0):e===1&&n!==null?Sc(t,n,s,i||null,!0):e===2?Jf(t,s,a):e===3&&t.destroyNode(s),o!=null&&SM(t,e,o,n,i)}}function mM(e,t){ay(e,t),t[Ct]=null,t[Be]=null}function kM(e,t,n,r,i,o){r[Ct]=i,r[Be]=t,$c(e,r,n,1,i,o)}function ay(e,t){t[Pt].changeDetectionScheduler?.notify(9),$c(e,t,t[ye],2,null,null)}function vM(e){let t=e[pi];if(!t)return k1(e[H],e);for(;t;){let n=null;if(Ot(t))n=t[pi];else{let r=t[Le];r&&(n=r)}if(!n){for(;t&&!t[dt]&&t!==e;)Ot(t)&&k1(t[H],t),t=t[Ie];t===null&&(t=e),Ot(t)&&k1(t[H],t),n=t&&t[dt]}t=n}}function dh(e,t){let n=e[Mo],r=n.indexOf(t);n.splice(r,1)}function Uc(e,t){if(pr(t))return;let n=t[ye];n.destroyNode&&$c(e,t,n,3,null,null),vM(t)}function k1(e,t){if(pr(t))return;let n=O(null);try{t[V]&=-129,t[V]|=256,t[nt]&&ys(t[nt]),wM(e,t),MM(e,t),t[H].type===1&&t[ye].destroy();let r=t[dr];if(r!==null&&It(t[Ie])){r!==t[Ie]&&dh(r,t);let i=t[hr];i!==null&&i.detachView(e)}_1(t)}finally{O(n)}}function MM(e,t){let n=e.cleanup,r=t[hi];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(t[hi]=null);let i=t[Qt];if(i!==null){t[Qt]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=t[ko];if(o!==null){t[ko]=null;for(let a of o)a.destroy()}}function wM(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof mr)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];ie(4,s,c);try{c.call(s)}finally{ie(5,s,c)}}else{ie(4,i,o);try{o.call(i)}finally{ie(5,i,o)}}}}}function sy(e,t,n){return CM(e,t.parent,n)}function CM(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Ct];if(xn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===rn.None||i===rn.Emulated)return null}return bt(r,n)}function cy(e,t,n){return bM(e,t,n)}function IM(e,t,n){return e.type&40?bt(e,n):null}var bM=IM,W0;function uh(e,t,n,r){let i=sy(e,r,t),o=t[ye],a=r.parent||t[Be],s=cy(a,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)$0(o,i,n[c],s,!1);else $0(o,i,n,s,!1);W0!==void 0&&W0(o,r,t,n,i)}function _o(e,t){if(t!==null){let n=t.type;if(n&3)return bt(t,e);if(n&4)return T1(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return _o(e,r);{let i=e[t.index];return It(i)?T1(-1,i):ut(i)}}else{if(n&128)return _o(e,t.next);if(n&32)return lh(t,e)()||ut(e[t.index]);{let r=ly(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Cn(e[ze]);return _o(i,r)}else return _o(e,t.next)}}}return null}function ly(e,t){if(t!==null){let r=e[ze][Be],i=t.projection;return r.projection[i]}return null}function T1(e,t){let n=Le+e+1;if(n<t.length){let r=t[n],i=r[H].firstChild;if(i!==null)return _o(r,i)}return t[bn]}function hh(e,t,n,r,i,o,a){for(;n!=null;){if(n.type===128){n=n.next;continue}let s=r[n.index],c=n.type;if(a&&t===0&&(s&&No(ut(s),r),n.flags|=2),!zc(n))if(c&8)hh(e,t,n.child,r,i,o,!1),ki(t,e,i,s,o);else if(c&32){let l=lh(n,r),d;for(;d=l();)ki(t,e,i,d,o);ki(t,e,i,s,o)}else c&16?dy(e,t,r,n,i,o):ki(t,e,i,s,o);n=a?n.projectionNext:n.next}}function $c(e,t,n,r,i,o){hh(n,r,e.firstChild,t,i,o,!1)}function xM(e,t,n){let r=t[ye],i=sy(e,n,t),o=n.parent||t[Be],a=cy(o,n,t);dy(r,0,t,n,i,a)}function dy(e,t,n,r,i,o){let a=n[ze],c=a[Be].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];ki(t,e,i,d,o)}else{let l=c,d=a[Ie];Lf(r)&&(l.flags|=128),hh(e,t,l,d,i,o,!0)}}function SM(e,t,n,r,i){let o=n[bn],a=ut(n);o!==a&&ki(t,e,r,o,i);for(let s=Le;s<n.length;s++){let c=n[s];$c(c[H],c,e,t,r,o)}}function Eo(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(ut(o)),It(o)&&uy(o,r);let a=n.type;if(a&8)Eo(e,t,n.child,r);else if(a&32){let s=lh(n,t),c;for(;c=s();)r.push(c)}else if(a&16){let s=ly(t,n);if(Array.isArray(s))r.push(...s);else{let c=Cn(t[ze]);Eo(c[H],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function uy(e,t){for(let n=Le;n<e.length;n++){let r=e[n],i=r[H].firstChild;i!==null&&Eo(r[H],r,i,t)}e[bn]!==e[Ct]&&t.push(e[bn])}function hy(e){if(e[ic]!==null){for(let t of e[ic])t.impl.addSequence(t);e[ic].length=0}}var py=[];function DM(e){return e[nt]??_M(e)}function _M(e){let t=py.pop()??Object.create(EM);return t.lView=e,t}function LM(e){e.lView[nt]!==e&&(e.lView=null,py.push(e))}var EM=F(I({},$n),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Io(e.lView)},consumerOnSignalRead(){this.lView[nt]=this}});function AM(e){let t=e[nt]??Object.create(TM);return t.lView=e,t}var TM=F(I({},$n),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Cn(e.lView);for(;t&&!fy(t[H]);)t=Cn(t);t&&Yu(t)},consumerOnSignalRead(){this.lView[nt]=this}});function fy(e){return e.type!==2}function yy(e){if(e[ko]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[ko])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[V]&8192)}}var RM=100;function ph(e,t=0){let r=e[Pt].rendererFactory,i=!1;i||r.begin?.();try{PM(e,t)}finally{i||r.end?.()}}function PM(e,t){let n=o1();try{a1(!0),R1(e,t);let r=0;for(;Co(e);){if(r===RM)throw new x(103,!1);r++,R1(e,1)}}finally{a1(n)}}function gy(e,t){i1(t?bo.Exhaustive:bo.OnlyDirtyViews);try{ph(e)}finally{i1(bo.Off)}}function OM(e,t,n,r){if(pr(t))return;let i=t[V],o=!1,a=!1;lc(t);let s=!0,c=null,l=null;o||(fy(e)?(l=DM(t),c=Gn(l)):ps()===null?(s=!1,l=AM(t),c=Gn(l)):t[nt]&&(ys(t[nt]),t[nt]=null));try{Xu(t),b0(e.bindingStartIndex),n!==null&&ry(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let h=e.preOrderCheckHooks;h!==null&&gc(t,h,null)}else{let h=e.preOrderHooks;h!==null&&mc(t,h,0,null),g1(t,0)}if(a||NM(t),yy(t),my(t,0),e.contentQueries!==null&&Hf(e,t),!o)if(d){let h=e.contentCheckHooks;h!==null&&gc(t,h)}else{let h=e.contentHooks;h!==null&&mc(t,h,1),g1(t,1)}jM(e,t);let u=e.components;u!==null&&vy(t,u,0);let p=e.viewQuery;if(p!==null&&E1(2,p,r),!o)if(d){let h=e.viewCheckHooks;h!==null&&gc(t,h)}else{let h=e.viewHooks;h!==null&&mc(t,h,2),g1(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[rc]){for(let h of t[rc])h();t[rc]=null}o||(hy(t),t[V]&=-73)}catch(d){throw o||Io(t),d}finally{l!==null&&(Jr(l,c),s&&LM(l)),dc()}}function my(e,t){for(let n=Af(e);n!==null;n=Tf(n))for(let r=Le;r<n.length;r++){let i=n[r];ky(i,t)}}function NM(e){for(let t=Af(e);t!==null;t=Tf(t)){if(!(t[V]&2))continue;let n=t[Mo];for(let r=0;r<n.length;r++){let i=n[r];Yu(i)}}}function FM(e,t,n){ie(18);let r=ht(t,e);ky(r,n),ie(19,r[fe])}function ky(e,t){ac(e)&&R1(e,t)}function R1(e,t){let r=e[H],i=e[V],o=e[nt],a=!!(t===0&&i&16);if(a||=!!(i&64&&t===0),a||=!!(i&1024),a||=!!(o?.dirty&&no(o)),a||=!1,o&&(o.dirty=!1),e[V]&=-9217,a)OM(r,e,r.template,e[fe]);else if(i&8192){let s=O(null);try{yy(e),my(e,1);let c=r.components;c!==null&&vy(e,c,1),hy(e)}finally{O(s)}}}function vy(e,t,n){for(let r=0;r<t.length;r++)FM(e,t[r],n)}function jM(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)_n(~i);else{let o=i,a=n[++r],s=n[++r];D0(a,o);let c=t[o];ie(24,c),s(2,c),ie(25,c)}}}finally{_n(-1)}}function fh(e,t){let n=o1()?64:1088;for(e[Pt].changeDetectionScheduler?.notify(t);e;){e[V]|=n;let r=Cn(e);if(fi(e)&&!r)return e;e=r}return null}function My(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function wy(e,t){let n=Le+t;if(n<e.length)return e[n]}function Fo(e,t,n,r=!0){let i=t[H];if(VM(i,t,e,n),r){let a=T1(n,e),s=t[ye],c=s.parentNode(e[bn]);c!==null&&kM(i,e[Be],s,t,c,a)}let o=t[sr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Cy(e,t){let n=Ao(e,t);return n!==void 0&&Uc(n[H],n),n}function Ao(e,t){if(e.length<=Le)return;let n=Le+t,r=e[n];if(r){let i=r[dr];i!==null&&i!==e&&dh(i,r),t>0&&(e[n-1][dt]=r[dt]);let o=fo(e,Le+t);mM(r[H],r);let a=o[hr];a!==null&&a.detachView(o[H]),r[Ie]=null,r[dt]=null,r[V]&=-129}return r}function VM(e,t,n,r){let i=Le+r,o=n.length;r>0&&(n[i-1][dt]=t),r<o-Le?(t[dt]=n[i],Ou(n,Le+r,t)):(n.push(t),t[dt]=null),t[Ie]=n;let a=t[dr];a!==null&&n!==a&&Iy(a,t);let s=t[hr];s!==null&&s.insertView(e),sc(t),t[V]|=128}function Iy(e,t){let n=e[Mo],r=t[Ie];if(Ot(r))e[V]|=2;else{let i=r[Ie][ze];t[ze]!==i&&(e[V]|=2)}n===null?e[Mo]=[t]:n.push(t)}var kr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[H];return Eo(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[fe]}set context(t){this._lView[fe]=t}get destroyed(){return pr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Ie];if(It(t)){let n=t[vo],r=n?n.indexOf(this):-1;r>-1&&(Ao(t,r),fo(n,r))}this._attachedToViewContainer=!1}Uc(this._lView[H],this._lView)}onDestroy(t){Ju(this._lView,t)}markForCheck(){fh(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[V]&=-129}reattach(){sc(this._lView),this._lView[V]|=128}detectChanges(){this._lView[V]|=1024,ph(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[cr].get(yM,G0)}catch{this.exhaustive=G0}}attachToViewContainerRef(){if(this._appRef)throw new x(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=fi(this._lView),n=this._lView[dr];n!==null&&!t&&dh(n,this._lView),ay(this._lView[H],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new x(902,!1);this._appRef=t;let n=fi(this._lView),r=this._lView[dr];r!==null&&!n&&Iy(r,this._lView),sc(this._lView)}};function Gc(e,t,n,r,i){let o=e.data[t];if(o===null)o=HM(e,t,n,r,i),S0()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=C0();o.injectorIndex=a===null?-1:a.injectorIndex}return yi(o,!0),o}function HM(e,t,n,r,i){let o=t1(),a=n1(),s=a?o:o&&o.parent,c=e.data[t]=BM(e,s,n,t,r,i);return qM(e,c,o,a),c}function qM(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function BM(e,t,n,r,i,o){let a=t?t.injectorIndex:-1,s=0;return e1()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var OE=new RegExp(`^(\\d+)*(${S5}|${x5})*(.*)`);function zM(e){let t=e[$u]??[],r=e[Ie][ye],i=[];for(let o of t)o.data[Nf]!==void 0?i.push(o):UM(o,r);e[$u]=i}function UM(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[Of];for(;n<i;){let o=r.nextSibling;Jf(t,r,!1),r=o,n++}}}var $M=()=>null,GM=()=>null;function Dc(e,t){return $M(e,t)}function by(e,t,n){return GM(e,t,n)}var xy=class{},Wc=class{},P1=class{resolveComponentFactory(t){throw new x(917,!1)}},jo=class{static NULL=new P1},vr=class{},wr=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>WM()}return e})();function WM(){let e=X(),t=rt(),n=ht(t.index,e);return(Ot(n)?n:e)[ye]}var Sy=(()=>{class e{static \u0275prov=S({token:e,providedIn:"root",factory:()=>null})}return e})();var kc={},O1=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,kc,r);return i!==kc||n===kc?i:this.parentInjector.get(t,n,r)}};function Z0(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)i=xu(i,s);else if(o==2){let c=s,l=t[++a];r=xu(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Y(e,t=0){let n=X();if(n===null)return E(e,t);let r=rt();return Sf(r,n,_e(e),t)}function Dy(e,t,n,r,i){let o=r===null?null:{"":-1},a=i(e,n);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}XM(e,t,n,s,o,c,l)}o!==null&&r!==null&&ZM(n,r,o)}function ZM(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new x(-301,!1);r.push(t[i],o)}}function KM(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function XM(e,t,n,r,i,o,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&Sn(h)&&(c=!0,KM(e,n,p)),S1(Ic(n,t),e,h.type)}n3(n,e.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=ty(e,t,s,null);s>0&&(n.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(n.mergedAttrs=Z1(n.mergedAttrs,h.hostAttrs),JM(e,n,t,u,h),t3(u,h,i),a!==null&&a.has(h)){let[g,m]=a.get(h);n.directiveToIndex.set(h.type,[u,g+n.directiveStart,m+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}YM(e,n,o)}function YM(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))K0(0,t,i,r),K0(1,t,i,r),Y0(t,r,!1);else{let o=n.get(i);X0(0,t,o,r),X0(1,t,o,r),Y0(t,r,!0)}}}function K0(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;e===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(r),_y(t,o)}}function X0(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;e===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),_y(t,a)}}function _y(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function Y0(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||nh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===t){a??=[],a.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===t){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(a)}function JM(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=wn(i.type,!0)),a=new mr(o,Sn(i),Y);e.blueprint[r]=a,n[r]=a,QM(e,t,r,ty(e,n,i.hostVars,St),i)}function QM(e,t,n,r,i){let o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let s=~t.index;e3(a)!=s&&a.push(s),a.push(n,r,o)}}function e3(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function t3(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Sn(t)&&(n[""]=e)}}function n3(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Ly(e,t,n,r,i,o,a,s){let c=t.consts,l=Dn(c,a),d=Gc(t,e,2,r,l);return o&&Dy(t,n,d,Dn(c,s),i),d.mergedAttrs=Z1(d.mergedAttrs,d.attrs),d.attrs!==null&&Z0(d,d.attrs,!1),d.mergedAttrs!==null&&Z0(d,d.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,d),d}function Ey(e,t){mf(e,t),Gu(t)&&e.queries.elementEnd(t)}function yh(e,t,n){return e[t]=n}function r3(e,t){return e[t]}function An(e,t,n){if(n===St)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Ay(e,t,n,r){let i=An(e,t,n);return An(e,t+1,r)||i}function v1(e,t,n){return function r(i){let o=xn(e)?ht(e.index,t):t;fh(o,5);let a=t[fe],s=J0(t,a,n,i),c=r.__ngNextListenerFn__;for(;c;)s=J0(t,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function J0(e,t,n,r){let i=O(null);try{return ie(6,t,n),n(r)!==!1}catch(o){return uM(e,o),!1}finally{ie(7,t,n),O(i)}}function i3(e,t,n,r,i,o,a,s){let c=oc(e),l=!1,d=null;if(!r&&c&&(d=o3(t,n,o,e.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=bt(e,n),p=r?r(u):u;_5(n,p,o,s);let h=i.listen(p,o,s),y=r?g=>r(ut(g[e.index])):e.index;Ty(y,t,n,o,s,h,!1)}return l}function o3(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=t[hi],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function Ty(e,t,n,r,i,o,a){let s=t.firstCreatePass?g0(t):null,c=y0(n),l=c.length;c.push(i,o),s&&s.push(r,e,l,(l+1)*(a?-1:1))}function Q0(e,t,n,r,i,o){let a=t[n],s=t[H],l=s.data[n].outputs[r],u=a[l].subscribe(o);Ty(e.index,s,t,i,o,u,!0)}var N1=Symbol("BINDING");var _c=class extends jo{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=In(t);return new wi(n,this.ngModule)}};function a3(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&qc.SignalBased)!==0};return i&&(o.transform=i),o})}function s3(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function c3(e,t,n){let r=t instanceof Ce?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new O1(n,r):n}function l3(e){let t=e.get(vr,null);if(t===null)throw new x(407,!1);let n=e.get(Sy,null),r=e.get(nr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function d3(e,t){let n=(e.selectors[0][0]||"div").toLowerCase();return Xf(t,n,n==="svg"?Wu:n==="math"?d0:null)}var wi=class extends Wc{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=a3(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=s3(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=z5(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,a){ie(22);let s=O(null);try{let c=this.componentDef,l=u3(r,c,a,o),d=c3(c,i||this.ngModule,t),u=l3(d),p=u.rendererFactory.createRenderer(null,c),h=r?J5(p,r,c.encapsulation,d):d3(c,p),y=a?.some(ef)||o?.some(v=>typeof v!="function"&&v.bindings.some(ef)),g=ih(null,l,null,512|ey(c),null,null,u,p,d,null,Vf(h,d,!0));g[Me]=h,lc(g);let m=null;try{let v=Ly(Me,l,g,"#host",()=>l.directiveRegistry,!0,0);h&&(Qf(p,h,v),No(h,g)),ah(l,g,v),qf(l,v,g),Ey(l,v),n!==void 0&&p3(v,this.ngContentSelectors,n),m=ht(v.index,g),g[fe]=m[fe],ch(l,g,null)}catch(v){throw m!==null&&_1(m),_1(g),v}finally{ie(23),dc()}return new Lc(this.componentType,g,!!y)}finally{O(s)}}};function u3(e,t,n,r){let i=e?["ng-version","20.0.4"]:U5(t.selectors[0]),o=null,a=null,s=0;if(n)for(let d of n)s+=d[N1].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[N1].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[t];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=Vu(u);c.push(p)}return rh(0,null,h3(o,a),1,s,c,null,null,null,[i],null)}function h3(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function ef(e){let t=e[N1].kind;return t==="input"||t==="twoWay"}var Lc=class extends xy{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=wo(n[H],Me),this.location=X1(this._tNode,n),this.instance=ht(this._tNode.index,n)[fe],this.hostView=this.changeDetectorRef=new kr(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=sh(r,i[H],i,t,n);this.previousInputValues.set(t,n);let a=ht(r.index,i);fh(a,1)}get injector(){return new gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function p3(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var Vo=(()=>{class e{static __NG_ELEMENT_ID__=f3}return e})();function f3(){let e=rt();return g3(e,X())}var y3=Vo,Ry=class extends y3{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return X1(this._hostTNode,this._hostLView)}get injector(){return new gr(this._hostTNode,this._hostLView)}get parentInjector(){let t=K1(this._hostTNode,this._hostLView);if(Mf(t)){let n=wc(t,this._hostLView),r=Mc(t),i=n[H].data[r+8];return new gr(i,n)}else return new gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=tf(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-Le}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Dc(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,Mi(this._hostTNode,a)),s}createComponent(t,n,r,i,o,a,s){let c=t&&!e5(t),l;if(c)l=n;else{let m=n||{};l=m.index,r=m.injector,i=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,a=m.directives,s=m.bindings}let d=c?t:new wi(In(t)),u=r||this.parentInjector;if(!o&&d.ngModule==null){let v=(c?u:this.parentInjector).get(Ce,null);v&&(o=v)}let p=In(d.componentType??{}),h=Dc(this._lContainer,p?.id??null),y=h?.firstChild??null,g=d.create(u,i,y,o,a,s);return this.insertImpl(g.hostView,l,Mi(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(h0(i)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let c=i[Ie],l=new Ry(c,c[Be],c[Ie]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),a=this._lContainer;return Fo(a,i,o,r),t.attachToViewContainerRef(),Ou(M1(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=tf(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Ao(this._lContainer,n);r&&(fo(M1(this._lContainer),n),Uc(r[H],r))}detach(t){let n=this._adjustIndex(t,-1),r=Ao(this._lContainer,n);return r&&fo(M1(this._lContainer),n)!=null?new kr(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function tf(e){return e[vo]}function M1(e){return e[vo]||(e[vo]=[])}function g3(e,t){let n,r=t[e.index];return It(r)?n=r:(n=My(r,t,null,e),t[e.index]=n,oh(t,n)),k3(n,t,e,r),new Ry(n,e,t)}function m3(e,t){let n=e[ye],r=n.createComment(""),i=bt(t,e),o=n.parentNode(i);return Sc(n,o,r,n.nextSibling(i),!1),r}var k3=w3,v3=()=>!1;function M3(e,t,n){return v3(e,t,n)}function w3(e,t,n,r){if(e[bn])return;let i;n.type&8?i=ut(r):i=m3(t,n),e[bn]=i}var nf=new Set;function Pn(e){nf.has(e)||(nf.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Mr=class{},Zc=class{};var Ec=class extends Mr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new _c(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=ju(t);this._bootstrapComponents=Wf(o.bootstrap),this._r3Injector=u1(t,n,[{provide:Mr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver},...r],Je(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},Ac=class extends Zc{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new Ec(this.moduleType,t,[])}};var To=class extends Mr{injector;componentFactoryResolver=new _c(this);instance=null;constructor(t){super();let n=new tr([...t.providers,{provide:Mr,useValue:this},{provide:jo,useValue:this.componentFactoryResolver}],t.parent||go(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function Ho(e,t,n=null){return new To({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var C3=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=Hu(!1,n.type),i=r.length>0?Ho([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=S({token:e,providedIn:"environment",factory:()=>new e(E(Ce))})}return e})();function Q(e){return Ci(()=>{let t=Py(e),n=F(I({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Y1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(C3).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||rn.Emulated,styles:e.styles||wt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Pn("NgStandalone"),Oy(n);let r=e.dependencies;return n.directiveDefs=rf(r,!1),n.pipeDefs=rf(r,!0),n.id=D3(n),n})}function I3(e){return In(e)||Vu(e)}function b3(e){return e!==null}function pt(e){return Ci(()=>({type:e.type,bootstrap:e.bootstrap||wt,declarations:e.declarations||wt,imports:e.imports||wt,exports:e.exports||wt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function x3(e,t){if(e==null)return or;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=qc.None,c=null),n[o]=[r,s,c],t[o]=a}return n}function S3(e){if(e==null)return or;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function Cr(e){return Ci(()=>{let t=Py(e);return Oy(t),t})}function Kc(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Py(e){let t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||or,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||wt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:x3(e.inputs,t),outputs:S3(e.outputs),debugInfo:null}}function Oy(e){e.features?.forEach(t=>t(e))}function rf(e,t){if(!e)return null;let n=t?n0:I3;return()=>(typeof e=="function"?e():e).map(r=>n(r)).filter(b3)}function D3(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function _3(e,t,n,r,i,o,a,s,c){let l=t.consts,d=Gc(t,e,4,a||null,s||null);Qu()&&Dy(t,n,d,Dn(l,c),oy),d.mergedAttrs=Z1(d.mergedAttrs,d.attrs),mf(t,d);let u=d.tView=rh(2,d,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l,null);return t.queries!==null&&(t.queries.template(t,d),u.queries=t.queries.embeddedTView(d)),d}function Ro(e,t,n,r,i,o,a,s,c,l,d){let u=n+Me,p=t.firstCreatePass?_3(u,t,e,r,i,o,a,s,l):t.data[u];c&&(p.flags|=c),yi(p,!1);let h=L3(t,e,p,n);hc()&&uh(t,e,h,p),No(h,e);let y=My(h,e,h,p);return e[u]=y,oh(e,y),M3(y,p,e),oc(p)&&ah(t,e,p),l!=null&&iy(e,p,d),p}var L3=E3;function E3(e,t,n,r){return pc(!0),t[ye].createComment("")}var gh=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(gh||{}),qo=new D(""),Ny=!1,F1=class extends ne{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,c0()&&(this.destroyRef=C(fr,{optional:!0})??void 0,this.pendingTasks=C(En,{optional:!0})??void 0)}emit(t){let n=O(null);try{super.next(t)}finally{O(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),a=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return t instanceof he&&t.add(s),s}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},xe=F1;function Fy(e){let t,n;function r(){e=Do;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function of(e){return queueMicrotask(()=>e()),()=>{e=Do}}var mh="isAngularZone",Tc=mh+"_ID",A3=0,we=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new xe(!1);onMicrotaskEmpty=new xe(!1);onStable=new xe(!1);onError=new xe(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Ny}=t;if(typeof Zone>"u")throw new x(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,P3(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(mh)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new x(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new x(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,t,T3,Do,Do);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},T3={};function kh(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function R3(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){Fy(()=>{e.callbackScheduled=!1,j1(e),e.isCheckStableRunning=!0,kh(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),j1(e)}function P3(e){let t=()=>{R3(e)},n=A3++;e._inner=e._inner.fork({name:"angular",properties:{[mh]:!0,[Tc]:n,[Tc+n]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(O3(c))return r.invokeTask(o,a,s,c);try{return af(e),r.invokeTask(o,a,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),sf(e)}},onInvoke:(r,i,o,a,s,c,l)=>{try{return af(e),r.invoke(o,a,s,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!N3(c)&&t(),sf(e)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,j1(e),kh(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function j1(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function af(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function sf(e){e._nesting--,kh(e)}var Rc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new xe;onMicrotaskEmpty=new xe;onStable=new xe;onError=new xe;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function O3(e){return jy(e,"__ignore_ng_zone__")}function N3(e){return jy(e,"__scheduler_tick__")}function jy(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Vy=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=S({token:e,providedIn:"root",factory:()=>new e})}return e})();var vh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Mh=new D("");function On(e){return!!e&&typeof e.then=="function"}function wh(e){return!!e&&typeof e.subscribe=="function"}var Hy=new D("");var Ch=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=C(Hy,{optional:!0})??[];injector=C(Qe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=tt(this.injector,i);if(On(o))n.push(o);else if(wh(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xc=new D("");function qy(){Ud(()=>{let e="";throw new x(600,e)})}function By(e){return e.isBoundToModule}var F3=10;var Ir=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=C(Ke);afterRenderManager=C(Vy);zonelessEnabled=C(So);rootEffectScheduler=C(y1);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ne;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=C(En);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(P(n=>!n))}constructor(){C(qo,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=C(Ce);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Qe.NULL){return this._injector.get(we).run(()=>{ie(10);let a=n instanceof Wc;if(!this._injector.get(Ch).done){let y="";throw new x(405,y)}let c;a?c=n:c=this._injector.get(jo).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=By(c)?void 0:this._injector.get(Mr),d=r||c.selector,u=c.create(i,[],d,l),p=u.location.nativeElement,h=u.injector.get(Mh,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),Lo(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),ie(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){ie(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(gh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new x(101,!1);let n=O(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,O(n),this.afterTick.next(),ie(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(vr,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<F3;)ie(14),this.synchronizeOnce(),ie(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Co(i))continue;let o=r&&!this.zonelessEnabled?0:1;ph(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Co(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Lo(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Xc,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Lo(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new x(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lo(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Bo(e,t,n,r){let i=X(),o=gi();if(An(i,o,t)){let a=Ue(),s=d1();cM(s,i,e,t,n,r)}return Bo}var V1=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function w1(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function j3(e,t,n){let r,i,o=0,a=e.length-1,s=void 0;if(Array.isArray(t)){let c=t.length-1;for(;o<=a&&o<=c;){let l=e.at(o),d=t[o],u=w1(o,l,o,d,n);if(u!==0){u<0&&e.updateValue(o,d),o++;continue}let p=e.at(a),h=t[c],y=w1(a,p,c,h,n);if(y!==0){y<0&&e.updateValue(a,h),a--,c--;continue}let g=n(o,l),m=n(a,p),v=n(o,d);if(Object.is(v,m)){let L=n(c,h);Object.is(L,g)?(e.swap(o,a),e.updateValue(a,h),c--,a--):e.move(a,o),e.updateValue(o,d),o++;continue}if(r??=new Pc,i??=lf(e,o,a,n),H1(e,r,o,v))e.updateValue(o,d),o++,a++;else if(i.has(v))r.set(g,e.detach(o)),a--;else{let L=e.create(o,t[o]);e.attach(o,L),o++,a++}}for(;o<=c;)cf(e,r,n,o,t[o]),o++}else if(t!=null){let c=t[Symbol.iterator](),l=c.next();for(;!l.done&&o<=a;){let d=e.at(o),u=l.value,p=w1(o,d,o,u,n);if(p!==0)p<0&&e.updateValue(o,u),o++,l=c.next();else{r??=new Pc,i??=lf(e,o,a,n);let h=n(o,u);if(H1(e,r,o,h))e.updateValue(o,u),o++,a++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,u)),o++,a++,l=c.next();else{let y=n(o,d);r.set(y,e.detach(o)),a--}}}for(;!l.done;)cf(e,r,n,e.length,l.value),l=c.next()}for(;o<=a;)e.destroy(e.detach(a--));r?.forEach(c=>{e.destroy(c)})}function H1(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function cf(e,t,n,r,i){if(H1(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function lf(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Pc=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function an(e,t,n,r,i,o,a,s){Pn("NgControlFlow");let c=X(),l=Ue(),d=Dn(l.consts,o);return Ro(c,l,e,t,n,r,i,d,256,a,s),Ih}function Ih(e,t,n,r,i,o,a,s){Pn("NgControlFlow");let c=X(),l=Ue(),d=Dn(l.consts,o);return Ro(c,l,e,t,n,r,i,d,512,a,s),Ih}function sn(e,t){Pn("NgControlFlow");let n=X(),r=gi(),i=n[r]!==St?n[r]:-1,o=i!==-1?Oc(n,Me+i):void 0,a=0;if(An(n,r,e)){let s=O(null);try{if(o!==void 0&&Cy(o,a),e!==-1){let c=Me+e,l=Oc(n,c),d=U1(n[H],c),u=by(l,d,n),p=Bc(n,d,t,{dehydratedView:u});Fo(l,p,a,Mi(d,u))}}finally{O(s)}}else if(o!==void 0){let s=wy(o,a);s!==void 0&&(s[fe]=t)}}var q1=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-Le}};function bi(e,t){return t}var B1=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function cn(e,t,n,r,i,o,a,s,c,l,d,u,p){Pn("NgControlFlow");let h=X(),y=Ue(),g=c!==void 0,m=X(),v=s?a.bind(m[ze][fe]):a,L=new B1(g,v);m[Me+e]=L,Ro(h,y,e+1,t,n,r,i,Dn(y.consts,o),256),g&&Ro(h,y,e+2,c,l,d,u,Dn(y.consts,p),512)}var z1=class extends V1{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-Le}at(t){return this.getLView(t)[fe].$implicit}attach(t,n){let r=n[sr];this.needsIndexUpdate||=t!==this.length,Fo(this.lContainer,n,t,Mi(this.templateTNode,r))}detach(t){return this.needsIndexUpdate||=t!==this.length-1,V3(this.lContainer,t)}create(t,n){let r=Dc(this.lContainer,this.templateTNode.tView.ssrId),i=Bc(this.hostLView,this.templateTNode,new q1(this.lContainer,n,t),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(t){Uc(t[H],t),this.operationsCounter?.recordDestroy()}updateValue(t,n){this.getLView(t)[fe].$implicit=n}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[fe].$index=t}getLView(t){return H3(this.lContainer,t)}};function ln(e){let t=O(null),n=mi();try{let r=X(),i=r[H],o=r[n],a=n+1,s=Oc(r,a);if(o.liveCollection===void 0){let l=U1(i,a);o.liveCollection=new z1(s,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(j3(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=gi(),d=c.length===0;if(An(r,l,d)){let u=n+2,p=Oc(r,u);if(d){let h=U1(i,u),y=by(p,h,r),g=Bc(r,h,void 0,{dehydratedView:y});Fo(p,g,0,Mi(h,y))}else i.firstUpdatePass&&zM(p),Cy(p,0)}}}finally{O(t)}}function Oc(e,t){return e[t]}function V3(e,t){return Ao(e,t)}function H3(e,t){return wy(e,t)}function U1(e,t){return wo(e,t)}function K(e,t,n){let r=X(),i=gi();if(An(r,i,t)){let o=Ue(),a=d1();nM(a,r,e,t,r[ye],n)}return K}function df(e,t,n,r,i){sh(t,e,n,i?"class":"style",r)}function k(e,t,n,r){let i=X(),o=Ue(),a=Me+e,s=i[ye],c=o.firstCreatePass?Ly(a,o,i,t,oy,Qu(),n,r):o.data[a],l=q3(o,i,c,s,t,e);i[a]=l;let d=oc(c);return yi(c,!0),Qf(s,l,c),!zc(c)&&hc()&&uh(o,i,l,c),(m0()===0||d)&&No(l,i),k0(),d&&(ah(o,i,c),qf(o,c,i)),r!==null&&iy(i,c),k}function w(){let e=rt();n1()?r1():(e=e.parent,yi(e,!1));let t=e;M0(t)&&w0(),v0();let n=Ue();return n.firstCreatePass&&Ey(n,t),t.classesWithoutHost!=null&&a5(t)&&df(n,t,X(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&s5(t)&&df(n,t,X(),t.stylesWithoutHost,!1),w}function T(e,t,n,r){return k(e,t,n,r),w(),T}var q3=(e,t,n,r,i,o)=>(pc(!0),Xf(r,i,R0()));var yr=void 0;function B3(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var z3=["en",[["a","p"],["AM","PM"],yr],[["AM","PM"],yr,yr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],yr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],yr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",yr,"{1} 'at' {0}",yr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",B3],C1={};function it(e){let t=U3(e),n=uf(t);if(n)return n;let r=t.split("-")[0];if(n=uf(r),n)return n;if(r==="en")return z3;throw new x(701,!1)}function uf(e){return e in C1||(C1[e]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[e]),C1[e]}var pe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(pe||{});function U3(e){return e.toLowerCase().replace(/_/g,"-")}var zo="en-US";var $3=zo;function zy(e){typeof e=="string"&&($3=e.toLowerCase().replace(/_/g,"-"))}function dn(e,t,n){let r=X(),i=Ue(),o=rt();return G3(i,r,r[ye],o,e,t,n),dn}function G3(e,t,n,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=v1(r,t,o),i3(r,e,t,a,n,i,o,c)&&(s=!1)),s){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=v1(r,t,o),Q0(r,t,p,h,i,c)}if(l&&l.length)for(let u of l)c??=v1(r,t,o),Q0(r,t,u,i,i,c)}}function br(e=1){return T0(e)}function W3(e,t){let n=null,r=j5(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?Kf(e,o,!0):q5(r,o))return i}return n}function bh(e){let t=X()[ze][Be];if(!t.projection){let n=e?e.length:1,r=t.projection=t0(n,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=e?W3(o,e):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function xh(e,t=0,n,r,i,o){let a=X(),s=Ue(),c=r?e+1:null;c!==null&&Ro(a,s,c,r,i,o,null,n);let l=Gc(s,Me+e,16,null,n||null);l.projection===null&&(l.projection=t),r1();let u=!a[sr]||e1();a[ze][Be].projection[l.projection]===null&&c!==null?Z3(a,s,c):u&&!zc(l)&&xM(s,a,l)}function Z3(e,t,n){let r=Me+n,i=t.data[r],o=e[r],a=Dc(o,i.tView.ssrId),s=Bc(e,i,void 0,{dehydratedView:a});Fo(o,s,0,Mi(i,a))}function b(e,t=""){let n=X(),r=Ue(),i=e+Me,o=r.firstCreatePass?Gc(r,i,1,t,null):r.data[i],a=K3(r,n,o,t,e);n[i]=a,hc()&&uh(r,n,a,o),yi(o,!1)}var K3=(e,t,n,r,i)=>(pc(!0),$5(t[ye],r));function X3(e,t,n,r=""){return An(e,gi(),n)?t+ir(n)+r:St}function Y3(e,t,n,r,i,o=""){let a=I0(),s=Ay(e,a,n,i);return x0(2),s?t+ir(n)+r+ir(i)+o:St}function Dt(e){return Ne("",e),Dt}function Ne(e,t,n){let r=X(),i=X3(r,e,t,n);return i!==St&&Uy(r,mi(),i),Ne}function _t(e,t,n,r,i){let o=X(),a=Y3(o,e,t,n,r,i);return a!==St&&Uy(o,mi(),a),_t}function Uy(e,t,n){let r=u0(t,e);G5(e[ye],r,n)}function J3(e,t,n){let r=Ue();if(r.firstCreatePass){let i=Sn(e);$1(n,r.data,r.blueprint,i,!0),$1(t,r.data,r.blueprint,i,!1)}}function $1(e,t,n,r,i){if(e=_e(e),Array.isArray(e))for(let o=0;o<e.length;o++)$1(e[o],t,n,r,i);else{let o=Ue(),a=X(),s=rt(),c=er(e)?e:_e(e.provide),l=Bu(e),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(er(e)||!e.multi){let h=new mr(l,i,Y),y=b1(c,t,i?d:d+p,u);y===-1?(S1(Ic(s,a),o,c),I1(o,e,t.length),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(h),a.push(h)):(n[y]=h,a[y]=h)}else{let h=b1(c,t,d+p,u),y=b1(c,t,d,d+p),g=h>=0&&n[h],m=y>=0&&n[y];if(i&&!m||!i&&!g){S1(Ic(s,a),o,c);let v=tw(i?ew:Q3,n.length,i,r,l);!i&&m&&(n[y].providerFactory=v),I1(o,e,t.length,0),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(v),a.push(v)}else{let v=$y(n[i?y:h],l,!i&&r);I1(o,e,h>-1?h:y,v)}!i&&r&&m&&n[y].componentProviders++}}}function I1(e,t,n,r){let i=er(t),o=s0(t);if(i||o){let c=(o?_e(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function $y(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function b1(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function Q3(e,t,n,r){return G1(this.multi,[])}function ew(e,t,n,r){let i=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,s=bc(n,n[H],this.providerFactory.index,r);o=s.slice(0,a),G1(i,o);for(let c=a;c<s.length;c++)o.push(s[c])}else o=[],G1(i,o);return o}function G1(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function tw(e,t,n,r,i){let o=new mr(e,n,Y);return o.multi=[],o.index=t,o.componentProviders=0,$y(o,i,r&&!n),o}function xi(e,t=[]){return n=>{n.providersResolver=(r,i)=>J3(r,i?i(e):e,t)}}function xr(e,t,n){let r=xo()+e,i=X();return i[r]===St?yh(i,r,n?t.call(n):t()):r3(i,r)}function Uo(e,t,n,r){return Wy(X(),xo(),e,t,n,r)}function Gy(e,t){let n=e[t];return n===St?void 0:n}function Wy(e,t,n,r,i,o){let a=t+n;return An(e,a,i)?yh(e,a+1,o?r.call(o,i):r(i)):Gy(e,a+1)}function nw(e,t,n,r,i,o,a){let s=t+n;return Ay(e,s,i,o)?yh(e,s+2,a?r.call(a,i,o):r(i,o)):Gy(e,s+2)}function Nn(e,t){let n=Ue(),r,i=e+Me;n.firstCreatePass?(r=rw(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=wn(r.type,!0)),a,s=qe(Y);try{let c=Cc(!1),l=o();return Cc(c),Ku(n,X(),i,l),l}finally{qe(s)}}function rw(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Sh(e,t,n){let r=e+Me,i=X(),o=Zu(i,r);return Zy(i,r)?Wy(i,xo(),t,o.transform,n,o):o.transform(n)}function Sr(e,t,n,r){let i=e+Me,o=X(),a=Zu(o,i);return Zy(o,i)?nw(o,xo(),t,a.transform,n,r,a):a.transform(n,r)}function Zy(e,t){return e[H].data[t].pure}var Nc=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Dh=(()=>{class e{compileModuleSync(n){return new Ac(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=ju(n),o=Wf(i.declarations).reduce((a,s)=>{let c=In(s);return c&&a.push(new wi(c)),a},[]);return new Nc(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iw=(()=>{class e{zone=C(we);changeDetectionScheduler=C(nr);applicationRef=C(Ir);applicationErrorHandler=C(Ke);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(n){this.applicationErrorHandler(n)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ky=new D("",{factory:()=>!1});function _h({ngZoneFactory:e,ignoreChangesOutsideZone:t,scheduleInRootZone:n}){return e??=()=>new we(F(I({},Eh()),{scheduleInRootZone:n})),[{provide:we,useFactory:e},{provide:nn,multi:!0,useFactory:()=>{let r=C(iw,{optional:!0});return()=>r.initialize()}},{provide:nn,multi:!0,useFactory:()=>{let r=C(ow);return()=>{r.initialize()}}},t===!0?{provide:p1,useValue:!0}:[],{provide:f1,useValue:n??Ny},{provide:Ke,useFactory:()=>{let r=C(we),i=C(Ce),o;return a=>{o??=i.get(Rt),r.runOutsideAngular(()=>o.handleError(a))}}}]}function Lh(e){let t=e?.ignoreChangesOutsideZone,n=e?.scheduleInRootZone,r=_h({ngZoneFactory:()=>{let i=Eh(e);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Pn("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:t,scheduleInRootZone:n});return ar([{provide:Ky,useValue:!0},{provide:So,useValue:!1},r])}function Eh(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var ow=(()=>{class e{subscription=new he;initialized=!1;zone=C(we);pendingTasks=C(En);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xy=(()=>{class e{applicationErrorHandler=C(Ke);appRef=C(Ir);taskService=C(En);ngZone=C(we);zonelessEnabled=C(So);tracing=C(qo,{optional:!0});disableScheduling=C(p1,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(C(f1,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Rc||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?of:Fy;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(n),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,of(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function aw(){return typeof $localize<"u"&&$localize.locale||zo}var $o=new D("",{providedIn:"root",factory:()=>C($o,{optional:!0,skipSelf:!0})||aw()});function Lt(e){return W2(e)}function Go(e,t){return vs(e,t?.equal)}var Yy=class{[He];constructor(t){this[He]=t}destroy(){this[He].destroy()}};var Qy=Symbol("InputSignalNode#UNSET"),Sw=F(I({},Ms),{transformFn:void 0,applyValueToInputSignal(e,t){Qr(e,t)}});function eg(e,t){let n=Object.create(Sw);n.value=e,n.transformFn=t?.transform;function r(){if(Yr(n),n.value===Qy){let i=null;throw new x(-950,i)}return n.value}return r[He]=n,r}var Jc=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>Oo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Dw=new D("");Dw.__NG_ELEMENT_ID__=e=>{let t=rt();if(t===null)throw new x(204,!1);if(t.type&2)return t.value;if(e&8)return null;throw new x(204,!1)};function Jy(e,t){return eg(e,t)}function _w(e){return eg(Qy,e)}var tg=(Jy.required=_w,Jy);var Qc=class{full;major;minor;patch;constructor(t){this.full=t;let n=t.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},ng=new Qc("20.0.4");var Ah=new D(""),Lw=new D("");function Wo(e){return!e.moduleRef}function Ew(e){let t=Wo(e)?e.r3Injector:e.moduleRef.injector,n=t.get(we);return n.run(()=>{Wo(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(Ke),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),Wo(e)){let o=()=>t.destroy(),a=e.platformInjector.get(Ah);a.add(o),t.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(Ah);a.add(o),e.moduleRef.onDestroy(()=>{Lo(e.allPlatformModules,e.moduleRef),i.unsubscribe(),a.delete(o)})}return Tw(r,n,()=>{let o=t.get(Ch);return o.runInitializers(),o.donePromise.then(()=>{let a=t.get($o,zo);if(zy(a||zo),!t.get(Lw,!0))return Wo(e)?t.get(Ir):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Wo(e)){let c=t.get(Ir);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return Aw?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var Aw;function Tw(e,t,n){try{let r=n();return On(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Yc=null;function Rw(e=[],t){return Qe.create({name:t,providers:[{provide:yo,useValue:"platform"},{provide:Ah,useValue:new Set([()=>Yc=null])},...e]})}function Pw(e=[]){if(Yc)return Yc;let t=Rw(e);return Yc=t,qy(),Ow(t),t}function Ow(e){let t=e.get(jc,null);tt(e,()=>{t?.forEach(n=>n())})}var Dr=(()=>{class e{static __NG_ELEMENT_ID__=Nw}return e})();function Nw(e){return Fw(rt(),X(),(e&16)===16)}function Fw(e,t,n){if(xn(e)&&!n){let r=ht(e.index,t);return new kr(r,r)}else if(e.type&175){let r=t[ze];return new kr(r,t)}return null}function rg(e){ie(8);try{let{rootComponent:t,appProviders:n,platformProviders:r}=e,i=Pw(r),o=[_h({}),{provide:nr,useExisting:Xy},O0,...n||[]],a=new To({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return Ew({r3Injector:a.injector,platformInjector:i,rootComponent:t})}catch(t){return Promise.reject(t)}finally{ie(9)}}function Zo(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var ag=null;function un(){return ag}function Th(e){ag??=e}var Ko=class{},Rh=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>C(sg),providedIn:"platform"})}return e})();var sg=(()=>{class e extends Rh{_location;_history;_doc=C(be);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return un().getBaseHref(this._doc)}onPopState(n){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=un().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function cg(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function ig(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Fn(e){return e&&e[0]!=="?"?`?${e}`:e}var Si=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>C(dg),providedIn:"root"})}return e})(),lg=new D(""),dg=(()=>{class e extends Si{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??C(be).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return cg(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Fn(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Fn(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Fn(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(E(Rh),E(lg,8))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),jn=(()=>{class e{_subject=new ne;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Hw(ig(og(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Fn(r))}normalize(n){return e.stripTrailingSlash(Vw(this._basePath,og(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fn(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Fn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Fn;static joinWithSlash=cg;static stripTrailingSlash=ig;static \u0275fac=function(r){return new(r||e)(E(Si))};static \u0275prov=S({token:e,factory:()=>jw(),providedIn:"root"})}return e})();function jw(){return new jn(E(Si))}function Vw(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function og(e){return e.replace(/\/index.html$/,"")}function Hw(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var Fe=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Fe||{}),te=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(te||{}),Xe=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Xe||{}),pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hg(e){return it(e)[pe.LocaleId]}function pg(e,t,n){let r=it(e),i=[r[pe.DayPeriodsFormat],r[pe.DayPeriodsStandalone]],o=ft(i,t);return ft(o,n)}function fg(e,t,n){let r=it(e),i=[r[pe.DaysFormat],r[pe.DaysStandalone]],o=ft(i,t);return ft(o,n)}function yg(e,t,n){let r=it(e),i=[r[pe.MonthsFormat],r[pe.MonthsStandalone]],o=ft(i,t);return ft(o,n)}function gg(e,t){let r=it(e)[pe.Eras];return ft(r,t)}function Xo(e,t){let n=it(e);return ft(n[pe.DateFormat],t)}function Yo(e,t){let n=it(e);return ft(n[pe.TimeFormat],t)}function Jo(e,t){let r=it(e)[pe.DateTimeFormat];return ft(r,t)}function Qo(e,t){let n=it(e),r=n[pe.NumberSymbols][t];if(typeof r>"u"){if(t===pn.CurrencyDecimal)return n[pe.NumberSymbols][pn.Decimal];if(t===pn.CurrencyGroup)return n[pe.NumberSymbols][pn.Group]}return r}function mg(e){if(!e[pe.ExtraData])throw new x(2303,!1)}function kg(e){let t=it(e);return mg(t),(t[pe.ExtraData][2]||[]).map(r=>typeof r=="string"?Ph(r):[Ph(r[0]),Ph(r[1])])}function vg(e,t,n){let r=it(e);mg(r);let i=[r[pe.ExtraData][0],r[pe.ExtraData][1]],o=ft(i,t)||[];return ft(o,n)||[]}function ft(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new x(2304,!1)}function Ph(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}var qw=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,el={},Bw=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Mg(e,t,n,r){let i=Yw(e);t=hn(n,t)||t;let a=[],s;for(;t;)if(s=Bw.exec(t),s){a=a.concat(s.slice(1));let d=a.pop();if(!d)break;t=d}else{a.push(t);break}let c=i.getTimezoneOffset();r&&(c=Cg(r,c),i=Xw(i,r));let l="";return a.forEach(d=>{let u=Zw(d);l+=u?u(i,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function ol(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function hn(e,t){let n=hg(e);if(el[n]??={},el[n][t])return el[n][t];let r="";switch(t){case"shortDate":r=Xo(e,Xe.Short);break;case"mediumDate":r=Xo(e,Xe.Medium);break;case"longDate":r=Xo(e,Xe.Long);break;case"fullDate":r=Xo(e,Xe.Full);break;case"shortTime":r=Yo(e,Xe.Short);break;case"mediumTime":r=Yo(e,Xe.Medium);break;case"longTime":r=Yo(e,Xe.Long);break;case"fullTime":r=Yo(e,Xe.Full);break;case"short":let i=hn(e,"shortTime"),o=hn(e,"shortDate");r=tl(Jo(e,Xe.Short),[i,o]);break;case"medium":let a=hn(e,"mediumTime"),s=hn(e,"mediumDate");r=tl(Jo(e,Xe.Medium),[a,s]);break;case"long":let c=hn(e,"longTime"),l=hn(e,"longDate");r=tl(Jo(e,Xe.Long),[c,l]);break;case"full":let d=hn(e,"fullTime"),u=hn(e,"fullDate");r=tl(Jo(e,Xe.Full),[d,u]);break}return r&&(el[n][t]=r),r}function tl(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function Et(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let a=String(e);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),o+a}function zw(e,t){return Et(e,3).substring(0,t)}function ge(e,t,n=0,r=!1,i=!1){return function(o,a){let s=Uw(e,o);if((n>0||s>-n)&&(s+=n),e===3)s===0&&n===-12&&(s=12);else if(e===6)return zw(s,t);let c=Qo(a,pn.MinusSign);return Et(s,t,c,r,i)}}function Uw(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new x(2301,!1)}}function oe(e,t,n=Fe.Format,r=!1){return function(i,o){return $w(i,o,e,t,n,r)}}function $w(e,t,n,r,i,o){switch(n){case 2:return yg(t,i,r)[e.getMonth()];case 1:return fg(t,i,r)[e.getDay()];case 0:let a=e.getHours(),s=e.getMinutes();if(o){let l=kg(t),d=vg(t,i,r),u=l.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,g=a>=h.hours&&s>=h.minutes,m=a<y.hours||a===y.hours&&s<y.minutes;if(h.hours<y.hours){if(g&&m)return!0}else if(g||m)return!0}else if(p.hours===a&&p.minutes===s)return!0;return!1});if(u!==-1)return d[u]}return pg(t,i,r)[a<12?0:1];case 3:return gg(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new x(2302,!1)}}function nl(e){return function(t,n,r){let i=-1*r,o=Qo(n,pn.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Et(a,2,o)+Et(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Et(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+Et(a,2,o)+":"+Et(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Et(a,2,o)+":"+Et(Math.abs(i%60),2,o);default:throw new x(2302,!1)}}}var Gw=0,il=4;function Ww(e){let t=ol(e,Gw,1).getDay();return ol(e,0,1+(t<=il?il:il+7)-t)}function wg(e){let t=e.getDay(),n=t===0?-3:il-t;return ol(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Oh(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=wg(n),a=Ww(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return Et(i,e,Qo(r,pn.MinusSign))}}function rl(e,t=!1){return function(n,r){let o=wg(n).getFullYear();return Et(o,e,Qo(r,pn.MinusSign),t)}}var Nh={};function Zw(e){if(Nh[e])return Nh[e];let t;switch(e){case"G":case"GG":case"GGG":t=oe(3,te.Abbreviated);break;case"GGGG":t=oe(3,te.Wide);break;case"GGGGG":t=oe(3,te.Narrow);break;case"y":t=ge(0,1,0,!1,!0);break;case"yy":t=ge(0,2,0,!0,!0);break;case"yyy":t=ge(0,3,0,!1,!0);break;case"yyyy":t=ge(0,4,0,!1,!0);break;case"Y":t=rl(1);break;case"YY":t=rl(2,!0);break;case"YYY":t=rl(3);break;case"YYYY":t=rl(4);break;case"M":case"L":t=ge(1,1,1);break;case"MM":case"LL":t=ge(1,2,1);break;case"MMM":t=oe(2,te.Abbreviated);break;case"MMMM":t=oe(2,te.Wide);break;case"MMMMM":t=oe(2,te.Narrow);break;case"LLL":t=oe(2,te.Abbreviated,Fe.Standalone);break;case"LLLL":t=oe(2,te.Wide,Fe.Standalone);break;case"LLLLL":t=oe(2,te.Narrow,Fe.Standalone);break;case"w":t=Oh(1);break;case"ww":t=Oh(2);break;case"W":t=Oh(1,!0);break;case"d":t=ge(2,1);break;case"dd":t=ge(2,2);break;case"c":case"cc":t=ge(7,1);break;case"ccc":t=oe(1,te.Abbreviated,Fe.Standalone);break;case"cccc":t=oe(1,te.Wide,Fe.Standalone);break;case"ccccc":t=oe(1,te.Narrow,Fe.Standalone);break;case"cccccc":t=oe(1,te.Short,Fe.Standalone);break;case"E":case"EE":case"EEE":t=oe(1,te.Abbreviated);break;case"EEEE":t=oe(1,te.Wide);break;case"EEEEE":t=oe(1,te.Narrow);break;case"EEEEEE":t=oe(1,te.Short);break;case"a":case"aa":case"aaa":t=oe(0,te.Abbreviated);break;case"aaaa":t=oe(0,te.Wide);break;case"aaaaa":t=oe(0,te.Narrow);break;case"b":case"bb":case"bbb":t=oe(0,te.Abbreviated,Fe.Standalone,!0);break;case"bbbb":t=oe(0,te.Wide,Fe.Standalone,!0);break;case"bbbbb":t=oe(0,te.Narrow,Fe.Standalone,!0);break;case"B":case"BB":case"BBB":t=oe(0,te.Abbreviated,Fe.Format,!0);break;case"BBBB":t=oe(0,te.Wide,Fe.Format,!0);break;case"BBBBB":t=oe(0,te.Narrow,Fe.Format,!0);break;case"h":t=ge(3,1,-12);break;case"hh":t=ge(3,2,-12);break;case"H":t=ge(3,1);break;case"HH":t=ge(3,2);break;case"m":t=ge(4,1);break;case"mm":t=ge(4,2);break;case"s":t=ge(5,1);break;case"ss":t=ge(5,2);break;case"S":t=ge(6,1);break;case"SS":t=ge(6,2);break;case"SSS":t=ge(6,3);break;case"Z":case"ZZ":case"ZZZ":t=nl(0);break;case"ZZZZZ":t=nl(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=nl(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=nl(2);break;default:return null}return Nh[e]=t,t}function Cg(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function Kw(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function Xw(e,t,n){let i=e.getTimezoneOffset(),o=Cg(t,i);return Kw(e,-1*(o-i))}function Yw(e){if(ug(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,a=1]=e.split("-").map(s=>+s);return ol(i,o-1,a)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(qw))return Jw(r)}let t=new Date(e);if(!ug(t))throw new x(2302,!1);return t}function Jw(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,a,s,c,l),t}function ug(e){return e instanceof Date&&!isNaN(e.valueOf())}function Ig(e,t){return new x(2100,!1)}var Qw=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Fh=(()=>{class e{transform(n){if(n==null)return null;if(typeof n!="string")throw Ig(e,n);return n.replace(Qw,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Kc({name:"titlecase",type:e,pure:!0})}return e})();var e8="mediumDate",bg=new D(""),xg=new D(""),ea=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??e8,s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Mg(n,a,o||this.locale,s)}catch(a){throw Ig(e,a.message)}}static \u0275fac=function(r){return new(r||e)(Y($o,16),Y(bg,24),Y(xg,24))};static \u0275pipe=Kc({name:"date",type:e,pure:!0})}return e})();function jh(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var ta=class{};var Sg="browser",r8="server";function Dg(e){return e===r8}var cl=new D(""),Bh=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new x(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(E(cl),E(we))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),na=class{_doc;constructor(t){this._doc=t}manager},al="ng-app-id";function Lg(e){for(let t of e)t.remove()}function Eg(e,t){let n=t.createElement("style");return n.textContent=e,n}function i8(e,t,n,r){let i=e.head?.querySelectorAll(`style[${al}="${t}"],link[${al}="${t}"]`);if(i)for(let o of i)o.removeAttribute(al),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function Hh(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var zh=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=Dg(o),i8(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Eg);r?.forEach(i=>this.addUsage(i,this.external,Hh))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Lg(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Lg(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Eg(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,Hh(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(al,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(E(be),E(Fc),E(Vc,8),E(Ii))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Vh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Uh=/%COMP%/g;var Tg="%COMP%",o8=`_nghost-${Tg}`,a8=`_ngcontent-${Tg}`,s8=!0,c8=new D("",{providedIn:"root",factory:()=>s8});function l8(e){return a8.replace(Uh,e)}function d8(e){return o8.replace(Uh,e)}function Rg(e,t){return t.map(n=>n.replace(Uh,e))}var $h=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,o,a,s,c,l=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new ra(n,a,c,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof sl?i.applyToHost(n):i instanceof ia&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case rn.Emulated:o=new sl(c,l,r,this.appId,d,a,s,u,p);break;case rn.ShadowDom:return new qh(c,l,n,r,a,s,this.nonce,u,p);default:o=new ia(c,l,r,d,a,s,u,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(E(Bh),E(zh),E(Fc),E(c8),E(be),E(Ii),E(we),E(Vc),E(qo,8))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),ra=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i,o){this.eventManager=t,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(Vh[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Ag(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Ag(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new x(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=Vh[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=Vh[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Rn.DashCase|Rn.Important)?t.style.setProperty(n,r,i&Rn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Rn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=un().getGlobalEventTarget(this.doc,t),!t))throw new x(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Ag(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var qh=class extends ra{sharedStylesHost;hostEl;shadowRoot;constructor(t,n,r,i,o,a,s,c,l){super(t,o,a,c,l),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=Rg(i.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=i.getExternalStyles?.();if(u)for(let p of u){let h=Hh(p,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},ia=class extends ra{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,a,s,c,l){super(t,o,a,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?Rg(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},sl=class extends ia{contentAttr;hostAttr;constructor(t,n,r,i,o,a,s,c,l){let d=i+"-"+r.id;super(t,n,r,o,a,s,c,l,d),this.contentAttr=l8(d),this.hostAttr=d8(d)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var ll=class e extends Ko{supportsDOMEvents=!0;static makeCurrent(){Th(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=u8();return n==null?null:h8(n)}resetBaseElement(){oa=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return jh(document.cookie,t)}},oa=null;function u8(){return oa=oa||document.head.querySelector("base"),oa?oa.getAttribute("href"):null}function h8(e){return new URL(e,document.baseURI).pathname}var p8=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Og=(()=>{class e extends na{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(E(be))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})(),Pg=["alt","control","meta","shift"],f8={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},y8={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Ng=(()=>{class e extends na{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=e.parseEventName(r),s=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>un().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Pg.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let i=f8[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Pg.forEach(a=>{if(a!==i){let s=y8[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(E(be))};static \u0275prov=S({token:e,factory:e.\u0275fac})}return e})();function Gh(e,t){return rg(I({rootComponent:e},g8(t)))}function g8(e){return{appProviders:[...w8,...e?.providers??[]],platformProviders:M8}}function m8(){ll.makeCurrent()}function k8(){return new Rt}function v8(){return J1(document),document}var M8=[{provide:Ii,useValue:Sg},{provide:jc,useValue:m8,multi:!0},{provide:be,useFactory:v8}];var w8=[{provide:yo,useValue:"root"},{provide:Rt,useFactory:k8},{provide:cl,useClass:Og,multi:!0,deps:[be]},{provide:cl,useClass:Ng,multi:!0,deps:[be]},$h,zh,Bh,{provide:vr,useExisting:$h},{provide:ta,useClass:p8},[]];var Fg=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(E(be))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var q="primary",Ma=Symbol("RouteTitle"),Yh=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Er(e){return new Yh(e)}function $g(e,t,n){let r=n.path.split("/");if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=e[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function I8(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Ft(e[n],t[n]))return!1;return!0}function Ft(e,t){let n=e?Jh(e):void 0,r=t?Jh(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Gg(e[i],t[i]))return!1;return!0}function Jh(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Gg(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function Wg(e){return e.length>0?e[e.length-1]:null}function yn(e){return ru(e)?e:On(e)?Z(Promise.resolve(e)):A(e)}var b8={exact:Kg,subset:Xg},Zg={exact:x8,subset:S8,ignored:()=>!0};function jg(e,t,n){return b8[n.paths](e.root,t.root,n.matrixParams)&&Zg[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function x8(e,t){return Ft(e,t)}function Kg(e,t,n){if(!_r(e.segments,t.segments)||!hl(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!Kg(e.children[r],t.children[r],n))return!1;return!0}function S8(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Gg(e[n],t[n]))}function Xg(e,t,n){return Yg(e,t,t.segments,n)}function Yg(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!_r(i,n)||t.hasChildren()||!hl(i,n,r))}else if(e.segments.length===n.length){if(!_r(e.segments,n)||!hl(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!Xg(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!_r(e.segments,i)||!hl(e.segments,i,r)||!e.children[q]?!1:Yg(e.children[q],t,o,r)}}function hl(e,t,n){return t.every((r,i)=>Zg[n](e[i].parameters,r.parameters))}var Vt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new ee([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){return L8.serialize(this)}},ee=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pl(this)}},Vn=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Er(this.parameters),this._parameterMap}toString(){return Qg(this)}};function D8(e,t){return _r(e,t)&&e.every((n,r)=>Ft(n.parameters,t[r].parameters))}function _r(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function _8(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===q&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==q&&(n=n.concat(t(i,r)))}),n}var wa=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>new Ar,providedIn:"root"})}return e})(),Ar=class{parse(t){let n=new ep(t);return new Vt(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${aa(t.root,!0)}`,r=T8(t.queryParams),i=typeof t.fragment=="string"?`#${E8(t.fragment)}`:"";return`${n}${r}${i}`}},L8=new Ar;function pl(e){return e.segments.map(t=>Qg(t)).join("/")}function aa(e,t){if(!e.hasChildren())return pl(e);if(t){let n=e.children[q]?aa(e.children[q],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==q&&r.push(`${i}:${aa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=_8(e,(r,i)=>i===q?[aa(e.children[q],!1)]:[`${i}:${aa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[q]!=null?`${pl(e)}/${n[0]}`:`${pl(e)}/(${n.join("//")})`}}function Jg(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function dl(e){return Jg(e).replace(/%3B/gi,";")}function E8(e){return encodeURI(e)}function Qh(e){return Jg(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function fl(e){return decodeURIComponent(e)}function Vg(e){return fl(e.replace(/\+/g,"%20"))}function Qg(e){return`${Qh(e.path)}${A8(e.parameters)}`}function A8(e){return Object.entries(e).map(([t,n])=>`;${Qh(t)}=${Qh(n)}`).join("")}function T8(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${dl(n)}=${dl(i)}`).join("&"):`${dl(n)}=${dl(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var R8=/^[^\/()?;#]+/;function Wh(e){let t=e.match(R8);return t?t[0]:""}var P8=/^[^\/()?;=#]+/;function O8(e){let t=e.match(P8);return t?t[0]:""}var N8=/^[^=?&#]+/;function F8(e){let t=e.match(N8);return t?t[0]:""}var j8=/^[^&#]+/;function V8(e){let t=e.match(j8);return t?t[0]:""}var ep=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ee([],{}):new ee([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[q]=new ee(t,n)),r}parseSegment(){let t=Wh(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new x(4009,!1);return this.capture(t),new Vn(fl(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=O8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Wh(this.remaining);i&&(r=i,this.capture(r))}t[fl(n)]=fl(r)}parseQueryParam(t){let n=F8(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=V8(this.remaining);a&&(r=a,this.capture(r))}let i=Vg(n),o=Vg(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wh(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new x(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=q);let a=this.parseChildren();n[o]=Object.keys(a).length===1?a[q]:new ee([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new x(4011,!1)}};function em(e){return e.segments.length>0?new ee([],{[q]:e}):e}function tm(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=tm(i);if(r===q&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new ee(e.segments,t);return H8(n)}function H8(e){if(e.numberOfChildren===1&&e.children[q]){let t=e.children[q];return new ee(e.segments.concat(t.segments),t.children)}return e}function Hn(e){return e instanceof Vt}function nm(e,t,n=null,r=null){let i=rm(e);return im(i,t,n,r)}function rm(e){let t;function n(o){let a={};for(let c of o.children){let l=n(c);a[c.outlet]=l}let s=new ee(o.url,a);return o===e&&(t=s),s}let r=n(e.root),i=em(r);return t??i}function im(e,t,n,r){let i=e;for(;i.parent;)i=i.parent;if(t.length===0)return Zh(i,i,i,n,r);let o=q8(t);if(o.toRoot())return Zh(i,i,new ee([],{}),n,r);let a=B8(o,i,e),s=a.processChildren?ca(a.segmentGroup,a.index,o.commands):am(a.segmentGroup,a.index,o.commands);return Zh(i,a.segmentGroup,s,n,r)}function yl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ua(e){return typeof e=="object"&&e!=null&&e.outlets}function Zh(e,t,n,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;e===t?a=n:a=om(e,t,n);let s=em(tm(a));return new Vt(s,o,i)}function om(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=om(o,t,n)}),new ee(e.segments,r)}var gl=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&yl(r[0]))throw new x(4003,!1);let i=r.find(ua);if(i&&i!==Wg(r))throw new x(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function q8(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new gl(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?t++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new gl(n,t,r)}var Li=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function B8(e,t,n){if(e.isAbsolute)return new Li(t,!0,0);if(!n)return new Li(t,!1,NaN);if(n.parent===null)return new Li(n,!0,0);let r=yl(e.commands[0])?0:1,i=n.segments.length-1+r;return z8(n,i,e.numberOfDoubleDots)}function z8(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new x(4005,!1);i=r.segments.length}return new Li(r,!1,i-o)}function U8(e){return ua(e[0])?e[0].outlets:{[q]:e}}function am(e,t,n){if(e??=new ee([],{}),e.segments.length===0&&e.hasChildren())return ca(e,t,n);let r=$8(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new ee(e.segments.slice(0,r.pathIndex),{});return o.children[q]=new ee(e.segments.slice(r.pathIndex),e.children),ca(o,0,i)}else return r.match&&i.length===0?new ee(e.segments,{}):r.match&&!e.hasChildren()?tp(e,t,n):r.match?ca(e,0,i):tp(e,t,n)}function ca(e,t,n){if(n.length===0)return new ee(e.segments,{});{let r=U8(n),i={};if(Object.keys(r).some(o=>o!==q)&&e.children[q]&&e.numberOfChildren===1&&e.children[q].segments.length===0){let o=ca(e.children[q],t,n);return new ee(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=am(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new ee(e.segments,i)}}function $8(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let a=e.segments[i],s=n[r];if(ua(s))break;let c=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!qg(c,l,a))return o;r+=2}else{if(!qg(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tp(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(ua(o)){let c=G8(o.outlets);return new ee(r,c)}if(i===0&&yl(n[0])){let c=e.segments[t];r.push(new Vn(c.path,Hg(n[0]))),i++;continue}let a=ua(o)?o.outlets[q]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&yl(s)?(r.push(new Vn(a,Hg(s))),i+=2):(r.push(new Vn(a,{})),i++)}return new ee(r,{})}function G8(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=tp(new ee([],{}),0,r))}),t}function Hg(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function qg(e,t,n){return e==n.path&&Ft(t,n.parameters)}var la="imperative",Se=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Se||{}),st=class{id;url;constructor(t,n){this.id=t,this.url=n}},Tr=class extends st{type=Se.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ht=class extends st{urlAfterRedirects;type=Se.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},$e=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}($e||{}),ha=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(ha||{}),jt=class extends st{reason;code;type=Se.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fn=class extends st{reason;code;type=Se.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Ai=class extends st{error;target;type=Se.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pa=class extends st{urlAfterRedirects;state;type=Se.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ml=class extends st{urlAfterRedirects;state;type=Se.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},kl=class extends st{urlAfterRedirects;state;shouldActivate;type=Se.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},vl=class extends st{urlAfterRedirects;state;type=Se.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ml=class extends st{urlAfterRedirects;state;type=Se.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wl=class{route;type=Se.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Cl=class{route;type=Se.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Il=class{snapshot;type=Se.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bl=class{snapshot;type=Se.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},xl=class{snapshot;type=Se.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sl=class{snapshot;type=Se.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var fa=class{},Ti=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function W8(e){return!(e instanceof fa)&&!(e instanceof Ti)}function Z8(e,t){return e.providers&&!e._injector&&(e._injector=Ho(e.providers,t,`Route: ${e.path}`)),e._injector??t}function At(e){return e.outlet||q}function K8(e,t){let n=e.filter(r=>At(r)===t);return n.push(...e.filter(r=>At(r)!==t)),n}function Ca(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){let n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Dl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Ca(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Oi(this.rootInjector)}},Oi=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Dl(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(E(Ce))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),_l=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=np(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=np(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=rp(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return rp(t,this._root).map(n=>n.value)}};function np(e,t){if(e===t.value)return t;for(let n of t.children){let r=np(e,n);if(r)return r}return null}function rp(e,t){if(e===t.value)return[t];for(let n of t.children){let r=rp(e,n);if(r.length)return r.unshift(t),r}return[]}var at=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function _i(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var ya=class extends _l{snapshot;constructor(t,n){super(t),this.snapshot=n,up(this,t)}toString(){return this.snapshot.toString()}};function sm(e){let t=X8(e),n=new ve([new Vn("",{})]),r=new ve({}),i=new ve({}),o=new ve({}),a=new ve(""),s=new ct(n,r,o,a,i,q,e,t.root);return s.snapshot=t.root,new ya(new at(s,[]),t)}function X8(e){let t={},n={},r={},i="",o=new Lr([],t,r,i,n,q,e,null,{});return new ga("",new at(o,[]))}var ct=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,a,s,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(P(l=>l[Ma]))??A(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(P(t=>Er(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(P(t=>Er(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ll(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:I(I({},t.params),e.params),data:I(I({},t.data),e.data),resolve:I(I(I(I({},e.data),t.data),i?.data),e._resolvedData)}:r={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},i&&lm(i)&&(r.resolve[Ma]=i.title),r}var Lr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ma]}constructor(t,n,r,i,o,a,s,c,l){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Er(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Er(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},ga=class extends _l{url;constructor(t,n){super(n),this.url=t,up(this,n)}toString(){return cm(this._root)}};function up(e,t){t.value._routerState=e,t.children.forEach(n=>up(e,n))}function cm(e){let t=e.children.length>0?` { ${e.children.map(cm).join(", ")} } `:"";return`${e.value}${t}`}function Kh(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Ft(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Ft(t.params,n.params)||e.paramsSubject.next(n.params),I8(t.url,n.url)||e.urlSubject.next(n.url),Ft(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function ip(e,t){let n=Ft(e.params,t.params)&&D8(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||ip(e.parent,t.parent))}function lm(e){return typeof e.title=="string"||e.title===null}var dm=new D(""),Ia=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=q;activateEvents=new xe;deactivateEvents=new xe;attachEvents=new xe;detachEvents=new xe;routerOutletData=tg(void 0);parentContexts=C(Oi);location=C(Vo);changeDetector=C(Dr);inputBinder=C(Rl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new x(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new x(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new x(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new x(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new op(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Cr({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[on]})}return e})(),op=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===ct?this.route:t===Oi?this.childContexts:t===dm?this.outletData:this.parent.get(t,n)}},Rl=new D("");var hp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=Q({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&T(0,"router-outlet")},dependencies:[Ia],encapsulation:2})}return e})();function pp(e){let t=e.children&&e.children.map(pp),n=t?F(I({},e),{children:t}):I({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==q&&(n.component=hp),n}function Y8(e,t,n){let r=ma(e,t._root,n?n._root:void 0);return new ya(r,t)}function ma(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=J8(e,t,n);return new at(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>ma(e,s)),a}}let r=Q8(t.value),i=t.children.map(o=>ma(e,o));return new at(r,i)}}function J8(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ma(e,r,i);return ma(e,r)})}function Q8(e){return new ct(new ve(e.url),new ve(e.params),new ve(e.queryParams),new ve(e.fragment),new ve(e.data),e.outlet,e.component,e)}var Ri=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},um="ngNavigationCancelingError";function El(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Hn(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=hm(!1,$e.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function hm(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[um]=!0,n.cancellationCode=t,n}function e6(e){return pm(e)&&Hn(e.url)}function pm(e){return!!e&&e[um]}var t6=(e,t,n,r)=>P(i=>(new ap(t,i.targetRouterState,i.currentRouterState,n,r).activate(e),i)),ap=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),Kh(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=_i(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_i(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=_i(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=_i(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Sl(o.value.snapshot))}),t.children.length&&this.forwardEvent(new bl(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(Kh(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),Kh(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},Al=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ei=class{component;route;constructor(t,n){this.component=t,this.route=n}};function n6(e,t,n){let r=e._root,i=t?t._root:null;return sa(r,i,n,[r.value])}function r6(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function Ni(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!Du(e)?e:t.get(e):r}function sa(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=_i(t);return e.children.forEach(a=>{i6(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>da(s,n.getContext(a),i)),i}function i6(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=o6(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Al(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?sa(e,t,s?s.children:null,r,i):sa(e,t,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Ei(s.outlet.component,a))}else a&&da(t,s,i),i.canActivateChecks.push(new Al(r)),o.component?sa(e,null,s?s.children:null,r,i):sa(e,null,n,r,i);return i}function o6(e,t,n){if(typeof n=="function")return n(e,t);switch(n){case"pathParamsChange":return!_r(e.url,t.url);case"pathParamsOrQueryParamsChange":return!_r(e.url,t.url)||!Ft(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ip(e,t)||!Ft(e.queryParams,t.queryParams);case"paramsChange":default:return!ip(e,t)}}function da(e,t,n){let r=_i(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?t?da(a,t.children.getContext(o),n):da(a,null,n):da(a,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new Ei(t.outlet.component,i)):n.canDeactivateChecks.push(new Ei(null,i)):n.canDeactivateChecks.push(new Ei(null,i))}function ba(e){return typeof e=="function"}function a6(e){return typeof e=="boolean"}function s6(e){return e&&ba(e.canLoad)}function c6(e){return e&&ba(e.canActivate)}function l6(e){return e&&ba(e.canActivateChild)}function d6(e){return e&&ba(e.canDeactivate)}function u6(e){return e&&ba(e.canMatch)}function fm(e){return e instanceof Jt||e?.name==="EmptyError"}var ul=Symbol("INITIAL_VALUE");function Pi(){return Oe(e=>vn(e.map(t=>t.pipe(Pe(1),uu(ul)))).pipe(P(t=>{for(let n of t)if(n!==!0){if(n===ul)return ul;if(n===!1||h6(n))return n}return!0}),Re(t=>t!==ul),Pe(1)))}function h6(e){return Hn(e)||e instanceof Ri}function p6(e,t){return de(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=n;return a.length===0&&o.length===0?A(F(I({},n),{guardsResult:!0})):f6(a,r,i,e).pipe(de(s=>s&&a6(s)?y6(r,o,e,t):A(s)),P(s=>F(I({},n),{guardsResult:s})))})}function f6(e,t,n,r){return Z(e).pipe(de(i=>M6(i.component,i.route,n,t,r)),lt(i=>i!==!0,!0))}function y6(e,t,n,r){return Z(t).pipe(Ze(i=>ci(m6(i.route.parent,r),g6(i.route,r),v6(e,i.path,n),k6(e,i.route,n))),lt(i=>i!==!0,!0))}function g6(e,t){return e!==null&&t&&t(new xl(e)),A(!0)}function m6(e,t){return e!==null&&t&&t(new Il(e)),A(!0)}function k6(e,t,n){let r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||r.length===0)return A(!0);let i=r.map(o=>Mt(()=>{let a=Ca(t)??n,s=Ni(o,a),c=c6(s)?s.canActivate(t,e):tt(a,()=>s(t,e));return yn(c).pipe(lt())}));return A(i).pipe(Pi())}function v6(e,t,n){let r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(a=>r6(a)).filter(a=>a!==null).map(a=>Mt(()=>{let s=a.guards.map(c=>{let l=Ca(a.node)??n,d=Ni(c,l),u=l6(d)?d.canActivateChild(r,e):tt(l,()=>d(r,e));return yn(u).pipe(lt())});return A(s).pipe(Pi())}));return A(o).pipe(Pi())}function M6(e,t,n,r,i){let o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||o.length===0)return A(!0);let a=o.map(s=>{let c=Ca(t)??i,l=Ni(s,c),d=d6(l)?l.canDeactivate(e,t,n,r):tt(c,()=>l(e,t,n,r));return yn(d).pipe(lt())});return A(a).pipe(Pi())}function w6(e,t,n,r){let i=t.canLoad;if(i===void 0||i.length===0)return A(!0);let o=i.map(a=>{let s=Ni(a,e),c=s6(s)?s.canLoad(t,n):tt(e,()=>s(t,n));return yn(c)});return A(o).pipe(Pi(),ym(r))}function ym(e){return Jd(ae(t=>{if(typeof t!="boolean")throw El(e,t)}),P(t=>t===!0))}function C6(e,t,n,r){let i=t.canMatch;if(!i||i.length===0)return A(!0);let o=i.map(a=>{let s=Ni(a,e),c=u6(s)?s.canMatch(t,n):tt(e,()=>s(t,n));return yn(c)});return A(o).pipe(Pi(),ym(r))}var ka=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},va=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Di(e){return vt(new ka(e))}function I6(e){return vt(new x(4e3,!1))}function b6(e){return vt(hm(!1,$e.GuardRejected))}var sp=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return A(r);if(i.numberOfChildren>1||!i.children[q])return I6(`${t.redirectTo}`);i=i.children[q]}}applyRedirectCommands(t,n,r,i,o){return x6(n,i,o).pipe(P(a=>{if(a instanceof Vt)throw new va(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,r);if(a[0]==="/")throw new va(s);return s}))}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Vt(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,i)}),new ee(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new x(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function x6(e,t,n){if(typeof e=="string")return A(e);let r=e,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=t;return yn(tt(n,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u})))}var cp={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S6(e,t,n,r,i){let o=gm(e,t,n);return o.matched?(r=Z8(t,r),C6(r,t,n,i).pipe(P(a=>a===!0?o:I({},cp)))):A(o)}function gm(e,t,n){if(t.path==="**")return D6(n);if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?I({},cp):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||$g)(n,e,t);if(!i)return I({},cp);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function D6(e){return{matched:!0,parameters:e.length>0?Wg(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Bg(e,t,n,r){return n.length>0&&E6(e,n,r)?{segmentGroup:new ee(t,L6(r,new ee(n,e.children))),slicedSegments:[]}:n.length===0&&A6(e,n,r)?{segmentGroup:new ee(e.segments,_6(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new ee(e.segments,e.children),slicedSegments:n}}function _6(e,t,n,r){let i={};for(let o of n)if(Pl(e,t,o)&&!r[At(o)]){let a=new ee([],{});i[At(o)]=a}return I(I({},r),i)}function L6(e,t){let n={};n[q]=t;for(let r of e)if(r.path===""&&At(r)!==q){let i=new ee([],{});n[At(r)]=i}return n}function E6(e,t,n){return n.some(r=>Pl(e,t,r)&&At(r)!==q)}function A6(e,t,n){return n.some(r=>Pl(e,t,r))}function Pl(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function T6(e,t,n){return t.length===0&&!e.children[n]}var lp=class{};function R6(e,t,n,r,i,o,a="emptyOnly"){return new dp(e,t,n,r,i,a,o).recognize()}var P6=31,dp=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,a,s){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new sp(this.urlSerializer,this.urlTree)}noMatchError(t){return new x(4002,`'${t.segmentGroup}'`)}recognize(){let t=Bg(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(P(({children:n,rootSnapshot:r})=>{let i=new at(r,n),o=new ga("",i),a=nm(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(t){let n=new Lr([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),q,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,q,n).pipe(P(r=>({children:r,rootSnapshot:n})),We(r=>{if(r instanceof va)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ka?this.noMatchError(r):r}))}processSegmentGroup(t,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(t,n,r,o):this.processSegment(t,n,r,r.segments,i,!0,o).pipe(P(a=>a instanceof at?[a]:[]))}processChildren(t,n,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return Z(o).pipe(Ze(a=>{let s=r.children[a],c=K8(n,a);return this.processSegmentGroup(t,c,s,a,i)}),co((a,s)=>(a.push(...s),a)),Mn(null),su(),de(a=>{if(a===null)return Di(r);let s=mm(a);return O6(s),A(s)}))}processSegment(t,n,r,i,o,a,s){return Z(n).pipe(Ze(c=>this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,a,s).pipe(We(l=>{if(l instanceof ka)return A(null);throw l}))),lt(c=>!!c),We(c=>{if(fm(c))return T6(r,i,o)?A(new lp):Di(r);throw c}))}processSegmentAgainstRoute(t,n,r,i,o,a,s,c){return At(r)!==a&&(a===q||!Pl(i,o,r))?Di(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,r,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a,c):Di(i)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=gm(n,i,o);if(!c)return Di(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>P6&&(this.allowRedirects=!1));let h=new Lr(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,zg(i),At(i),i.component??i._loadedComponent??null,i,Ug(i)),y=Ll(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,u,h,t).pipe(Oe(m=>this.applyRedirects.lineralizeSegments(i,m)),de(m=>this.processSegment(t,r,n,m.concat(p),a,!1,s)))}matchSegmentAgainstRoute(t,n,r,i,o,a){let s=S6(n,r,i,t,this.urlSerializer);return r.path==="**"&&(n.children={}),s.pipe(Oe(c=>c.matched?(t=r._injector??t,this.getChildConfig(t,r,i).pipe(Oe(({routes:l})=>{let d=r._loadedInjector??t,{parameters:u,consumedSegments:p,remainingSegments:h}=c,y=new Lr(p,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,zg(r),At(r),r.component??r._loadedComponent??null,r,Ug(r)),g=Ll(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(g.params),y.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:v}=Bg(n,p,h,l);if(v.length===0&&m.hasChildren())return this.processChildren(d,l,m,y).pipe(P(R=>new at(y,R)));if(l.length===0&&v.length===0)return A(new at(y,[]));let L=At(r)===o;return this.processSegment(d,l,m,v,L?q:o,!0,y).pipe(P(R=>new at(y,R instanceof at?[R]:[])))}))):Di(n)))}getChildConfig(t,n,r){return n.children?A({routes:n.children,injector:t}):n.loadChildren?n._loadedRoutes!==void 0?A({routes:n._loadedRoutes,injector:n._loadedInjector}):w6(t,n,r,this.urlSerializer).pipe(de(i=>i?this.configLoader.loadChildren(t,n).pipe(ae(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):b6(n))):A({routes:[],injector:t})}};function O6(e){e.sort((t,n)=>t.value.outlet===q?-1:n.value.outlet===q?1:t.value.outlet.localeCompare(n.value.outlet))}function N6(e){let t=e.value.routeConfig;return t&&t.path===""}function mm(e){let t=[],n=new Set;for(let r of e){if(!N6(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=mm(r.children);t.push(new at(r.value,i))}return t.filter(r=>!n.has(r))}function zg(e){return e.data||{}}function Ug(e){return e.resolve||{}}function F6(e,t,n,r,i,o){return de(a=>R6(e,t,n,r,a.extractedUrl,i,o).pipe(P(({state:s,tree:c})=>F(I({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function j6(e,t){return de(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return A(n);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let l of km(c))a.add(l);let s=0;return Z(a).pipe(Ze(c=>o.has(c)?V6(c,r,e,t):(c.data=Ll(c,c.parent,e).resolve,A(void 0))),ae(()=>s++),li(1),de(c=>s===a.size?A(n):Te))})}function km(e){let t=e.children.map(n=>km(n)).flat();return[e,...t]}function V6(e,t,n,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!lm(i)&&(o[Ma]=i.title),Mt(()=>(e.data=Ll(e,e.parent,n).resolve,H6(o,e,t,r).pipe(P(a=>(e._resolvedData=a,e.data=I(I({},e.data),a),null)))))}function H6(e,t,n,r){let i=Jh(e);if(i.length===0)return A({});let o={};return Z(i).pipe(de(a=>q6(e[a],t,n,r).pipe(lt(),ae(s=>{if(s instanceof Ri)throw El(new Ar,s);o[a]=s}))),li(1),P(()=>o),We(a=>fm(a)?Te:vt(a)))}function q6(e,t,n,r){let i=Ca(t)??r,o=Ni(e,i),a=o.resolve?o.resolve(t,n):tt(i,()=>o(t,n));return yn(a)}function Xh(e){return Oe(t=>{let n=e(t);return n?Z(n).pipe(P(()=>t)):A(t)})}var fp=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===q);return r}getResolvedTitleForRoute(n){return n.data[Ma]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>C(vm),providedIn:"root"})}return e})(),vm=(()=>{class e extends fp{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(E(Fg))};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fi=new D("",{providedIn:"root",factory:()=>({})}),xa=new D(""),Mm=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=C(Dh);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return A(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=yn(n.loadComponent()).pipe(P(Cm),ae(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),so(()=>{this.componentLoaders.delete(n)})),i=new oi(r,()=>new ne).pipe(ii());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=wm(r,this.compiler,n,this.onLoadEndListener).pipe(so(()=>{this.childrenLoaders.delete(r)})),a=new oi(o,()=>new ne).pipe(ii());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wm(e,t,n,r){return yn(e.loadChildren()).pipe(P(Cm),de(i=>i instanceof Zc||Array.isArray(i)?A(i):Z(t.compileModuleAsync(i))),P(i=>{r&&r(e);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(n).injector,a=o.get(xa,[],{optional:!0,self:!0}).flat()),{routes:a.map(pp),injector:o}}))}function B6(e){return e&&typeof e=="object"&&"default"in e}function Cm(e){return B6(e)?e.default:e}var Ol=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>C(z6),providedIn:"root"})}return e})(),z6=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Im=new D("");var bm=new D(""),xm=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ne;transitionAbortWithErrorSubject=new ne;configLoader=C(Mm);environmentInjector=C(Ce);destroyRef=C(fr);urlSerializer=C(wa);rootContexts=C(Oi);location=C(jn);inputBindingEnabled=C(Rl,{optional:!0})!==null;titleStrategy=C(fp);options=C(Fi,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=C(Ol);createViewTransition=C(Im,{optional:!0});navigationErrorHandler=C(bm,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>A(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new wl(i)),r=i=>this.events.next(new Cl(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(F(I({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(n){return this.transitions=new ve(null),this.transitions.pipe(Re(r=>r!==null),Oe(r=>{let i=!1;return A(r).pipe(Oe(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",$e.SupersededByNewNavigation),Te;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?F(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let a=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!a&&s!=="reload"){let c="";return this.events.next(new fn(o.id,this.urlSerializer.serialize(o.rawUrl),c,ha.IgnoredSameUrlNavigation)),o.resolve(!1),Te}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return A(o).pipe(Oe(c=>(this.events.next(new Tr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?Te:Promise.resolve(c))),F6(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ae(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=F(I({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new pa(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=o,h=new Tr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let y=sm(this.rootComponentType).snapshot;return this.currentTransition=r=F(I({},o),{targetSnapshot:y,urlAfterRedirects:l,extras:F(I({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,A(r)}else{let c="";return this.events.next(new fn(o.id,this.urlSerializer.serialize(o.extractedUrl),c,ha.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Te}}),ae(o=>{let a=new ml(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),P(o=>(this.currentTransition=r=F(I({},o),{guards:n6(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),p6(this.environmentInjector,o=>this.events.next(o)),ae(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw El(this.urlSerializer,o.guardsResult);let a=new kl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Re(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",$e.GuardRejected),!1)),Xh(o=>{if(o.guards.canActivateChecks.length!==0)return A(o).pipe(ae(a=>{let s=new vl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),Oe(a=>{let s=!1;return A(a).pipe(j6(this.paramsInheritanceStrategy,this.environmentInjector),ae({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",$e.NoDataFromResolver)}}))}),ae(a=>{let s=new Ml(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),Xh(o=>{let a=s=>{let c=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(s.routeConfig).pipe(ae(l=>{s.component=l}),P(()=>{})));for(let l of s.children)c.push(...a(l));return c};return vn(a(o.targetSnapshot.root)).pipe(Mn(null),Pe(1))}),Xh(()=>this.afterPreactivation()),Oe(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?Z(s).pipe(P(()=>r)):A(r)}),P(o=>{let a=Y8(n.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=F(I({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),ae(()=>{this.events.next(new fa)}),t6(this.rootContexts,n.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Pe(1),di(new G(o=>{let a=r.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(Re(()=>!i&&!r.targetRouterState),ae(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",$e.Aborted)}))),ae({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ht(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),di(this.transitionAbortWithErrorSubject.pipe(ae(o=>{throw o}))),so(()=>{i||this.cancelNavigationTransition(r,"",$e.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),We(o=>{if(this.destroyed)return r.resolve(!1),Te;if(i=!0,pm(o))this.events.next(new jt(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),e6(o)?this.events.next(new Ti(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Ai(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let s=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof Ri){let{message:c,cancellationCode:l}=El(this.urlSerializer,s);this.events.next(new jt(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Ti(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return Te}))}))}cancelNavigationTransition(n,r,i){let o=new jt(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function U6(e){return e!==la}var Sm=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>C($6),providedIn:"root"})}return e})(),Tl=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}},$6=(()=>{class e extends Tl{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Po(e)))(i||e)}})();static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dm=(()=>{class e{urlSerializer=C(wa);options=C(Fi,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=C(jn);urlHandlingStrategy=C(Ol);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Vt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof Vt?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=sm(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:()=>C(G6),providedIn:"root"})}return e})(),G6=(()=>{class e extends Dm{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Tr?this.updateStateMemento():n instanceof fn?this.commitTransition(r):n instanceof pa?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof fa?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof jt&&n.code!==$e.SupersededByNewNavigation&&n.code!==$e.Redirect?this.restoreHistory(r):n instanceof Ai?this.restoreHistory(r,!0):n instanceof Ht&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,c=I(I({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",c)}else{let s=I(I({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Po(e)))(i||e)}})();static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function yp(e,t){e.events.pipe(Re(n=>n instanceof Ht||n instanceof jt||n instanceof Ai||n instanceof fn),P(n=>n instanceof Ht||n instanceof fn?0:(n instanceof jt?n.code===$e.Redirect||n.code===$e.SupersededByNewNavigation:!1)?2:1),Re(n=>n!==2),Pe(1)).subscribe(()=>{t()})}var W6={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Z6={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Rr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=C(vh);stateManager=C(Dm);options=C(Fi,{optional:!0})||{};pendingTasks=C(En);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=C(xm);urlSerializer=C(wa);location=C(jn);urlHandlingStrategy=C(Ol);injector=C(Ce);_events=new ne;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=C(Sm);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=C(xa,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!C(Rl,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jt&&r.code!==$e.Redirect&&r.code!==$e.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ht)this.navigated=!0;else if(r instanceof Ti){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||U6(i.source)},a);this.scheduleNavigation(s,la,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}W8(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),la,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(c=>{this.injector.get(Ke)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(pp),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=i?i.snapshot:this.routerState.snapshot.root;u=rm(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return im(u,n,d,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Hn(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,la,null,r)}navigate(n,r={skipLocationChange:!1}){return K6(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=I({},W6):r===!1?i=I({},Z6):i=r,Hn(n))return jg(this.currentUrlTree,n,i);let o=this.parseUrl(n);return jg(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return yp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function K6(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new x(4008,!1)}var qt=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=Ln(null);get href(){return Lt(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ne;applicationErrorHandler=C(Ke);options=C(Fi,{optional:!0});constructor(n,r,i,o,a,s){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(C(new Jc("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let n=this.preserveFragment,r=i=>i==="merge"||i==="preserve";n||=r(this.queryParamsHandling),n||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),n&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Ht&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Hn(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(n!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Hn(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(Y(Rr),Y(ct),Oo("tabindex"),Y(wr),Y(Tn),Y(Si))};static \u0275dir=Cr({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&dn("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&Bo("href",i.reactiveHref(),th)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Zo],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Zo],replaceUrl:[2,"replaceUrl","replaceUrl",Zo],routerLink:"routerLink"},features:[on]})}return e})();var Y6=new D("");function gp(e,...t){return ar([{provide:xa,multi:!0,useValue:e},[],{provide:ct,useFactory:J6,deps:[Rr]},{provide:Xc,multi:!0,useFactory:Q6},t.map(n=>n.\u0275providers)])}function J6(e){return e.routerState.root}function Q6(){let e=C(Qe);return t=>{let n=e.get(Ir);if(t!==n.components[0])return;let r=e.get(Rr),i=e.get(eC);e.get(tC)===1&&r.initialNavigation(),e.get(nC,null,{optional:!0})?.setUpPreloading(),e.get(Y6,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var eC=new D("",{factory:()=>new ne}),tC=new D("",{providedIn:"root",factory:()=>1});var nC=new D("");var iC=["*"];var Nl=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]];var _m=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]];var Lm=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Em=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]];var Am=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]];var Tm=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]];var Rm=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]];var Fl=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]];var Pm=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]];var Om=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]];var Sa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},mp=new D("LucideIcons",{factory:()=>new Da({})}),Da=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},oC=(()=>{class e{constructor(){this.color=Sa.stroke,this.size=Sa.width,this.strokeWidth=Sa["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function aC(e,t=3){return parseFloat(e.toFixed(t)).toString(10)}var qn=(()=>{class e{constructor(n,r,i,o,a){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=Sa.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=F(I({},Sa),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?aC(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,n]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return e.\u0275fac=function(n){return new(n||e)(Y(Tn),Y(wr),Y(Dr),Y(mp),Y(oC))},e.\u0275cmp=Q({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[on],ngContentSelectors:iC,decls:1,vars:0,template:function(n,r){n&1&&(bh(),xh(0))},encapsulation:2}),e})(),kp=class{constructor(t){this.icons=t}},sC=e=>new Da(e??{}),Bn=(()=>{class e{static pick(n){return{ngModule:e,providers:[{provide:mp,multi:!0,useValue:new Da(n)},{provide:mp,multi:!0,useFactory:sC,deps:[[new W1,kp]]}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=pt({type:e}),e.\u0275inj=et({imports:[[]]}),e})();var cC=e=>["/lease",e];function lC(e,t){if(e&1&&(k(0,"div",0)(1,"div",1),T(2,"img",2),w(),k(3,"h2",3),b(4),w(),k(5,"p",4),T(6,"lucide-icon",5),b(7),w(),T(8,"hr",6),k(9,"div",7),T(10,"lucide-icon",5),k(11,"span"),b(12),Nn(13,"date"),Nn(14,"date"),w()(),k(15,"div",8),T(16,"lucide-icon",5),k(17,"span",9),b(18),w(),k(19,"span",10),b(20),w()()()),e&2){let n=br();K("routerLink",Uo(18,cC,n.lease.id)),_(4),Ne(" ",n.lease.property==null?null:n.lease.property.name," "),_(2),K("img",n.MapPinIcon),_(),_t(" ",n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.street,", ",n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.city," "),_(3),K("img",n.CalendarIcon),_(2),_t("",Sr(13,12,n.lease.startDate,"MMM y")," \u2013 ",Sr(14,15,n.lease.endDate,"MMM y")),_(4),K("img",n.Banknote),_(2),_t(" ",n.lease.rentAmount," ",n.lease.rentCurrency),_(2),Ne("/ ",n.lease.paymentFrequency||"mois")}}var Vl=class e{lease;MapPinIcon=Fl;CalendarIcon=Lm;Banknote=_m;static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-lease-card"]],inputs:{lease:"lease"},decls:1,vars:1,consts:[[1,"bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4",3,"routerLink"],[1,"h-32","flex","justify-center"],["src","/illustrations/home.svg",1,"h-full"],[1,"text-2xl","font-bold","leading-tight"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-200/50","my-2"],[1,"flex","items-center","text-sm","flex","items-center","gap-1","text-gray-600"],[1,"flex","items-baseline","text-gray-800","flex","items-center","gap-1"],[1,"ml-1","text-sm","font-medium"],[1,"ml-2","text-sm","text-gray-500"]],template:function(n,r){n&1&&an(0,lC,21,20,"div",0),n&2&&sn(r.lease?0:-1)},dependencies:[ea,Bn,qn,qt],encapsulation:2})};var Hl=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-lease-skeleton-card"]],decls:11,vars:0,consts:[[1,"w-full","md:w-80","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-4","animate-pulse"],[1,"h-6","bg-gray-300/50","rounded","w-2/3","mx-auto"],[1,"h-4","bg-gray-300/50","rounded","w-full"],[1,"border-t","border-gray-300/30","my-2"],[1,"h-4","bg-gray-300/50","rounded","w-3/4"],[1,"h-4","bg-gray-300/50","rounded","w-4/5"],[1,"h-4","bg-gray-300/50","rounded","w-3/5"],[1,"flex","flex-wrap","gap-2"],[1,"h-6","w-16","bg-gray-300/50","rounded-full"],[1,"h-6","w-20","bg-gray-300/50","rounded-full"],[1,"h-6","w-14","bg-gray-300/50","rounded-full"]],template:function(n,r){n&1&&(k(0,"div",0),T(1,"div",1)(2,"div",2)(3,"hr",3)(4,"div",4)(5,"div",5)(6,"div",6),k(7,"div",7),T(8,"div",8)(9,"div",9)(10,"div",10),w()())},encapsulation:2})};var Nm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)};var _a=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},ql=class extends _a{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Bl=class extends _a{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},zl=class extends _a{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},vp=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(vp||{});var dC=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},La=class{constructor(t,{headers:n={},customFetch:r,region:i=vp.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=Nm(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var r;return dC(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:a}=n,s={},{region:c}=n;c||(c=this.region),c&&c!=="any"&&(s["x-region"]=c);let l;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",l=a):typeof a=="string"?(s["Content-Type"]="text/plain",l=a):typeof FormData<"u"&&a instanceof FormData?l=a:(s["Content-Type"]="application/json",l=JSON.stringify(a)));let d=yield this.fetch(`${this.url}/${t}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:l}).catch(y=>{throw new ql(y)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new Bl(d);if(!d.ok)throw new zl(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield d.json():p==="application/octet-stream"?h=yield d.blob():p==="text/event-stream"?h=d:p==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}};var Km=Nv(Zm(),1),{PostgrestClient:Xm,PostgrestQueryBuilder:lH,PostgrestFilterBuilder:dH,PostgrestTransformBuilder:uH,PostgrestBuilder:hH,PostgrestError:CC}=Km.default;function Ym(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Jm=Ym();var Qm="2.11.13";var ek={"X-Client-Info":`realtime-js/${Qm}`},tk="1.0.0";var Wl=1e4,nk=1e3,Na=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Na||{}),je=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(je||{}),yt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(yt||{}),Ap=function(e){return e.websocket="websocket",e}(Ap||{}),Pr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Pr||{});var Zl=class{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let n=new DataView(t),r=new TextDecoder;return this._decodeBroadcast(t,n,r)}_decodeBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(t.slice(a,a+i));a=a+i;let c=r.decode(t.slice(a,a+o));a=a+o;let l=JSON.parse(r.decode(t.slice(a,t.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var Vi=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var se=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(se||{}),Rp=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(t).reduce((o,a)=>(o[a]=IC(a,e,t,i),o),{})},IC=(e,t,n,r)=>{let i=t.find(s=>s.name===e),o=i?.type,a=n[e];return o&&!r.includes(o)?rk(o,a):Tp(a)},rk=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return DC(t,n)}switch(e){case se.bool:return bC(t);case se.float4:case se.float8:case se.int2:case se.int4:case se.int8:case se.numeric:case se.oid:return xC(t);case se.json:case se.jsonb:return SC(t);case se.timestamp:return _C(t);case se.abstime:case se.date:case se.daterange:case se.int4range:case se.int8range:case se.money:case se.reltime:case se.text:case se.time:case se.timestamptz:case se.timetz:case se.tsrange:case se.tstzrange:return Tp(t);default:return Tp(t)}},Tp=e=>e,bC=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},xC=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},SC=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},DC=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>rk(t,s))}return e},_C=e=>typeof e=="string"?e.replace(" ","T"):e,Kl=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Hi=class{constructor(t,n,r={},i=Wl){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Fa=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),a=this.transformState(n),s={},c={};return this.map(o,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=o[l];if(u){let p=d.map(m=>m.presence_ref),h=u.map(m=>m.presence_ref),y=d.filter(m=>h.indexOf(m.presence_ref)<0),g=u.filter(m=>p.indexOf(m.presence_ref)<0);y.length>0&&(s[l]=y),g.length>0&&(c[l]=g)}else s[l]=d}),this.syncDiff(o,{joins:s,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,c)=>{var l;let d=(l=t[s])!==null&&l!==void 0?l:[];if(t[s]=this.cloneDeep(c),d.length>0){let u=t[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);t[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=t[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),t[s]=l,i(s,l,c),l.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var gn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(gn||{});var ja=class e{constructor(t,n={config:{}},r){this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Hi(this,yt.join,this.params,this.timeout),this.rejoinTimer=new Vi(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(yt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Fa(this),this.broadcastEndpointURL=Kl(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){let{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(d=>t?.(gn.CHANNEL_ERROR,d)),this._onClose(()=>t?.(gn.CLOSED));let c={},l={broadcast:o,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",u=>f(this,[u],function*({postgres_changes:d}){var p;if(this.socket.setAuth(),d===void 0){t?.(gn.SUBSCRIBED);return}else{let h=this.bindings.postgres_changes,y=(p=h?.length)!==null&&p!==void 0?p:0,g=[];for(let m=0;m<y;m++){let v=h[m],{filter:{event:L,schema:R,table:M,filter:U}}=v,Ae=d&&d[m];if(Ae&&Ae.event===L&&Ae.schema===R&&Ae.table===M&&Ae.filter===U)g.push(Object.assign(Object.assign({},v),{id:Ae.id}));else{this.unsubscribe(),this.state=je.errored,t?.(gn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,t&&t(gn.SUBSCRIBED);return}})).receive("error",d=>{this.state=je.errored,t?.(gn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t?.(gn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(t,n={}){return yield this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,n,r){return this._on(t,n,r)}send(r){return f(this,arguments,function*(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){let{event:a,payload:s}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(yt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Hi(this,yt.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(t,n,r){return f(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),a=yield this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a})}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hi(this,t,n,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let a=t.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=yt;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,m;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(o=this.bindings[a])===null||o===void 0||o.filter(h=>{var y,g,m,v,L,R;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let M=h.id,U=(y=h.filter)===null||y===void 0?void 0:y.event;return M&&((g=n.ids)===null||g===void 0?void 0:g.includes(M))&&(U==="*"||U?.toLocaleLowerCase()===((m=n.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let M=(L=(v=h?.filter)===null||v===void 0?void 0:v.event)===null||L===void 0?void 0:L.toLocaleLowerCase();return M==="*"||M===((R=n?.event)===null||R===void 0?void 0:R.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:g,table:m,commit_timestamp:v,type:L,errors:R}=y;p=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:v,eventType:L,new:{},old:{},errors:R}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))}),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(yt.close,{},t)}_onError(t){this._on(yt.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=Rp(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=Rp(t.columns,t.old_record)),n}};var ik=()=>{},EC=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Va=class{constructor(t,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=ek,this.params={},this.timeout=Wl,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ik,this.ref=0,this.logger=ik,this.conn=null,this.sendBuffer=[],this.serializer=new Zl,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:c})=>c(...s)):a=fetch,(...s)=>a(...s)},this.endPoint=`${t}/${Ap.websocket}`,this.httpEndpoint=Kl(t),n?.transport?this.transport=n.transport:this.transport=null,n?.params&&(this.params=n.params),n?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n?.timeout&&(this.timeout=n.timeout),n?.logger&&(this.logger=n.logger),(n?.logLevel||n?.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);let i=(r=n?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=n?.reconnectAfterMs?n.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=n?.encode?n.encode:(o,a)=>a(JSON.stringify(o)),this.decode=n?.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Vi(()=>f(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(n?.fetch),n?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=n?.worker||!1,this.workerUrl=n?.workerUrl}this.accessToken=n?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=Jm),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:tk}))}disconnect(t,n){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(t){return f(this,null,function*(){let n=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),n})}removeAllChannels(){return f(this,null,function*(){let t=yield Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t})}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Na.connecting:return Pr.Connecting;case Na.open:return Pr.Open;case Na.closing:return Pr.Closing;default:return Pr.Closed}}isConnected(){return this.connectionState()===Pr.Open}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new ja(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(t=null){return f(this,null,function*(){let n=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(yt.access_token,{access_token:n})}))})}sendHeartbeat(){return f(this,null,function*(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(nk,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,n=>{let{topic:r,event:i,payload:o,ref:a}=n;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(s=>s._isMember(r)).forEach(s=>s._trigger(i,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(n))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(yt.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([EC],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}};var qi=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function me(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Xl=class extends qi{constructor(t,n){super(t),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Or=class extends qi{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}};var AC=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},Jl=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},ok=()=>AC(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),Yl=e=>{if(Array.isArray(e))return e.map(n=>Yl(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=Yl(r)}),t};var Nr=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},Pp=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),TC=(e,t,n)=>Nr(void 0,void 0,void 0,function*(){let r=yield ok();e instanceof r&&!n?.noResolveJson?e.json().then(i=>{t(new Xl(Pp(i),e.status||500))}).catch(i=>{t(new Or(Pp(i),i))}):t(new Or(Pp(e),e))}),RC=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),n))};function Ha(e,t,n,r,i,o){return Nr(this,void 0,void 0,function*(){return new Promise((a,s)=>{e(n,RC(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>TC(c,s,r))})})}function Bi(e,t,n,r){return Nr(this,void 0,void 0,function*(){return Ha(e,"GET",t,n,r)})}function Bt(e,t,n,r,i){return Nr(this,void 0,void 0,function*(){return Ha(e,"POST",t,r,i,n)})}function ak(e,t,n,r,i){return Nr(this,void 0,void 0,function*(){return Ha(e,"PUT",t,r,i,n)})}function sk(e,t,n,r){return Nr(this,void 0,void 0,function*(){return Ha(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Ql(e,t,n,r,i){return Nr(this,void 0,void 0,function*(){return Ha(e,"DELETE",t,r,i,n)})}var Ye=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},PC={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ck={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},ed=class{constructor(t,n={},r,i){this.url=t,this.headers=n,this.bucketId=r,this.fetch=Jl(i)}uploadOrUpdate(t,n,r,i){return Ye(this,void 0,void 0,function*(){try{let o,a=Object.assign(Object.assign({},ck),i),s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));let l=this._removeEmptyFolders(n),d=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:o,headers:s},a?.duplex?{duplex:a.duplex}:{})),p=yield u.json();return u.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(me(o))return{data:null,error:o};throw o}})}upload(t,n,r){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,r)})}uploadToSignedUrl(t,n,r,i){return Ye(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(t),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",n);try{let c,l=Object.assign({upsert:ck.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield this.fetch(s.toString(),{method:"PUT",body:c,headers:d}),p=yield u.json();return u.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(me(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,n){return Ye(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=Object.assign({},this.headers);n?.upsert&&(i["x-upsert"]="true");let o=yield Bt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new qi("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:s},error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}update(t,n,r){return Ye(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,r)})}move(t,n,r){return Ye(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}copy(t,n,r){return Ye(this,void 0,void 0,function*(){try{return{data:{path:(yield Bt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}createSignedUrl(t,n,r){return Ye(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),o=yield Bt(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}createSignedUrls(t,n,r){return Ye(this,void 0,void 0,function*(){try{let i=yield Bt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}download(t,n){return Ye(this,void 0,void 0,function*(){let i=typeof n?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(n?.transform||{}),a=o?`?${o}`:"";try{let s=this._getFinalPath(t);return{data:yield(yield Bi(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(me(s))return{data:null,error:s};throw s}})}info(t){return Ye(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{let r=yield Bi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Yl(r),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}exists(t){return Ye(this,void 0,void 0,function*(){let n=this._getFinalPath(t);try{return yield sk(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(me(r)&&r instanceof Or){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(t,n){let r=this._getFinalPath(t),i=[],o=n?.download?`download=${n.download===!0?"":n.download}`:"";o!==""&&i.push(o);let s=typeof n?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(n?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(t){return Ye(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}list(t,n,r){return Ye(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},PC),n),{prefix:t||""});return{data:yield Bt(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(me(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}};var lk="2.7.1";var dk={"X-Client-Info":`storage-js/${lk}`};var zi=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},td=class{constructor(t,n={},r){this.url=t,this.headers=Object.assign(Object.assign({},dk),n),this.fetch=Jl(r)}listBuckets(){return zi(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(me(t))return{data:null,error:t};throw t}})}getBucket(t){return zi(this,void 0,void 0,function*(){try{return{data:yield Bi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return zi(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}updateBucket(t,n){return zi(this,void 0,void 0,function*(){try{return{data:yield ak(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(me(r))return{data:null,error:r};throw r}})}emptyBucket(t){return zi(this,void 0,void 0,function*(){try{return{data:yield Bt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}deleteBucket(t){return zi(this,void 0,void 0,function*(){try{return{data:yield Ql(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(me(n))return{data:null,error:n};throw n}})}};var qa=class extends td{constructor(t,n={},r){super(t,n,r)}from(t){return new ed(this.url,this.headers,t,this.fetch)}};var uk="2.50.1";var Ba="";typeof Deno<"u"?Ba="deno":typeof document<"u"?Ba="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ba="react-native":Ba="node";var OC={"X-Client-Info":`supabase-js-${Ba}/${uk}`},hk={headers:OC},pk={schema:"public"},fk={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yk={};p2();var NC=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},FC=e=>{let t;return e?t=e:typeof fetch>"u"?t=u2:t=fetch,(...n)=>t(...n)},jC=()=>typeof Headers>"u"?h2:Headers,gk=(e,t,n)=>{let r=FC(n),i=jC();return(o,a)=>NC(void 0,void 0,void 0,function*(){var s;let c=(s=yield t())!==null&&s!==void 0?s:e,l=new i(a?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:l}))})};var VC=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})};function mk(e){return e.endsWith("/")?e:e+"/"}function kk(e,t){var n,r;let{db:i,auth:o,realtime:a,global:s}=e,{db:c,auth:l,realtime:d,global:u}=t,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(n=u?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>VC(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}var nd="2.70.0";var Fr=30*1e3,rd=3,id=rd*Fr,vk="http://localhost:9999",Mk="supabase.auth.token";var wk={"X-Client-Info":`gotrue-js/${nd}`};var za="X-Supabase-Api-Version",Op={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ck=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ik=6e5;var Ua=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function N(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var od=class extends Ua{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function bk(e){return N(e)&&e.name==="AuthApiError"}var Ui=class extends Ua{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},zt=class extends Ua{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},gt=class extends zt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function xk(e){return N(e)&&e.name==="AuthSessionMissingError"}var jr=class extends zt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Vr=class extends zt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Hr=class extends zt{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Sk(e){return N(e)&&e.name==="AuthImplicitGrantRedirectError"}var $a=class extends zt{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},$i=class extends zt{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function ad(e){return N(e)&&e.name==="AuthRetryableFetchError"}var Ga=class extends zt{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var mn=class extends zt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var sd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Dk=` 	
\r=`.split(""),HC=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Dk.length;t+=1)e[Dk[t].charCodeAt(0)]=-2;for(let t=0;t<sd.length;t+=1)e[sd[t].charCodeAt(0)]=t;return e})();function _k(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(sd[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(sd[r]),t.queuedBits-=6}}function Lk(e,t,n){let r=HC[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Np(e){let t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{zC(a,r,n)};for(let a=0;a<e.length;a+=1)Lk(e.charCodeAt(a),i,o);return t.join("")}function qC(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function BC(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}qC(r,t)}}function zC(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ek(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)Lk(e.charCodeAt(i),n,r);return new Uint8Array(t)}function Ak(e){let t=[];return BC(e,n=>t.push(n)),new Uint8Array(t)}function Tk(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>_k(i,n,r)),_k(null,n,r),t.join("")}function Rk(e){return Math.round(Date.now()/1e3)+e}function Pk(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}var mt=()=>typeof window<"u"&&typeof document<"u",qr={tested:!1,writable:!1},zn=()=>{if(!mt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(qr.tested)return qr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),qr.tested=!0,qr.writable=!0}catch{qr.tested=!0,qr.writable=!1}return qr.writable};function Ok(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var cd=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...n)):t=fetch,(...n)=>t(...n)},Nk=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Fp=(e,t,n)=>f(null,null,function*(){yield e.setItem(t,JSON.stringify(n))}),Za=(e,t)=>f(null,null,function*(){let n=yield e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}}),Ka=(e,t)=>f(null,null,function*(){yield e.removeItem(t)}),Wa=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};Wa.promiseConstructor=Promise;function ld(e){let t=e.split(".");if(t.length!==3)throw new mn("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Ck.test(t[r]))throw new mn("JWT not in base64url format");return{header:JSON.parse(Np(t[0])),payload:JSON.parse(Np(t[1])),signature:Ek(t[2]),raw:{header:t[0],payload:t[1]}}}function Fk(e){return f(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),e)})})}function jk(e,t){return new Promise((r,i)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let a=yield e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})})}function UC(e){return("0"+e.toString(16)).substr(-2)}function $C(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,UC).join("")}function GC(e){return f(this,null,function*(){let n=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function WC(e){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=yield GC(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function Br(e,t,n=!1){return f(this,null,function*(){let r=$C(),i=r;n&&(i+="/PASSWORD_RECOVERY"),yield Fp(e,`${t}-code-verifier`,i);let o=yield WC(r);return[o,r===o?"plain":"s256"]})}var ZC=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Vk(e){let t=e.headers.get(za);if(!t||!t.match(ZC))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Hk(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function qk(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var KC=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function zr(e){if(!KC.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var XC=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Ur=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),YC=[502,503,504];function Bk(e){return f(this,null,function*(){var t;if(!Nk(e))throw new $i(Ur(e),0);if(YC.includes(e.status))throw new $i(Ur(e),e.status);let n;try{n=yield e.json()}catch(o){throw new Ui(Ur(o),o)}let r,i=Vk(e);if(i&&i.getTime()>=Op["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ga(Ur(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new gt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new Ga(Ur(n),e.status,n.weak_password.reasons);throw new od(Ur(n),e.status||500,r)})}var JC=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};function $(e,t,n,r){return f(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[za]||(o[za]=Op["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield QC(e,t,n+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function QC(e,t,n,r,i,o){return f(this,null,function*(){let a=JC(t,r,i,o),s;try{s=yield e(n,Object.assign({},a))}catch(c){throw console.error(c),new $i(Ur(c),0)}if(s.ok||(yield Bk(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield Bk(c)}})}function Ut(e){var t;let n=null;eI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Rk(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function jp(e){let t=Ut(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function $t(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function zk(e){return{data:e,error:null}}function Uk(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=XC(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function $k(e){return e}function eI(e){return e.access_token&&e.refresh_token&&e.expires_in}var dd=["global","local","others"];var tI=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},Gi=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=cd(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return f(this,arguments,function*(t,n=dd[0]){if(dd.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dd.join(", ")}`);try{return yield $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(N(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return f(this,arguments,function*(t,n={}){try{return yield $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:$t})}catch(i){if(N(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return f(this,null,function*(){try{let{options:n}=t,r=tI(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Uk,redirectTo:n?.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}})}createUser(t){return f(this,null,function*(){try{return yield $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:$t})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}})}listUsers(t){return f(this,null,function*(){var n,r,i,o,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:$k});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);l[`${m}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(N(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return f(this,null,function*(){zr(t);try{return yield $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:$t})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}})}updateUserById(t,n){return f(this,null,function*(){zr(t);try{return yield $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:$t})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}deleteUser(t,n=!1){return f(this,null,function*(){zr(t);try{return yield $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:$t})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}})}_listFactors(t){return f(this,null,function*(){zr(t.userId);try{let{data:n,error:r}=yield $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}})}_deleteFactor(t){return f(this,null,function*(){zr(t.userId),zr(t.id);try{return{data:yield $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}})}};var Gk={getItem:e=>zn()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{zn()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{zn()&&globalThis.localStorage.removeItem(e)}};function Vp(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function Wk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var $r={debug:!!(globalThis&&zn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Xa=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},ud=class extends Xa{};function Hp(e,t,n){return f(this,null,function*(){$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),$r.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>f(null,null,function*(){if(i){$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield n()}finally{$r.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw $r.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new ud(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if($r.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield n()}})))})}Wk();var nI={url:vk,storageKey:Mk,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wk,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Zk(e,t,n){return f(this,null,function*(){return yield n()})}var qp=(()=>{class e{constructor(n){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&mt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},nI),n);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Gi({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=cd(o.fetch),this.lock=o.lock||Zk,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:mt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Hp:this.lock=Zk,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:zn()?this.storage=Gk:(this.memoryStorage={},this.storage=Vp(this.memoryStorage)):(this.memoryStorage={},this.storage=Vp(this.memoryStorage)),mt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...n){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${nd}) ${new Date().toISOString()}`,...n),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var n;try{let r=Ok(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),mt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:a}=yield this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Sk(a)){let l=(n=a.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return N(r)?{error:r}:{error:new Ui("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(n){return f(this,null,function*(){var r,i,o;try{let a=yield $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Ut}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(N(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(n){return f(this,null,function*(){var r,i,o;try{let a;if("email"in n){let{email:u,password:p,options:h}=n,y=null,g=null;this.flowType==="pkce"&&([y,g]=yield Br(this.storage,this.storageKey)),a=yield $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:g},xform:Ut})}else if("phone"in n){let{phone:u,password:p,options:h}=n;a=yield $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Ut})}else throw new Vr("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(N(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(n){return f(this,null,function*(){try{let r;if("email"in n){let{email:a,password:s,options:c}=n;r=yield $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jp})}else if("phone"in n){let{phone:a,password:s,options:c}=n;r=yield $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:jp})}else throw new Vr("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new jr}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(n){return f(this,null,function*(){var r,i,o,a;return yield this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=n.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(n){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(n)}))})}signInWithWeb3(n){return f(this,null,function*(){let{chain:r}=n;if(r==="solana")return yield this.signInWithSolana(n);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(n){return f(this,null,function*(){var r,i,o,a,s,c,l,d,u,p,h,y;let g,m;if("message"in n)g=n.message,m=n.signature;else{let{chain:v,wallet:L,statement:R,options:M}=n,U;if(mt())if(typeof L=="object")U=L;else{let J=window;if("solana"in J&&typeof J.solana=="object"&&("signIn"in J.solana&&typeof J.solana.signIn=="function"||"signMessage"in J.solana&&typeof J.solana.signMessage=="function"))U=J.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=L}let Ae=new URL((r=M?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in U&&U.signIn){let J=yield U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},M?.signInWithSolana),{version:"1",domain:Ae.host,uri:Ae.href}),R?{statement:R}:null)),ue;if(Array.isArray(J)&&J[0]&&typeof J[0]=="object")ue=J[0];else if(J&&typeof J=="object"&&"signedMessage"in J&&"signature"in J)ue=J;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ue&&"signature"in ue&&(typeof ue.signedMessage=="string"||ue.signedMessage instanceof Uint8Array)&&ue.signature instanceof Uint8Array)g=typeof ue.signedMessage=="string"?ue.signedMessage:new TextDecoder().decode(ue.signedMessage),m=ue.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${Ae.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...R?["",R,""]:[""],"Version: 1",`URI: ${Ae.href}`,`Issued At: ${(o=(i=M?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=M?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${M.signInWithSolana.notBefore}`]:[],...!((s=M?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${M.signInWithSolana.expirationTime}`]:[],...!((c=M?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${M.signInWithSolana.chainId}`]:[],...!((l=M?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${M.signInWithSolana.nonce}`]:[],...!((d=M?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${M.signInWithSolana.requestId}`]:[],...!((p=(u=M?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...M.signInWithSolana.resources.map(ue=>`- ${ue}`)]:[]].join(`
`);let J=yield U.signMessage(new TextEncoder().encode(g),"utf8");if(!J||!(J instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=J}}try{let{data:v,error:L}=yield $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Tk(m)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Ut});if(L)throw L;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new jr}:(v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:L})}catch(v){if(N(v))return{data:{user:null,session:null},error:v};throw v}})}_exchangeCodeForSession(n){return f(this,null,function*(){let r=yield Za(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:a,error:s}=yield $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Ut});if(yield Ka(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new jr}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:s})}catch(a){if(N(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(n){return f(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:a,nonce:s}=n,c=yield $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Ut}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new jr}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(n){return f(this,null,function*(){var r,i,o,a,s;try{if("email"in n){let{email:c,options:l}=n,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield Br(this.storage,this.storageKey));let{error:p}=yield $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in n){let{phone:c,options:l}=n,{data:d,error:u}=yield $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new Vr("You must provide either an email or phone number.")}catch(c){if(N(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(n){return f(this,null,function*(){var r,i;try{let o,a;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,a=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:s,error:c}=yield $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Ut});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(N(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(n){return f(this,null,function*(){var r,i,o;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield Br(this.storage,this.storageKey)),yield $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:zk})}catch(a){if(N(a))return{data:null,error:a};throw a}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(n=>f(this,null,function*(){let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new gt;let{error:o}=yield $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(n){if(N(n))return{data:{user:null,session:null},error:n};throw n}})}resend(n){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:a}=n,{error:s}=yield $(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in n){let{phone:i,type:o,options:a}=n,{data:s,error:c}=yield $(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new Vr("You must provide either an email or phone number and a type")}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(n,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,n,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(n){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield n(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=yield Za(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<id:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.storage.isServer){let s=this.suppressGetSessionWarning;n=new Proxy(n,{get:(l,d,u)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:n},error:null}}let{session:o,error:a}=yield this._callRefreshToken(n.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(n){return f(this,null,function*(){return n?yield this._getUser(n):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(n){return f(this,null,function*(){try{return n?yield $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:$t}):yield this._useSession(r=>f(this,null,function*(){var i,o,a;let{data:s,error:c}=r;if(c)throw c;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new gt}:yield $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:$t})}))}catch(r){if(N(r))return xk(r)&&(yield this._removeSession(),yield Ka(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return f(this,arguments,function*(n,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(n,r)}))})}_updateUser(i){return f(this,arguments,function*(n,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:a,error:s}=o;if(s)throw s;if(!a.session)throw new gt;let c=a.session,l=null,d=null;this.flowType==="pkce"&&n.email!=null&&([l,d]=yield Br(this.storage,this.storageKey));let{data:u,error:p}=yield $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:$t});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(N(o))return{data:{user:null},error:o};throw o}})}setSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(n)}))})}_setSession(n){return f(this,null,function*(){try{if(!n.access_token||!n.refresh_token)throw new gt;let r=Date.now()/1e3,i=r,o=!0,a=null,{payload:s}=ld(n.access_token);if(s.exp&&(i=s.exp,o=i<=r),o){let{session:c,error:l}=yield this._callRefreshToken(n.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(n.access_token);if(l)throw l;a={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(N(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(n){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(n)}))})}_refreshSession(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;if(!n){let{data:s,error:c}=r;if(c)throw c;n=(i=s.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new gt;let{session:o,error:a}=yield this._callRefreshToken(n.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(N(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(n,r){return f(this,null,function*(){try{if(!mt())throw new Hr("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Hr(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new $a("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new $a("No code detected.");let{data:R,error:M}=yield this._exchangeCodeForSession(n.code);if(M)throw M;let U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:R.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=n;if(!a||!c||!s||!d)throw new Hr("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=Fr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let g=h-p;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);let{data:m,error:v}=yield this._getUser(a);if(v)throw v;let L={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:L,redirectType:n.type},error:null}}catch(i){if(N(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(n){return!!(n.access_token||n.error_description)}_isPKCECallback(n){return f(this,null,function*(){let r=yield Za(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)})}signOut(){return f(this,arguments,function*(n={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(n)}))})}_signOut(){return f(this,arguments,function*({scope:n}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;if(a)return{error:a};let s=(i=o.session)===null||i===void 0?void 0:i.access_token;if(s){let{error:c}=yield this.admin.signOut(s,n);if(c&&!(bk(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return n!=="others"&&(yield this._removeSession(),yield Ka(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(n){let r=Pk(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(n){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var i,o;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",n,"session",a)}catch(a){yield(o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",n,"error",a),console.error(a)}}))})}resetPasswordForEmail(i){return f(this,arguments,function*(n,r={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=yield Br(this.storage,this.storageKey,!0));try{return yield $(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(N(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var n;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}})}linkIdentity(n){return f(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(a=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield $(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(o)throw o;return mt()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:n.provider,url:i?.url},error:null}}catch(i){if(N(i))return{data:{provider:n.provider,url:null},error:i};throw i}})}unlinkIdentity(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:a,error:s}=r;if(s)throw s;return yield $(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(N(r))return{data:null,error:r};throw r}})}_refreshAccessToken(n){return f(this,null,function*(){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield jk(o=>f(this,null,function*(){return o>0&&(yield Fk(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ut})}),(o,a)=>{let s=200*Math.pow(2,o);return a&&ad(a)&&Date.now()+s-i<Fr})}catch(i){if(this._debug(r,"error",i),N(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}_handleProviderSignIn(n,r){return f(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),mt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var n;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield Za(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<id;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${id}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),ad(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(n){return f(this,null,function*(){var r,i;if(!n)throw new gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Wa;let{data:a,error:s}=yield this._refreshAccessToken(n);if(s)throw s;if(!a.session)throw new gt;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),N(a)){let s={session:null,error:a};return ad(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(n,r,i=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(n,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}})}_saveSession(n){return f(this,null,function*(){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,yield Fp(this.storage,this.storageKey,n)})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield Ka(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&mt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Fr);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let n=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Fr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Fr}ms, refresh threshold is ${rd} ticks`),o<=rd&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(n){if(n.isAcquireTimeout||n instanceof Xa)this._debug("auto refresh token tick lock not available");else throw n}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!mt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}})}_onVisibilityChanged(n){return f(this,null,function*(){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(n,r,i){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[a,s]=yield Br(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(i?.queryParams){let a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`})}_unenroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;return a?{data:null,error:a}:yield $(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(N(r))return{data:null,error:r};throw r}})}_enroll(n){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:{issuer:n.issuer}),{data:l,error:d}=yield $(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(n.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(N(r))return{data:null,error:r};throw r}})}_verify(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;if(a)return{data:null,error:a};let{data:s,error:c}=yield $(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:{code:n.code,challenge_id:n.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})}))}catch(r){if(N(r))return{data:null,error:r};throw r}}))})}_challenge(n){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;return a?{data:null,error:a}:yield $(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:{channel:n.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(N(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(n){return f(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:n.factorId});return i?{data:null,error:i}:yield this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})})}_listFactors(){return f(this,null,function*(){let{data:{user:n},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=n?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=i.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){return yield this._useSession(n=>f(this,null,function*(){var r,i;let{data:{session:o},error:a}=n;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=ld(o.access_token),c=null;s.aal&&(c=s.aal);let l=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}))})}fetchJwk(i){return f(this,arguments,function*(n,r={keys:[]}){let o=r.keys.find(c=>c.kid===n);if(o||(o=this.jwks.keys.find(c=>c.kid===n),o&&this.jwks_cached_at+Ik>Date.now()))return o;let{data:a,error:s}=yield $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new mn("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),o=a.keys.find(c=>c.kid===n),!o)throw new mn("No matching signing key found in JWKS");return o})}getClaims(i){return f(this,arguments,function*(n,r={keys:[]}){try{let o=n;if(!o){let{data:g,error:m}=yield this.getSession();if(m||!g.session)return{data:null,error:m};o=g.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=ld(o);if(Hk(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:g}=yield this.getUser(o);if(g)throw g;return{data:{claims:s,header:a,signature:c},error:null}}let u=qk(a.alg),p=yield this.fetchJwk(a.kid,r),h=yield crypto.subtle.importKey("jwk",p,u,!0,["verify"]);if(!(yield crypto.subtle.verify(u,h,c,Ak(`${l}.${d}`))))throw new mn("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(o){if(N(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var rI=qp,Bp=rI;var hd=class extends Bp{constructor(t){super(t)}};var iI=function(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})},pd=class{constructor(t,n,r){var i,o,a;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");let s=mk(t),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:pk,realtime:yk,auth:Object.assign(Object.assign({},fk),{storageKey:l}),global:hk},u=kk(r??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=gk(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Xm(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new La(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new qa(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},r={}){return this.rest.rpc(t,n,r)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return iI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(n=(t=r.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,storageKey:o,flowType:a,lock:s,debug:c},l,d){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hd({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),l),storageKey:o,autoRefreshToken:t,persistSession:n,detectSessionInUrl:r,storage:i,flowType:a,lock:s,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Va(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r?.access_token)})}_handleTokenChanged(t,n,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Kk=(e,t,n)=>new pd(e,t,n);var oI="https://otxhrbsfcrkajaljaips.supabase.co",aI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im90eGhyYnNmY3JrYWphbGphaXBzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDc2MzkwOSwiZXhwIjoyMDY2MzM5OTA5fQ.nTDMEhkmQXh5-Adh_d4VFmqREBgM6GxaenaprzLuBAo",Wi=Kk(oI,aI);function sI(e){return e.replace(/_([a-z])/g,(t,n)=>n.toUpperCase())}function Ya(e){if(Array.isArray(e))return e.map(Ya);if(e!==null&&typeof e=="object"){let t={};for(let n of Object.keys(e)){let r=sI(n);t[r]=Ya(e[n])}return t}return e}var Un=class e{findAll(){return Z(Wi.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `)).pipe(P(t=>{if(t.error)throw t.error;return Ya(t.data)}))}findById(t){return Z(Wi.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `).eq("id",t).single()).pipe(P(n=>{if(n.error)throw n.error;return Ya(n.data)}))}create(t){return Z(Wi.from("lease").insert([t]).select().single()).pipe(P(n=>{if(n.error)throw n.error;return n.data}))}update(t,n){return Z(Wi.from("lease").update(n).eq("id",t).select().single()).pipe(P(r=>{if(r.error)throw r.error;return r.data}))}delete(t){return Z(Wi.from("lease").delete().eq("id",t)).pipe(P(n=>{if(n.error)throw n.error}))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})};var cI=()=>[1,2,3],lI=()=>["/lease","new"],dI=(e,t)=>t.id;function uI(e,t){e&1&&(k(0,"div",3),T(1,"app-lease-skeleton-card"),w())}function hI(e,t){e&1&&cn(0,uI,2,0,"div",3,bi),e&2&&ln(xr(0,cI))}function pI(e,t){if(e&1&&(k(0,"div",3),T(1,"app-lease-card",9),w()),e&2){let n=t.$implicit;_(),K("lease",n)}}function fI(e,t){if(e&1&&(cn(0,pI,2,1,"div",3,dI),k(2,"div",4)(3,"div",5),T(4,"lucide-icon",6),w(),k(5,"h2",7),b(6," Nouveau bail "),w(),k(7,"p",8),b(8," Cr\xE9ez un nouveau contrat de location "),w()()),e&2){let n=br();ln(n.leases),_(2),K("routerLink",xr(2,lI)),_(2),K("img",n.PlusCircleIcon)}}var fd=class e{constructor(t){this.leaseRepository=t}leases=[];loading=!0;ngOnInit(){this.loadLeases()}loadLeases(){vn([this.leaseRepository.findAll(),oo(1e3)]).pipe(Pe(1)).subscribe(([t])=>{this.leases=t,this.loading=!1})}PlusCircleIcon=Em;static \u0275fac=function(n){return new(n||e)(Y(Un))};static \u0275cmp=Q({type:e,selectors:[["app-home"]],decls:6,vars:1,consts:[[1,"px-2","md:px-48","py-4","md:py-8"],[1,"text-3xl","font-bold","mb-4","md:mb-8","text-gray-800","gap-2"],[1,"flex","flex-row","flex-wrap","gap-4"],[1,"w-full","md:w-80"],[1,"w-full","md:w-80","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4","hover:bg-opacity-40","transition",3,"routerLink"],[1,"h-32","flex","justify-center","items-center"],[1,"w-12","h-12","text-red-500",3,"img"],[1,"text-2xl","font-bold","leading-tight","text-center"],[1,"text-sm","text-gray-600","text-center"],[3,"lease"]],template:function(n,r){n&1&&(k(0,"div",0)(1,"div",1),b(2,"Mes locations"),w(),k(3,"div",2),an(4,hI,2,1)(5,fI,9,3),w()()),n&2&&(_(4),sn(r.loading?4:5))},dependencies:[Vl,qt,Bn,qn,Hl],encapsulation:2})};function Gt(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}var Wr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jp(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Qp(e,t){return e(t={exports:{}},t.exports),t.exports}var Gr=Qp(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,a){var s=i.locked.get(o);s===void 0?a===void 0?i.locked.set(o,[]):i.locked.set(o,[a]):a!==void 0&&(s.unshift(a),i.locked.set(o,s))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(a,s){i.isLocked(o)?i.addToLocked(o,a):(i.addToLocked(o),a())})},this.unlock=function(o){var a=i.locked.get(o);if(a!==void 0&&a.length!==0){var s=a.pop();i.locked.set(o,a),s!==void 0&&setTimeout(s,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();t.default=function(){return n.getInstance()}});Jp(Gr);var yI=Jp(Qp(function(e,t){var n=Wr&&Wr.__awaiter||function(d,u,p,h){return new(p||(p=Promise))(function(y,g){function m(R){try{L(h.next(R))}catch(M){g(M)}}function v(R){try{L(h.throw(R))}catch(M){g(M)}}function L(R){R.done?y(R.value):new p(function(M){M(R.value)}).then(m,v)}L((h=h.apply(d,u||[])).next())})},r=Wr&&Wr.__generator||function(d,u){var p,h,y,g,m={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(L){return function(R){return function(M){if(p)throw new TypeError("Generator is already executing.");for(;m;)try{if(p=1,h&&(y=2&M[0]?h.return:M[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,M[1])).done)return y;switch(h=0,y&&(M=[2&M[0],y.value]),M[0]){case 0:case 1:y=M;break;case 4:return m.label++,{value:M[1],done:!1};case 5:m.label++,h=M[1],M=[0];continue;case 7:M=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!((y=y.length>0&&y[y.length-1])||M[0]!==6&&M[0]!==2)){m=0;continue}if(M[0]===3&&(!y||M[1]>y[0]&&M[1]<y[3])){m.label=M[1];break}if(M[0]===6&&m.label<y[1]){m.label=y[1],y=M;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(M);break}y[2]&&m.ops.pop(),m.trys.pop();continue}M=u.call(d,m)}catch(U){M=[6,U],h=0}finally{p=y=0}if(5&M[0])throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}([L,R])}}},i=Wr;Object.defineProperty(t,"__esModule",{value:!0});var o="browser-tabs-lock-key",a={key:function(d){return n(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},getItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},clear:function(){return n(i,void 0,void 0,function(){return r(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return n(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},setItem:function(d,u){return n(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,u){return window.localStorage.setItem(d,u)}};function s(d){return new Promise(function(u){return setTimeout(u,d)})}function c(d){for(var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="",h=0;h<d;h++)p+=u[Math.floor(Math.random()*u.length)];return p}var l=function(){function d(u){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=u,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(u,p){return p===void 0&&(p=5e3),n(this,void 0,void 0,function(){var h,y,g,m,v,L,R;return r(this,function(M){switch(M.label){case 0:h=Date.now()+c(4),y=Date.now()+p,g=o+"-"+u,m=this.storageHandler===void 0?a:this.storageHandler,M.label=1;case 1:return Date.now()<y?[4,s(30)]:[3,8];case 2:return M.sent(),m.getItemSync(g)!==null?[3,5]:(v=this.id+"-"+u+"-"+h,[4,s(Math.floor(25*Math.random()))]);case 3:return M.sent(),m.setItemSync(g,JSON.stringify({id:this.id,iat:h,timeoutKey:v,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return M.sent(),(L=m.getItemSync(g))!==null&&(R=JSON.parse(L)).id===this.id&&R.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(g,h),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(y)];case 6:M.sent(),M.label=7;case 7:return h=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(u,p){return n(this,void 0,void 0,function(){var h=this;return r(this,function(y){return setTimeout(function(){return n(h,void 0,void 0,function(){var g,m,v;return r(this,function(L){switch(L.label){case 0:return[4,Gr.default().lock(p)];case 1:return L.sent(),this.acquiredIatSet.has(p)?(g=this.storageHandler===void 0?a:this.storageHandler,(m=g.getItemSync(u))===null?(Gr.default().unlock(p),[2]):((v=JSON.parse(m)).timeRefreshed=Date.now(),g.setItemSync(u,JSON.stringify(v)),Gr.default().unlock(p),this.refreshLockWhileAcquired(u,p),[2])):(Gr.default().unlock(p),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(u){return n(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,new Promise(function(h){var y=!1,g=Date.now(),m=!1;function v(){if(m||(window.removeEventListener("storage",v),d.removeFromWaiting(v),clearTimeout(L),m=!0),!y){y=!0;var R=50-(Date.now()-g);R>0?setTimeout(h,R):h(null)}}window.addEventListener("storage",v),d.addToWaiting(v);var L=setTimeout(v,Math.max(0,u-Date.now()))})];case 1:return p.sent(),[2]}})})},d.addToWaiting=function(u){this.removeFromWaiting(u),d.waiters!==void 0&&d.waiters.push(u)},d.removeFromWaiting=function(u){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(p){return p!==u}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(u){return u()})},d.prototype.releaseLock=function(u){return n(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,this.releaseLock__private__(u)];case 1:return[2,p.sent()]}})})},d.prototype.releaseLock__private__=function(u){return n(this,void 0,void 0,function(){var p,h,y,g;return r(this,function(m){switch(m.label){case 0:return p=this.storageHandler===void 0?a:this.storageHandler,h=o+"-"+u,(y=p.getItemSync(h))===null?[2]:(g=JSON.parse(y)).id!==this.id?[3,2]:[4,Gr.default().lock(g.iat)];case 1:m.sent(),this.acquiredIatSet.delete(g.iat),p.removeItemSync(h),Gr.default().unlock(g.iat),d.notifyWaiters(),m.label=2;case 2:return[2]}})})},d.lockCorrector=function(u){for(var p=Date.now()-5e3,h=u,y=[],g=0;;){var m=h.keySync(g);if(m===null)break;y.push(m),g++}for(var v=!1,L=0;L<y.length;L++){var R=y[L];if(R.includes(o)){var M=h.getItemSync(R);if(M!==null){var U=JSON.parse(M);(U.timeRefreshed===void 0&&U.timeAcquired<p||U.timeRefreshed!==void 0&&U.timeRefreshed<p)&&(h.removeItemSync(R),v=!0)}}}v&&d.notifyWaiters()},d.waiters=void 0,d}();t.default=l})),gI={timeoutInSeconds:60},iv={name:"auth0-spa-js",version:"2.2.0"},ov=()=>Date.now(),Ve=class e extends Error{constructor(t,n){super(n),this.error=t,this.error_description=n,Object.setPrototypeOf(this,e.prototype)}static fromPayload({error:t,error_description:n}){return new e(t,n)}},gd=class e extends Ve{constructor(t,n,r,i=null){super(t,n),this.state=r,this.appState=i,Object.setPrototypeOf(this,e.prototype)}},Ki=class e extends Ve{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,e.prototype)}},md=class e extends Ki{constructor(t){super(),this.popup=t,Object.setPrototypeOf(this,e.prototype)}},kd=class e extends Ve{constructor(t){super("cancelled","Popup closed"),this.popup=t,Object.setPrototypeOf(this,e.prototype)}},vd=class e extends Ve{constructor(t,n,r){super(t,n),this.mfa_token=r,Object.setPrototypeOf(this,e.prototype)}},es=class e extends Ve{constructor(t,n){super("missing_refresh_token",`Missing Refresh Token (audience: '${Xk(t,["default"])}', scope: '${Xk(n)}')`),this.audience=t,this.scope=n,Object.setPrototypeOf(this,e.prototype)}};function Xk(e,t=[]){return e&&!t.includes(e)?e:""}var yd=()=>window.crypto,Up=()=>{let e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",t="";return Array.from(yd().getRandomValues(new Uint8Array(43))).forEach(n=>t+=e[n%e.length]),t},Yk=e=>btoa(e),Zp=e=>{var{clientId:t}=e,n=Gt(e,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:t},n))).toString()},Jk=e=>(t=>decodeURIComponent(atob(t).split("").map(n=>"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),mI=(e,t)=>f(null,null,function*(){let n=yield fetch(e,t);return{ok:n.ok,json:yield n.json()}}),kI=(e,t,n)=>f(null,null,function*(){let r=new AbortController,i;return t.signal=r.signal,Promise.race([mI(e,t),new Promise((o,a)=>{i=setTimeout(()=>{r.abort(),a(new Error("Timeout when executing 'fetch'"))},n)})]).finally(()=>{clearTimeout(i)})}),vI=(e,t,n,r,i,o,a)=>f(null,null,function*(){return s={auth:{audience:t,scope:n},timeout:i,fetchUrl:e,fetchOptions:r,useFormData:a},c=o,new Promise(function(l,d){let u=new MessageChannel;u.port1.onmessage=function(p){p.data.error?d(new Error(p.data.error)):l(p.data),u.port1.close()},c.postMessage(s,[u.port2])});var s,c}),MI=(e,t,n,r,i,o,a=1e4)=>f(null,null,function*(){return i?vI(e,t,n,r,a,i,o):kI(e,r,a)});function wI(e,t){return f(this,null,function*(){var{baseUrl:n,timeout:r,audience:i,scope:o,auth0Client:a,useFormData:s}=e,c=Gt(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let l=s?Zp(c):JSON.stringify(c);return yield function(d,u,p,h,y,g,m){return f(this,null,function*(){let v,L=null;for(let ue=0;ue<3;ue++)try{v=yield MI(d,p,h,y,g,m,u),L=null;break}catch(Ov){L=Ov}if(L)throw L;let R=v.json,{error:M,error_description:U}=R,Ae=Gt(R,["error","error_description"]),{ok:J}=v;if(!J){let ue=U||`HTTP error. Unable to fetch ${d}`;throw M==="mfa_required"?new vd(M,ue,Ae.mfa_token):M==="missing_refresh_token"?new es(p,h):new Ve(M||"request_error",ue)}return Ae})}(`${n}/oauth/token`,r,i||"default",o,{method:"POST",body:l,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||iv))}},t,s)})}var Ja=(...e)=>{return(t=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(t))).join(" ");var t},kn=class e{constructor(t,n="@@auth0spajs@@",r){this.prefix=n,this.suffix=r,this.clientId=t.clientId,this.scope=t.scope,this.audience=t.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(t){let[n,r,i,o]=t.split("::");return new e({clientId:r,scope:o,audience:i},n)}static fromCacheEntry(t){let{scope:n,audience:r,client_id:i}=t;return new e({scope:n,audience:r,clientId:i})}},Md=class{set(t,n){localStorage.setItem(t,JSON.stringify(n))}get(t){let n=window.localStorage.getItem(t);if(n)try{return JSON.parse(n)}catch{return}}remove(t){localStorage.removeItem(t)}allKeys(){return Object.keys(window.localStorage).filter(t=>t.startsWith("@@auth0spajs@@"))}},ts=class{constructor(){this.enclosedCache=function(){let t={};return{set(n,r){t[n]=r},get(n){let r=t[n];if(r)return r},remove(n){delete t[n]},allKeys:()=>Object.keys(t)}}()}},Kp=class{constructor(t,n,r){this.cache=t,this.keyManifest=n,this.nowProvider=r||ov}setIdToken(t,n,r){return f(this,null,function*(){var i;let o=this.getIdTokenCacheKey(t);yield this.cache.set(o,{id_token:n,decodedToken:r}),yield(i=this.keyManifest)===null||i===void 0?void 0:i.add(o)})}getIdToken(t){return f(this,null,function*(){let n=yield this.cache.get(this.getIdTokenCacheKey(t.clientId));if(!n&&t.scope&&t.audience){let r=yield this.get(t);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(n)return{id_token:n.id_token,decodedToken:n.decodedToken}})}get(t,n=0){return f(this,null,function*(){var r;let i=yield this.cache.get(t.toKey());if(!i){let s=yield this.getCacheKeys();if(!s)return;let c=this.matchExistingCacheKey(t,s);c&&(i=yield this.cache.get(c))}if(!i)return;let o=yield this.nowProvider(),a=Math.floor(o/1e3);return i.expiresAt-n<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},yield this.cache.set(t.toKey(),i),i.body):(yield this.cache.remove(t.toKey()),void(yield(r=this.keyManifest)===null||r===void 0?void 0:r.remove(t.toKey()))):i.body})}set(t){return f(this,null,function*(){var n;let r=new kn({clientId:t.client_id,scope:t.scope,audience:t.audience}),i=yield this.wrapCacheEntry(t);yield this.cache.set(r.toKey(),i),yield(n=this.keyManifest)===null||n===void 0?void 0:n.add(r.toKey())})}clear(t){return f(this,null,function*(){var n;let r=yield this.getCacheKeys();r&&(yield r.filter(i=>!t||i.includes(t)).reduce((i,o)=>f(this,null,function*(){yield i,yield this.cache.remove(o)}),Promise.resolve()),yield(n=this.keyManifest)===null||n===void 0?void 0:n.clear())})}wrapCacheEntry(t){return f(this,null,function*(){let n=yield this.nowProvider();return{body:t,expiresAt:Math.floor(n/1e3)+t.expires_in}})}getCacheKeys(){return f(this,null,function*(){var t;return this.keyManifest?(t=yield this.keyManifest.get())===null||t===void 0?void 0:t.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(t){return new kn({clientId:t},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(t,n){return n.filter(r=>{var i;let o=kn.fromKey(r),a=new Set(o.scope&&o.scope.split(" ")),s=((i=t.scope)===null||i===void 0?void 0:i.split(" "))||[],c=o.scope&&s.reduce((l,d)=>l&&a.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===t.clientId&&o.audience===t.audience&&c})[0]}},Xp=class{constructor(t,n,r){this.storage=t,this.clientId=n,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(t){this.storage.save(this.storageKey,t,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},Qa=e=>typeof e=="number",CI=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],II=e=>{if(!e.id_token)throw new Error("ID token is required but missing");let t=(o=>{let a=o.split("."),[s,c,l]=a;if(a.length!==3||!s||!c||!l)throw new Error("ID token could not be decoded");let d=JSON.parse(Jk(c)),u={__raw:o},p={};return Object.keys(d).forEach(h=>{u[h]=d[h],CI.includes(h)||(p[h]=d[h])}),{encoded:{header:s,payload:c,signature:l},header:JSON.parse(Jk(s)),claims:u,user:p}})(e.id_token);if(!t.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(t.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${t.claims.iss}"`);if(!t.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(t.header.alg!=="RS256")throw new Error(`Signature algorithm of "${t.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!t.claims.aud||typeof t.claims.aud!="string"&&!Array.isArray(t.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(t.claims.aud)){if(!t.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${t.claims.aud.join(", ")}"`);if(t.claims.aud.length>1){if(!t.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(t.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${t.claims.azp}"`)}}else if(t.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${t.claims.aud}"`);if(e.nonce){if(!t.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(t.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${t.claims.nonce}"`)}if(e.max_age&&!Qa(t.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(t.claims.exp==null||!Qa(t.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!Qa(t.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let n=e.leeway||60,r=new Date(e.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(t.claims.exp+n),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(t.claims.nbf!=null&&Qa(t.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(t.claims.nbf-n),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(t.claims.auth_time!=null&&Qa(t.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(t.claims.auth_time)+e.max_age+n),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(e.organization){let o=e.organization.trim();if(o.startsWith("org_")){let a=o;if(!t.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==t.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${t.claims.org_id}"`)}else{let a=o.toLowerCase();if(!t.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==t.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${t.claims.org_name}"`)}}return t},Zr=Qp(function(e,t){var n=Wr&&Wr.__assign||function(){return n=Object.assign||function(c){for(var l,d=1,u=arguments.length;d<u;d++)for(var p in l=arguments[d])Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p]);return c},n.apply(this,arguments)};function r(c,l){if(!l)return"";var d="; "+c;return l===!0?d:d+"="+l}function i(c,l,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(u){if(typeof u.expires=="number"){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*u.expires),u.expires=p}return r("Expires",u.expires?u.expires.toUTCString():"")+r("Domain",u.domain)+r("Path",u.path)+r("Secure",u.secure)+r("SameSite",u.sameSite)}(d)}function o(c){for(var l={},d=c?c.split("; "):[],u=/(%[\dA-F]{2})+/gi,p=0;p<d.length;p++){var h=d[p].split("="),y=h.slice(1).join("=");y.charAt(0)==='"'&&(y=y.slice(1,-1));try{l[h[0].replace(u,decodeURIComponent)]=y.replace(u,decodeURIComponent)}catch{}}return l}function a(){return o(document.cookie)}function s(c,l,d){document.cookie=i(c,l,n({path:"/"},d))}t.__esModule=!0,t.encode=i,t.parse=o,t.getAll=a,t.get=function(c){return a()[c]},t.set=s,t.remove=function(c,l){s(c,"",n(n({},l),{expires:-1}))}});Jp(Zr),Zr.encode,Zr.parse,Zr.getAll;var bI=Zr.get,av=Zr.set,sv=Zr.remove,Zi={get(e){let t=bI(e);if(t!==void 0)return JSON.parse(t)},save(e,t,n){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),av(e,JSON.stringify(t),r)},remove(e,t){let n={};t?.cookieDomain&&(n.domain=t.cookieDomain),sv(e,n)}},xI={get(e){return Zi.get(e)||Zi.get(`_legacy_${e}`)},save(e,t,n){let r={};window.location.protocol==="https:"&&(r={secure:!0}),n?.daysUntilExpire&&(r.expires=n.daysUntilExpire),n?.cookieDomain&&(r.domain=n.cookieDomain),av(`_legacy_${e}`,JSON.stringify(t),r),Zi.save(e,t,n)},remove(e,t){let n={};t?.cookieDomain&&(n.domain=t.cookieDomain),sv(e,n),Zi.remove(e,t),Zi.remove(`_legacy_${e}`,t)}},SI={get(e){if(typeof sessionStorage>"u")return;let t=sessionStorage.getItem(e);return t!=null?JSON.parse(t):void 0},save(e,t){sessionStorage.setItem(e,JSON.stringify(t))},remove(e){sessionStorage.removeItem(e)}};function DI(e,t,n){var r=t===void 0?null:t,i=function(c,l){var d=atob(c);if(l){for(var u=new Uint8Array(d.length),p=0,h=d.length;p<h;++p)u[p]=d.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(u.buffer))}return d}(e,n!==void 0&&n),o=i.indexOf(`
`,10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}var Qk,ev,tv,$p,_I=(Qk="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",ev=null,tv=!1,function(e){return $p=$p||DI(Qk,ev,tv),new Worker($p,e)}),Gp={},Yp=class{constructor(t,n){this.cache=t,this.clientId=n,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(t){return f(this,null,function*(){var n;let r=new Set(((n=yield this.cache.get(this.manifestKey))===null||n===void 0?void 0:n.keys)||[]);r.add(t),yield this.cache.set(this.manifestKey,{keys:[...r]})})}remove(t){return f(this,null,function*(){let n=yield this.cache.get(this.manifestKey);if(n){let r=new Set(n.keys);return r.delete(t),r.size>0?yield this.cache.set(this.manifestKey,{keys:[...r]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(t){return`@@auth0spajs@@::${t}`}},LI={memory:()=>new ts().enclosedCache,localstorage:()=>new Md},nv=e=>LI[e],rv=e=>{let{openUrl:t,onRedirect:n}=e,r=Gt(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:t===!1||t?t:n})},Wp=new yI,wd=class{constructor(t){let n,r;if(this.userCache=new ts().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>f(this,null,function*(){yield Wp.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),t),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),t.authorizationParams)}),typeof window<"u"&&(()=>{if(!yd())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(yd().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),t.cache&&t.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),t.cache)r=t.cache;else{if(n=t.cacheLocation||"memory",!nv(n))throw new Error(`Invalid cache location "${n}"`);r=nv(n)()}this.httpTimeoutMs=t.httpTimeoutInSeconds?1e3*t.httpTimeoutInSeconds:1e4,this.cookieStorage=t.legacySameSiteCookie===!1?Zi:xI,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(a=>`auth0.${a}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=t.sessionCheckExpiryDays||1;let i=t.useCookiesForTransactions?this.cookieStorage:SI;var o;this.scope=Ja("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new Xp(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||ov,this.cacheManager=new Kp(r,r.allKeys?void 0:new Yp(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((a,s)=>a?a.startsWith("https://")?a:`https://${a}/`:`${s}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&n==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new _I)}_url(t){let n=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||iv)));return`${this.domainUrl}${t}&auth0Client=${n}`}_authorizeUrl(t){return this._url(`/authorize?${Zp(t)}`)}_verifyIdToken(t,n,r){return f(this,null,function*(){let i=yield this.nowProvider();return II({iss:this.tokenIssuer,aud:this.options.clientId,id_token:t,nonce:n,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o})}_processOrgHint(t){t?this.cookieStorage.save(this.orgHintCookieName,t,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(t,n,r){return f(this,null,function*(){let i=Yk(Up()),o=Yk(Up()),a=Up(),s=(d=>{let u=new Uint8Array(d);return(p=>{let h={"+":"-","/":"_","=":""};return p.replace(/[+/=]/g,y=>h[y])})(window.btoa(String.fromCharCode(...Array.from(u))))})(yield(d=>f(null,null,function*(){return yield yd().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d))}))(a)),c=((d,u,p,h,y,g,m,v)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),p),{scope:Ja(u,p.scope),response_type:"code",response_mode:v||"query",state:h,nonce:y,redirect_uri:m||d.authorizationParams.redirect_uri,code_challenge:g,code_challenge_method:"S256"}))(this.options,this.scope,t,i,o,s,t.redirect_uri||this.options.authorizationParams.redirect_uri||r,n?.response_mode),l=this._authorizeUrl(c);return{nonce:o,code_verifier:a,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:i,url:l}})}loginWithPopup(t,n){return f(this,null,function*(){var r;if(t=t||{},!(n=n||{}).popup&&(n.popup=(s=>{let c=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup",`left=${c},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!n.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let i=yield this._prepareAuthorizeUrl(t.authorizationParams||{},{response_mode:"web_message"},window.location.origin);n.popup.location.href=i.url;let o=yield(s=>new Promise((c,l)=>{let d,u=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(u),clearTimeout(p),window.removeEventListener("message",d,!1),l(new kd(s.popup)))},1e3),p=setTimeout(()=>{clearInterval(u),l(new md(s.popup)),window.removeEventListener("message",d,!1)},1e3*(s.timeoutInSeconds||60));d=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(p),clearInterval(u),window.removeEventListener("message",d,!1),s.popup.close(),h.data.response.error)return l(Ve.fromPayload(h.data.response));c(h.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},n),{timeoutInSeconds:n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new Ve("state_mismatch","Invalid state");let a=((r=t.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:a})})}getUser(){return f(this,null,function*(){var t;let n=yield this._getIdTokenFromCache();return(t=n?.decodedToken)===null||t===void 0?void 0:t.user})}getIdTokenClaims(){return f(this,null,function*(){var t;let n=yield this._getIdTokenFromCache();return(t=n?.decodedToken)===null||t===void 0?void 0:t.claims})}loginWithRedirect(){return f(this,arguments,function*(t={}){var n;let r=rv(t),{openUrl:i,fragment:o,appState:a}=r,s=Gt(r,["openUrl","fragment","appState"]),c=((n=s.authorizationParams)===null||n===void 0?void 0:n.organization)||this.options.authorizationParams.organization,l=yield this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:d}=l,u=Gt(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},u),{appState:a}),c&&{organization:c}));let p=o?`${d}#${o}`:d;i?yield i(p):window.location.assign(p)})}handleRedirectCallback(){return f(this,arguments,function*(t=window.location.href){let n=t.split("?").slice(1);if(n.length===0)throw new Error("There are no query params available for parsing.");let{state:r,code:i,error:o,error_description:a}=(u=>{u.indexOf("#")>-1&&(u=u.substring(0,u.indexOf("#")));let p=new URLSearchParams(u);return{state:p.get("state"),code:p.get("code")||void 0,error:p.get("error")||void 0,error_description:p.get("error_description")||void 0}})(n.join("")),s=this.transactionManager.get();if(!s)throw new Ve("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new gd(o,a||o,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new Ve("state_mismatch","Invalid state");let c=s.organization,l=s.nonce,d=s.redirect_uri;return yield this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i},d?{redirect_uri:d}:{}),{nonceIn:l,organization:c}),{appState:s.appState}})}checkSession(t){return f(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(t)}catch{}})}getTokenSilently(){return f(this,arguments,function*(t={}){var n;let r=Object.assign(Object.assign({cacheMode:"on"},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:Ja(this.scope,(n=t.authorizationParams)===null||n===void 0?void 0:n.scope)})}),i=yield((o,a)=>{let s=Gp[a];return s||(s=o().finally(()=>{delete Gp[a],s=null}),Gp[a]=s),s})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return t.detailedResponse?i:i?.access_token})}_getTokenSilently(t){return f(this,null,function*(){let{cacheMode:n}=t,r=Gt(t,["cacheMode"]);if(n!=="off"){let i=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(n!=="cache-only"){if(!(yield((i,o=3)=>f(this,null,function*(){for(let a=0;a<o;a++)if(yield i())return!0;return!1}))(()=>Wp.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new Ki;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),n!=="off"){let l=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}let i=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(r):yield this._getTokenFromIFrame(r),{id_token:o,access_token:a,oauthTokenScope:s,expires_in:c}=i;return Object.assign(Object.assign({id_token:o,access_token:a},s?{scope:s}:null),{expires_in:c})}finally{yield Wp.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return f(this,arguments,function*(t={},n={}){var r;let i=Object.assign(Object.assign({},t),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),t.authorizationParams),{scope:Ja(this.scope,(r=t.authorizationParams)===null||r===void 0?void 0:r.scope)})});return n=Object.assign(Object.assign({},gI),n),yield this.loginWithPopup(i,n),(yield this.cacheManager.get(new kn({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return f(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(t){t.clientId!==null?t.clientId=t.clientId||this.options.clientId:delete t.clientId;let n=t.logoutParams||{},{federated:r}=n,i=Gt(n,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${Zp(Object.assign({clientId:t.clientId},i))}`)+o}logout(){return f(this,arguments,function*(t={}){let n=rv(t),{openUrl:r}=n,i=Gt(n,["openUrl"]);t.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(t.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let o=this._buildLogoutUrl(i);r?yield r(o):r!==!1&&window.location.assign(o)})}_getTokenFromIFrame(t){return f(this,null,function*(){let n=Object.assign(Object.assign({},t.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!n.organization&&(n.organization=r);let{url:i,state:o,nonce:a,code_verifier:s,redirect_uri:c,scope:l,audience:d}=yield this._prepareAuthorizeUrl(n,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Ve("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let u=t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,p=yield((y,g,m=60)=>new Promise((v,L)=>{let R=window.document.createElement("iframe");R.setAttribute("width","0"),R.setAttribute("height","0"),R.style.display="none";let M=()=>{window.document.body.contains(R)&&(window.document.body.removeChild(R),window.removeEventListener("message",U,!1))},U,Ae=setTimeout(()=>{L(new Ki),M()},1e3*m);U=function(J){if(J.origin!=g||!J.data||J.data.type!=="authorization_response")return;let ue=J.source;ue&&ue.close(),J.data.response.error?L(Ve.fromPayload(J.data.response)):v(J.data.response),clearTimeout(Ae),window.removeEventListener("message",U,!1),setTimeout(M,2e3)},window.addEventListener("message",U,!1),window.document.body.appendChild(R),R.setAttribute("src",y)}))(i,this.domainUrl,u);if(o!==p.state)throw new Ve("state_mismatch","Invalid state");let h=yield this._requestToken(Object.assign(Object.assign({},t.authorizationParams),{code_verifier:s,code:p.code,grant_type:"authorization_code",redirect_uri:c,timeout:t.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:n.organization});return Object.assign(Object.assign({},h),{scope:l,oauthTokenScope:h.scope,audience:d})}catch(u){throw u.error==="login_required"&&this.logout({openUrl:!1}),u}})}_getTokenUsingRefreshToken(t){return f(this,null,function*(){let n=yield this.cacheManager.get(new kn({scope:t.authorizationParams.scope,audience:t.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(n&&n.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(t);throw new es(t.authorizationParams.audience||"default",t.authorizationParams.scope)}let r=t.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof t.timeoutInSeconds=="number"?1e3*t.timeoutInSeconds:null;try{let o=yield this._requestToken(Object.assign(Object.assign(Object.assign({},t.authorizationParams),{grant_type:"refresh_token",refresh_token:n&&n.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:t.authorizationParams.scope,oauthTokenScope:o.scope,audience:t.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(t);throw o}})}_saveEntryInCache(t){return f(this,null,function*(){let{id_token:n,decodedToken:r}=t,i=Gt(t,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:n,decodedToken:r}),yield this.cacheManager.setIdToken(this.options.clientId,t.id_token,t.decodedToken),yield this.cacheManager.set(i)})}_getIdTokenFromCache(){return f(this,null,function*(){let t=this.options.authorizationParams.audience||"default",n=yield this.cacheManager.getIdToken(new kn({clientId:this.options.clientId,audience:t,scope:this.scope})),r=this.userCache.get("@@user@@");return n&&n.id_token===r?.id_token?r:(this.userCache.set("@@user@@",n),n)})}_getEntryFromCache(i){return f(this,arguments,function*({scope:t,audience:n,clientId:r}){let o=yield this.cacheManager.get(new kn({scope:t,audience:n,clientId:r}),60);if(o&&o.access_token){let{access_token:a,oauthTokenScope:s,expires_in:c}=o,l=yield this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:a},s?{scope:s}:null),{expires_in:c})}})}_requestToken(t,n){return f(this,null,function*(){let{nonceIn:r,organization:i}=n||{},o=yield wI(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},t),this.worker),a=yield this._verifyIdToken(o.id_token,r,i);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:a,scope:t.scope,audience:t.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||a.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:a})})}exchangeToken(t){return f(this,null,function*(){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:t.subject_token,subject_token_type:t.subject_token_type,scope:Ja(t.scope,this.scope),audience:this.options.authorizationParams.audience})})}};var cv={name:"@auth0/auth0-angular",version:"2.2.3"},e2=class{static createClient(t){let n=t.get();if(!n)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new wd(F(I({},n),{auth0Client:{name:cv.name,version:cv.version,env:{"angular/core":ng.full}}}))}},Cd=new D("auth0.client");function lv(e){return typeof e!="string"}var dv=new D("auth0-angular.config"),t2=(()=>{class e{constructor(n){n&&this.set(n)}set(n){this.config=n}get(){return this.config}}return e.\u0275fac=function(n){return new(n||e)(E(dv,8))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),EI=(()=>{class e{constructor(n,r){this.location=n;try{this.router=r.get(Rr)}catch{}}navigateByUrl(n){if(this.router){this.router.navigateByUrl(n);return}this.location.replaceState(n)}}return e.\u0275fac=function(n){return new(n||e)(E(jn),E(Qe))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),uv=(()=>{class e{constructor(n){this.auth0Client=n,this.isLoadingSubject$=new ve(!0),this.refresh$=new ne,this.accessToken$=new Yt(1),this.errorSubject$=new Yt(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(co((r,i)=>({previous:r.current,current:i}),{current:null,previous:null}),Re(({previous:r,current:i})=>r!==i)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(Re(r=>!r),ao(),Oe(()=>ou(Mt(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(de(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(de(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(ao(),du(1)),this.user$=this.isAuthenticatedTrigger$.pipe(Ze(r=>r?this.auth0Client.getUser():A(null)),ao()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(Ze(r=>r?this.auth0Client.getIdTokenClaims():A(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(n){this.isLoadingSubject$.next(n)}refresh(){this.refresh$.next()}setAccessToken(n){this.accessToken$.next(n)}setError(n){this.errorSubject$.next(n)}}return e.\u0275fac=function(n){return new(n||e)(E(Cd))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ns=(()=>{class e{constructor(n,r,i,o){this.auth0Client=n,this.configFactory=r,this.navigator=i,this.authState=o,this.appStateSubject$=new Yt(1),this.ngUnsubscribe$=new ne,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let a=s=>Gs(()=>s,this.handleRedirectCallback(),Mt(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(Oe(s=>a(s).pipe(We(c=>{let l=this.configFactory.get();return this.navigator.navigateByUrl(l.errorPath||"/"),this.authState.setError(c),A(void 0)}))),ae(()=>{this.authState.setIsLoading(!1)}),di(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(n){return Z(this.auth0Client.loginWithRedirect(n))}loginWithPopup(n,r){return Z(this.auth0Client.loginWithPopup(n,r).then(()=>{this.authState.refresh()}))}logout(n){return Z(this.auth0Client.logout(n).then(()=>{(n?.openUrl===!1||n?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(n={}){return A(this.auth0Client).pipe(Ze(r=>n.detailedResponse===!0?r.getTokenSilently(F(I({},n),{detailedResponse:!0})):r.getTokenSilently(n)),ae(r=>{r&&this.authState.setAccessToken(typeof r=="string"?r:r.access_token)}),We(r=>(this.authState.setError(r),this.authState.refresh(),vt(r))))}getAccessTokenWithPopup(n){return A(this.auth0Client).pipe(Ze(r=>r.getTokenWithPopup(n)),ae(r=>{r&&this.authState.setAccessToken(r)}),We(r=>(this.authState.setError(r),this.authState.refresh(),vt(r))))}handleRedirectCallback(n){return Mt(()=>this.auth0Client.handleRedirectCallback(n)).pipe(hu(this.authState.isLoading$),ae(([r,i])=>{i||this.authState.refresh();let o=r?.appState,a=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(a)}),P(([r])=>r))}shouldHandleCallback(){return A(location.search).pipe(P(n=>{let r=new URLSearchParams(n);return(r.has("code")||r.has("error"))&&r.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return e.\u0275fac=function(n){return new(n||e)(E(Cd),E(t2),E(EI),E(uv))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Kr=(()=>{class e{constructor(n){this.auth=n}canLoad(n,r){return this.auth.isAuthenticated$.pipe(Pe(1))}canActivate(n,r){return this.redirectIfUnauthenticated(r)}canActivateChild(n,r){return this.redirectIfUnauthenticated(r)}redirectIfUnauthenticated(n){return this.auth.isAuthenticated$.pipe(ae(r=>{r||this.auth.loginWithRedirect({appState:{target:n.url}})}))}}return e.\u0275fac=function(n){return new(n||e)(E(ns))},e.\u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var AI=e=>t=>t.pipe(de(n=>e.pipe(lt(),au(n)))),TI=(()=>{class e{constructor(n,r,i,o){this.configFactory=n,this.auth0Client=r,this.authState=i,this.authService=o}intercept(n,r){let i=this.configFactory.get();if(!i.httpInterceptor?.allowedList)return r.handle(n);let o=this.authService.isLoading$.pipe(Re(a=>!a));return this.findMatchingRoute(n,i.httpInterceptor).pipe(Ze(a=>Gs(()=>a!==null,A(a).pipe(AI(o),cu("tokenOptions"),Ze(s=>this.getAccessTokenSilently(s).pipe(We(c=>this.allowAnonymous(a,c)?A(""):(this.authState.setError(c),vt(c))))),Oe(s=>{let c=s?n.clone({headers:n.headers.set("Authorization",`Bearer ${s}`)}):n;return r.handle(c)})),r.handle(n))))}getAccessTokenSilently(n){return A(this.auth0Client).pipe(Ze(r=>r.getTokenSilently(n)),ae(r=>this.authState.setAccessToken(r)),We(r=>(this.authState.refresh(),vt(r))))}stripQueryFrom(n){return n.indexOf("?")>-1&&(n=n.substr(0,n.indexOf("?"))),n.indexOf("#")>-1&&(n=n.substr(0,n.indexOf("#"))),n}canAttachToken(n,r){let i=o=>{if(!o)return!1;let a=this.stripQueryFrom(r.url);return o===a?!0:o.indexOf("*")===o.length-1&&r.url.startsWith(o.substr(0,o.length-1))};return lv(n)?n.httpMethod&&n.httpMethod!==r.method?!1:(!n.uri&&!n.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),n.uriMatcher?n.uriMatcher(r.url):i(n.uri)):i(n)}findMatchingRoute(n,r){return Z(r.allowedList).pipe(lt(i=>this.canAttachToken(i,n),null))}allowAnonymous(n,r){return!!n&&lv(n)&&!!n.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(r.error)}}return e.\u0275fac=function(n){return new(n||e)(E(t2),E(Cd),E(uv),E(ns))},e.\u0275prov=S({token:e,factory:e.\u0275fac}),e})();function hv(e){return[ns,TI,Kr,{provide:dv,useValue:e},{provide:Cd,useFactory:e2.createClient,deps:[t2]}]}var PI=()=>[1,2,3,4],OI=()=>[1,2,3,4,5];function NI(e,t){e&1&&T(0,"div",12)}function FI(e,t){e&1&&(k(0,"div",20),T(1,"div",21)(2,"div",22),w())}var Id=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-lease-view-skeleton"]],decls:27,vars:2,consts:[[1,"md:px-48","py-4","md:py-8","animate-pulse"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],[1,"w-10","h-10","rounded-full","bg-white","bg-opacity-30","backdrop-blur-md","shadow-md"],[1,"h-8","w-48","bg-gray-300","bg-opacity-40","rounded"],[1,"flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","space-y-4"],[1,"h-6","w-32","bg-gray-300","rounded"],[1,"h-4","w-64","bg-gray-300","rounded"],[1,"border-t","border-gray-300/30","my-2"],[1,"h-4","w-56","bg-gray-300","rounded"],[1,"h-4","w-72","bg-gray-300","rounded"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"h-6","w-20","bg-gray-200","rounded-full"],[1,"h-5","w-40","bg-gray-300","rounded"],[1,"h-4","w-40","bg-gray-300","rounded","mt-2"],[1,"h-3","w-64","bg-gray-200","rounded"],[1,"h-5","w-40","bg-gray-300","rounded","mt-8"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","space-y-2"],[1,"h-5","w-48","bg-gray-300","rounded"],[1,"border-t","border-gray-300/30","pt-2","space-y-2"],[1,"flex","justify-between"],[1,"h-4","w-32","bg-gray-300","rounded"],[1,"h-4","w-24","bg-gray-300","rounded"]],template:function(n,r){n&1&&(k(0,"div",0)(1,"div",1),T(2,"div",2)(3,"div",3),w(),k(4,"div",4)(5,"div",5),T(6,"div",6)(7,"div",7)(8,"hr",8)(9,"div",9)(10,"div",10)(11,"div",7),k(12,"div",11),cn(13,NI,1,0,"div",12,bi),w()(),k(15,"div",5),T(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",14)(21,"div",15),w(),k(22,"div",17),T(23,"div",18),k(24,"div",19),cn(25,FI,3,0,"div",20,bi),w()()()()),n&2&&(_(13),ln(xr(0,PI)),_(12),ln(xr(1,OI)))},encapsulation:2})};var jI=e=>["/lease",e,"property"];function VI(e,t){e&1&&T(0,"app-lease-view-skeleton")}function HI(e,t){if(e&1&&(k(0,"div",0)(1,"div",1)(2,"a",2),T(3,"lucide-icon",3),w(),k(4,"div",4),b(5),w()(),k(6,"div",5)(7,"div",6)(8,"h2",7),b(9,"Mon bien"),w(),k(10,"p",8),T(11,"lucide-icon",9),b(12),w(),T(13,"hr",10),k(14,"div",11),T(15,"lucide-icon",9),k(16,"span"),b(17),Nn(18,"titlecase"),w(),b(19," \xB7 "),k(20,"span"),b(21),w()(),k(22,"div",11),T(23,"lucide-icon",9),k(24,"span"),b(25),w(),k(26,"span"),b(27),w(),k(28,"span"),b(29),w()(),k(30,"div",11),T(31,"lucide-icon",9),k(32,"span"),b(33),w(),k(34,"span"),b(35),w()(),k(36,"div",12)(37,"span",13),b(38,"Balcon"),w(),k(39,"span",13),b(40,"Terrasse"),w(),k(41,"span",13),b(42,"Jardin"),w(),k(43,"span",13),b(44,"Garage"),w(),k(45,"span",13),b(46,"Chemin\xE9e"),w(),k(47,"span",13),b(48,"Piscine"),w()()(),k(49,"div",14)(50,"h3",15),b(51,"Propri\xE9taires"),w(),k(52,"div",16)(53,"div",17),b(54," Koussila ZEKRI "),w(),k(55,"div",18),b(56," koussila zekri@gmail.com"),T(57,"br"),b(58," +33123456789 "),w()(),k(59,"h3",19),b(60,"Locataires"),w(),k(61,"div",16)(62,"div",17),b(63," Koussila ZEKRI "),w(),k(64,"div",18),b(65," koussila zekri@gmail.com"),T(66,"br"),b(67," +33123456789 "),w()()(),k(68,"div",14)(69,"h3",15),b(70,"D\xE9tails de la location"),w(),k(71,"div",20)(72,"div",21)(73,"span",22),b(74,"P\xE9riode"),w(),k(75,"span"),b(76),Nn(77,"date"),Nn(78,"date"),w()(),k(79,"div",21)(80,"span",22),b(81,"Loyer"),w(),k(82,"span"),b(83),w()(),k(84,"div",21)(85,"span",22),b(86,"Fr\xE9quence"),w(),k(87,"span"),b(88),w()(),k(89,"div",21)(90,"span",22),b(91,"D\xE9p\xF4t de garantie"),w(),k(92,"span"),b(93),w()(),k(94,"div",21)(95,"span",22),b(96,"Statut"),w(),k(97,"span",23),b(98),w()(),k(99,"div",24)(100,"button",25),T(101,"lucide-icon",26),b(102," G\xE9n\xE9rer le bail (PDF) "),w()()()()()()),e&2){let n=br();_(3),K("img",n.ArrowLeftIcon),_(2),Ne(" ",n.lease==null||n.lease.property==null?null:n.lease.property.name," "),_(2),K("routerLink",Uo(33,jI,n.lease==null||n.lease.property==null?null:n.lease.property.id)),_(4),K("img",n.MapPinIcon),_(),_t(" ",n.lease==null||n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.street,", ",n.lease==null||n.lease.property==null||n.lease.property.address==null?null:n.lease.property.address.city," "),_(3),K("img",n.HomeIcon),_(2),Dt(Sh(18,25,n.lease==null||n.lease.property==null?null:n.lease.property.type)),_(4),Ne("",n.lease==null||n.lease.property==null||n.lease.property.surface==null?null:n.lease.property.surface.livingArea," m\xB2"),_(2),K("img",n.LayoutIcon),_(2),Ne("",n.lease==null||n.lease.property==null||n.lease.property.roomDetails==null?null:n.lease.property.roomDetails.rooms," pi\xE8ces"),_(2),Ne("\xB7 ",n.lease==null||n.lease.property==null||n.lease.property.roomDetails==null?null:n.lease.property.roomDetails.bedrooms," chambres"),_(2),Ne("\xB7 ",n.lease==null||n.lease.property==null||n.lease.property.roomDetails==null?null:n.lease.property.roomDetails.bathrooms," sdb"),_(2),K("img",n.FlameIcon),_(2),Ne("Chauffage ",n.lease==null||n.lease.property==null||n.lease.property.heating==null||n.lease.property.heating.type==null?null:n.lease.property.heating.type.toLowerCase()),_(2),Ne("\xB7 DPE ",n.lease==null||n.lease.property==null?null:n.lease.property.energyLabel),_(41),_t("",Sr(77,27,n.lease==null?null:n.lease.startDate,"dd MMM yyyy")," \u2013 ",Sr(78,30,n.lease==null?null:n.lease.endDate,"dd MMM yyyy")),_(7),_t("",n.lease==null?null:n.lease.rentAmount," ",n.lease==null?null:n.lease.rentCurrency),_(5),Dt((n.lease==null?null:n.lease.paymentFrequency)||"Mensuel"),_(5),_t("",n.lease==null?null:n.lease.securityDeposit," ",n.lease==null?null:n.lease.rentCurrency),_(5),Dt(n.lease==null||n.lease.status==null?null:n.lease.status.toLowerCase()),_(3),K("img",n.FileTextIcon)}}var bd=class e{constructor(t){this.leaseRepository=t}leaseId=null;lease;loading=!0;route=C(ct);RulerIcon=Om;ngOnInit(){this.leaseId=this.route.snapshot.paramMap.get("id"),this.leaseId&&this.leaseRepository.findById(this.leaseId).subscribe(t=>{this.lease=t,this.loading=!1})}LayoutIcon=Pm;MapPinIcon=Fl;HomeIcon=Rm;FlameIcon=Tm;ArrowLeftIcon=Nl;FileTextIcon=Am;static \u0275fac=function(n){return new(n||e)(Y(Un))};static \u0275cmp=Q({type:e,selectors:[["app-lease"]],decls:2,vars:1,consts:[[1,"p-2","md:px-48","py-4","md:py-8"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],["routerLink","/home",1,"w-10","h-10","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","rounded-full","shadow-md","hover:bg-opacity-40","transition"],[1,"w-5","h-5","text-red-500",3,"img"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-4","hover:bg-opacity-40","transition","cursor-pointer",3,"routerLink"],[1,"text-2xl","font-bold"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-300/50","my-2"],[1,"text-sm","text-gray-700","flex","items-center","gap-2"],[1,"text-xs","text-gray-600","flex","flex-wrap","gap-2","mt-2"],[1,"bg-gray-200","px-2","py-1","rounded-full"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2","cursor-pointer"],[1,"text-xl","font-bold"],[1,"border-t","border-gray-300/40","pt-2"],[1,"text-gray-800","font-medium"],[1,"text-xs","text-gray-600"],[1,"text-xl","font-bold","mt-8"],[1,"border-t","border-gray-300/40","pt-2","space-y-2","text-sm","text-gray-700"],[1,"flex","justify-between"],[1,"font-medium","text-gray-800"],[1,"capitalize"],[1,"flex","items-center","justify-center","mt-8"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","transition","flex","items-center","gap-2"],[1,"w-5","h-5",3,"img"]],template:function(n,r){n&1&&an(0,VI,1,0,"app-lease-view-skeleton")(1,HI,103,35,"div",0),n&2&&sn(r.loading?0:1)},dependencies:[Bn,qn,qt,Fh,ea,Id],encapsulation:2})};var Ld=new D("");function a2(e){return e==null||s2(e)===0}function s2(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var qI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Wt=class{static min(t){return BI(t)}static max(t){return zI(t)}static required(t){return UI(t)}static requiredTrue(t){return $I(t)}static email(t){return GI(t)}static minLength(t){return WI(t)}static maxLength(t){return ZI(t)}static pattern(t){return KI(t)}static nullValidator(t){return kv()}static compose(t){return bv(t)}static composeAsync(t){return xv(t)}};function BI(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function zI(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function UI(e){return a2(e.value)?{required:!0}:null}function $I(e){return e.value===!0?null:{required:!0}}function GI(e){return a2(e.value)||qI.test(e.value)?null:{email:!0}}function WI(e){return t=>{let n=t.value?.length??s2(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function ZI(e){return t=>{let n=t.value?.length??s2(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function KI(e){if(!e)return kv;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(a2(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function kv(e){return null}function vv(e){return e!=null}function Mv(e){return On(e)?Z(e):e}function wv(e){let t={};return e.forEach(n=>{t=n!=null?I(I({},t),n):t}),Object.keys(t).length===0?null:t}function Cv(e,t){return t.map(n=>n(e))}function XI(e){return!e.validate}function Iv(e){return e.map(t=>XI(t)?t:n=>t.validate(n))}function bv(e){if(!e)return null;let t=e.filter(vv);return t.length==0?null:function(n){return wv(Cv(n,t))}}function YI(e){return e!=null?bv(Iv(e)):null}function xv(e){if(!e)return null;let t=e.filter(vv);return t.length==0?null:function(n){let r=Cv(n,t).map(Mv);return iu(r).pipe(P(wv))}}function JI(e){return e!=null?xv(Iv(e)):null}function r2(e){return e?Array.isArray(e)?e:[e]:[]}function Sd(e,t){return Array.isArray(e)?e.includes(t):e===t}function pv(e,t){let n=r2(t);return r2(e).forEach(i=>{Sd(n,i)||n.push(i)}),n}function fv(e,t){return r2(t).filter(n=>!Sd(e,n))}var QI={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Fz=F(I({},QI),{"[class.ng-submitted]":"isSubmitted"});var rs="VALID",xd="INVALID",Xi="PENDING",is="DISABLED",Ji=class{},Dd=class extends Ji{value;source;constructor(t,n){super(),this.value=t,this.source=n}},os=class extends Ji{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},as=class extends Ji{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Yi=class extends Ji{status;source;constructor(t,n){super(),this.status=t,this.source=n}};function c2(e){return(Ed(e)?e.validators:e)||null}function eb(e){return Array.isArray(e)?YI(e):e||null}function l2(e,t){return(Ed(t)?t.asyncValidators:e)||null}function tb(e){return Array.isArray(e)?JI(e):e||null}function Ed(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function Sv(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new x(1e3,"");if(!r[n])throw new x(1001,"")}function Dv(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new x(1002,"")})}var Qi=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Lt(this.statusReactive)}set status(t){Lt(()=>this.statusReactive.set(t))}_status=Go(()=>this.statusReactive());statusReactive=Ln(void 0);get valid(){return this.status===rs}get invalid(){return this.status===xd}get pending(){return this.status==Xi}get disabled(){return this.status===is}get enabled(){return this.status!==is}errors;get pristine(){return Lt(this.pristineReactive)}set pristine(t){Lt(()=>this.pristineReactive.set(t))}_pristine=Go(()=>this.pristineReactive());pristineReactive=Ln(!0);get dirty(){return!this.pristine}get touched(){return Lt(this.touchedReactive)}set touched(t){Lt(()=>this.touchedReactive.set(t))}_touched=Go(()=>this.touchedReactive());touchedReactive=Ln(!1);get untouched(){return!this.touched}_events=new ne;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(pv(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(pv(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fv(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fv(t,this._rawAsyncValidators))}hasValidator(t){return Sd(this._rawValidators,t)}hasAsyncValidator(t){return Sd(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(F(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new as(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new as(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(F(I({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new os(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new os(!0,r))}markAsPending(t={}){this.status=Xi;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Yi(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(F(I({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=is,this.errors=null,this._forEachChild(i=>{i.disable(F(I({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dd(this.value,r)),this._events.next(new Yi(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(F(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=rs,this._forEachChild(r=>{r.enable(F(I({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(F(I({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===rs||this.status===Xi)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Dd(this.value,n)),this._events.next(new Yi(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(F(I({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?is:rs}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Xi,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=Mv(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Yi(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new xe,this.statusChanges=new xe}_calculateStatus(){return this._allControlsDisabled()?is:this.errors?xd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Xi)?Xi:this._anyControlsHaveStatus(xd)?xd:rs}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new os(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new as(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Ed(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=eb(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=tb(this._rawAsyncValidators)}},_d=class extends Qi{constructor(t,n,r){super(c2(n),l2(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){Dv(this,!0,t),Object.keys(t).forEach(r=>{Sv(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var i2=class extends _d{};var _v=new D("",{providedIn:"root",factory:()=>d2}),d2="always";function yv(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function gv(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var n2=class extends Qi{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(c2(n),l2(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ed(n)&&(n.nonNullable||n.initialValueIsDefault)&&(gv(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){yv(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){yv(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){gv(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var nb=new D("");var Lv=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=pt({type:e});static \u0275inj=et({})}return e})(),o2=class extends Qi{constructor(t,n,r){super(c2(n),l2(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){Dv(this,!1,t),t.forEach((r,i)=>{Sv(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function mv(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Ev=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return mv(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new _d(i,o)}record(n,r=null){let i=this._reduceControls(n);return new i2(i,r)}control(n,r,i){let o={};return this.useNonNullable?(mv(r)?o=r:(o.validators=r,o.asyncValidators=i),new n2(n,F(I({},o),{nonNullable:!0}))):new n2(n,r,i)}array(n,r,i){let o=n.map(a=>this._createControl(a));return new o2(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof n2)return n;if(n instanceof Qi)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=S({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Av=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:_v,useValue:n.callSetDisabledState??d2}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=pt({type:e});static \u0275inj=et({imports:[Lv]})}return e})(),Tv=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:nb,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:_v,useValue:n.callSetDisabledState??d2}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=pt({type:e});static \u0275inj=et({imports:[Lv]})}return e})();var Ad=class e{label="";placeholder="";type="text";value="";isDisabled=!1;onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t??""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onInput(t){let n=t.target.value;this.value=n,this.onChange(n)}onBlur(){this.onTouched()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-text-input"]],inputs:{label:"label",placeholder:"placeholder",type:"type"},features:[xi([{provide:Ld,useExisting:tn(()=>e),multi:!0}])],decls:5,vars:5,consts:[[1,""],["for","field",1,"block","text-sm/6","font-medium","text-gray-900"],["id","field","autocomplete","off",1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-gray-400","sm:text-sm/6",3,"input","blur","type","value","placeholder","disabled"]],template:function(n,r){n&1&&(k(0,"div",0)(1,"label",1),b(2),w(),k(3,"div",0)(4,"input",2),dn("input",function(o){return r.onInput(o)})("blur",function(){return r.onBlur()}),w()()()),n&2&&(_(2),Dt(r.label),_(2),K("type",r.type)("value",r.value)("placeholder",r.placeholder)("disabled",r.isDisabled))},encapsulation:2})};var ib=(e,t)=>t.key;function ob(e,t){if(e&1&&(k(0,"option",4),b(1),w()),e&2){let n=t.$implicit;K("value",n.key),_(),Dt(n.label)}}var Td=class e{label="";placeholder="S\xE9lectionner...";options=[];value=null;isDisabled=!1;onChange=t=>{};onTouched=()=>{};writeValue(t){this.value=t}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.isDisabled=t}onSelect(t){let n=t.target.value;this.value=n,this.onChange(n)}onBlur(){this.onTouched()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-dropdown"]],inputs:{label:"label",placeholder:"placeholder",options:"options"},features:[xi([{provide:Ld,useExisting:tn(()=>e),multi:!0}])],decls:11,vars:6,consts:[[1,"block","text-sm/6","font-medium","text-gray-900",3,"for"],[1,"mt-2","relative"],[1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-gray-400","sm:text-sm/6","appearance-none",3,"change","blur","id","value","disabled"],["value","","disabled","","hidden",""],[3,"value"],["viewBox","0 0 16 16","fill","currentColor","aria-hidden","true",1,"pointer-events-none","absolute","right-2","top-1/2","-translate-y-1/2","size-5","text-gray-500","sm:size-4"],["fill-rule","evenodd","d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"]],template:function(n,r){n&1&&(k(0,"div")(1,"label",0),b(2),w(),k(3,"div",1)(4,"select",2),dn("change",function(o){return r.onSelect(o)})("blur",function(){return r.onBlur()}),k(5,"option",3),b(6),w(),cn(7,ob,2,2,"option",4,ib),w(),uc(),k(9,"svg",5),T(10,"path",6),w()()()),n&2&&(_(),K("for",r.label),_(),Ne(" ",r.label," "),_(2),K("id",r.label)("value",r.value)("disabled",r.isDisabled),_(2),Dt(r.placeholder),_(),ln(r.options))},encapsulation:2})};var Rd=class e{constructor(t,n,r){this.fb=t;this.route=n;this.leaseRepository=r;this.propertyForm=this.fb.group({id:[""],name:["",Wt.required],type:["",Wt.required],address:this.fb.group({street:[""],additional:[""],postalCode:[""],city:[""],country:[""]}),surface:this.fb.group({livingArea:[0,Wt.required],totalArea:[null],landArea:[null],balconyArea:[null],terraceArea:[null],gardenArea:[null]}),roomDetails:this.fb.group({rooms:[0,Wt.required],bedrooms:[0,Wt.required],bathrooms:[0,Wt.required],toilets:[0,Wt.required]}),yearOfConstruction:[null],yearOfRenovation:[null],heating:this.fb.group({type:[""],DISTRIBUTION:[""]}),energyLabel:[""],features:this.fb.group({elevator:[!1],balcony:[!1],terrace:[!1],garden:[!1],cellar:[!1],garage:[!1],parking:[!1],attic:[!1],accessible:[!1],intercom:[!1],securedDoor:[!1],swimmingPool:[!1],fireplace:[!1],furnished:[!1],renovated:[!1]}),description:[""],createdAt:[null],updatedAt:[null]})}propertyForm;property=void 0;heatingTypes=["ELECTRIC","GAS","FUEL","HEAT_PUMP","DISTRICT","WOOD","SOLAR","OTHER"];heatingDistributions=["RADIATOR","UNDERFLOOR","AIR","OTHER"];propertyTypes=[{key:"STUDIO",label:"Studio"},{key:"APARTMENT",label:"Appartement"},{key:"HOUSE",label:"Maison"},{key:"DUPLEX",label:"Duplex"},{key:"VILLA",label:"Villa"},{key:"ROOM",label:"Chambre"},{key:"COMMERCIAL",label:"Local commercial"},{key:"LAND",label:"Terrain"},{key:"OTHER",label:"Autre"}];leaseId=null;loading=!0;ArrowLeftIcon=Nl;ngOnInit(){this.leaseId=this.route.snapshot.paramMap.get("id"),this.leaseId&&this.leaseRepository.findById(this.leaseId).subscribe(t=>{this.property=t.property,this.loading=!1})}submit(){}static \u0275fac=function(n){return new(n||e)(Y(Ev),Y(ct),Y(Un))};static \u0275cmp=Q({type:e,selectors:[["app-edit-property"]],decls:39,vars:17,consts:[[1,"p-2","md:px-48","py-4","md:py-8"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],["routerLink","/home",1,"w-10","h-10","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","rounded-full","shadow-md","hover:bg-opacity-40","transition"],[1,"w-5","h-5","text-red-500",3,"img"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],[1,"text-xl","font-bold"],[3,"label","placeholder"],[1,"mt-4"],[3,"label","options"],[1,"flex","gap-4"]],template:function(n,r){n&1&&(k(0,"div",0)(1,"div",1)(2,"a",2),T(3,"lucide-icon",3),w(),k(4,"div",4),b(5,"\xC9diter le bien"),w()(),k(6,"div",5)(7,"div",6)(8,"h3",7),b(9,"Informations g\xE9n\xE9rales"),w(),k(10,"div"),T(11,"app-text-input",8),w(),k(12,"div",9),T(13,"app-dropdown",10),w()(),k(14,"div",6)(15,"h3",7),b(16,"Adresse"),w(),k(17,"div"),T(18,"app-text-input",8),w(),k(19,"div"),T(20,"app-text-input",8),w(),k(21,"div",11),T(22,"app-text-input",8)(23,"app-text-input",8),w(),k(24,"div",11),T(25,"app-text-input",8)(26,"app-text-input",8),w()(),k(27,"div",6)(28,"h3",7),b(29,"D\xE9coupage"),w()(),k(30,"div",6)(31,"h3",7),b(32,"Surfaces"),w()(),k(33,"div",6)(34,"h3",7),b(35,"Performance En\xE9rgetique"),w()(),k(36,"div",6)(37,"h3",7),b(38,"Options"),w()()()()),n&2&&(_(3),K("img",r.ArrowLeftIcon),_(8),K("label","Nom du bien")("placeholder","Exemple: Studio Lausane"),_(2),K("label","Type du bien")("options",r.propertyTypes),_(5),K("label","Adresse")("placeholder","Exemple: 2 rue du vieux moulin"),_(2),K("label","Compl\xE9ment")("placeholder","Exemple: R\xE9sidence Les Lilas"),_(2),K("label","Batiment")("placeholder","Exemple: A"),_(),K("label","Etage")("placeholder","Exemple: 108"),_(2),K("label","Code postal")("placeholder","Exemple: 1005"),_(),K("label","Ville")("placeholder","Lausanne"))},dependencies:[Bn,qn,qt,Tv,Av,Ad,Td],encapsulation:2})};var Pd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-edit-contractors"]],decls:2,vars:0,template:function(n,r){n&1&&(k(0,"p"),b(1,"edit-contractors works!"),w())},encapsulation:2})};var Od=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-edit-lease-information"]],decls:2,vars:0,template:function(n,r){n&1&&(k(0,"p"),b(1,"edit-lease-information works!"),w())},encapsulation:2})};var Rv=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:fd,canActivate:[Kr]},{path:"lease/:id",component:bd,canActivate:[Kr]},{path:"lease/:id/property",component:Rd,canActivate:[Kr]},{path:"lease/:id/contractors",component:Pd,canActivate:[Kr]},{path:"lease/:id/information",component:Od,canActivate:[Kr]}];var Pv={providers:[h1(),Lh({eventCoalescing:!0}),gp(Rv),hv({domain:"bailo.eu.auth0.com",clientId:"pArbEhROiWpOaHFCprb8hm8FJrszoJyX",authorizationParams:{redirect_uri:window.location.origin}})]};var Nd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-header"]],decls:9,vars:0,consts:[[1,"header","flex","flex-row","h-16","md:h-24","justify-between","items-center","px-8","bg-white","bg-opacity-30","backdrop-blur-md","p-6","shadow-lg","text-gray-900"],[1,"text-4xl","font-bold","flex","items-center","gap-1"],["src","suisse.png",1,"h-6"],[1,"flex","flex-row","items-center","gap-4"],[1,"h-12","w-12","bg-red-600","rounded-full","flex","justify-center","items-center","text-xl","text-white","font-semibold"],[1,"font-semibold","hidden","md:block"]],template:function(n,r){n&1&&(k(0,"div",0)(1,"div",1),T(2,"img",2),b(3,"Bailo"),w(),k(4,"div",3)(5,"div",4),b(6,"KZ"),w(),k(7,"div",5),b(8,"Koussila ZEKRI"),w()()())},encapsulation:2})};var Fd=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=Q({type:e,selectors:[["app-auth-loading"]],decls:8,vars:0,consts:[[1,"fixed","inset-0","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","z-50"],[1,"text-center","space-y-4","animate-fade-in"],[1,"flex","items-center","justify-center","gap-2","text-4xl","font-bold","text-gray-800"],["src","suisse.png","alt","Logo B",1,"h-8"],[1,"text-gray-800","text-sm","font-medium","tracking-wide"]],template:function(n,r){n&1&&(k(0,"div",0)(1,"div",1)(2,"div",2),T(3,"img",3),k(4,"span"),b(5,"Bailo"),w()(),k(6,"p",4),b(7,"Connexion s\xE9curis\xE9e..."),w()()())},styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out}"]})};function ab(e,t){e&1&&T(0,"app-auth-loading")}function sb(e,t){e&1&&(k(0,"div",1,0),T(2,"app-header")(3,"router-outlet"),w())}var jd=class e{constructor(t){this.auth=t;vn([this.auth.isLoading$,oo(3e3)]).pipe(Pe(1)).subscribe(()=>{this.isLoading=!1})}isLoading=!0;static \u0275fac=function(n){return new(n||e)(Y(ns))};static \u0275cmp=Q({type:e,selectors:[["app-root"]],decls:2,vars:1,consts:[["content",""],[1,"min-h-screen","bg-gray-100"]],template:function(n,r){n&1&&an(0,ab,1,0,"app-auth-loading")(1,sb,4,0,"div",1),n&2&&sn(r.isLoading?0:1)},dependencies:[Ia,Nd,Fd],encapsulation:2})};Gh(jd,Pv).catch(e=>console.error(e));
