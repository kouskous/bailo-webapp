import{a as I,b as V,c as wn,d as e5,e as t5,f,h as u0,i as h0,l as n5,m as p0}from"./chunk-PZ5UXJ7I.js";var k2=wn(m2=>{"use strict";Object.defineProperty(m2,"__esModule",{value:!0});var g2=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};m2.default=g2});var M2=wn($a=>{"use strict";var qk=$a&&$a.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($a,"__esModule",{value:!0});var Xb=qk((p0(),t5(n5))),Yb=qk(k2()),v2=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=Xb.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var a,s,c;let l=null,d=null,u=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){let w=yield o.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=w:d=JSON.parse(w))}let m=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),v=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");m&&v&&v.length>1&&(u=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(l={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,u=null,p=406,h="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{let m=yield o.text();try{l=JSON.parse(m),Array.isArray(l)&&o.status===404&&(d=[],l=null,p=200,h="OK")}catch{o.status===404&&m===""?(p=204,h="No Content"):l={message:m}}if(l&&this.isMaybeSingle&&(!((c=l?.details)===null||c===void 0)&&c.includes("0 rows"))&&(l=null,p=200,h="OK"),l&&this.shouldThrowOnError)throw new Yb.default(l)}return{error:l,data:d,count:u,status:p,statusText:h}}));return this.shouldThrowOnError||(i=i.catch(o=>{var a,s,c;return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:`${(s=o?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(n,t)}returns(){return this}overrideTypes(){return this}};$a.default=v2});var C2=wn(Ga=>{"use strict";var Jb=Ga&&Ga.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ga,"__esModule",{value:!0});var Qb=Jb(M2()),w2=class extends Qb.default{select(n){let t=!1,r=(n??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:i,referencedTable:o=i}={}){let a=o?`${o}.order`:"order",s=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${s?`${s},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let i=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:i=r}={}){let o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(a,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var s;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),l=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${l}"; options=${c};`,a==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ga.default=w2});var pd=wn(Wa=>{"use strict";var eI=Wa&&Wa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Wa,"__esModule",{value:!0});var tI=eI(C2()),b2=class extends tI.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");let a=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${a}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let i=r?`${r}.or`:"or";return this.url.searchParams.append(i,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};Wa.default=b2});var x2=wn(Ka=>{"use strict";var nI=Ka&&Ka.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ka,"__esModule",{value:!0});var Za=nI(pd()),I2=class{constructor(n,{headers:t={},schema:r,fetch:i}){this.url=n,this.headers=t,this.schema=r,this.fetch=i}select(n,{head:t=!1,count:r}={}){let i=t?"HEAD":"GET",o=!1,a=(n??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",a),r&&(this.headers.Prefer=`count=${r}`),new Za.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let a=n.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(a.length>0){let s=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new Za.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:i,defaultToNull:o=!0}={}){let a="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),i&&s.push(`count=${i}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(n)){let c=n.reduce((l,d)=>l.concat(Object.keys(d)),[]);if(c.length>0){let l=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",l.join(","))}}return new Za.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Za.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Za.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Ka.default=I2});var Bk=wn(fd=>{"use strict";Object.defineProperty(fd,"__esModule",{value:!0});fd.version=void 0;fd.version="0.0.0-automated"});var zk=wn(yd=>{"use strict";Object.defineProperty(yd,"__esModule",{value:!0});yd.DEFAULT_HEADERS=void 0;var rI=Bk();yd.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${rI.version}`}});var $k=wn(Xa=>{"use strict";var Uk=Xa&&Xa.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Xa,"__esModule",{value:!0});var iI=Uk(x2()),oI=Uk(pd()),aI=zk(),S2=class e{constructor(n,{headers:t={},schema:r,fetch:i}={}){this.url=n,this.headers=Object.assign(Object.assign({},aI.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=i}from(n){let t=new URL(`${this.url}/${n}`);return new iI.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:i=!1,count:o}={}){let a,s=new URL(`${this.url}/rpc/${n}`),c;r||i?(a=r?"HEAD":"GET",Object.entries(t).filter(([d,u])=>u!==void 0).map(([d,u])=>[d,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([d,u])=>{s.searchParams.append(d,u)})):(a="POST",c=t);let l=Object.assign({},this.headers);return o&&(l.Prefer=`count=${o}`),new oI.default({method:a,url:s,headers:l,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Xa.default=S2});var Jk=wn(Ve=>{"use strict";var no=Ve&&Ve.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ve,"__esModule",{value:!0});Ve.PostgrestError=Ve.PostgrestBuilder=Ve.PostgrestTransformBuilder=Ve.PostgrestFilterBuilder=Ve.PostgrestQueryBuilder=Ve.PostgrestClient=void 0;var Gk=no($k());Ve.PostgrestClient=Gk.default;var Wk=no(x2());Ve.PostgrestQueryBuilder=Wk.default;var Zk=no(pd());Ve.PostgrestFilterBuilder=Zk.default;var Kk=no(C2());Ve.PostgrestTransformBuilder=Kk.default;var Xk=no(M2());Ve.PostgrestBuilder=Xk.default;var Yk=no(k2());Ve.PostgrestError=Yk.default;Ve.default={PostgrestClient:Gk.default,PostgrestQueryBuilder:Wk.default,PostgrestFilterBuilder:Zk.default,PostgrestTransformBuilder:Kk.default,PostgrestBuilder:Xk.default,PostgrestError:Yk.default}});var Iu;function xu(){return Iu}function Cn(e){let n=Iu;return Iu=e,n}var r5=Symbol("NotFound"),bs=class extends Error{name="\u0275NotFound";constructor(n){super(n)}};function pi(e){return e===r5||e?.name==="\u0275NotFound"}function _s(e,n){return Object.is(e,n)}var be=null,Is=!1,Su=1,i5=null,Ye=Symbol("SIGNAL");function F(e){let n=be;return be=e,n}function Ls(){return be}var hr={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fi(e){if(Is)throw new Error("");if(be===null)return;be.consumerOnSignalRead(e);let n=be.nextProducerIndex++;if(Rs(be),n<be.producerNode.length&&be.producerNode[n]!==e&&ko(be)){let t=be.producerNode[n];Ts(t,be.producerIndexOfThis[n])}be.producerNode[n]!==e&&(be.producerNode[n]=e,be.producerIndexOfThis[n]=ko(be)?y0(e,be,n):0),be.producerLastReadVersion[n]=e.version}function f0(){Su++}function Es(e){if(!(ko(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Su)){if(!e.producerMustRecompute(e)&&!vo(e)){Ds(e);return}e.producerRecomputeValue(e),Ds(e)}}function Du(e){if(e.liveConsumerNode===void 0)return;let n=Is;Is=!0;try{for(let t of e.liveConsumerNode)t.dirty||o5(t)}finally{Is=n}}function _u(){return be?.consumerAllowSignalWrites!==!1}function o5(e){e.dirty=!0,Du(e),e.consumerMarkedDirty?.(e)}function Ds(e){e.dirty=!1,e.lastCleanEpoch=Su}function pr(e){return e&&(e.nextProducerIndex=0),F(e)}function yi(e,n){if(F(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ko(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)Ts(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function vo(e){Rs(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Es(t),r!==t.version))return!0}return!1}function As(e){if(Rs(e),ko(e))for(let n=0;n<e.producerNode.length;n++)Ts(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function y0(e,n,t){if(g0(e),e.liveConsumerNode.length===0&&m0(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=y0(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function Ts(e,n){if(g0(e),e.liveConsumerNode.length===1&&m0(e))for(let r=0;r<e.producerNode.length;r++)Ts(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],i=e.liveConsumerNode[n];Rs(i),i.producerIndexOfThis[r]=n}}function ko(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function Rs(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function g0(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function m0(e){return e.producerNode!==void 0}function Ps(e){i5?.(e)}function Os(e,n){let t=Object.create(a5);t.computation=e,n!==void 0&&(t.equal=n);let r=()=>{if(Es(t),fi(t),t.value===mo)throw t.error;return t.value};return r[Ye]=t,Ps(t),r}var xs=Symbol("UNSET"),Ss=Symbol("COMPUTING"),mo=Symbol("ERRORED"),a5=V(I({},hr),{value:xs,dirty:!0,error:null,equal:_s,kind:"computed",producerMustRecompute(e){return e.value===xs||e.value===Ss},producerRecomputeValue(e){if(e.value===Ss)throw new Error("");let n=e.value;e.value=Ss;let t=pr(e),r,i=!1;try{r=e.computation(),F(null),i=n!==xs&&n!==mo&&r!==mo&&e.equal(n,r)}catch(o){r=mo,e.error=o}finally{yi(e,t)}if(i){e.value=n;return}e.value=r,e.version++}});function s5(){throw new Error}var k0=s5;function v0(e){k0(e)}function Lu(e){k0=e}var c5=null;function Eu(e,n){let t=Object.create(Ns);t.value=e,n!==void 0&&(t.equal=n);let r=()=>M0(t);return r[Ye]=t,Ps(t),[r,a=>gi(t,a),a=>Au(t,a)]}function M0(e){return fi(e),e.value}function gi(e,n){_u()||v0(e),e.equal(e.value,n)||(e.value=n,l5(e))}function Au(e,n){_u()||v0(e),gi(e,n(e.value))}var Ns=V(I({},hr),{equal:_s,value:void 0,kind:"signal"});function l5(e){e.version++,f0(),Du(e),c5?.(e)}function H(e){return typeof e=="function"}function mi(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Fs=mi(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function fr(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var he=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(H(r))try{r()}catch(o){n=o instanceof Fs?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{w0(o)}catch(a){n=n??[],a instanceof Fs?n=[...n,...a.errors]:n.push(a)}}if(n)throw new Fs(n)}}add(n){var t;if(n&&n!==this)if(this.closed)w0(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&fr(t,n)}remove(n){let{_finalizers:t}=this;t&&fr(t,n),n instanceof e&&n._removeParent(this)}};he.EMPTY=(()=>{let e=new he;return e.closed=!0,e})();var Tu=he.EMPTY;function js(e){return e instanceof he||e&&"closed"in e&&H(e.remove)&&H(e.add)&&H(e.unsubscribe)}function w0(e){H(e)?e():e.unsubscribe()}var jt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ki={setTimeout(e,n,...t){let{delegate:r}=ki;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=ki;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Vs(e){ki.setTimeout(()=>{let{onUnhandledError:n}=jt;if(n)n(e);else throw e})}function yr(){}var C0=Ru("C",void 0,void 0);function b0(e){return Ru("E",void 0,e)}function I0(e){return Ru("N",e,void 0)}function Ru(e,n,t){return{kind:e,value:n,error:t}}var gr=null;function vi(e){if(jt.useDeprecatedSynchronousErrorHandling){let n=!gr;if(n&&(gr={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=gr;if(gr=null,t)throw r}}else e()}function x0(e){jt.useDeprecatedSynchronousErrorHandling&&gr&&(gr.errorThrown=!0,gr.error=e)}var mr=class extends he{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,js(n)&&n.add(this)):this.destination=h5}static create(n,t,r){return new bn(n,t,r)}next(n){this.isStopped?Ou(I0(n),this):this._next(n)}error(n){this.isStopped?Ou(b0(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Ou(C0,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},d5=Function.prototype.bind;function Pu(e,n){return d5.call(e,n)}var Nu=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Hs(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Hs(r)}else Hs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Hs(t)}}},bn=class extends mr{constructor(n,t,r){super();let i;if(H(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&jt.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Pu(n.next,o),error:n.error&&Pu(n.error,o),complete:n.complete&&Pu(n.complete,o)}):i=n}this.destination=new Nu(i)}};function Hs(e){jt.useDeprecatedSynchronousErrorHandling?x0(e):Vs(e)}function u5(e){throw e}function Ou(e,n){let{onStoppedNotification:t}=jt;t&&ki.setTimeout(()=>t(e,n))}var h5={closed:!0,next:yr,error:u5,complete:yr};var Mi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Re(e){return e}function Fu(...e){return ju(e)}function ju(e){return e.length===0?Re:e.length===1?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}var Y=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=f5(t)?t:new bn(t,r,i);return vi(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=S0(r),new r((i,o)=>{let a=new bn({next:s=>{try{t(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Mi](){return this}pipe(...t){return ju(t)(this)}toPromise(t){return t=S0(t),new t((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=n=>new e(n),e})();function S0(e){var n;return(n=e??jt.Promise)!==null&&n!==void 0?n:Promise}function p5(e){return e&&H(e.next)&&H(e.error)&&H(e.complete)}function f5(e){return e&&e instanceof mr||p5(e)&&js(e)}function Vu(e){return H(e?.lift)}function G(e){return n=>{if(Vu(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function U(e,n,t,r,i){return new Hu(e,n,t,r,i)}var Hu=class extends mr{constructor(n,t,r,i,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(s){try{t(s)}catch(c){n.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function wi(){return G((e,n)=>{let t=null;e._refCount++;let r=U(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var Ci=class extends Y{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Vu(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new he;let t=this.getSubject();n.add(this.source.subscribe(U(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=he.EMPTY)}return n}refCount(){return wi()(this)}};var D0=mi(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var re=(()=>{class e extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new qs(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new D0}next(t){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){vi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tu:(this.currentObservers=null,o.push(t),new he(()=>{this.currentObservers=null,fr(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return e.create=(n,t)=>new qs(n,t),e})(),qs=class extends re{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:Tu}};var Ie=class extends re{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var Mo={now(){return(Mo.delegate||Date).now()},delegate:void 0};var In=class extends re{constructor(n=1/0,t=1/0,r=Mo){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;t||(r.push(n),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!n.closed;a+=r?1:2)n.next(o[a]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let a=t.now(),s=0;for(let c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}}};var Bs=class extends he{constructor(n,t){super()}schedule(n,t=0){return this}};var wo={setInterval(e,n,...t){let{delegate:r}=wo;return r?.setInterval?r.setInterval(e,n,...t):setInterval(e,n,...t)},clearInterval(e){let{delegate:n}=wo;return(n?.clearInterval||clearInterval)(e)},delegate:void 0};var zs=class extends Bs{constructor(n,t){super(n,t),this.scheduler=n,this.work=t,this.pending=!1}schedule(n,t=0){var r;if(this.closed)return this;this.state=n;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(n,t,r=0){return wo.setInterval(n.flush.bind(n,this),r)}recycleAsyncId(n,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&wo.clearInterval(t)}execute(n,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(n,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(n,t){let r=!1,i;try{this.work(n)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:n,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fr(r,this),n!=null&&(this.id=this.recycleAsyncId(t,n,null)),this.delay=null,super.unsubscribe()}}};var bi=class e{constructor(n,t=e.now){this.schedulerActionCtor=n,this.now=t}schedule(n,t=0,r){return new this.schedulerActionCtor(this,n).schedule(r,t)}};bi.now=Mo.now;var Us=class extends bi{constructor(n,t=bi.now){super(n,t),this.actions=[],this._active=!1}flush(n){let{actions:t}=this;if(this._active){t.push(n);return}let r;this._active=!0;do if(r=n.execute(n.state,n.delay))break;while(n=t.shift());if(this._active=!1,r){for(;n=t.shift();)n.unsubscribe();throw r}}};var y5=new Us(zs),_0=y5;var qe=new Y(e=>e.complete());function $s(e){return e&&H(e.schedule)}function qu(e){return e[e.length-1]}function Ii(e){return H(qu(e))?e.pop():void 0}function Jt(e){return $s(qu(e))?e.pop():void 0}function L0(e,n){return typeof qu(e)=="number"?e.pop():n}function A0(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})}function E0(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function kr(e){return this instanceof kr?(this.v=e,this):new kr(e)}function T0(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(i[h]=function(m){return new Promise(function(v,w){o.push([h,m,v,w])>1||c(h,m)})},y&&(i[h]=y(i[h])))}function c(h,y){try{l(r[h](y))}catch(m){p(o[0][3],m)}}function l(h){h.value instanceof kr?Promise.resolve(h.value.v).then(d,u):p(o[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function R0(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof E0=="function"?E0(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(a){return new Promise(function(s,c){a=e[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}var Gs=e=>e&&typeof e.length=="number"&&typeof e!="function";function Ws(e){return H(e?.then)}function Zs(e){return H(e[Mi])}function Ks(e){return Symbol.asyncIterator&&H(e?.[Symbol.asyncIterator])}function Xs(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function g5(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ys=g5();function Js(e){return H(e?.[Ys])}function Qs(e){return T0(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:i}=yield kr(t.read());if(i)return yield kr(void 0);yield yield kr(r)}}finally{t.releaseLock()}})}function ec(e){return H(e?.getReader)}function ie(e){if(e instanceof Y)return e;if(e!=null){if(Zs(e))return m5(e);if(Gs(e))return k5(e);if(Ws(e))return v5(e);if(Ks(e))return P0(e);if(Js(e))return M5(e);if(ec(e))return w5(e)}throw Xs(e)}function m5(e){return new Y(n=>{let t=e[Mi]();if(H(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function k5(e){return new Y(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function v5(e){return new Y(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,Vs)})}function M5(e){return new Y(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function P0(e){return new Y(n=>{C5(e,n).catch(t=>n.error(t))})}function w5(e){return P0(Qs(e))}function C5(e,n){var t,r,i,o;return A0(this,void 0,void 0,function*(){try{for(t=R0(e);r=yield t.next(),!r.done;){let a=r.value;if(n.next(a),n.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})}function it(e,n,t,r=0,i=!1){let o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function tc(e,n=0){return G((t,r)=>{t.subscribe(U(r,i=>it(r,e,()=>r.next(i),n),()=>it(r,e,()=>r.complete(),n),i=>it(r,e,()=>r.error(i),n)))})}function nc(e,n=0){return G((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function O0(e,n){return ie(e).pipe(nc(n),tc(n))}function N0(e,n){return ie(e).pipe(nc(n),tc(n))}function F0(e,n){return new Y(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function j0(e,n){return new Y(t=>{let r;return it(t,n,()=>{r=e[Ys](),it(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){t.error(a);return}o?t.complete():t.next(i)},0,!0)}),()=>H(r?.return)&&r.return()})}function rc(e,n){if(!e)throw new Error("Iterable cannot be null");return new Y(t=>{it(t,n,()=>{let r=e[Symbol.asyncIterator]();it(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function V0(e,n){return rc(Qs(e),n)}function H0(e,n){if(e!=null){if(Zs(e))return O0(e,n);if(Gs(e))return F0(e,n);if(Ws(e))return N0(e,n);if(Ks(e))return rc(e,n);if(Js(e))return j0(e,n);if(ec(e))return V0(e,n)}throw Xs(e)}function $(e,n){return n?H0(e,n):ie(e)}function O(...e){let n=Jt(e);return $(e,n)}function Vt(e,n){let t=H(e)?e:()=>e,r=i=>i.error(t());return new Y(n?i=>n.schedule(r,0,i):r)}function Bu(e){return!!e&&(e instanceof Y||H(e.lift)&&H(e.subscribe))}var xn=mi(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function q0(e){return e instanceof Date&&!isNaN(e)}function R(e,n){return G((t,r)=>{let i=0;t.subscribe(U(r,o=>{r.next(e.call(n,o,i++))}))})}var{isArray:b5}=Array;function I5(e,n){return b5(n)?e(...n):e(n)}function ic(e){return R(n=>I5(e,n))}var{isArray:x5}=Array,{getPrototypeOf:S5,prototype:D5,keys:_5}=Object;function oc(e){if(e.length===1){let n=e[0];if(x5(n))return{args:n,keys:null};if(L5(n)){let t=_5(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function L5(e){return e&&typeof e=="object"&&S5(e)===D5}function ac(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}function Ct(...e){let n=Jt(e),t=Ii(e),{args:r,keys:i}=oc(e);if(r.length===0)return $([],n);let o=new Y(E5(r,n,i?a=>ac(i,a):Re));return t?o.pipe(ic(t)):o}function E5(e,n,t=Re){return r=>{B0(n,()=>{let{length:i}=e,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)B0(n,()=>{let l=$(e[c],n),d=!1;l.subscribe(U(r,u=>{o[c]=u,d||(d=!0,s--),s||r.next(t(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function B0(e,n,t){e?it(t,e,n):n()}function z0(e,n,t,r,i,o,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&n.complete()},h=m=>l<r?y(m):c.push(m),y=m=>{o&&n.next(m),l++;let v=!1;ie(t(m,d++)).subscribe(U(n,w=>{i?.(w),o?h(w):n.next(w)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let w=c.shift();a?it(n,a,()=>y(w)):y(w)}p()}catch(w){n.error(w)}}))};return e.subscribe(U(n,h,()=>{u=!0,p()})),()=>{s?.()}}function de(e,n,t=1/0){return H(n)?de((r,i)=>R((o,a)=>n(r,o,i,a))(ie(e(r,i))),t):(typeof n=="number"&&(t=n),G((r,i)=>z0(r,i,e,t)))}function sc(e=1/0){return de(Re,e)}function U0(){return sc(1)}function xi(...e){return U0()($(e,Jt(e)))}function Ht(e){return new Y(n=>{ie(e()).subscribe(n)})}function zu(...e){let n=Ii(e),{args:t,keys:r}=oc(e),i=new Y(o=>{let{length:a}=t;if(!a){o.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;ie(t[d]).subscribe(U(o,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(r?ac(r,s):s),o.complete())}))}});return n?i.pipe(ic(n)):i}function cc(e,n,t){return Ht(()=>e()?n:t)}function Sn(e=0,n,t=_0){let r=-1;return n!=null&&($s(n)?t=n:r=n),new Y(i=>{let o=q0(e)?+e-t.now():e;o<0&&(o=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Uu(...e){let n=Jt(e),t=L0(e,1/0),r=e;return r.length?r.length===1?ie(r[0]):sc(t)($(r,n)):qe}function Be(e,n){return G((t,r)=>{let i=0;t.subscribe(U(r,o=>e.call(n,o,i++)&&r.next(o)))})}function ot(e){return G((n,t)=>{let r=null,i=!1,o;r=n.subscribe(U(t,void 0,void 0,a=>{o=ie(e(a,ot(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function $0(e,n,t,r,i){return(o,a)=>{let s=t,c=n,l=0;o.subscribe(U(a,d=>{let u=l++;c=s?e(c,d,u):(s=!0,d),r&&a.next(c)},i&&(()=>{s&&a.next(c),a.complete()})))}}function at(e,n){return H(n)?de(e,n,1):de(e,1)}function Bn(e){return G((n,t)=>{let r=!1;n.subscribe(U(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function ge(e){return e<=0?()=>qe:G((n,t)=>{let r=0;n.subscribe(U(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function $u(e){return R(()=>e)}function Co(e,n=Re){return e=e??A5,G((t,r)=>{let i,o=!0;t.subscribe(U(r,a=>{let s=n(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function A5(e,n){return e===n}function lc(e=T5){return G((n,t)=>{let r=!1;n.subscribe(U(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function T5(){return new xn}function bo(e){return G((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function bt(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Be((i,o)=>e(i,o,r)):Re,ge(1),t?Bn(n):lc(()=>new xn))}function Si(e){return e<=0?()=>qe:G((n,t)=>{let r=[];n.subscribe(U(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Gu(e,n){let t=arguments.length>=2;return r=>r.pipe(e?Be((i,o)=>e(i,o,r)):Re,Si(1),t?Bn(n):lc(()=>new xn))}function Wu(...e){let n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return R(t=>{let r=t;for(let i=0;i<n;i++){let o=r?.[e[i]];if(typeof o<"u")r=o;else return}return r})}function Io(e,n){return G($0(e,n,arguments.length>=2,!0))}function G0(e={}){let{connector:n=()=>new re,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,s,c,l=0,d=!1,u=!1,p=()=>{s?.unsubscribe(),s=void 0},h=()=>{p(),a=c=void 0,d=u=!1},y=()=>{let m=a;h(),m?.unsubscribe()};return G((m,v)=>{l++,!u&&!d&&p();let w=c=c??n();v.add(()=>{l--,l===0&&!u&&!d&&(s=Zu(y,i))}),w.subscribe(v),!a&&l>0&&(a=new bn({next:T=>w.next(T),error:T=>{u=!0,p(),s=Zu(h,t,T),w.error(T)},complete:()=>{d=!0,p(),s=Zu(h,r),w.complete()}}),ie(m).subscribe(a))})(o)}}function Zu(e,n,...t){if(n===!0){e();return}if(n===!1)return;let r=new bn({next:()=>{r.unsubscribe(),e()}});return ie(n(...t)).subscribe(r)}function Ku(e,n,t){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:i=!1,scheduler:t}=e:r=e??1/0,G0({connector:()=>new In(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Xu(...e){let n=Jt(e);return G((t,r)=>{(n?xi(e,t,n):xi(e,t)).subscribe(r)})}function ze(e,n){return G((t,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();t.subscribe(U(r,c=>{i?.unsubscribe();let l=0,d=o++;ie(e(c,d)).subscribe(i=U(r,u=>r.next(n?n(c,u,d,l++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function Di(e){return G((n,t)=>{ie(e).subscribe(U(t,()=>t.complete(),yr)),!t.closed&&n.subscribe(t)})}function se(e,n,t){let r=H(e)||n||t?{next:e,error:n,complete:t}:e;return r?G((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(U(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Re}function Yu(...e){let n=Ii(e);return G((t,r)=>{let i=e.length,o=new Array(i),a=e.map(()=>!1),s=!1;for(let c=0;c<i;c++)ie(e[c]).subscribe(U(r,l=>{o[c]=l,!s&&!a[c]&&(a[c]=!0,(s=a.every(Re))&&(a=null))},yr));t.subscribe(U(r,c=>{if(s){let l=[c,...o];r.next(n?n(...l):l)}}))})}function W0(e){let n=F(null);try{return e()}finally{F(n)}}var fc="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",D=class extends Error{code;constructor(n,t){super(yc(n,t)),this.code=n}};function R5(e){return`NG0${Math.abs(e)}`}function yc(e,n){return`${R5(e)}${n?": "+n:""}`}var _n=globalThis;function le(e){for(let n in e)if(e[n]===le)return n;throw Error("")}function Y0(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function st(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(st).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function d1(e,n){return e?n?`${e} ${n}`:e:n||""}var P5=le({__forward_ref__:le});function Le(e){return e.__forward_ref__=Le,e.toString=function(){return st(this())},e}function Pe(e){return u1(e)?e():e}function u1(e){return typeof e=="function"&&e.hasOwnProperty(P5)&&e.__forward_ref__===Le}function J0(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}function L(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ht(e){return{providers:e.providers||[],imports:e.imports||[]}}function _o(e){return O5(e,gc)}function h1(e){return _o(e)!==null}function O5(e,n){return e.hasOwnProperty(n)&&e[n]||null}function N5(e){let n=e?.[gc]??null;return n||null}function Qu(e){return e&&e.hasOwnProperty(uc)?e[uc]:null}var gc=le({\u0275prov:le}),uc=le({\u0275inj:le}),E=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=L({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function p1(e){return e&&!!e.\u0275providers}var f1=le({\u0275cmp:le}),y1=le({\u0275dir:le}),g1=le({\u0275pipe:le}),m1=le({\u0275mod:le}),So=le({\u0275fac:le}),Ir=le({__NG_ELEMENT_ID__:le}),Z0=le({__NG_ENV_ID__:le});function xr(e){return typeof e=="string"?e:e==null?"":String(e)}function Q0(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():xr(e)}function k1(e,n){throw new D(-200,e)}function mc(e,n){throw new D(-201,!1)}var e1;function ef(){return e1}function Je(e){let n=e1;return e1=e,n}function v1(e,n,t){let r=_o(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;mc(e,"Injector")}var F5={},vr=F5,t1="__NG_DI_FLAG__",n1=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=Mr(t)||0;try{return this.injector.get(n,r&8?null:vr,r)}catch(i){if(pi(i))return i;throw i}}},hc="ngTempTokenPath",j5="ngTokenPath",V5=/\n/gm,H5="\u0275",K0="__source";function q5(e,n=0){let t=xu();if(t===void 0)throw new D(-203,!1);if(t===null)return v1(e,void 0,n);{let r=B5(n),i=t.retrieve(e,r);if(pi(i)){if(r.optional)return null;throw i}return i}}function P(e,n=0){return(ef()||q5)(Pe(e),n)}function b(e,n){return P(e,Mr(n))}function Mr(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function B5(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function r1(e){let n=[];for(let t=0;t<e.length;t++){let r=Pe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new D(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=z5(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}n.push(P(i,o))}else n.push(P(r))}return n}function tf(e,n){return e[t1]=n,e.prototype[t1]=n,e}function z5(e){return e[t1]}function U5(e,n,t,r){let i=e[hc];throw n[K0]&&i.unshift(n[K0]),e.message=$5(`
`+e.message,i,t,r),e[j5]=i,e[hc]=null,e}function $5(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==H5?e.slice(2):e;let i=st(n);if(Array.isArray(n))i=n.map(st).join(" -> ");else if(typeof n=="object"){let o=[];for(let a in n)if(n.hasOwnProperty(a)){let s=n[a];o.push(a+":"+(typeof s=="string"?JSON.stringify(s):st(s)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(V5,`
  `)}`}function zn(e,n){let t=e.hasOwnProperty(So);return t?e[So]:null}function kc(e,n){e.forEach(t=>Array.isArray(t)?kc(t,n):n(t))}function M1(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Lo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function nf(e,n){let t=[];for(let r=0;r<e;r++)t.push(n);return t}function rf(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(i===1)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;){let o=i-2;e[i]=e[o],i--}e[n]=t,e[n+1]=r}}function of(e,n,t){let r=Li(e,n);return r>=0?e[r|1]=t:(r=~r,rf(e,r,n,t)),r}function vc(e,n){let t=Li(e,n);if(t>=0)return e[t|1]}function Li(e,n){return G5(e,n,1)}function G5(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){let o=r+(i-r>>1),a=e[o<<t];if(n===a)return o<<t;a>n?i=o:r=o+1}return~(i<<t)}var $n={},ut=[],Ln=new E(""),w1=new E("",-1),C1=new E(""),Do=class{get(n,t=vr){if(t===vr)throw new bs(`NullInjectorError: No provider for ${st(n)}!`);return t}};function b1(e){return e[m1]||null}function Gn(e){return e[f1]||null}function I1(e){return e[y1]||null}function af(e){return e[g1]||null}function Sr(e){return{\u0275providers:e}}function sf(e){return Sr([{provide:Ln,multi:!0,useValue:e}])}function cf(...e){return{\u0275providers:x1(!0,e),\u0275fromNgModule:!0}}function x1(e,...n){let t=[],r=new Set,i,o=a=>{t.push(a)};return kc(n,a=>{let s=a;pc(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&lf(i,o),t}function lf(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:i}=e[t];S1(i,o=>{n(o,r)})}}function pc(e,n,t,r){if(e=Pe(e),!e)return!1;let i=null,o=Qu(e),a=!o&&Gn(e);if(!o&&!a){let c=e.ngModule;if(o=Qu(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=e}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)pc(l,n,t,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let l;try{kc(o.imports,d=>{pc(d,n,t,r)&&(l||=[],l.push(d))})}finally{}l!==void 0&&lf(l,n)}if(!s){let l=zn(i)||(()=>new i);n({provide:i,useFactory:l,deps:ut},i),n({provide:C1,useValue:i,multi:!0},i),n({provide:Ln,useValue:()=>P(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let l=e;S1(c,d=>{n(d,l)})}}else return!1;return i!==e&&e.providers!==void 0}function S1(e,n){for(let t of e)p1(t)&&(t=t.\u0275providers),Array.isArray(t)?S1(t,n):n(t)}var W5=le({provide:String,useValue:le});function df(e){return e!==null&&typeof e=="object"&&W5 in e}function Z5(e){return!!(e&&e.useExisting)}function K5(e){return!!(e&&e.useFactory)}function wr(e){return typeof e=="function"}function uf(e){return!!e.useClass}var Eo=new E(""),dc={},X0={},Ju;function Ao(){return Ju===void 0&&(Ju=new Do),Ju}var De=class{},Cr=class extends De{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,o1(n,a=>this.processProvider(a)),this.records.set(w1,_i(void 0,this)),i.has("environment")&&this.records.set(De,_i(void 0,this));let o=this.records.get(Eo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(C1,ut,{self:!0}))}retrieve(n,t){let r=Mr(t)||0;try{return this.get(n,vr,r)}catch(i){if(pi(i))return i;throw i}}destroy(){xo(this),this._destroyed=!0;let n=F(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),F(n)}}onDestroy(n){return xo(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){xo(this);let t=Cn(this),r=Je(void 0),i;try{return n()}finally{Cn(t),Je(r)}}get(n,t=vr,r){if(xo(this),n.hasOwnProperty(Z0))return n[Z0](this);let i=Mr(r),o,a=Cn(this),s=Je(void 0);try{if(!(i&4)){let l=this.records.get(n);if(l===void 0){let d=eM(n)&&_o(n);d&&this.injectableDefInScope(d)?l=_i(i1(n),dc):l=null,this.records.set(n,l)}if(l!=null)return this.hydrate(n,l)}let c=i&2?Ao():this.parent;return t=i&8&&t===vr?null:t,c.get(n,t)}catch(c){if(pi(c)){if((c[hc]=c[hc]||[]).unshift(st(n)),a)throw c;return U5(c,n,"R3InjectorError",this.source)}else throw c}finally{Je(s),Cn(a)}}resolveInjectorInitializers(){let n=F(null),t=Cn(this),r=Je(void 0),i;try{let o=this.get(Ln,ut,{self:!0});for(let a of o)a()}finally{Cn(t),Je(r),F(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(st(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=Pe(n);let t=wr(n)?n:Pe(n&&n.provide),r=Y5(n);if(!wr(n)&&n.multi===!0){let i=this.records.get(t);i||(i=_i(void 0,dc,!0),i.factory=()=>r1(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=F(null);try{return t.value===X0?k1(st(n)):t.value===dc&&(t.value=X0,t.value=t.factory()),typeof t.value=="object"&&t.value&&Q5(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{F(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=Pe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function i1(e){let n=_o(e),t=n!==null?n.factory:zn(e);if(t!==null)return t;if(e instanceof E)throw new D(204,!1);if(e instanceof Function)return X5(e);throw new D(204,!1)}function X5(e){if(e.length>0)throw new D(204,!1);let t=N5(e);return t!==null?()=>t.factory(e):()=>new e}function Y5(e){if(df(e))return _i(void 0,e.useValue);{let n=D1(e);return _i(n,dc)}}function D1(e,n,t){let r;if(wr(e)){let i=Pe(e);return zn(i)||i1(i)}else if(df(e))r=()=>Pe(e.useValue);else if(K5(e))r=()=>e.useFactory(...r1(e.deps||[]));else if(Z5(e))r=()=>P(Pe(e.useExisting));else{let i=Pe(e&&(e.useClass||e.provide));if(J5(e))r=()=>new i(...r1(e.deps));else return zn(i)||i1(i)}return r}function xo(e){if(e.destroyed)throw new D(205,!1)}function _i(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function J5(e){return!!e.deps}function Q5(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function eM(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function o1(e,n){for(let t of e)Array.isArray(t)?o1(t,n):t&&p1(t)?o1(t.\u0275providers,n):n(t)}function pt(e,n){let t;e instanceof Cr?(xo(e),t=e):t=new n1(e);let r,i=Cn(t),o=Je(void 0);try{return n()}finally{Cn(i),Je(o)}}function hf(){return ef()!==void 0||xu()!=null}var qt=0,B=1,q=2,_e=3,It=4,Qe=5,Dr=6,Ei=7,pe=8,_r=9,en=10,fe=11,Ai=12,_1=13,Lr=14,et=15,Er=16,Ar=17,Tr=18,To=19,L1=20,Dn=21,Mc=22,Ro=23,ft=24,wc=25,xe=26,pf=1,E1=6,Wn=7,Po=8,Oo=9,Ne=10;function tn(e){return Array.isArray(e)&&typeof e[pf]=="object"}function Bt(e){return Array.isArray(e)&&e[pf]===!0}function A1(e){return(e.flags&4)!==0}function Zn(e){return e.componentOffset>-1}function Cc(e){return(e.flags&1)===1}function nn(e){return!!e.template}function Ti(e){return(e[q]&512)!==0}function Rr(e){return(e[q]&256)===256}var T1="svg",ff="math";function xt(e){for(;Array.isArray(e);)e=e[qt];return e}function R1(e,n){return xt(n[e])}function zt(e,n){return xt(n[e.index])}function No(e,n){return e.data[n]}function P1(e,n){return e[n]}function O1(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function St(e,n){let t=n[e];return tn(t)?t:t[qt]}function bc(e){return(e[q]&128)===128}function yf(e){return Bt(e[_e])}function Kn(e,n){return n==null?null:e[n]}function N1(e){e[Ar]=0}function F1(e){e[q]&1024||(e[q]|=1024,bc(e)&&jo(e))}function gf(e,n){for(;e>0;)n=n[Lr],e--;return n}function Fo(e){return!!(e[q]&9216||e[ft]?.dirty)}function Ic(e){e[en].changeDetectionScheduler?.notify(8),e[q]&64&&(e[q]|=1024),Fo(e)&&jo(e)}function jo(e){e[en].changeDetectionScheduler?.notify(0);let n=Un(e);for(;n!==null&&!(n[q]&8192||(n[q]|=8192,!bc(n)));)n=Un(n)}function j1(e,n){if(Rr(e))throw new D(911,!1);e[Dn]===null&&(e[Dn]=[]),e[Dn].push(n)}function mf(e,n){if(e[Dn]===null)return;let t=e[Dn].indexOf(n);t!==-1&&e[Dn].splice(t,1)}function Un(e){let n=e[_e];return Bt(n)?n[_e]:n}function kf(e){return e[Ei]??=[]}function vf(e){return e.cleanup??=[]}var Z={lFrame:Rf(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Vo=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Vo||{}),tM=0,a1=!1;function Mf(){return Z.lFrame.elementDepthCount}function wf(){Z.lFrame.elementDepthCount++}function Cf(){Z.lFrame.elementDepthCount--}function V1(){return Z.bindingsEnabled}function H1(){return Z.skipHydrationRootTNode!==null}function bf(e){return Z.skipHydrationRootTNode===e}function If(){Z.skipHydrationRootTNode=null}function X(){return Z.lFrame.lView}function Ue(){return Z.lFrame.tView}function xc(e){return Z.lFrame.contextLView=e,e[pe]}function Sc(e){return Z.lFrame.contextLView=null,e}function yt(){let e=q1();for(;e!==null&&e.type===64;)e=e.parent;return e}function q1(){return Z.lFrame.currentTNode}function xf(){let e=Z.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Ri(e,n){let t=Z.lFrame;t.currentTNode=e,t.isParent=n}function B1(){return Z.lFrame.isParent}function z1(){Z.lFrame.isParent=!1}function U1(e){J0("Must never be called in production mode"),tM=e}function $1(){return a1}function G1(e){let n=a1;return a1=e,n}function Pr(){let e=Z.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function Sf(){return Z.lFrame.bindingIndex}function Df(e){return Z.lFrame.bindingIndex=e}function Pi(){return Z.lFrame.bindingIndex++}function W1(e){let n=Z.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function _f(){return Z.lFrame.inI18n}function Lf(e,n){let t=Z.lFrame;t.bindingIndex=t.bindingRootIndex=e,Dc(n)}function Ef(){return Z.lFrame.currentDirectiveIndex}function Dc(e){Z.lFrame.currentDirectiveIndex=e}function Af(e){let n=Z.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function Z1(e){Z.lFrame.currentQueryIndex=e}function nM(e){let n=e[B];return n.type===2?n.declTNode:n.type===1?e[Qe]:null}function K1(e,n,t){if(t&4){let i=n,o=e;for(;i=i.parent,i===null&&!(t&1);)if(i=nM(o),i===null||(o=o[Lr],i.type&10))break;if(i===null)return!1;n=i,e=o}let r=Z.lFrame=Tf();return r.currentTNode=n,r.lView=e,!0}function _c(e){let n=Tf(),t=e[B];Z.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Tf(){let e=Z.lFrame,n=e===null?null:e.child;return n===null?Rf(e):n}function Rf(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Pf(){let e=Z.lFrame;return Z.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var X1=Pf;function Lc(){let e=Pf();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Of(e){return(Z.lFrame.contextLView=gf(e,Z.lFrame.contextLView))[pe]}function En(){return Z.lFrame.selectedIndex}function Xn(e){Z.lFrame.selectedIndex=e}function Y1(){let e=Z.lFrame;return No(e.tView,e.selectedIndex)}function Ec(){Z.lFrame.currentNamespace=T1}function Nf(){return Z.lFrame.currentNamespace}var Ff=!0;function Ac(){return Ff}function Tc(e){Ff=e}function s1(e,n=null,t=null,r){let i=J1(e,n,t,r);return i.resolveInjectorInitializers(),i}function J1(e,n=null,t=null,r,i=new Set){let o=[t||ut,cf(e)];return r=r||(typeof e=="object"?void 0:st(e)),new Cr(o,n||Ao(),r||null,i)}var Oe=class e{static THROW_IF_NOT_FOUND=vr;static NULL=new Do;static create(n,t){if(Array.isArray(n))return s1({name:""},t,n,"");{let r=n.name??"";return s1({name:r},n.parent,n.providers,r)}}static \u0275prov=L({token:e,providedIn:"any",factory:()=>P(w1)});static __NG_ELEMENT_ID__=-1},Ee=new E(""),Or=(()=>{class e{static __NG_ELEMENT_ID__=rM;static __NG_ENV_ID__=t=>t}return e})(),c1=class extends Or{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Rr(this._lView)}onDestroy(n){let t=this._lView;return j1(t,n),()=>mf(t,n)}};function rM(){return new c1(X())}var Qt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},ct=new E("",{providedIn:"root",factory:()=>{let e=b(De),n;return t=>{n??=e.get(Qt),n.handleError(t)}}}),jf={provide:Ln,useValue:()=>void b(Qt),multi:!0},iM=new E("",{providedIn:"root",factory:()=>{let e=b(Ee).defaultView;if(!e)return;let n=b(ct),t=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),b(Or).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function Q1(){return Sr([sf(()=>void b(iM))])}function An(e,n){let[t,r,i]=Eu(e,n?.equal),o=t,a=o[Ye];return o.set=r,o.update=i,o.asReadonly=Vf.bind(o),o}function Vf(){let e=this[Ye];if(e.readonlyFn===void 0){let n=()=>this();n[Ye]=e,e.readonlyFn=n}return e.readonlyFn}var br=class{},Ho=new E("",{providedIn:"root",factory:()=>!1});var eh=new E(""),th=new E("");var Yn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new Ie(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Y(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}return e})();function qo(...e){}var nh=(()=>{class e{static \u0275prov=L({token:e,providedIn:"root",factory:()=>new l1})}return e})(),l1=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Hi(e){return{toString:e}.toString()}var Rc="__parameters__";function yM(e){return function(...t){if(e){let r=e(...t);for(let i in r)this[i]=r[i]}}}function gM(e,n,t){return Hi(()=>{let r=yM(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Rc)?c[Rc]:Object.defineProperty(c,Rc,{value:[]})[Rc];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Vh=tf(gM("Optional"),8);function mM(e){return typeof e=="function"}var Vc=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function my(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var $t=(()=>{let e=()=>ky;return e.ngInherit=!0,e})();function ky(e){return e.type.prototype.ngOnChanges&&(e.setInput=vM),kM}function kM(){let e=My(this),n=e?.current;if(n){let t=e.previous;if(t===$n)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function vM(e,n,t,r,i){let o=this.declaredInputs[r],a=My(e)||MM(e,{previous:$n,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[o];s[o]=new Vc(l&&l.currentValue,t,c===$n),my(e,n,i,t)}var vy="__ngSimpleChanges__";function My(e){return e[vy]||null}function MM(e,n){return e[vy]=n}var Hf=[];var oe=function(e,n=null,t){for(let r=0;r<Hf.length;r++){let i=Hf[r];i(e,n,t)}};function wM(e,n,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){let a=ky(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function wy(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;a&&(e.contentHooks??=[]).push(-t,a),s&&((e.contentHooks??=[]).push(t,s),(e.contentCheckHooks??=[]).push(t,s)),c&&(e.viewHooks??=[]).push(-t,c),l&&((e.viewHooks??=[]).push(t,l),(e.viewCheckHooks??=[]).push(t,l)),d!=null&&(e.destroyHooks??=[]).push(t,d)}}function Nc(e,n,t){Cy(e,n,3,t)}function Fc(e,n,t,r){(e[q]&3)===t&&Cy(e,n,t,r)}function rh(e,n){let t=e[q];(t&3)===n&&(t&=16383,t+=1,e[q]=t)}function Cy(e,n,t,r){let i=r!==void 0?e[Ar]&65535:0,o=r??-1,a=n.length-1,s=0;for(let c=i;c<a;c++)if(typeof n[c+1]=="number"){if(s=n[c],r!=null&&s>=r)break}else n[c]<0&&(e[Ar]+=65536),(s<o||o==-1)&&(CM(e,t,n,c),e[Ar]=(e[Ar]&4294901760)+c+2),c++}function qf(e,n){oe(4,e,n);let t=F(null);try{n.call(e)}finally{F(t),oe(5,e,n)}}function CM(e,n,t,r){let i=t[r]<0,o=t[r+1],a=i?-t[r]:t[r],s=e[a];i?e[q]>>14<e[Ar]>>16&&(e[q]&3)===n&&(e[q]+=16384,qf(s,o)):qf(s,o)}var Ni=-1,jr=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function bM(e){return(e.flags&8)!==0}function IM(e){return(e.flags&16)!==0}function xM(e,n,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],a=t[r++],s=t[r++];e.setAttribute(n,a,s,o)}else{let o=i,a=t[++r];SM(o)?e.setProperty(n,o,a):e.setAttribute(n,o,a),r++}}return r}function by(e){return e===3||e===4||e===6}function SM(e){return e.charCodeAt(0)===64}function Uo(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let i=n[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?Bf(e,t,i,null,n[++r]):Bf(e,t,i,null,null))}}return e}function Bf(e,n,t,r,i){let o=0,a=e.length;if(n===-1)a=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===n){a=-1;break}else if(s>n){a=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===t){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(e.splice(a,0,n),o=a+1),e.splice(o++,0,t),i!==null&&e.splice(o++,0,i)}function Iy(e){return e!==Ni}function Hc(e){return e&32767}function DM(e){return e>>16}function qc(e,n){let t=DM(e),r=n;for(;t>0;)r=r[Lr],t--;return r}var yh=!0;function Bc(e){let n=yh;return yh=e,n}var _M=256,xy=_M-1,Sy=5,LM=0,rn={};function EM(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Ir)&&(r=t[Ir]),r==null&&(r=t[Ir]=LM++);let i=r&xy,o=1<<i;n.data[e+(i>>Sy)]|=o}function zc(e,n){let t=Dy(e,n);if(t!==-1)return t;let r=n[B];r.firstCreatePass&&(e.injectorIndex=n.length,ih(r.data,e),ih(n,null),ih(r.blueprint,null));let i=Hh(e,n),o=e.injectorIndex;if(Iy(i)){let a=Hc(i),s=qc(i,n),c=s[B].data;for(let l=0;l<8;l++)n[o+l]=s[a+l]|c[a+l]}return n[o+8]=i,o}function ih(e,n){e.push(0,0,0,0,0,0,0,0,n)}function Dy(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function Hh(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;i!==null;){if(r=Ty(i),r===null)return Ni;if(t++,i=i[Lr],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ni}function gh(e,n,t){EM(e,n,t)}function AM(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(by(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===n)return t[i+1];i=i+2}}}return null}function _y(e,n,t){if(t&8||e!==void 0)return e;mc(n,"NodeInjector")}function Ly(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=e[_r],o=Je(void 0);try{return i?i.get(n,r,t&8):v1(n,r,t&8)}finally{Je(o)}}return _y(r,n,t)}function Ey(e,n,t,r=0,i){if(e!==null){if(n[q]&2048&&!(r&2)){let a=NM(e,n,t,r,rn);if(a!==rn)return a}let o=Ay(e,n,t,r,rn);if(o!==rn)return o}return Ly(n,t,r,i)}function Ay(e,n,t,r,i){let o=PM(t);if(typeof o=="function"){if(!K1(n,e,r))return r&1?_y(i,t,r):Ly(n,t,r,i);try{let a;if(a=o(r),a==null&&!(r&8))mc(t);else return a}finally{X1()}}else if(typeof o=="number"){let a=null,s=Dy(e,n),c=Ni,l=r&1?n[et][Qe]:null;for((s===-1||r&4)&&(c=s===-1?Hh(e,n):n[s+8],c===Ni||!Uf(r,!1)?s=-1:(a=n[B],s=Hc(c),n=qc(c,n)));s!==-1;){let d=n[B];if(zf(o,s,d.data)){let u=TM(s,n,t,a,r,l);if(u!==rn)return u}c=n[s+8],c!==Ni&&Uf(r,n[B].data[s+8]===l)&&zf(o,s,n)?(a=d,s=Hc(c),n=qc(c,n)):s=-1}}return i}function TM(e,n,t,r,i,o){let a=n[B],s=a.data[e+8],c=r==null?Zn(s)&&yh:r!=a&&(s.type&3)!==0,l=i&1&&o===s,d=RM(s,a,t,c,l);return d!==null?Uc(n,a,d,s):rn}function RM(e,n,t,r,i){let o=e.providerIndexes,a=n.data,s=o&1048575,c=e.directiveStart,l=e.directiveEnd,d=o>>20,u=r?s:s+d,p=i?s+d:l;for(let h=u;h<p;h++){let y=a[h];if(h<c&&t===y||h>=c&&y.type===t)return h}if(i){let h=a[c];if(h&&nn(h)&&h.type===t)return c}return null}function Uc(e,n,t,r){let i=e[t],o=n.data;if(i instanceof jr){let a=i;a.resolving&&k1(Q0(o[t]));let s=Bc(a.canSeeViewProviders);a.resolving=!0;let c=o[t].type||o[t],l,d=a.injectImpl?Je(a.injectImpl):null,u=K1(e,r,0);try{i=e[t]=a.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&wM(t,o[t],n)}finally{d!==null&&Je(d),Bc(s),a.resolving=!1,X1()}}return i}function PM(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(Ir)?e[Ir]:void 0;return typeof n=="number"?n>=0?n&xy:OM:n}function zf(e,n,t){let r=1<<e;return!!(t[n+(e>>Sy)]&r)}function Uf(e,n){return!(e&2)&&!(e&1&&n)}var Fr=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return Ey(this._tNode,this._lView,n,Mr(r),t)}};function OM(){return new Fr(yt(),X())}function zr(e){return Hi(()=>{let n=e.prototype.constructor,t=n[So]||mh(n),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[So]||mh(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function mh(e){return u1(e)?()=>{let n=mh(Pe(e));return n&&n()}:zn(e)}function NM(e,n,t,r,i){let o=e,a=n;for(;o!==null&&a!==null&&a[q]&2048&&!Ti(a);){let s=Ay(o,a,t,r|2,rn);if(s!==rn)return s;let c=o.parent;if(!c){let l=a[L1];if(l){let d=l.get(t,rn,r);if(d!==rn)return d}c=Ty(a),a=a[Lr]}o=c}return i}function Ty(e){let n=e[B],t=n.type;return t===2?n.declTNode:t===1?e[Qe]:null}function Xo(e){return AM(yt(),e)}function FM(){return qh(yt(),X())}function qh(e,n){return new Gt(zt(e,n))}var Gt=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=FM}return e})();function Ry(e){return(e.flags&128)===128}var Bh=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Bh||{}),Py=new Map,jM=0;function VM(){return jM++}function HM(e){Py.set(e[To],e)}function kh(e){Py.delete(e[To])}var $f="__ngContext__";function Yo(e,n){tn(n)?(e[$f]=n[To],HM(n)):e[$f]=n}function Oy(e){return Fy(e[Ai])}function Ny(e){return Fy(e[It])}function Fy(e){for(;e!==null&&!Bt(e);)e=e[It];return e}var vh;function zh(e){vh=e}function jy(){if(vh!==void 0)return vh;if(typeof document<"u")return document;throw new D(210,!1)}var il=new E("",{providedIn:"root",factory:()=>qM}),qM="ng",ol=new E(""),qi=new E("",{providedIn:"platform",factory:()=>"unknown"});var al=new E("",{providedIn:"root",factory:()=>jy().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var BM="h",zM="b";var Vy="r";var Hy="di";var qy=!1,By=new E("",{providedIn:"root",factory:()=>qy});var UM=(e,n,t,r)=>{};function $M(e,n,t,r){UM(e,n,t,r)}var GM=()=>null;function zy(e,n,t=!1){return GM(e,n,t)}function Uy(e,n){let t=e.contentQueries;if(t!==null){let r=F(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],a=t[i+1];if(a!==-1){let s=e.data[a];Z1(o),s.contentQueries(2,n[a],a)}}}finally{F(r)}}}function Mh(e,n,t){Z1(0);let r=F(null);try{n(e,t)}finally{F(r)}}function $y(e,n,t){if(A1(n)){let r=F(null);try{let i=n.directiveStart,o=n.directiveEnd;for(let a=i;a<o;a++){let s=e.data[a];if(s.contentQueries){let c=t[a];s.contentQueries(1,c,a)}}}finally{F(r)}}}var Tn=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(Tn||{});var Pc;function WM(){if(Pc===void 0&&(Pc=null,_n.trustedTypes))try{Pc=_n.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Pc}function Gf(e){return WM()?.createScriptURL(e)||e}var $c=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fc})`}};function sl(e){return e instanceof $c?e.changingThisBreaksApplicationSecurity:e}function Uh(e,n){let t=Gy(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${fc})`)}return t===n}function Gy(e){return e instanceof $c&&e.getTypeName()||null}var ZM=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Wy(e){return e=String(e),e.match(ZM)?e:"unsafe:"+e}var cl=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(cl||{});function Zy(e){let n=Xy();return n?n.sanitize(cl.URL,e)||"":Uh(e,"URL")?sl(e):Wy(xr(e))}function Ky(e){let n=Xy();if(n)return Gf(n.sanitize(cl.RESOURCE_URL,e)||"");if(Uh(e,"ResourceURL"))return Gf(sl(e));throw new D(904,!1)}function KM(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?Ky:Zy}function $h(e,n,t){return KM(n,t)(e)}function Xy(){let e=X();return e&&e[en].sanitizer}function Yy(e){return e instanceof Function?e():e}function XM(e,n,t){let r=e.length;for(;;){let i=e.indexOf(n,t);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}var Jy="ng-template";function YM(e,n,t,r){let i=0;if(r){for(;i<n.length&&typeof n[i]=="string";i+=2)if(n[i]==="class"&&XM(n[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Gh(e))return!1;if(i=n.indexOf(1,i),i>-1){let o;for(;++i<n.length&&typeof(o=n[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Gh(e){return e.type===4&&e.value!==Jy}function JM(e,n,t){let r=e.type===4&&!t?Jy:e.value;return n===r}function QM(e,n,t){let r=4,i=e.attrs,o=i!==null?n3(i):0,a=!1;for(let s=0;s<n.length;s++){let c=n[s];if(typeof c=="number"){if(!a&&!Ut(r)&&!Ut(c))return!1;if(a&&Ut(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!JM(e,c,t)||c===""&&n.length===1){if(Ut(r))return!1;a=!0}}else if(r&8){if(i===null||!YM(e,i,c,t)){if(Ut(r))return!1;a=!0}}else{let l=n[++s],d=e3(c,i,Gh(e),t);if(d===-1){if(Ut(r))return!1;a=!0;continue}if(l!==""){let u;if(d>o?u="":u=i[d+1].toLowerCase(),r&2&&l!==u){if(Ut(r))return!1;a=!0}}}}return Ut(r)||a}function Ut(e){return(e&1)===0}function e3(e,n,t,r){if(n===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){let a=n[i];if(a===e)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=n[++i];for(;typeof s=="string";)s=n[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return r3(n,e)}function Qy(e,n,t=!1){for(let r=0;r<n.length;r++)if(QM(e,n[r],t))return!0;return!1}function t3(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function n3(e){for(let n=0;n<e.length;n++){let t=e[n];if(by(t))return n}return e.length}function r3(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function i3(e,n){e:for(let t=0;t<n.length;t++){let r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function Wf(e,n){return e?":not("+n.trim()+")":n}function o3(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let a=e[t];if(typeof a=="string")if(r&2){let s=e[++t];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Ut(a)&&(n+=Wf(o,i),i=""),r=a,o=o||!Ut(r);t++}return i!==""&&(n+=Wf(o,i)),n}function a3(e){return e.map(o3).join(",")}function s3(e){let n=[],t=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&n.push(o,e[++r]):i===8&&t.push(o);else{if(!Ut(i))break;i=o}r++}return t.length&&n.push(1,...t),n}var gt={};function c3(e,n){return e.createText(n)}function l3(e,n,t){e.setValue(n,t)}function eg(e,n,t){return e.createElement(n,t)}function Gc(e,n,t,r,i){e.insertBefore(n,t,r,i)}function tg(e,n,t){e.appendChild(n,t)}function Zf(e,n,t,r,i){r!==null?Gc(e,n,t,r,i):tg(e,n,t)}function ng(e,n,t){e.removeChild(null,n,t)}function d3(e,n,t){e.setAttribute(n,"style",t)}function u3(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function rg(e,n,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&xM(e,n,r),i!==null&&u3(e,n,i),o!==null&&d3(e,n,o)}function Wh(e,n,t,r,i,o,a,s,c,l,d){let u=xe+r,p=u+i,h=h3(u,p),y=typeof l=="function"?l():l;return h[B]={type:e,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:n,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function h3(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:gt);return t}function p3(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=Wh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Zh(e,n,t,r,i,o,a,s,c,l,d){let u=n.blueprint.slice();return u[qt]=i,u[q]=r|4|128|8|64|1024,(l!==null||e&&e[q]&2048)&&(u[q]|=2048),N1(u),u[_e]=u[Lr]=e,u[pe]=t,u[en]=a||e&&e[en],u[fe]=s||e&&e[fe],u[_r]=c||e&&e[_r]||null,u[Qe]=o,u[To]=VM(),u[Dr]=d,u[L1]=l,u[et]=n.type==2?e[et]:u,u}function f3(e,n,t){let r=zt(n,e),i=p3(t),o=e[en].rendererFactory,a=Kh(e,Zh(e,i,null,ig(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=a}function ig(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function og(e,n,t,r){if(t===0)return-1;let i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function Kh(e,n){return e[Ai]?e[_1][It]=n:e[Ai]=n,e[_1]=n,n}function M(e=1){ag(Ue(),X(),En()+e,!1)}function ag(e,n,t,r){if(!r)if((n[q]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Nc(n,o,t)}else{let o=e.preOrderHooks;o!==null&&Fc(n,o,0,t)}Xn(t)}var ll=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(ll||{});function wh(e,n,t,r){let i=F(null);try{let[o,a,s]=e.inputs[t],c=null;(a&ll.SignalBased)!==0&&(c=n[o][Ye]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):my(n,c,o,r)}finally{F(i)}}function sg(e,n,t,r,i){let o=En(),a=r&2;try{Xn(-1),a&&n.length>xe&&ag(e,n,xe,!1),oe(a?2:0,i,t),t(r,i)}finally{Xn(o),oe(a?3:1,i,t)}}function Xh(e,n,t){C3(e,n,t),(t.flags&64)===64&&b3(e,n,t)}function cg(e,n,t=zt){let r=n.localNames;if(r!==null){let i=n.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?t(n,e):e[a];e[i++]=s}}}function y3(e,n,t,r){let o=r.get(By,qy)||t===Tn.ShadowDom,a=e.selectRootElement(n,o);return g3(a),a}function g3(e){m3(e)}var m3=()=>null;function k3(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function v3(e,n,t,r,i,o){let a=n[B];if(Yh(e,a,n,t,r)){Zn(e)&&w3(n,e.index);return}M3(e,n,t,r,i,o)}function M3(e,n,t,r,i,o){if(e.type&3){let a=zt(e,n);t=k3(t),r=o!=null?o(r,e.value||"",t):r,i.setProperty(a,t,r)}else e.type&12}function w3(e,n){let t=St(n,e);t[q]&16||(t[q]|=64)}function C3(e,n,t){let r=t.directiveStart,i=t.directiveEnd;Zn(t)&&f3(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||zc(t,n);let o=t.initialInputs;for(let a=r;a<i;a++){let s=e.data[a],c=Uc(n,e,a,t);if(Yo(c,n),o!==null&&D3(n,a-r,c,s,t,o),nn(s)){let l=St(t.index,n);l[pe]=Uc(n,e,a,t)}}}function b3(e,n,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,a=Ef();try{Xn(o);for(let s=r;s<i;s++){let c=e.data[s],l=n[s];Dc(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&I3(c,l)}}finally{Xn(-1),Dc(a)}}function I3(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function lg(e,n){let t=e.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Qy(n,o.selectors,!1)&&(r??=[],nn(o)?r.unshift(o):r.push(o))}return r}function x3(e,n,t,r,i,o){let a=zt(e,n);S3(n[fe],a,o,e.value,t,r,i)}function S3(e,n,t,r,i,o,a){if(o==null)e.removeAttribute(n,i,t);else{let s=a==null?xr(o):a(o,r||"",i);e.setAttribute(n,i,s,t)}}function D3(e,n,t,r,i,o){let a=o[n];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];wh(r,t,c,l)}}function _3(e,n){let t=e[_r];if(!t)return;t.get(ct,null)?.(n)}function Yh(e,n,t,r,i){let o=e.inputs?.[r],a=e.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=n.data[l];wh(u,t[l],d,i),s=!0}if(o)for(let c of o){let l=t[c],d=n.data[c];wh(d,l,r,i),s=!0}return s}function L3(e,n){let t=St(n,e),r=t[B];E3(r,t);let i=t[qt];i!==null&&t[Dr]===null&&(t[Dr]=zy(i,t[_r])),oe(18),Jh(r,t,t[pe]),oe(19,t[pe])}function E3(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Jh(e,n,t){_c(n);try{let r=e.viewQuery;r!==null&&Mh(1,r,t);let i=e.template;i!==null&&sg(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Tr]?.finishViewCreation(e),e.staticContentQueries&&Uy(e,n),e.staticViewQueries&&Mh(2,e.viewQuery,t);let o=e.components;o!==null&&A3(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[q]&=-5,Lc()}}function A3(e,n){for(let t=0;t<n.length;t++)L3(e,n[t])}function dl(e,n,t,r){let i=F(null);try{let o=n.tView,s=e[q]&4096?4096:16,c=Zh(e,o,t,s,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[n.index];c[Er]=l;let d=e[Tr];return d!==null&&(c[Tr]=d.createEmbeddedView(o)),Jh(o,c,t),c}finally{F(i)}}function Fi(e,n){return!n||n.firstChild===null||Ry(e)}var Kf=!1,T3=new E(""),R3;function Qh(e,n){return R3(e,n)}var on=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(on||{});function ul(e){return(e.flags&32)===32}function Oi(e,n,t,r,i){if(r!=null){let o,a=!1;Bt(r)?o=r:tn(r)&&(a=!0,r=r[qt]);let s=xt(r);e===0&&t!==null?i==null?tg(n,t,s):Gc(n,t,s,i||null,!0):e===1&&t!==null?Gc(n,t,s,i||null,!0):e===2?ng(n,s,a):e===3&&n.destroyNode(s),o!=null&&z3(n,e,o,t,i)}}function P3(e,n){dg(e,n),n[qt]=null,n[Qe]=null}function O3(e,n,t,r,i,o){r[qt]=i,r[Qe]=n,pl(e,r,t,1,i,o)}function dg(e,n){n[en].changeDetectionScheduler?.notify(9),pl(e,n,n[fe],2,null,null)}function N3(e){let n=e[Ai];if(!n)return oh(e[B],e);for(;n;){let t=null;if(tn(n))t=n[Ai];else{let r=n[Ne];r&&(t=r)}if(!t){for(;n&&!n[It]&&n!==e;)tn(n)&&oh(n[B],n),n=n[_e];n===null&&(n=e),tn(n)&&oh(n[B],n),t=n&&n[It]}n=t}}function ep(e,n){let t=e[Oo],r=t.indexOf(n);t.splice(r,1)}function hl(e,n){if(Rr(n))return;let t=n[fe];t.destroyNode&&pl(e,n,t,3,null,null),N3(n)}function oh(e,n){if(Rr(n))return;let t=F(null);try{n[q]&=-129,n[q]|=256,n[ft]&&As(n[ft]),j3(e,n),F3(e,n),n[B].type===1&&n[fe].destroy();let r=n[Er];if(r!==null&&Bt(n[_e])){r!==n[_e]&&ep(r,n);let i=n[Tr];i!==null&&i.detachView(e)}kh(n)}finally{F(t)}}function F3(e,n){let t=e.cleanup,r=n[Ei];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let s=t[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[t[a+1]];t[a].call(s)}r!==null&&(n[Ei]=null);let i=n[Dn];if(i!==null){n[Dn]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=n[Ro];if(o!==null){n[Ro]=null;for(let a of o)a.destroy()}}function j3(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=n[t[r]];if(!(i instanceof jr)){let o=t[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];oe(4,s,c);try{c.call(s)}finally{oe(5,s,c)}}else{oe(4,i,o);try{o.call(i)}finally{oe(5,i,o)}}}}}function ug(e,n,t){return V3(e,n.parent,t)}function V3(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[qt];if(Zn(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Tn.None||i===Tn.Emulated)return null}return zt(r,t)}function hg(e,n,t){return q3(e,n,t)}function H3(e,n,t){return e.type&40?zt(e,t):null}var q3=H3,Xf;function tp(e,n,t,r){let i=ug(e,r,n),o=n[fe],a=r.parent||n[Qe],s=hg(a,r,n);if(i!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)Zf(o,i,t[c],s,!1);else Zf(o,i,t,s,!1);Xf!==void 0&&Xf(o,r,n,t,i)}function Bo(e,n){if(n!==null){let t=n.type;if(t&3)return zt(n,e);if(t&4)return Ch(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return Bo(e,r);{let i=e[n.index];return Bt(i)?Ch(-1,i):xt(i)}}else{if(t&128)return Bo(e,n.next);if(t&32)return Qh(n,e)()||xt(e[n.index]);{let r=pg(e,n);if(r!==null){if(Array.isArray(r))return r[0];let i=Un(e[et]);return Bo(i,r)}else return Bo(e,n.next)}}}return null}function pg(e,n){if(n!==null){let r=e[et][Qe],i=n.projection;return r.projection[i]}return null}function Ch(e,n){let t=Ne+e+1;if(t<n.length){let r=n[t],i=r[B].firstChild;if(i!==null)return Bo(r,i)}return n[Wn]}function np(e,n,t,r,i,o,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let s=r[t.index],c=t.type;if(a&&n===0&&(s&&Yo(xt(s),r),t.flags|=2),!ul(t))if(c&8)np(e,n,t.child,r,i,o,!1),Oi(n,e,i,s,o);else if(c&32){let l=Qh(t,r),d;for(;d=l();)Oi(n,e,i,d,o);Oi(n,e,i,s,o)}else c&16?fg(e,n,r,t,i,o):Oi(n,e,i,s,o);t=a?t.projectionNext:t.next}}function pl(e,n,t,r,i,o){np(t,r,e.firstChild,n,i,o,!1)}function B3(e,n,t){let r=n[fe],i=ug(e,t,n),o=t.parent||n[Qe],a=hg(o,t,n);fg(r,0,n,t,i,a)}function fg(e,n,t,r,i,o){let a=t[et],c=a[Qe].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Oi(n,e,i,d,o)}else{let l=c,d=a[_e];Ry(r)&&(l.flags|=128),np(e,n,l,d,i,o,!0)}}function z3(e,n,t,r,i){let o=t[Wn],a=xt(t);o!==a&&Oi(n,e,r,o,i);for(let s=Ne;s<t.length;s++){let c=t[s];pl(c[B],c,e,n,r,o)}}function U3(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:on.DashCase;i==null?e.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=on.Important),e.setStyle(t,r,i,o))}}function $o(e,n,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(xt(o)),Bt(o)&&yg(o,r);let a=t.type;if(a&8)$o(e,n,t.child,r);else if(a&32){let s=Qh(t,n),c;for(;c=s();)r.push(c)}else if(a&16){let s=pg(n,t);if(Array.isArray(s))r.push(...s);else{let c=Un(n[et]);$o(c[B],c,s,r,!0)}}t=i?t.projectionNext:t.next}return r}function yg(e,n){for(let t=Ne;t<e.length;t++){let r=e[t],i=r[B].firstChild;i!==null&&$o(r[B],r,i,n)}e[Wn]!==e[qt]&&n.push(e[Wn])}function gg(e){if(e[wc]!==null){for(let n of e[wc])n.impl.addSequence(n);e[wc].length=0}}var mg=[];function $3(e){return e[ft]??G3(e)}function G3(e){let n=mg.pop()??Object.create(Z3);return n.lView=e,n}function W3(e){e.lView[ft]!==e&&(e.lView=null,mg.push(e))}var Z3=V(I({},hr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{jo(e.lView)},consumerOnSignalRead(){this.lView[ft]=this}});function K3(e){let n=e[ft]??Object.create(X3);return n.lView=e,n}var X3=V(I({},hr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=Un(e.lView);for(;n&&!kg(n[B]);)n=Un(n);n&&F1(n)},consumerOnSignalRead(){this.lView[ft]=this}});function kg(e){return e.type!==2}function vg(e){if(e[Ro]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Ro])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[q]&8192)}}var Y3=100;function rp(e,n=0){let r=e[en].rendererFactory,i=!1;i||r.begin?.();try{J3(e,n)}finally{i||r.end?.()}}function J3(e,n){let t=$1();try{G1(!0),bh(e,n);let r=0;for(;Fo(e);){if(r===Y3)throw new D(103,!1);r++,bh(e,1)}}finally{G1(t)}}function Mg(e,n){U1(n?Vo.Exhaustive:Vo.OnlyDirtyViews);try{rp(e)}finally{U1(Vo.Off)}}function Q3(e,n,t,r){if(Rr(n))return;let i=n[q],o=!1,a=!1;_c(n);let s=!0,c=null,l=null;o||(kg(e)?(l=$3(n),c=pr(l)):Ls()===null?(s=!1,l=K3(n),c=pr(l)):n[ft]&&(As(n[ft]),n[ft]=null));try{N1(n),Df(e.bindingStartIndex),t!==null&&sg(e,n,t,2,r);let d=(i&3)===3;if(!o)if(d){let h=e.preOrderCheckHooks;h!==null&&Nc(n,h,null)}else{let h=e.preOrderHooks;h!==null&&Fc(n,h,0,null),rh(n,0)}if(a||ew(n),vg(n),wg(n,0),e.contentQueries!==null&&Uy(e,n),!o)if(d){let h=e.contentCheckHooks;h!==null&&Nc(n,h)}else{let h=e.contentHooks;h!==null&&Fc(n,h,1),rh(n,1)}nw(e,n);let u=e.components;u!==null&&bg(n,u,0);let p=e.viewQuery;if(p!==null&&Mh(2,p,r),!o)if(d){let h=e.viewCheckHooks;h!==null&&Nc(n,h)}else{let h=e.viewHooks;h!==null&&Fc(n,h,2),rh(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Mc]){for(let h of n[Mc])h();n[Mc]=null}o||(gg(n),n[q]&=-73)}catch(d){throw o||jo(n),d}finally{l!==null&&(yi(l,c),s&&W3(l)),Lc()}}function wg(e,n){for(let t=Oy(e);t!==null;t=Ny(t))for(let r=Ne;r<t.length;r++){let i=t[r];Cg(i,n)}}function ew(e){for(let n=Oy(e);n!==null;n=Ny(n)){if(!(n[q]&2))continue;let t=n[Oo];for(let r=0;r<t.length;r++){let i=t[r];F1(i)}}}function tw(e,n,t){oe(18);let r=St(n,e);Cg(r,t),oe(19,r[pe])}function Cg(e,n){bc(e)&&bh(e,n)}function bh(e,n){let r=e[B],i=e[q],o=e[ft],a=!!(n===0&&i&16);if(a||=!!(i&64&&n===0),a||=!!(i&1024),a||=!!(o?.dirty&&vo(o)),a||=!1,o&&(o.dirty=!1),e[q]&=-9217,a)Q3(r,e,r.template,e[pe]);else if(i&8192){let s=F(null);try{vg(e),wg(e,1);let c=r.components;c!==null&&bg(e,c,1),gg(e)}finally{F(s)}}}function bg(e,n,t){for(let r=0;r<n.length;r++)tw(e,n[r],t)}function nw(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Xn(~i);else{let o=i,a=t[++r],s=t[++r];Lf(a,o);let c=n[o];oe(24,c),s(2,c),oe(25,c)}}}finally{Xn(-1)}}function ip(e,n){let t=$1()?64:1088;for(e[en].changeDetectionScheduler?.notify(n);e;){e[q]|=t;let r=Un(e);if(Ti(e)&&!r)return e;e=r}return null}function Ig(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function xg(e,n){let t=Ne+n;if(t<e.length)return e[t]}function Jo(e,n,t,r=!0){let i=n[B];if(rw(i,n,e,t),r){let a=Ch(t,e),s=n[fe],c=s.parentNode(e[Wn]);c!==null&&O3(i,e[Qe],s,n,c,a)}let o=n[Dr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Sg(e,n){let t=Go(e,n);return t!==void 0&&hl(t[B],t),t}function Go(e,n){if(e.length<=Ne)return;let t=Ne+n,r=e[t];if(r){let i=r[Er];i!==null&&i!==e&&ep(i,r),n>0&&(e[t-1][It]=r[It]);let o=Lo(e,Ne+n);P3(r[B],r);let a=o[Tr];a!==null&&a.detachView(o[B]),r[_e]=null,r[It]=null,r[q]&=-129}return r}function rw(e,n,t,r){let i=Ne+r,o=t.length;r>0&&(t[i-1][It]=n),r<o-Ne?(n[It]=t[i],M1(t,Ne+r,n)):(t.push(n),n[It]=null),n[_e]=t;let a=n[Er];a!==null&&t!==a&&Dg(a,n);let s=n[Tr];s!==null&&s.insertView(e),Ic(n),n[q]|=128}function Dg(e,n){let t=e[Oo],r=n[_e];if(tn(r))e[q]|=2;else{let i=r[_e][et];n[et]!==i&&(e[q]|=2)}t===null?e[Oo]=[n]:t.push(n)}var Vr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[B];return $o(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[pe]}set context(n){this._lView[pe]=n}get destroyed(){return Rr(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[_e];if(Bt(n)){let t=n[Po],r=t?t.indexOf(this):-1;r>-1&&(Go(n,r),Lo(t,r))}this._attachedToViewContainer=!1}hl(this._lView[B],this._lView)}onDestroy(n){j1(this._lView,n)}markForCheck(){ip(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[q]&=-129}reattach(){Ic(this._lView),this._lView[q]|=128}detectChanges(){this._lView[q]|=1024,rp(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[_r].get(T3,Kf)}catch{this.exhaustive=Kf}}attachToViewContainerRef(){if(this._appRef)throw new D(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Ti(this._lView),t=this._lView[Er];t!==null&&!n&&ep(t,this._lView),dg(this._lView[B],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new D(902,!1);this._appRef=n;let t=Ti(this._lView),r=this._lView[Er];r!==null&&!t&&Dg(r,this._lView),Ic(this._lView)}};function fl(e,n,t,r,i){let o=e.data[n];if(o===null)o=iw(e,n,t,r,i),_f()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let a=xf();o.injectorIndex=a===null?-1:a.injectorIndex}return Ri(o,!0),o}function iw(e,n,t,r,i){let o=q1(),a=B1(),s=a?o:o&&o.parent,c=e.data[n]=aw(e,s,t,n,r,i);return ow(e,c,o,a),c}function ow(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function aw(e,n,t,r,i,o){let a=n?n.injectorIndex:-1,s=0;return H1()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var QT=new RegExp(`^(\\d+)*(${zM}|${BM})*(.*)`);function sw(e){let n=e[E1]??[],r=e[_e][fe],i=[];for(let o of n)o.data[Hy]!==void 0?i.push(o):cw(o,r);e[E1]=i}function cw(e,n){let t=0,r=e.firstChild;if(r){let i=e.data[Vy];for(;t<i;){let o=r.nextSibling;ng(n,r,!1),r=o,t++}}}var lw=()=>null,dw=()=>null;function Wc(e,n){return lw(e,n)}function _g(e,n,t){return dw(e,n,t)}var Lg=class{},yl=class{},Ih=class{resolveComponentFactory(n){throw new D(917,!1)}},Qo=class{static NULL=new Ih},Hr=class{},sn=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>uw()}return e})();function uw(){let e=X(),n=yt(),t=St(n.index,e);return(tn(t)?t:e)[fe]}var Eg=(()=>{class e{static \u0275prov=L({token:e,providedIn:"root",factory:()=>null})}return e})();var jc={},xh=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let i=this.injector.get(n,jc,r);return i!==jc||t===jc?i:this.parentInjector.get(n,t,r)}};function Yf(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(n!==null)for(let a=0;a<n.length;a++){let s=n[a];if(typeof s=="number")o=s;else if(o==1)i=d1(i,s);else if(o==2){let c=s,l=n[++a];r=d1(r,c+": "+l+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function A(e,n=0){let t=X();if(t===null)return P(e,n);let r=yt();return Ey(r,t,Pe(e),n)}function Ag(e,n,t,r,i){let o=r===null?null:{"":-1},a=i(e,t);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}fw(e,n,t,s,o,c,l)}o!==null&&r!==null&&hw(t,r,o)}function hw(e,n,t){let r=e.localNames=[];for(let i=0;i<n.length;i+=2){let o=t[n[i+1]];if(o==null)throw new D(-301,!1);r.push(n[i],o)}}function pw(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function fw(e,n,t,r,i,o,a){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&nn(h)&&(c=!0,pw(e,t,p)),gh(zc(t,n),e,h.type)}Mw(t,e.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=og(e,n,s,null);s>0&&(t.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(t.mergedAttrs=Uo(t.mergedAttrs,h.hostAttrs),gw(e,t,n,u,h),vw(u,h,i),a!==null&&a.has(h)){let[m,v]=a.get(h);t.directiveToIndex.set(h.type,[u,m+t.directiveStart,v+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),d=!0),u++}yw(e,t,o)}function yw(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let i=e.data[r];if(t===null||!t.has(i))Jf(0,n,i,r),Jf(1,n,i,r),ey(n,r,!1);else{let o=t.get(i);Qf(0,n,o,r),Qf(1,n,o,r),ey(n,r,!0)}}}function Jf(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;e===0?a=n.inputs??={}:a=n.outputs??={},a[o]??=[],a[o].push(r),Tg(n,o)}}function Qf(e,n,t,r){let i=e===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;e===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),Tg(n,a)}}function Tg(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function ey(e,n,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!t&&i===null||t&&o===null||Gh(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!t&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===n){a??=[],a.push(c,r[s+1]);break}}else if(t&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===n){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(a)}function gw(e,n,t,r,i){e.data[r]=i;let o=i.factory||(i.factory=zn(i.type,!0)),a=new jr(o,nn(i),A);e.blueprint[r]=a,t[r]=a,mw(e,n,r,og(e,t,i.hostVars,gt),i)}function mw(e,n,t,r,i){let o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let s=~n.index;kw(a)!=s&&a.push(s),a.push(t,r,o)}}function kw(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function vw(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;nn(n)&&(t[""]=e)}}function Mw(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Rg(e,n,t,r,i,o,a,s){let c=n.consts,l=Kn(c,a),d=fl(n,e,2,r,l);return o&&Ag(n,t,d,Kn(c,s),i),d.mergedAttrs=Uo(d.mergedAttrs,d.attrs),d.attrs!==null&&Yf(d,d.attrs,!1),d.mergedAttrs!==null&&Yf(d,d.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,d),d}function Pg(e,n){wy(e,n),A1(n)&&e.queries.elementEnd(n)}function gl(e,n,t){return e[n]=t}function ww(e,n){return e[n]}function an(e,n,t){if(t===gt)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function op(e,n,t,r){let i=an(e,n,t);return an(e,n+1,r)||i}function Cw(e,n,t,r,i){let o=op(e,n,t,r);return an(e,n+2,i)||o}function ah(e,n,t){return function r(i){let o=Zn(e)?St(e.index,n):n;ip(o,5);let a=n[pe],s=ty(n,a,t,i),c=r.__ngNextListenerFn__;for(;c;)s=ty(n,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function ty(e,n,t,r){let i=F(null);try{return oe(6,n,t),t(r)!==!1}catch(o){return _3(e,o),!1}finally{oe(7,n,t),F(i)}}function bw(e,n,t,r,i,o,a,s){let c=Cc(e),l=!1,d=null;if(!r&&c&&(d=Iw(n,t,o,e.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=zt(e,t),p=r?r(u):u;$M(t,p,o,s);let h=i.listen(p,o,s),y=r?m=>r(xt(m[e.index])):e.index;Og(y,n,t,o,s,h,!1)}return l}function Iw(e,n,t,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===t&&i[o+1]===r){let s=n[Ei],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function Og(e,n,t,r,i,o,a){let s=n.firstCreatePass?vf(n):null,c=kf(t),l=c.length;c.push(i,o),s&&s.push(r,e,l,(l+1)*(a?-1:1))}function ny(e,n,t,r,i,o){let a=n[t],s=n[B],l=s.data[t].outputs[r],u=a[l].subscribe(o);Og(e.index,s,n,i,o,u,!0)}var Sh=Symbol("BINDING");var Zc=class extends Qo{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=Gn(n);return new ji(t,this.ngModule)}};function xw(e){return Object.keys(e).map(n=>{let[t,r,i]=e[n],o={propName:t,templateName:n,isSignal:(r&ll.SignalBased)!==0};return i&&(o.transform=i),o})}function Sw(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function Dw(e,n,t){let r=n instanceof De?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new xh(t,r):t}function _w(e){let n=e.get(Hr,null);if(n===null)throw new D(407,!1);let t=e.get(Eg,null),r=e.get(br,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function Lw(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return eg(n,t,t==="svg"?T1:t==="math"?ff:null)}var ji=class extends yl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=xw(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=Sw(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=a3(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,i,o,a){oe(22);let s=F(null);try{let c=this.componentDef,l=Ew(r,c,a,o),d=Dw(c,i||this.ngModule,n),u=_w(d),p=u.rendererFactory.createRenderer(null,c),h=r?y3(p,r,c.encapsulation,d):Lw(c,p),y=a?.some(ry)||o?.some(w=>typeof w!="function"&&w.bindings.some(ry)),m=Zh(null,l,null,512|ig(c),null,null,u,p,d,null,zy(h,d,!0));m[xe]=h,_c(m);let v=null;try{let w=Rg(xe,l,m,"#host",()=>l.directiveRegistry,!0,0);h&&(rg(p,h,w),Yo(h,m)),Xh(l,m,w),$y(l,w,m),Pg(l,w),t!==void 0&&Tw(w,this.ngContentSelectors,t),v=St(w.index,m),m[pe]=v[pe],Jh(l,m,null)}catch(w){throw v!==null&&kh(v),kh(m),w}finally{oe(23),Lc()}return new Kc(this.componentType,m,!!y)}finally{F(s)}}};function Ew(e,n,t,r){let i=e?["ng-version","20.0.4"]:s3(n.selectors[0]),o=null,a=null,s=0;if(t)for(let d of t)s+=d[Sh].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[Sh].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[n];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=I1(u);c.push(p)}return Wh(0,null,Aw(o,a),1,s,c,null,null,null,[i],null)}function Aw(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function ry(e){let n=e[Sh].kind;return n==="input"||n==="twoWay"}var Kc=class extends Lg{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=No(t[B],xe),this.location=qh(this._tNode,t),this.instance=St(this._tNode.index,t)[pe],this.hostView=this.changeDetectorRef=new Vr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let i=this._rootLView,o=Yh(r,i[B],i,n,t);this.previousInputValues.set(n,t);let a=St(r.index,i);ip(a,1)}get injector(){return new Fr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function Tw(e,n,t){let r=e.projection=[];for(let i=0;i<n.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var ea=(()=>{class e{static __NG_ELEMENT_ID__=Rw}return e})();function Rw(){let e=yt();return Ow(e,X())}var Pw=ea,Ng=class extends Pw{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return qh(this._hostTNode,this._hostLView)}get injector(){return new Fr(this._hostTNode,this._hostLView)}get parentInjector(){let n=Hh(this._hostTNode,this._hostLView);if(Iy(n)){let t=qc(n,this._hostLView),r=Hc(n),i=t[B].data[r+8];return new Fr(i,t)}else return new Fr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=iy(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Ne}createEmbeddedView(n,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=Wc(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(t||{},o,a);return this.insertImpl(s,i,Fi(this._hostTNode,a)),s}createComponent(n,t,r,i,o,a,s){let c=n&&!mM(n),l;if(c)l=t;else{let v=t||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,a=v.directives,s=v.bindings}let d=c?n:new ji(Gn(n)),u=r||this.parentInjector;if(!o&&d.ngModule==null){let w=(c?u:this.parentInjector).get(De,null);w&&(o=w)}let p=Gn(d.componentType??{}),h=Wc(this._lContainer,p?.id??null),y=h?.firstChild??null,m=d.create(u,i,y,o,a,s);return this.insertImpl(m.hostView,l,Fi(this._hostTNode,h)),m}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let i=n._lView;if(yf(i)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let c=i[_e],l=new Ng(c,c[Qe],c[_e]);l.detach(l.indexOf(n))}}let o=this._adjustIndex(t),a=this._lContainer;return Jo(a,i,o,r),n.attachToViewContainerRef(),M1(sh(a),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=iy(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Go(this._lContainer,t);r&&(Lo(sh(this._lContainer),t),hl(r[B],r))}detach(n){let t=this._adjustIndex(n,-1),r=Go(this._lContainer,t);return r&&Lo(sh(this._lContainer),t)!=null?new Vr(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function iy(e){return e[Po]}function sh(e){return e[Po]||(e[Po]=[])}function Ow(e,n){let t,r=n[e.index];return Bt(r)?t=r:(t=Ig(r,n,null,e),n[e.index]=t,Kh(n,t)),Fw(t,n,e,r),new Ng(t,e,n)}function Nw(e,n){let t=e[fe],r=t.createComment(""),i=zt(n,e),o=t.parentNode(i);return Gc(t,o,r,t.nextSibling(i),!1),r}var Fw=Hw,jw=()=>!1;function Vw(e,n,t){return jw(e,n,t)}function Hw(e,n,t,r){if(e[Wn])return;let i;t.type&8?i=xt(r):i=Nw(n,t),e[Wn]=i}var oy=new Set;function Jn(e){oy.has(e)||(oy.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var qr=class{},ml=class{};var Xc=class extends qr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Zc(this);constructor(n,t,r,i=!0){super(),this.ngModuleType=n,this._parent=t;let o=b1(n);this._bootstrapComponents=Yy(o.bootstrap),this._r3Injector=J1(n,t,[{provide:qr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver},...r],st(n),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Yc=class extends ml{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Xc(this.moduleType,n,[])}};var Wo=class extends qr{injector;componentFactoryResolver=new Zc(this);instance=null;constructor(n){super();let t=new Cr([...n.providers,{provide:qr,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],n.parent||Ao(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function ta(e,n,t=null){return new Wo({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var qw=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=x1(!1,t.type),i=r.length>0?ta([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=L({token:e,providedIn:"environment",factory:()=>new e(P(De))})}return e})();function J(e){return Hi(()=>{let n=Fg(e),t=V(I({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Bh.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?i=>i.get(qw).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Tn.Emulated,styles:e.styles||ut,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&Jn("NgStandalone"),jg(t);let r=e.dependencies;return t.directiveDefs=ay(r,!1),t.pipeDefs=ay(r,!0),t.id=Gw(t),t})}function Bw(e){return Gn(e)||I1(e)}function zw(e){return e!==null}function Dt(e){return Hi(()=>({type:e.type,bootstrap:e.bootstrap||ut,declarations:e.declarations||ut,imports:e.imports||ut,exports:e.exports||ut,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Uw(e,n){if(e==null)return $n;let t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=ll.None,c=null),t[o]=[r,s,c],n[o]=a}return t}function $w(e){if(e==null)return $n;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Ae(e){return Hi(()=>{let n=Fg(e);return jg(n),n})}function Wt(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Fg(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||$n,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||ut,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:Uw(e.inputs,n),outputs:$w(e.outputs),debugInfo:null}}function jg(e){e.features?.forEach(n=>n(e))}function ay(e,n){if(!e)return null;let t=n?af:Bw;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(zw)}function Gw(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function Ww(e){return Object.getPrototypeOf(e.prototype).constructor}function _t(e){let n=Ww(e.type),t=!0,r=[e];for(;n;){let i;if(nn(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new D(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);let a=e;a.inputs=ch(e.inputs),a.declaredInputs=ch(e.declaredInputs),a.outputs=ch(e.outputs);let s=i.hostBindings;s&&Jw(e,s);let c=i.viewQuery,l=i.contentQueries;if(c&&Xw(e,c),l&&Yw(e,l),Zw(e,i),Y0(e.outputs,i.outputs),nn(i)&&i.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(e),s===_t&&(t=!1)}}n=Object.getPrototypeOf(n)}Kw(r)}function Zw(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let r=n.inputs[t];r!==void 0&&(e.inputs[t]=r,e.declaredInputs[t]=n.declaredInputs[t])}}function Kw(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Uo(i.hostAttrs,t=Uo(t,i.hostAttrs))}}function ch(e){return e===$n?{}:e===ut?[]:e}function Xw(e,n){let t=e.viewQuery;t?e.viewQuery=(r,i)=>{n(r,i),t(r,i)}:e.viewQuery=n}function Yw(e,n){let t=e.contentQueries;t?e.contentQueries=(r,i,o)=>{n(r,i,o),t(r,i,o)}:e.contentQueries=n}function Jw(e,n){let t=e.hostBindings;t?e.hostBindings=(r,i)=>{n(r,i),t(r,i)}:e.hostBindings=n}function Qw(e,n,t,r,i,o,a,s,c){let l=n.consts,d=fl(n,e,4,a||null,s||null);V1()&&Ag(n,t,d,Kn(l,c),lg),d.mergedAttrs=Uo(d.mergedAttrs,d.attrs),wy(n,d);let u=d.tView=Wh(2,d,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,l,null);return n.queries!==null&&(n.queries.template(n,d),u.queries=n.queries.embeddedTView(d)),d}function Zo(e,n,t,r,i,o,a,s,c,l,d){let u=t+xe,p=n.firstCreatePass?Qw(u,n,e,r,i,o,a,s,l):n.data[u];c&&(p.flags|=c),Ri(p,!1);let h=e8(n,e,p,t);Ac()&&tp(n,e,h,p),Yo(h,e);let y=Ig(h,e,h,p);return e[u]=y,Kh(e,y),Vw(y,p,e),Cc(p)&&Xh(n,e,p),l!=null&&cg(e,p,d),p}var e8=t8;function t8(e,n,t,r){return Tc(!0),n[fe].createComment("")}var ap=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(ap||{}),na=new E(""),Vg=!1,Dh=class extends re{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,hf()&&(this.destroyRef=b(Or,{optional:!0})??void 0,this.pendingTasks=b(Yn,{optional:!0})??void 0)}emit(n){let t=F(null);try{super.next(n)}finally{F(t)}}subscribe(n,t,r){let i=n,o=t||(()=>null),a=r;if(n&&typeof n=="object"){let c=n;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return n instanceof he&&n.add(s),s}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},me=Dh;function Hg(e){let n,t;function r(){e=qo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function sy(e){return queueMicrotask(()=>e()),()=>{e=qo}}var sp="isAngularZone",Jc=sp+"_ID",n8=0,Se=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new me(!1);onMicrotaskEmpty=new me(!1);onStable=new me(!1);onError=new me(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=Vg}=n;if(typeof Zone>"u")throw new D(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,o8(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(sp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new D(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new D(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,n,r8,qo,qo);try{return o.runTask(a,t,r)}finally{o.cancelTask(a)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},r8={};function cp(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function i8(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){Hg(()=>{e.callbackScheduled=!1,_h(e),e.isCheckStableRunning=!0,cp(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),_h(e)}function o8(e){let n=()=>{i8(e)},t=n8++;e._inner=e._inner.fork({name:"angular",properties:{[sp]:!0,[Jc]:t,[Jc+t]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(a8(c))return r.invokeTask(o,a,s,c);try{return cy(e),r.invokeTask(o,a,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),ly(e)}},onInvoke:(r,i,o,a,s,c,l)=>{try{return cy(e),r.invoke(o,a,s,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!s8(c)&&n(),ly(e)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,_h(e),cp(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function _h(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function cy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function ly(e){e._nesting--,cp(e)}var Qc=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new me;onMicrotaskEmpty=new me;onStable=new me;onError=new me;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}};function a8(e){return qg(e,"__ignore_ng_zone__")}function s8(e){return qg(e,"__scheduler_tick__")}function qg(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Bg=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=L({token:e,providedIn:"root",factory:()=>new e})}return e})();var lp=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var dp=new E("");function Qn(e){return!!e&&typeof e.then=="function"}function up(e){return!!e&&typeof e.subscribe=="function"}var zg=new E("");var hp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=b(zg,{optional:!0})??[];injector=b(Oe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=pt(this.injector,i);if(Qn(o))t.push(o);else if(up(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),kl=new E("");function Ug(){Lu(()=>{let e="";throw new D(600,e)})}function $g(e){return e.isBoundToModule}var c8=10;var Ur=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=b(ct);afterRenderManager=b(Bg);zonelessEnabled=b(Ho);rootEffectScheduler=b(nh);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new re;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=b(Yn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(R(t=>!t))}constructor(){b(na,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=b(De);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Oe.NULL){return this._injector.get(Se).run(()=>{oe(10);let a=t instanceof yl;if(!this._injector.get(hp).done){let y="";throw new D(405,y)}let c;a?c=t:c=this._injector.get(Qo).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let l=$g(c)?void 0:this._injector.get(qr),d=r||c.selector,u=c.create(i,[],d,l),p=u.location.nativeElement,h=u.injector.get(dp,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),zo(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),oe(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){oe(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(ap.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new D(101,!1);let t=F(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,F(t),this.afterTick.next(),oe(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Hr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<c8;)oe(14),this.synchronizeOnce(),oe(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fo(i))continue;let o=r&&!this.zonelessEnabled?0:1;rp(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Fo(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;zo(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(kl,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>zo(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new D(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zo(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function er(e,n,t,r){let i=X(),o=Pi();if(an(i,o,n)){let a=Ue(),s=Y1();x3(s,i,e,n,t,r)}return er}var Lh=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),i=Math.max(n,t),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function lh(e,n,t,r,i){return e===t&&Object.is(n,r)?1:Object.is(i(e,n),i(t,r))?-1:0}function l8(e,n,t){let r,i,o=0,a=e.length-1,s=void 0;if(Array.isArray(n)){let c=n.length-1;for(;o<=a&&o<=c;){let l=e.at(o),d=n[o],u=lh(o,l,o,d,t);if(u!==0){u<0&&e.updateValue(o,d),o++;continue}let p=e.at(a),h=n[c],y=lh(a,p,c,h,t);if(y!==0){y<0&&e.updateValue(a,h),a--,c--;continue}let m=t(o,l),v=t(a,p),w=t(o,d);if(Object.is(w,v)){let T=t(c,h);Object.is(T,m)?(e.swap(o,a),e.updateValue(a,h),c--,a--):e.move(a,o),e.updateValue(o,d),o++;continue}if(r??=new el,i??=uy(e,o,a,t),Eh(e,r,o,w))e.updateValue(o,d),o++,a++;else if(i.has(w))r.set(m,e.detach(o)),a--;else{let T=e.create(o,n[o]);e.attach(o,T),o++,a++}}for(;o<=c;)dy(e,r,t,o,n[o]),o++}else if(n!=null){let c=n[Symbol.iterator](),l=c.next();for(;!l.done&&o<=a;){let d=e.at(o),u=l.value,p=lh(o,d,o,u,t);if(p!==0)p<0&&e.updateValue(o,u),o++,l=c.next();else{r??=new el,i??=uy(e,o,a,t);let h=t(o,u);if(Eh(e,r,o,h))e.updateValue(o,u),o++,a++,l=c.next();else if(!i.has(h))e.attach(o,e.create(o,u)),o++,a++,l=c.next();else{let y=t(o,d);r.set(y,e.detach(o)),a--}}}for(;!l.done;)dy(e,r,t,e.length,l.value),l=c.next()}for(;o<=a;)e.destroy(e.detach(a--));r?.forEach(c=>{e.destroy(c)})}function Eh(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function dy(e,n,t,r,i){if(Eh(e,n,r,t(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function uy(e,n,t,r){let i=new Set;for(let o=n;o<=t;o++)i.add(r(o,e.at(o)));return i}var el=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),n(r,t)}}};function ke(e,n,t,r,i,o,a,s){Jn("NgControlFlow");let c=X(),l=Ue(),d=Kn(l.consts,o);return Zo(c,l,e,n,t,r,i,d,256,a,s),pp}function pp(e,n,t,r,i,o,a,s){Jn("NgControlFlow");let c=X(),l=Ue(),d=Kn(l.consts,o);return Zo(c,l,e,n,t,r,i,d,512,a,s),pp}function ve(e,n){Jn("NgControlFlow");let t=X(),r=Pi(),i=t[r]!==gt?t[r]:-1,o=i!==-1?tl(t,xe+i):void 0,a=0;if(an(t,r,e)){let s=F(null);try{if(o!==void 0&&Sg(o,a),e!==-1){let c=xe+e,l=tl(t,c),d=Ph(t[B],c),u=_g(l,d,t),p=dl(t,d,n,{dehydratedView:u});Jo(l,p,a,Fi(d,u))}}finally{F(s)}}else if(o!==void 0){let s=xg(o,a);s!==void 0&&(s[pe]=n)}}var Ah=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Ne}};function Zt(e,n){return n}var Th=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function $e(e,n,t,r,i,o,a,s,c,l,d,u,p){Jn("NgControlFlow");let h=X(),y=Ue(),m=c!==void 0,v=X(),w=s?a.bind(v[et][pe]):a,T=new Th(m,w);v[xe+e]=T,Zo(h,y,e+1,n,t,r,i,Kn(y.consts,o),256),m&&Zo(h,y,e+2,c,l,d,u,Kn(y.consts,p),512)}var Rh=class extends Lh{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Ne}at(n){return this.getLView(n)[pe].$implicit}attach(n,t){let r=t[Dr];this.needsIndexUpdate||=n!==this.length,Jo(this.lContainer,t,n,Fi(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,d8(this.lContainer,n)}create(n,t){let r=Wc(this.lContainer,this.templateTNode.tView.ssrId),i=dl(this.hostLView,this.templateTNode,new Ah(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(n){hl(n[B],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[pe].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[pe].$index=n}getLView(n){return u8(this.lContainer,n)}};function Ge(e){let n=F(null),t=En();try{let r=X(),i=r[B],o=r[t],a=t+1,s=tl(r,a);if(o.liveCollection===void 0){let l=Ph(i,a);o.liveCollection=new Rh(s,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(l8(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let l=Pi(),d=c.length===0;if(an(r,l,d)){let u=t+2,p=tl(r,u);if(d){let h=Ph(i,u),y=_g(p,h,r),m=dl(r,h,void 0,{dehydratedView:y});Jo(p,m,0,Fi(h,y))}else i.firstUpdatePass&&sw(p),Sg(p,0)}}}finally{F(n)}}function tl(e,n){return e[n]}function d8(e,n){return Go(e,n)}function u8(e,n){return xg(e,n)}function Ph(e,n){return No(e,n)}function _(e,n,t){let r=X(),i=Pi();if(an(r,i,n)){let o=Ue(),a=Y1();v3(a,r,e,n,r[fe],t)}return _}function hy(e,n,t,r,i){Yh(n,e,t,i?"class":"style",r)}function g(e,n,t,r){let i=X(),o=Ue(),a=xe+e,s=i[fe],c=o.firstCreatePass?Rg(a,o,i,n,lg,V1(),t,r):o.data[a],l=h8(o,i,c,s,n,e);i[a]=l;let d=Cc(c);return Ri(c,!0),rg(s,l,c),!ul(c)&&Ac()&&tp(o,i,l,c),(Mf()===0||d)&&Yo(l,i),wf(),d&&(Xh(o,i,c),$y(o,c,i)),r!==null&&cg(i,c),g}function k(){let e=yt();B1()?z1():(e=e.parent,Ri(e,!1));let n=e;bf(n)&&If(),Cf();let t=Ue();return t.firstCreatePass&&Pg(t,n),n.classesWithoutHost!=null&&bM(n)&&hy(t,n,X(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&IM(n)&&hy(t,n,X(),n.stylesWithoutHost,!1),k}function S(e,n,t,r){return g(e,n,t,r),k(),S}var h8=(e,n,t,r,i,o)=>(Tc(!0),eg(r,i,Nf()));function fp(){return X()}var Nr=void 0;function p8(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var f8=["en",[["a","p"],["AM","PM"],Nr],[["AM","PM"],Nr,Nr],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Nr,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Nr,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Nr,"{1} 'at' {0}",Nr],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",p8],dh={};function mt(e){let n=y8(e),t=py(n);if(t)return t;let r=n.split("-")[0];if(t=py(r),t)return t;if(r==="en")return f8;throw new D(701,!1)}function py(e){return e in dh||(dh[e]=_n.ng&&_n.ng.common&&_n.ng.common.locales&&_n.ng.common.locales[e]),dh[e]}var ye=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(ye||{});function y8(e){return e.toLowerCase().replace(/_/g,"-")}var ra="en-US";var g8=ra;function Gg(e){typeof e=="string"&&(g8=e.toLowerCase().replace(/_/g,"-"))}function Fe(e,n,t){let r=X(),i=Ue(),o=yt();return m8(i,r,r[fe],o,e,n,t),Fe}function m8(e,n,t,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=ah(r,n,o),bw(r,e,n,a,t,i,o,c)&&(s=!1)),s){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=ah(r,n,o),ny(r,n,p,h,i,c)}if(l&&l.length)for(let u of l)c??=ah(r,n,o),ny(r,n,u,i,i,c)}}function je(e=1){return Of(e)}function k8(e,n){let t=null,r=t3(e);for(let i=0;i<n.length;i++){let o=n[i];if(o==="*"){t=i;continue}if(r===null?Qy(e,o,!0):i3(r,o))return i}return t}function yp(e){let n=X()[et][Qe];if(!n.projection){let t=e?e.length:1,r=n.projection=nf(t,null),i=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let a=e?k8(o,e):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function gp(e,n=0,t,r,i,o){let a=X(),s=Ue(),c=r?e+1:null;c!==null&&Zo(a,s,c,r,i,o,null,t);let l=fl(s,xe+e,16,null,t||null);l.projection===null&&(l.projection=n),z1();let u=!a[Dr]||H1();a[et][Qe].projection[l.projection]===null&&c!==null?v8(a,s,c):u&&!ul(l)&&B3(s,a,l)}function v8(e,n,t){let r=xe+t,i=n.data[r],o=e[r],a=Wc(o,i.tView.ssrId),s=dl(e,i,void 0,{dehydratedView:a});Jo(o,s,0,Fi(i,a))}function Oc(e,n){return e<<17|n<<2}function Br(e){return e>>17&32767}function M8(e){return(e&2)==2}function w8(e,n){return e&131071|n<<17}function Oh(e){return e|2}function Vi(e){return(e&131068)>>2}function uh(e,n){return e&-131069|n<<2}function C8(e){return(e&1)===1}function Nh(e){return e|1}function b8(e,n,t,r,i,o){let a=o?n.classBindings:n.styleBindings,s=Br(a),c=Vi(a);e[r]=t;let l=!1,d;if(Array.isArray(t)){let u=t;d=u[1],(d===null||Li(u,d)>0)&&(l=!0)}else d=t;if(i)if(c!==0){let p=Br(e[s+1]);e[r+1]=Oc(p,s),p!==0&&(e[p+1]=uh(e[p+1],r)),e[s+1]=w8(e[s+1],r)}else e[r+1]=Oc(s,0),s!==0&&(e[s+1]=uh(e[s+1],r)),s=r;else e[r+1]=Oc(c,0),s===0?s=r:e[c+1]=uh(e[c+1],r),c=r;l&&(e[r+1]=Oh(e[r+1])),fy(e,d,r,!0),fy(e,d,r,!1),I8(n,d,e,r,o),a=Oc(s,c),o?n.classBindings=a:n.styleBindings=a}function I8(e,n,t,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Li(o,n)>=0&&(t[r+1]=Nh(t[r+1]))}function fy(e,n,t,r){let i=e[t+1],o=n===null,a=r?Br(i):Vi(i),s=!1;for(;a!==0&&(s===!1||o);){let c=e[a],l=e[a+1];x8(c,n)&&(s=!0,e[a+1]=r?Nh(l):Oh(l)),a=r?Br(l):Vi(l)}s&&(e[t+1]=r?Oh(i):Nh(i))}function x8(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Li(e,n)>=0:!1}function ia(e,n){return S8(e,n,null,!0),ia}function S8(e,n,t,r){let i=X(),o=Ue(),a=W1(2);if(o.firstUpdatePass&&_8(o,e,a,r),n!==gt&&an(i,a,n)){let s=o.data[En()];R8(o,s,i,i[fe],e,i[a+1]=P8(n,t),r,a)}}function D8(e,n){return n>=e.expandoStartIndex}function _8(e,n,t,r){let i=e.data;if(i[t+1]===null){let o=i[En()],a=D8(e,t);O8(o,r)&&n===null&&!a&&(n=!1),n=L8(i,o,n,r),b8(i,o,n,t,a,r)}}function L8(e,n,t,r){let i=Af(e),o=r?n.residualClasses:n.residualStyles;if(i===null)(r?n.classBindings:n.styleBindings)===0&&(t=hh(null,e,n,t,r),t=Ko(t,n.attrs,r),o=null);else{let a=n.directiveStylingLast;if(a===-1||e[a]!==i)if(t=hh(i,e,n,t,r),o===null){let c=E8(e,n,r);c!==void 0&&Array.isArray(c)&&(c=hh(null,e,n,c[1],r),c=Ko(c,n.attrs,r),A8(e,n,r,c))}else o=T8(e,n,r)}return o!==void 0&&(r?n.residualClasses=o:n.residualStyles=o),t}function E8(e,n,t){let r=t?n.classBindings:n.styleBindings;if(Vi(r)!==0)return e[Br(r)]}function A8(e,n,t,r){let i=t?n.classBindings:n.styleBindings;e[Br(i)]=r}function T8(e,n,t){let r,i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++){let a=e[o].hostAttrs;r=Ko(r,a,t)}return Ko(r,n.attrs,t)}function hh(e,n,t,r,i){let o=null,a=t.directiveEnd,s=t.directiveStylingLast;for(s===-1?s=t.directiveStart:s++;s<a&&(o=n[s],r=Ko(r,o.hostAttrs,i),o!==e);)s++;return e!==null&&(t.directiveStylingLast=s),r}function Ko(e,n,t){let r=t?1:2,i=-1;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?i=a:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),of(e,a,t?!0:n[++o]))}return e===void 0?null:e}function R8(e,n,t,r,i,o,a,s){if(!(n.type&3))return;let c=e.data,l=c[s+1],d=C8(l)?yy(c,n,t,i,Vi(l),a):void 0;if(!nl(d)){nl(o)||M8(l)&&(o=yy(c,null,t,i,s,a));let u=R1(En(),t);U3(r,a,u,i,o)}}function yy(e,n,t,r,i,o){let a=n===null,s;for(;i>0;){let c=e[i],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=t[i+1];p===gt&&(p=u?ut:void 0);let h=u?vc(p,r):d===r?p:void 0;if(l&&!nl(h)&&(h=vc(c,r)),nl(h)&&(s=h,a))return s;let y=e[i+1];i=a?Br(y):Vi(y)}if(n!==null){let c=o?n.residualClasses:n.residualStyles;c!=null&&(s=vc(c,r))}return s}function nl(e){return e!==void 0}function P8(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=st(sl(e)))),e}function O8(e,n){return(e.flags&(n?8:16))!==0}function x(e,n=""){let t=X(),r=Ue(),i=e+xe,o=r.firstCreatePass?fl(r,i,1,n,null):r.data[i],a=N8(r,t,o,n,e);t[i]=a,Ac()&&tp(r,t,a,o),Ri(o,!1)}var N8=(e,n,t,r,i)=>(Tc(!0),c3(n[fe],r));function F8(e,n,t,r=""){return an(e,Pi(),t)?n+xr(t)+r:gt}function j8(e,n,t,r,i,o=""){let a=Sf(),s=op(e,a,t,i);return W1(2),s?n+xr(t)+r+xr(i)+o:gt}function tt(e){return Me("",e),tt}function Me(e,n,t){let r=X(),i=F8(r,e,n,t);return i!==gt&&Wg(r,En(),i),Me}function Kt(e,n,t,r,i){let o=X(),a=j8(o,e,n,t,r,i);return a!==gt&&Wg(o,En(),a),Kt}function Wg(e,n,t){let r=R1(n,e);l3(e[fe],r,t)}function V8(e,n,t){let r=Ue();if(r.firstCreatePass){let i=nn(e);Fh(t,r.data,r.blueprint,i,!0),Fh(n,r.data,r.blueprint,i,!1)}}function Fh(e,n,t,r,i){if(e=Pe(e),Array.isArray(e))for(let o=0;o<e.length;o++)Fh(e[o],n,t,r,i);else{let o=Ue(),a=X(),s=yt(),c=wr(e)?e:Pe(e.provide),l=D1(e),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(wr(e)||!e.multi){let h=new jr(l,i,A),y=fh(c,n,i?d:d+p,u);y===-1?(gh(zc(s,a),o,c),ph(o,e,n.length),n.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),t.push(h),a.push(h)):(t[y]=h,a[y]=h)}else{let h=fh(c,n,d+p,u),y=fh(c,n,d,d+p),m=h>=0&&t[h],v=y>=0&&t[y];if(i&&!v||!i&&!m){gh(zc(s,a),o,c);let w=B8(i?q8:H8,t.length,i,r,l);!i&&v&&(t[y].providerFactory=w),ph(o,e,n.length,0),n.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),t.push(w),a.push(w)}else{let w=Zg(t[i?y:h],l,!i&&r);ph(o,e,h>-1?h:y,w)}!i&&r&&v&&t[y].componentProviders++}}}function ph(e,n,t,r){let i=wr(n),o=uf(n);if(i||o){let c=(o?Pe(n.useClass):n).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&n.multi){let d=l.indexOf(t);d===-1?l.push(t,[r,c]):l[d+1].push(r,c)}else l.push(t,c)}}}function Zg(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function fh(e,n,t,r){for(let i=t;i<r;i++)if(n[i]===e)return i;return-1}function H8(e,n,t,r){return jh(this.multi,[])}function q8(e,n,t,r){let i=this.multi,o;if(this.providerFactory){let a=this.providerFactory.componentProviders,s=Uc(t,t[B],this.providerFactory.index,r);o=s.slice(0,a),jh(i,o);for(let c=a;c<s.length;c++)o.push(s[c])}else o=[],jh(i,o);return o}function jh(e,n){for(let t=0;t<e.length;t++){let r=e[t];n.push(r())}return n}function B8(e,n,t,r,i){let o=new jr(e,t,A);return o.multi=[],o.index=n,o.componentProviders=0,Zg(o,i,r&&!t),o}function nt(e,n=[]){return t=>{t.providersResolver=(r,i)=>V8(r,i?i(e):e,n)}}function cn(e,n,t){let r=Pr()+e,i=X();return i[r]===gt?gl(i,r,t?n.call(t):n()):ww(i,r)}function oa(e,n,t,r){return Kg(X(),Pr(),e,n,t,r)}function mp(e,n,t,r,i){return Xg(X(),Pr(),e,n,t,r,i)}function kp(e,n,t,r,i,o){return z8(X(),Pr(),e,n,t,r,i,o)}function vp(e,n){let t=e[n];return t===gt?void 0:t}function Kg(e,n,t,r,i,o){let a=n+t;return an(e,a,i)?gl(e,a+1,o?r.call(o,i):r(i)):vp(e,a+1)}function Xg(e,n,t,r,i,o,a){let s=n+t;return op(e,s,i,o)?gl(e,s+2,a?r.call(a,i,o):r(i,o)):vp(e,s+2)}function z8(e,n,t,r,i,o,a,s){let c=n+t;return Cw(e,c,i,o,a)?gl(e,c+3,s?r.call(s,i,o,a):r(i,o,a)):vp(e,c+3)}function kt(e,n){let t=Ue(),r,i=e+xe;t.firstCreatePass?(r=U8(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=zn(r.type,!0)),a,s=Je(A);try{let c=Bc(!1),l=o();return Bc(c),O1(t,X(),i,l),l}finally{Je(s)}}function U8(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function tr(e,n,t){let r=e+xe,i=X(),o=P1(i,r);return Yg(i,r)?Kg(i,Pr(),n,o.transform,t,o):o.transform(t)}function $r(e,n,t,r){let i=e+xe,o=X(),a=P1(o,i);return Yg(o,i)?Xg(o,Pr(),n,a.transform,t,r,a):a.transform(t,r)}function Yg(e,n){return e[B].data[n].pure}var rl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Mp=(()=>{class e{compileModuleSync(t){return new Yc(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=b1(t),o=Yy(i.declarations).reduce((a,s)=>{let c=Gn(s);return c&&a.push(new ji(c)),a},[]);return new rl(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $8=(()=>{class e{zone=b(Se);changeDetectionScheduler=b(br);applicationRef=b(Ur);applicationErrorHandler=b(ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Jg=new E("",{factory:()=>!1});function wp({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new Se(V(I({},bp()),{scheduleInRootZone:t})),[{provide:Se,useFactory:e},{provide:Ln,multi:!0,useFactory:()=>{let r=b($8,{optional:!0});return()=>r.initialize()}},{provide:Ln,multi:!0,useFactory:()=>{let r=b(G8);return()=>{r.initialize()}}},n===!0?{provide:eh,useValue:!0}:[],{provide:th,useValue:t??Vg},{provide:ct,useFactory:()=>{let r=b(Se),i=b(De),o;return a=>{o??=i.get(Qt),r.runOutsideAngular(()=>o.handleError(a))}}}]}function Cp(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=wp({ngZoneFactory:()=>{let i=bp(e);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Jn("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return Sr([{provide:Jg,useValue:!0},{provide:Ho,useValue:!1},r])}function bp(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var G8=(()=>{class e{subscription=new he;initialized=!1;zone=b(Se);pendingTasks=b(Yn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Qg=(()=>{class e{applicationErrorHandler=b(ct);appRef=b(Ur);taskService=b(Yn);ngZone=b(Se);zonelessEnabled=b(Ho);tracing=b(na,{optional:!0});disableScheduling=b(eh,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new he;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Jc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(b(th,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Qc||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?sy:Hg;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Jc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,sy(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function W8(){return typeof $localize<"u"&&$localize.locale||ra}var aa=new E("",{providedIn:"root",factory:()=>b(aa,{optional:!0,skipSelf:!0})||W8()});function Lt(e){return W0(e)}function Bi(e,n){return Os(e,n?.equal)}var em=class{[Ye];constructor(n){this[Ye]=n}destroy(){this[Ye].destroy()}};var nm=Symbol("InputSignalNode#UNSET"),u6=V(I({},Ns),{transformFn:void 0,applyValueToInputSignal(e,n){gi(e,n)}});function rm(e,n){let t=Object.create(u6);t.value=e,t.transformFn=n?.transform;function r(){if(fi(t),t.value===nm){let i=null;throw new D(-950,i)}return t.value}return r[Ye]=t,r}var Ml=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>Xo(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},h6=new E("");h6.__NG_ELEMENT_ID__=e=>{let n=yt();if(n===null)throw new D(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new D(204,!1)};function tm(e,n){return rm(e,n)}function p6(e){return rm(nm,e)}var im=(tm.required=p6,tm);var wl=class{full;major;minor;patch;constructor(n){this.full=n;let t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},om=new wl("20.0.4");var Ip=new E(""),f6=new E("");function sa(e){return!e.moduleRef}function y6(e){let n=sa(e)?e.r3Injector:e.moduleRef.injector,t=n.get(Se);return t.run(()=>{sa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(ct),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),sa(e)){let o=()=>n.destroy(),a=e.platformInjector.get(Ip);a.add(o),n.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(Ip);a.add(o),e.moduleRef.onDestroy(()=>{zo(e.allPlatformModules,e.moduleRef),i.unsubscribe(),a.delete(o)})}return m6(r,t,()=>{let o=n.get(hp);return o.runInitializers(),o.donePromise.then(()=>{let a=n.get(aa,ra);if(Gg(a||ra),!n.get(f6,!0))return sa(e)?n.get(Ur):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(sa(e)){let c=n.get(Ur);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return g6?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var g6;function m6(e,n,t){try{let r=t();return Qn(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var vl=null;function k6(e=[],n){return Oe.create({name:n,providers:[{provide:Eo,useValue:"platform"},{provide:Ip,useValue:new Set([()=>vl=null])},...e]})}function v6(e=[]){if(vl)return vl;let n=k6(e);return vl=n,Ug(),M6(n),n}function M6(e){let n=e.get(ol,null);pt(e,()=>{n?.forEach(t=>t())})}var Gr=(()=>{class e{static __NG_ELEMENT_ID__=w6}return e})();function w6(e){return C6(yt(),X(),(e&16)===16)}function C6(e,n,t){if(Zn(e)&&!t){let r=St(e.index,n);return new Vr(r,r)}else if(e.type&175){let r=n[et];return new Vr(r,n)}return null}function am(e){oe(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,i=v6(r),o=[wp({}),{provide:br,useExisting:Qg},jf,...t||[]],a=new Wo({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return y6({r3Injector:a.injector,platformInjector:i,rootComponent:n})}catch(n){return Promise.reject(n)}finally{oe(9)}}function ca(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}var lm=null;function Et(){return lm}function xp(e){lm??=e}var la=class{},Sp=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(dm),providedIn:"platform"})}return e})();var dm=(()=>{class e extends Sp{_location;_history;_doc=b(Ee);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Et().getBaseHref(this._doc)}onPopState(t){let r=Et().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Et().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function um(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function sm(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function nr(e){return e&&e[0]!=="?"?`?${e}`:e}var zi=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(pm),providedIn:"root"})}return e})(),hm=new E(""),pm=(()=>{class e extends zi{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??b(Ee).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return um(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let a=this.prepareExternalUrl(i+nr(o));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,o){let a=this.prepareExternalUrl(i+nr(o));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(P(Sp),P(hm,8))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),rr=(()=>{class e{_subject=new re;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=x6(sm(cm(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nr(r))}normalize(t){return e.stripTrailingSlash(I6(this._basePath,cm(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=nr;static joinWithSlash=um;static stripTrailingSlash=sm;static \u0275fac=function(r){return new(r||e)(P(zi))};static \u0275prov=L({token:e,factory:()=>b6(),providedIn:"root"})}return e})();function b6(){return new rr(P(zi))}function I6(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function cm(e){return e.replace(/\/index.html$/,"")}function x6(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var Ze=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(Ze||{}),ne=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(ne||{}),lt=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(lt||{}),Pn={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gm(e){return mt(e)[ye.LocaleId]}function mm(e,n,t){let r=mt(e),i=[r[ye.DayPeriodsFormat],r[ye.DayPeriodsStandalone]],o=At(i,n);return At(o,t)}function km(e,n,t){let r=mt(e),i=[r[ye.DaysFormat],r[ye.DaysStandalone]],o=At(i,n);return At(o,t)}function vm(e,n,t){let r=mt(e),i=[r[ye.MonthsFormat],r[ye.MonthsStandalone]],o=At(i,n);return At(o,t)}function Mm(e,n){let r=mt(e)[ye.Eras];return At(r,n)}function da(e,n){let t=mt(e);return At(t[ye.DateFormat],n)}function ua(e,n){let t=mt(e);return At(t[ye.TimeFormat],n)}function ha(e,n){let r=mt(e)[ye.DateTimeFormat];return At(r,n)}function pa(e,n){let t=mt(e),r=t[ye.NumberSymbols][n];if(typeof r>"u"){if(n===Pn.CurrencyDecimal)return t[ye.NumberSymbols][Pn.Decimal];if(n===Pn.CurrencyGroup)return t[ye.NumberSymbols][Pn.Group]}return r}function wm(e){if(!e[ye.ExtraData])throw new D(2303,!1)}function Cm(e){let n=mt(e);return wm(n),(n[ye.ExtraData][2]||[]).map(r=>typeof r=="string"?Dp(r):[Dp(r[0]),Dp(r[1])])}function bm(e,n,t){let r=mt(e);wm(r);let i=[r[ye.ExtraData][0],r[ye.ExtraData][1]],o=At(i,n)||[];return At(o,t)||[]}function At(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new D(2304,!1)}function Dp(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var S6=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,Cl={},D6=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Im(e,n,t,r){let i=N6(e);n=Rn(t,n)||n;let a=[],s;for(;n;)if(s=D6.exec(n),s){a=a.concat(s.slice(1));let d=a.pop();if(!d)break;n=d}else{a.push(n);break}let c=i.getTimezoneOffset();r&&(c=Sm(r,c),i=O6(i,r));let l="";return a.forEach(d=>{let u=R6(d);l+=u?u(i,t,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function Dl(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Rn(e,n){let t=gm(e);if(Cl[t]??={},Cl[t][n])return Cl[t][n];let r="";switch(n){case"shortDate":r=da(e,lt.Short);break;case"mediumDate":r=da(e,lt.Medium);break;case"longDate":r=da(e,lt.Long);break;case"fullDate":r=da(e,lt.Full);break;case"shortTime":r=ua(e,lt.Short);break;case"mediumTime":r=ua(e,lt.Medium);break;case"longTime":r=ua(e,lt.Long);break;case"fullTime":r=ua(e,lt.Full);break;case"short":let i=Rn(e,"shortTime"),o=Rn(e,"shortDate");r=bl(ha(e,lt.Short),[i,o]);break;case"medium":let a=Rn(e,"mediumTime"),s=Rn(e,"mediumDate");r=bl(ha(e,lt.Medium),[a,s]);break;case"long":let c=Rn(e,"longTime"),l=Rn(e,"longDate");r=bl(ha(e,lt.Long),[c,l]);break;case"full":let d=Rn(e,"fullTime"),u=Rn(e,"fullDate");r=bl(ha(e,lt.Full),[d,u]);break}return r&&(Cl[t][n]=r),r}function bl(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function Xt(e,n,t="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=t));let a=String(e);for(;a.length<n;)a="0"+a;return r&&(a=a.slice(a.length-n)),o+a}function _6(e,n){return Xt(e,3).substring(0,n)}function we(e,n,t=0,r=!1,i=!1){return function(o,a){let s=L6(e,o);if((t>0||s>-t)&&(s+=t),e===3)s===0&&t===-12&&(s=12);else if(e===6)return _6(s,n);let c=pa(a,Pn.MinusSign);return Xt(s,n,c,r,i)}}function L6(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new D(2301,!1)}}function ae(e,n,t=Ze.Format,r=!1){return function(i,o){return E6(i,o,e,n,t,r)}}function E6(e,n,t,r,i,o){switch(t){case 2:return vm(n,i,r)[e.getMonth()];case 1:return km(n,i,r)[e.getDay()];case 0:let a=e.getHours(),s=e.getMinutes();if(o){let l=Cm(n),d=bm(n,i,r),u=l.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,m=a>=h.hours&&s>=h.minutes,v=a<y.hours||a===y.hours&&s<y.minutes;if(h.hours<y.hours){if(m&&v)return!0}else if(m||v)return!0}else if(p.hours===a&&p.minutes===s)return!0;return!1});if(u!==-1)return d[u]}return mm(n,i,r)[a<12?0:1];case 3:return Mm(n,r)[e.getFullYear()<=0?0:1];default:let c=t;throw new D(2302,!1)}}function Il(e){return function(n,t,r){let i=-1*r,o=pa(t,Pn.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+Xt(a,2,o)+Xt(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+Xt(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+Xt(a,2,o)+":"+Xt(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+Xt(a,2,o)+":"+Xt(Math.abs(i%60),2,o);default:throw new D(2302,!1)}}}var A6=0,Sl=4;function T6(e){let n=Dl(e,A6,1).getDay();return Dl(e,0,1+(n<=Sl?Sl:Sl+7)-n)}function xm(e){let n=e.getDay(),t=n===0?-3:Sl-n;return Dl(e.getFullYear(),e.getMonth(),e.getDate()+t)}function _p(e,n=!1){return function(t,r){let i;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();i=1+Math.floor((a+o)/7)}else{let o=xm(t),a=T6(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return Xt(i,e,pa(r,Pn.MinusSign))}}function xl(e,n=!1){return function(t,r){let o=xm(t).getFullYear();return Xt(o,e,pa(r,Pn.MinusSign),n)}}var Lp={};function R6(e){if(Lp[e])return Lp[e];let n;switch(e){case"G":case"GG":case"GGG":n=ae(3,ne.Abbreviated);break;case"GGGG":n=ae(3,ne.Wide);break;case"GGGGG":n=ae(3,ne.Narrow);break;case"y":n=we(0,1,0,!1,!0);break;case"yy":n=we(0,2,0,!0,!0);break;case"yyy":n=we(0,3,0,!1,!0);break;case"yyyy":n=we(0,4,0,!1,!0);break;case"Y":n=xl(1);break;case"YY":n=xl(2,!0);break;case"YYY":n=xl(3);break;case"YYYY":n=xl(4);break;case"M":case"L":n=we(1,1,1);break;case"MM":case"LL":n=we(1,2,1);break;case"MMM":n=ae(2,ne.Abbreviated);break;case"MMMM":n=ae(2,ne.Wide);break;case"MMMMM":n=ae(2,ne.Narrow);break;case"LLL":n=ae(2,ne.Abbreviated,Ze.Standalone);break;case"LLLL":n=ae(2,ne.Wide,Ze.Standalone);break;case"LLLLL":n=ae(2,ne.Narrow,Ze.Standalone);break;case"w":n=_p(1);break;case"ww":n=_p(2);break;case"W":n=_p(1,!0);break;case"d":n=we(2,1);break;case"dd":n=we(2,2);break;case"c":case"cc":n=we(7,1);break;case"ccc":n=ae(1,ne.Abbreviated,Ze.Standalone);break;case"cccc":n=ae(1,ne.Wide,Ze.Standalone);break;case"ccccc":n=ae(1,ne.Narrow,Ze.Standalone);break;case"cccccc":n=ae(1,ne.Short,Ze.Standalone);break;case"E":case"EE":case"EEE":n=ae(1,ne.Abbreviated);break;case"EEEE":n=ae(1,ne.Wide);break;case"EEEEE":n=ae(1,ne.Narrow);break;case"EEEEEE":n=ae(1,ne.Short);break;case"a":case"aa":case"aaa":n=ae(0,ne.Abbreviated);break;case"aaaa":n=ae(0,ne.Wide);break;case"aaaaa":n=ae(0,ne.Narrow);break;case"b":case"bb":case"bbb":n=ae(0,ne.Abbreviated,Ze.Standalone,!0);break;case"bbbb":n=ae(0,ne.Wide,Ze.Standalone,!0);break;case"bbbbb":n=ae(0,ne.Narrow,Ze.Standalone,!0);break;case"B":case"BB":case"BBB":n=ae(0,ne.Abbreviated,Ze.Format,!0);break;case"BBBB":n=ae(0,ne.Wide,Ze.Format,!0);break;case"BBBBB":n=ae(0,ne.Narrow,Ze.Format,!0);break;case"h":n=we(3,1,-12);break;case"hh":n=we(3,2,-12);break;case"H":n=we(3,1);break;case"HH":n=we(3,2);break;case"m":n=we(4,1);break;case"mm":n=we(4,2);break;case"s":n=we(5,1);break;case"ss":n=we(5,2);break;case"S":n=we(6,1);break;case"SS":n=we(6,2);break;case"SSS":n=we(6,3);break;case"Z":case"ZZ":case"ZZZ":n=Il(0);break;case"ZZZZZ":n=Il(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=Il(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=Il(2);break;default:return null}return Lp[e]=n,n}function Sm(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function P6(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function O6(e,n,t){let i=e.getTimezoneOffset(),o=Sm(n,i);return P6(e,-1*(o-i))}function N6(e){if(fm(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,a=1]=e.split("-").map(s=>+s);return Dl(i,o-1,a)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(S6))return F6(r)}let n=new Date(e);if(!fm(n))throw new D(2302,!1);return n}function F6(e){let n=new Date(0),t=0,r=0,i=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let a=Number(e[4]||0)-t,s=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,a,s,c,l),n}function fm(e){return e instanceof Date&&!isNaN(e.valueOf())}var Ep=/\s+/,ym=[],fa=(()=>{class e{_ngEl;_renderer;initialClasses=ym;rawClass;stateMap=new Map;constructor(t,r){this._ngEl=t,this._renderer=r}set klass(t){this.initialClasses=t!=null?t.trim().split(Ep):ym}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Ep):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Ep).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||e)(A(Gt),A(sn))};static \u0275dir=Ae({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function Ap(e,n){return new D(2100,!1)}var Tp=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw Ap(e,t);return t.toLowerCase()}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Wt({name:"lowercase",type:e,pure:!0})}return e})(),j6=/(?:[0-9A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])\S*/g,Rp=(()=>{class e{transform(t){if(t==null)return null;if(typeof t!="string")throw Ap(e,t);return t.replace(j6,r=>r[0].toUpperCase()+r.slice(1).toLowerCase())}static \u0275fac=function(r){return new(r||e)};static \u0275pipe=Wt({name:"titlecase",type:e,pure:!0})}return e})();var V6="mediumDate",Dm=new E(""),_m=new E(""),ya=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,i){this.locale=t,this.defaultTimezone=r,this.defaultOptions=i}transform(t,r,i,o){if(t==null||t===""||t!==t)return null;try{let a=r??this.defaultOptions?.dateFormat??V6,s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Im(t,a,o||this.locale,s)}catch(a){throw Ap(e,a.message)}}static \u0275fac=function(r){return new(r||e)(A(aa,16),A(Dm,24),A(_m,24))};static \u0275pipe=Wt({name:"date",type:e,pure:!0})}return e})();function Pp(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}var ga=class{};var Lm="browser",B6="server";function Em(e){return e===B6}var El=new E(""),jp=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new D(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(P(El),P(Se))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),ma=class{_doc;constructor(n){this._doc=n}manager},_l="ng-app-id";function Tm(e){for(let n of e)n.remove()}function Rm(e,n){let t=n.createElement("style");return t.textContent=e,t}function z6(e,n,t,r){let i=e.head?.querySelectorAll(`style[${_l}="${n}"],link[${_l}="${n}"]`);if(i)for(let o of i)o.removeAttribute(_l),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Np(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var Vp=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=Em(o),z6(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,Rm);r?.forEach(i=>this.addUsage(i,this.external,Np))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(Tm(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Tm(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,Rm(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,Np(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(_l,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(P(Ee),P(il),P(al,8),P(qi))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),Op={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Hp=/%COMP%/g;var Om="%COMP%",U6=`_nghost-${Om}`,$6=`_ngcontent-${Om}`,G6=!0,W6=new E("",{providedIn:"root",factory:()=>G6});function Z6(e){return $6.replace(Hp,e)}function K6(e){return U6.replace(Hp,e)}function Nm(e,n){return n.map(t=>t.replace(Hp,e))}var qp=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,a,s,c,l=null,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=s,this.ngZone=c,this.nonce=l,this.tracingService=d,this.platformIsServer=!1,this.defaultRenderer=new ka(t,a,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Ll?i.applyToHost(t):i instanceof va&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case Tn.Emulated:o=new Ll(c,l,r,this.appId,d,a,s,u,p);break;case Tn.ShadowDom:return new Fp(c,l,t,r,a,s,this.nonce,u,p);default:o=new va(c,l,r,d,a,s,u,p);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(P(jp),P(Vp),P(il),P(W6),P(Ee),P(qi),P(Se),P(al),P(na,8))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),ka=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,i,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(Op[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(Pm(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(Pm(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new D(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;let o=Op[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let i=Op[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(on.DashCase|on.Important)?n.style.setProperty(t,r,i&on.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&on.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,i){if(typeof n=="string"&&(n=Et().getGlobalEventTarget(this.doc,n),!n))throw new D(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,i)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function Pm(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var Fp=class extends ka{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,i,o,a,s,c,l){super(n,o,a,c,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=Nm(i.id,d);for(let p of d){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=i.getExternalStyles?.();if(u)for(let p of u){let h=Np(p,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},va=class extends ka{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,i,o,a,s,c,l){super(n,o,a,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=l?Nm(l,d):d,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ll=class extends va{contentAttr;hostAttr;constructor(n,t,r,i,o,a,s,c,l){let d=i+"-"+r.id;super(n,t,r,o,a,s,c,l,d),this.contentAttr=Z6(d),this.hostAttr=K6(d)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Al=class e extends la{supportsDOMEvents=!0;static makeCurrent(){xp(new e)}onAndCancel(n,t,r,i){return n.addEventListener(t,r,i),()=>{n.removeEventListener(t,r,i)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=X6();return t==null?null:Y6(t)}resetBaseElement(){Ma=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Pp(document.cookie,n)}},Ma=null;function X6(){return Ma=Ma||document.head.querySelector("base"),Ma?Ma.getAttribute("href"):null}function Y6(e){return new URL(e,document.baseURI).pathname}var J6=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),jm=(()=>{class e extends ma{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(P(Ee))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})(),Fm=["alt","control","meta","shift"],Q6={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},eC={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Vm=(()=>{class e extends ma{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,i,o){let a=e.parseEventName(r),s=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Et().onAndCancel(t,a.domEventName,s,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),Fm.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(t,r){let i=Q6[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Fm.forEach(a=>{if(a!==i){let s=eC[a];s(t)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(P(Ee))};static \u0275prov=L({token:e,factory:e.\u0275fac})}return e})();function Bp(e,n){return am(I({rootComponent:e},tC(n)))}function tC(e){return{appProviders:[...aC,...e?.providers??[]],platformProviders:oC}}function nC(){Al.makeCurrent()}function rC(){return new Qt}function iC(){return zh(document),document}var oC=[{provide:qi,useValue:Lm},{provide:ol,useValue:nC,multi:!0},{provide:Ee,useFactory:iC}];var aC=[{provide:Eo,useValue:"root"},{provide:Qt,useFactory:rC},{provide:El,useClass:jm,multi:!0,deps:[Ee]},{provide:El,useClass:Vm,multi:!0,deps:[Ee]},qp,Vp,jp,{provide:Hr,useExisting:qp},{provide:ga,useClass:J6},[]];var Hm=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(P(Ee))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z="primary",Oa=Symbol("RouteTitle"),Wp=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Kr(e){return new Wp(e)}function Zm(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let i={};for(let o=0;o<r.length;o++){let a=r[o],s=e[o];if(a[0]===":")i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function cC(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!ln(e[t],n[t]))return!1;return!0}function ln(e,n){let t=e?Zp(e):void 0,r=n?Zp(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Km(e[i],n[i]))return!1;return!0}function Zp(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Km(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}else return e===n}function Xm(e){return e.length>0?e[e.length-1]:null}function Nn(e){return Bu(e)?e:Qn(e)?$(Promise.resolve(e)):O(e)}var lC={exact:Jm,subset:Qm},Ym={exact:dC,subset:uC,ignored:()=>!0};function qm(e,n,t){return lC[t.paths](e.root,n.root,t.matrixParams)&&Ym[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function dC(e,n){return ln(e,n)}function Jm(e,n,t){if(!Wr(e.segments,n.segments)||!Pl(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Jm(e.children[r],n.children[r],t))return!1;return!0}function uC(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Km(e[t],n[t]))}function Qm(e,n,t){return ek(e,n,n.segments,t)}function ek(e,n,t,r){if(e.segments.length>t.length){let i=e.segments.slice(0,t.length);return!(!Wr(i,t)||n.hasChildren()||!Pl(i,t,r))}else if(e.segments.length===t.length){if(!Wr(e.segments,t)||!Pl(e.segments,t,r))return!1;for(let i in n.children)if(!e.children[i]||!Qm(e.children[i],n.children[i],r))return!1;return!0}else{let i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Wr(e.segments,i)||!Pl(e.segments,i,r)||!e.children[z]?!1:ek(e.children[z],n,o,r)}}function Pl(e,n,t){return n.every((r,i)=>Ym[t](e[i].parameters,r.parameters))}var un=class{root;queryParams;fragment;_queryParamMap;constructor(n=new te([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){return fC.serialize(this)}},te=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ol(this)}},ir=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Kr(this.parameters),this._parameterMap}toString(){return nk(this)}};function hC(e,n){return Wr(e,n)&&e.every((t,r)=>ln(t.parameters,n[r].parameters))}function Wr(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function pC(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===z&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==z&&(t=t.concat(n(i,r)))}),t}var Na=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>new Xr,providedIn:"root"})}return e})(),Xr=class{parse(n){let t=new Xp(n);return new un(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${wa(n.root,!0)}`,r=mC(n.queryParams),i=typeof n.fragment=="string"?`#${yC(n.fragment)}`:"";return`${t}${r}${i}`}},fC=new Xr;function Ol(e){return e.segments.map(n=>nk(n)).join("/")}function wa(e,n){if(!e.hasChildren())return Ol(e);if(n){let t=e.children[z]?wa(e.children[z],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==z&&r.push(`${i}:${wa(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=pC(e,(r,i)=>i===z?[wa(e.children[z],!1)]:[`${i}:${wa(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[z]!=null?`${Ol(e)}/${t[0]}`:`${Ol(e)}/(${t.join("//")})`}}function tk(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Tl(e){return tk(e).replace(/%3B/gi,";")}function yC(e){return encodeURI(e)}function Kp(e){return tk(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Nl(e){return decodeURIComponent(e)}function Bm(e){return Nl(e.replace(/\+/g,"%20"))}function nk(e){return`${Kp(e.path)}${gC(e.parameters)}`}function gC(e){return Object.entries(e).map(([n,t])=>`;${Kp(n)}=${Kp(t)}`).join("")}function mC(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Tl(t)}=${Tl(i)}`).join("&"):`${Tl(t)}=${Tl(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var kC=/^[^\/()?;#]+/;function zp(e){let n=e.match(kC);return n?n[0]:""}var vC=/^[^\/()?;=#]+/;function MC(e){let n=e.match(vC);return n?n[0]:""}var wC=/^[^=?&#]+/;function CC(e){let n=e.match(wC);return n?n[0]:""}var bC=/^[^&#]+/;function IC(e){let n=e.match(bC);return n?n[0]:""}var Xp=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new te([],{}):new te([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[z]=new te(n,t)),r}parseSegment(){let n=zp(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new D(4009,!1);return this.capture(n),new ir(Nl(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=MC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=zp(this.remaining);i&&(r=i,this.capture(r))}n[Nl(t)]=Nl(r)}parseQueryParam(n){let t=CC(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=IC(this.remaining);a&&(r=a,this.capture(r))}let i=Bm(t),o=Bm(r);if(n.hasOwnProperty(i)){let a=n[i];Array.isArray(a)||(a=[a],n[i]=a),a.push(o)}else n[i]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=zp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new D(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=z);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[z]:new te([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new D(4011,!1)}};function rk(e){return e.segments.length>0?new te([],{[z]:e}):e}function ik(e){let n={};for(let[r,i]of Object.entries(e.children)){let o=ik(i);if(r===z&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))n[a]=s;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new te(e.segments,n);return xC(t)}function xC(e){if(e.numberOfChildren===1&&e.children[z]){let n=e.children[z];return new te(e.segments.concat(n.segments),n.children)}return e}function or(e){return e instanceof un}function ok(e,n,t=null,r=null){let i=ak(e);return sk(i,n,t,r)}function ak(e){let n;function t(o){let a={};for(let c of o.children){let l=t(c);a[c.outlet]=l}let s=new te(o.url,a);return o===e&&(n=s),s}let r=t(e.root),i=rk(r);return n??i}function sk(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(n.length===0)return Up(i,i,i,t,r);let o=SC(n);if(o.toRoot())return Up(i,i,new te([],{}),t,r);let a=DC(o,i,e),s=a.processChildren?ba(a.segmentGroup,a.index,o.commands):lk(a.segmentGroup,a.index,o.commands);return Up(i,a.segmentGroup,s,t,r)}function Fl(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Sa(e){return typeof e=="object"&&e!=null&&e.outlets}function Up(e,n,t,r,i){let o={};r&&Object.entries(r).forEach(([c,l])=>{o[c]=Array.isArray(l)?l.map(d=>`${d}`):`${l}`});let a;e===n?a=t:a=ck(e,n,t);let s=rk(ik(a));return new un(s,o,i)}function ck(e,n,t){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===n?r[i]=t:r[i]=ck(o,n,t)}),new te(e.segments,r)}var jl=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Fl(r[0]))throw new D(4003,!1);let i=r.find(Sa);if(i&&i!==Xm(r))throw new D(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function SC(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new jl(!0,0,e);let n=0,t=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?t=!0:s===".."?n++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new jl(t,n,r)}var Gi=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function DC(e,n,t){if(e.isAbsolute)return new Gi(n,!0,0);if(!t)return new Gi(n,!1,NaN);if(t.parent===null)return new Gi(t,!0,0);let r=Fl(e.commands[0])?0:1,i=t.segments.length-1+r;return _C(t,i,e.numberOfDoubleDots)}function _C(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new D(4005,!1);i=r.segments.length}return new Gi(r,!1,i-o)}function LC(e){return Sa(e[0])?e[0].outlets:{[z]:e}}function lk(e,n,t){if(e??=new te([],{}),e.segments.length===0&&e.hasChildren())return ba(e,n,t);let r=EC(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new te(e.segments.slice(0,r.pathIndex),{});return o.children[z]=new te(e.segments.slice(r.pathIndex),e.children),ba(o,0,i)}else return r.match&&i.length===0?new te(e.segments,{}):r.match&&!e.hasChildren()?Yp(e,n,t):r.match?ba(e,0,i):Yp(e,n,t)}function ba(e,n,t){if(t.length===0)return new te(e.segments,{});{let r=LC(t),i={};if(Object.keys(r).some(o=>o!==z)&&e.children[z]&&e.numberOfChildren===1&&e.children[z].segments.length===0){let o=ba(e.children[z],n,t);return new te(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=lk(e.children[o],n,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new te(e.segments,i)}}function EC(e,n,t){let r=0,i=n,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;let a=e.segments[i],s=t[r];if(Sa(s))break;let c=`${s}`,l=r<t.length-1?t[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Um(c,l,a))return o;r+=2}else{if(!Um(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yp(e,n,t){let r=e.segments.slice(0,n),i=0;for(;i<t.length;){let o=t[i];if(Sa(o)){let c=AC(o.outlets);return new te(r,c)}if(i===0&&Fl(t[0])){let c=e.segments[n];r.push(new ir(c.path,zm(t[0]))),i++;continue}let a=Sa(o)?o.outlets[z]:`${o}`,s=i<t.length-1?t[i+1]:null;a&&s&&Fl(s)?(r.push(new ir(a,zm(s))),i+=2):(r.push(new ir(a,{})),i++)}return new te(r,{})}function AC(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=Yp(new te([],{}),0,r))}),n}function zm(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function Um(e,n,t){return e==t.path&&ln(n,t.parameters)}var Ia="imperative",Te=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(Te||{}),Mt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Yr=class extends Mt{type=Te.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",i=null){super(n,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},hn=class extends Mt{urlAfterRedirects;type=Te.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},rt=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(rt||{}),Da=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(Da||{}),dn=class extends Mt{reason;code;type=Te.NavigationCancel;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},On=class extends Mt{reason;code;type=Te.NavigationSkipped;constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i}},Zi=class extends Mt{error;target;type=Te.NavigationError;constructor(n,t,r,i){super(n,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},_a=class extends Mt{urlAfterRedirects;state;type=Te.RoutesRecognized;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Vl=class extends Mt{urlAfterRedirects;state;type=Te.GuardsCheckStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Hl=class extends Mt{urlAfterRedirects;state;shouldActivate;type=Te.GuardsCheckEnd;constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ql=class extends Mt{urlAfterRedirects;state;type=Te.ResolveStart;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Bl=class extends Mt{urlAfterRedirects;state;type=Te.ResolveEnd;constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},zl=class{route;type=Te.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ul=class{route;type=Te.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},$l=class{snapshot;type=Te.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Gl=class{snapshot;type=Te.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Wl=class{snapshot;type=Te.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zl=class{snapshot;type=Te.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var La=class{},Ki=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function TC(e){return!(e instanceof La)&&!(e instanceof Ki)}function RC(e,n){return e.providers&&!e._injector&&(e._injector=ta(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Yt(e){return e.outlet||z}function PC(e,n){let t=e.filter(r=>Yt(r)===n);return t.push(...e.filter(r=>Yt(r)!==n)),t}function Fa(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Kl=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Fa(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new Ji(this.rootInjector)}},Ji=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Kl(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(P(De))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xl=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Jp(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Jp(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=Qp(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return Qp(n,this._root).map(t=>t.value)}};function Jp(e,n){if(e===n.value)return n;for(let t of n.children){let r=Jp(e,t);if(r)return r}return null}function Qp(e,n){if(e===n.value)return[n];for(let t of n.children){let r=Qp(e,t);if(r.length)return r.unshift(n),r}return[]}var vt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function $i(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var Ea=class extends Xl{snapshot;constructor(n,t){super(n),this.snapshot=t,s2(this,n)}toString(){return this.snapshot.toString()}};function dk(e){let n=OC(e),t=new Ie([new ir("",{})]),r=new Ie({}),i=new Ie({}),o=new Ie({}),a=new Ie(""),s=new wt(t,r,o,a,i,z,e,n.root);return s.snapshot=n.root,new Ea(new vt(s,[]),n)}function OC(e){let n={},t={},r={},i="",o=new Zr([],n,r,i,t,z,e,null,{});return new Aa("",new vt(o,[]))}var wt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,i,o,a,s,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(R(l=>l[Oa]))??O(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(R(n=>Kr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(R(n=>Kr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Yl(e,n,t="emptyOnly"){let r,{routeConfig:i}=e;return n!==null&&(t==="always"||i?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:I(I({},n.params),e.params),data:I(I({},n.data),e.data),resolve:I(I(I(I({},e.data),n.data),i?.data),e._resolvedData)}:r={params:I({},e.params),data:I({},e.data),resolve:I(I({},e.data),e._resolvedData??{})},i&&hk(i)&&(r.resolve[Oa]=i.title),r}var Zr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Oa]}constructor(n,t,r,i,o,a,s,c,l){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Kr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Kr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Aa=class extends Xl{url;constructor(n,t){super(t),this.url=n,s2(this,t)}toString(){return uk(this._root)}};function s2(e,n){n.value._routerState=e,n.children.forEach(t=>s2(e,t))}function uk(e){let n=e.children.length>0?` { ${e.children.map(uk).join(", ")} } `:"";return`${e.value}${n}`}function $p(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,ln(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),ln(n.params,t.params)||e.paramsSubject.next(t.params),cC(n.url,t.url)||e.urlSubject.next(t.url),ln(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function e2(e,n){let t=ln(e.params,n.params)&&hC(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||e2(e.parent,n.parent))}function hk(e){return typeof e.title=="string"||e.title===null}var pk=new E(""),ja=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=z;activateEvents=new me;deactivateEvents=new me;attachEvents=new me;detachEvents=new me;routerOutletData=im(void 0);parentContexts=b(Ji);location=b(ea);changeDetector=b(Gr);inputBinder=b(td,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new D(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new D(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new D(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new D(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new t2(t,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Ae({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[$t]})}return e})(),t2=class{route;childContexts;parent;outletData;constructor(n,t,r,i){this.route=n,this.childContexts=t,this.parent=r,this.outletData=i}get(n,t){return n===wt?this.route:n===Ji?this.childContexts:n===pk?this.outletData:this.parent.get(n,t)}},td=new E("");var c2=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=J({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&S(0,"router-outlet")},dependencies:[ja],encapsulation:2})}return e})();function l2(e){let n=e.children&&e.children.map(l2),t=n?V(I({},e),{children:n}):I({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==z&&(t.component=c2),t}function NC(e,n,t){let r=Ta(e,n._root,t?t._root:void 0);return new Ea(r,n)}function Ta(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let i=FC(e,n,t);return new vt(r,i)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(s=>Ta(e,s)),a}}let r=jC(n.value),i=n.children.map(o=>Ta(e,o));return new vt(r,i)}}function FC(e,n,t){return n.children.map(r=>{for(let i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Ta(e,r,i);return Ta(e,r)})}function jC(e){return new wt(new Ie(e.url),new Ie(e.params),new Ie(e.queryParams),new Ie(e.fragment),new Ie(e.data),e.outlet,e.component,e)}var Xi=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},fk="ngNavigationCancelingError";function Jl(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=or(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=yk(!1,rt.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function yk(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[fk]=!0,t.cancellationCode=n,t}function VC(e){return gk(e)&&or(e.url)}function gk(e){return!!e&&e[fk]}var HC=(e,n,t,r)=>R(i=>(new n2(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)),n2=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),$p(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let i=$i(t);n.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=$i(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:s})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=$i(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let i=$i(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Zl(o.value.snapshot))}),n.children.length&&this.forwardEvent(new Gl(n.value.snapshot))}activateRoutes(n,t,r){let i=n.value,o=t?t.value:null;if($p(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),$p(s.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,r)}},Ql=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Wi=class{component;route;constructor(n,t){this.component=n,this.route=t}};function qC(e,n,t){let r=e._root,i=n?n._root:null;return Ca(r,i,t,[r.value])}function BC(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Qi(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!h1(e)?e:n.get(e):r}function Ca(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=$i(n);return e.children.forEach(a=>{zC(a,o[a.value.outlet],t,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>xa(s,t.getContext(a),i)),i}function zC(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=n?n.value:null,s=t?t.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=UC(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new Ql(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Ca(e,n,s?s.children:null,r,i):Ca(e,n,t,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new Wi(s.outlet.component,a))}else a&&xa(n,s,i),i.canActivateChecks.push(new Ql(r)),o.component?Ca(e,null,s?s.children:null,r,i):Ca(e,null,t,r,i);return i}function UC(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Wr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Wr(e.url,n.url)||!ln(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!e2(e,n)||!ln(e.queryParams,n.queryParams);case"paramsChange":default:return!e2(e,n)}}function xa(e,n,t){let r=$i(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?n?xa(a,n.children.getContext(o),t):xa(a,null,t):xa(a,n,t)}),i.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Wi(n.outlet.component,i)):t.canDeactivateChecks.push(new Wi(null,i)):t.canDeactivateChecks.push(new Wi(null,i))}function Va(e){return typeof e=="function"}function $C(e){return typeof e=="boolean"}function GC(e){return e&&Va(e.canLoad)}function WC(e){return e&&Va(e.canActivate)}function ZC(e){return e&&Va(e.canActivateChild)}function KC(e){return e&&Va(e.canDeactivate)}function XC(e){return e&&Va(e.canMatch)}function mk(e){return e instanceof xn||e?.name==="EmptyError"}var Rl=Symbol("INITIAL_VALUE");function Yi(){return ze(e=>Ct(e.map(n=>n.pipe(ge(1),Xu(Rl)))).pipe(R(n=>{for(let t of n)if(t!==!0){if(t===Rl)return Rl;if(t===!1||YC(t))return t}return!0}),Be(n=>n!==Rl),ge(1)))}function YC(e){return or(e)||e instanceof Xi}function JC(e,n){return de(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?O(V(I({},t),{guardsResult:!0})):QC(a,r,i,e).pipe(de(s=>s&&$C(s)?eb(r,o,e,n):O(s)),R(s=>V(I({},t),{guardsResult:s})))})}function QC(e,n,t,r){return $(e).pipe(de(i=>ob(i.component,i.route,t,n,r)),bt(i=>i!==!0,!0))}function eb(e,n,t,r){return $(n).pipe(at(i=>xi(nb(i.route.parent,r),tb(i.route,r),ib(e,i.path,t),rb(e,i.route,t))),bt(i=>i!==!0,!0))}function tb(e,n){return e!==null&&n&&n(new Wl(e)),O(!0)}function nb(e,n){return e!==null&&n&&n(new $l(e)),O(!0)}function rb(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return O(!0);let i=r.map(o=>Ht(()=>{let a=Fa(n)??t,s=Qi(o,a),c=WC(s)?s.canActivate(n,e):pt(a,()=>s(n,e));return Nn(c).pipe(bt())}));return O(i).pipe(Yi())}function ib(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>BC(a)).filter(a=>a!==null).map(a=>Ht(()=>{let s=a.guards.map(c=>{let l=Fa(a.node)??t,d=Qi(c,l),u=ZC(d)?d.canActivateChild(r,e):pt(l,()=>d(r,e));return Nn(u).pipe(bt())});return O(s).pipe(Yi())}));return O(o).pipe(Yi())}function ob(e,n,t,r,i){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return O(!0);let a=o.map(s=>{let c=Fa(n)??i,l=Qi(s,c),d=KC(l)?l.canDeactivate(e,n,t,r):pt(c,()=>l(e,n,t,r));return Nn(d).pipe(bt())});return O(a).pipe(Yi())}function ab(e,n,t,r){let i=n.canLoad;if(i===void 0||i.length===0)return O(!0);let o=i.map(a=>{let s=Qi(a,e),c=GC(s)?s.canLoad(n,t):pt(e,()=>s(n,t));return Nn(c)});return O(o).pipe(Yi(),kk(r))}function kk(e){return Fu(se(n=>{if(typeof n!="boolean")throw Jl(e,n)}),R(n=>n===!0))}function sb(e,n,t,r){let i=n.canMatch;if(!i||i.length===0)return O(!0);let o=i.map(a=>{let s=Qi(a,e),c=XC(s)?s.canMatch(n,t):pt(e,()=>s(n,t));return Nn(c)});return O(o).pipe(Yi(),kk(r))}var Ra=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Pa=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Ui(e){return Vt(new Ra(e))}function cb(e){return Vt(new D(4e3,!1))}function lb(e){return Vt(yk(!1,rt.GuardRejected))}var r2=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return O(r);if(i.numberOfChildren>1||!i.children[z])return cb(`${n.redirectTo}`);i=i.children[z]}}applyRedirectCommands(n,t,r,i,o){return db(t,i,o).pipe(R(a=>{if(a instanceof un)throw new Pa(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),n,r);if(a[0]==="/")throw new Pa(s);return s}))}applyRedirectCreateUrlTree(n,t,r,i){let o=this.createSegmentGroup(n,t.root,r,i);return new un(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=t[s]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){let o=this.createSegments(n,t.segments,r,i),a={};return Object.entries(t.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(n,c,r,i)}),new te(o,a)}createSegments(n,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){let i=r[t.path.substring(1)];if(!i)throw new D(4001,!1);return i}findOrReturn(n,t){let r=0;for(let i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}};function db(e,n,t){if(typeof e=="string")return O(e);let r=e,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u}=n;return Nn(pt(t,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u})))}var i2={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function ub(e,n,t,r,i){let o=vk(e,n,t);return o.matched?(r=RC(n,r),sb(r,n,t,i).pipe(R(a=>a===!0?o:I({},i2)))):O(o)}function vk(e,n,t){if(n.path==="**")return hb(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?I({},i2):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(n.matcher||Zm)(t,e,n);if(!i)return I({},i2);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?I(I({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function hb(e){return{matched:!0,parameters:e.length>0?Xm(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function $m(e,n,t,r){return t.length>0&&yb(e,t,r)?{segmentGroup:new te(n,fb(r,new te(t,e.children))),slicedSegments:[]}:t.length===0&&gb(e,t,r)?{segmentGroup:new te(e.segments,pb(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new te(e.segments,e.children),slicedSegments:t}}function pb(e,n,t,r){let i={};for(let o of t)if(nd(e,n,o)&&!r[Yt(o)]){let a=new te([],{});i[Yt(o)]=a}return I(I({},r),i)}function fb(e,n){let t={};t[z]=n;for(let r of e)if(r.path===""&&Yt(r)!==z){let i=new te([],{});t[Yt(r)]=i}return t}function yb(e,n,t){return t.some(r=>nd(e,n,r)&&Yt(r)!==z)}function gb(e,n,t){return t.some(r=>nd(e,n,r))}function nd(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function mb(e,n,t){return n.length===0&&!e.children[t]}var o2=class{};function kb(e,n,t,r,i,o,a="emptyOnly"){return new a2(e,n,t,r,i,a,o).recognize()}var vb=31,a2=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,i,o,a,s){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.applyRedirects=new r2(this.urlSerializer,this.urlTree)}noMatchError(n){return new D(4002,`'${n.segmentGroup}'`)}recognize(){let n=$m(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(R(({children:t,rootSnapshot:r})=>{let i=new vt(r,t),o=new Aa("",i),a=ok(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(n){let t=new Zr([],Object.freeze({}),Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),z,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,z,t).pipe(R(r=>({children:r,rootSnapshot:t})),ot(r=>{if(r instanceof Pa)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ra?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,i,!0,o).pipe(R(a=>a instanceof vt?[a]:[]))}processChildren(n,t,r,i){let o=[];for(let a of Object.keys(r.children))a==="primary"?o.unshift(a):o.push(a);return $(o).pipe(at(a=>{let s=r.children[a],c=PC(t,a);return this.processSegmentGroup(n,c,s,a,i)}),Io((a,s)=>(a.push(...s),a)),Bn(null),Gu(),de(a=>{if(a===null)return Ui(r);let s=Mk(a);return Mb(s),O(s)}))}processSegment(n,t,r,i,o,a,s){return $(t).pipe(at(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,i,o,a,s).pipe(ot(l=>{if(l instanceof Ra)return O(null);throw l}))),bt(c=>!!c),ot(c=>{if(mk(c))return mb(r,i,o)?O(new o2):Ui(r);throw c}))}processSegmentAgainstRoute(n,t,r,i,o,a,s,c){return Yt(r)!==a&&(a===z||!nd(i,o,r))?Ui(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,i,r,o,a,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,a,c):Ui(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=vk(t,i,o);if(!c)return Ui(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>vb&&(this.allowRedirects=!1));let h=new Zr(o,l,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Gm(i),Yt(i),i.component??i._loadedComponent??null,i,Wm(i)),y=Yl(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(d,i.redirectTo,u,h,n).pipe(ze(v=>this.applyRedirects.lineralizeSegments(i,v)),de(v=>this.processSegment(n,r,t,v.concat(p),a,!1,s)))}matchSegmentAgainstRoute(n,t,r,i,o,a){let s=ub(t,r,i,n,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(ze(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,i).pipe(ze(({routes:l})=>{let d=r._loadedInjector??n,{parameters:u,consumedSegments:p,remainingSegments:h}=c,y=new Zr(p,u,Object.freeze(I({},this.urlTree.queryParams)),this.urlTree.fragment,Gm(r),Yt(r),r.component??r._loadedComponent??null,r,Wm(r)),m=Yl(y,a,this.paramsInheritanceStrategy);y.params=Object.freeze(m.params),y.data=Object.freeze(m.data);let{segmentGroup:v,slicedSegments:w}=$m(t,p,h,l);if(w.length===0&&v.hasChildren())return this.processChildren(d,l,v,y).pipe(R(N=>new vt(y,N)));if(l.length===0&&w.length===0)return O(new vt(y,[]));let T=Yt(r)===o;return this.processSegment(d,l,v,w,T?z:o,!0,y).pipe(R(N=>new vt(y,N instanceof vt?[N]:[])))}))):Ui(t)))}getChildConfig(n,t,r){return t.children?O({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?O({routes:t._loadedRoutes,injector:t._loadedInjector}):ab(n,t,r,this.urlSerializer).pipe(de(i=>i?this.configLoader.loadChildren(n,t).pipe(se(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):lb(t))):O({routes:[],injector:n})}};function Mb(e){e.sort((n,t)=>n.value.outlet===z?-1:t.value.outlet===z?1:n.value.outlet.localeCompare(t.value.outlet))}function wb(e){let n=e.value.routeConfig;return n&&n.path===""}function Mk(e){let n=[],t=new Set;for(let r of e){if(!wb(r)){n.push(r);continue}let i=n.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):n.push(r)}for(let r of t){let i=Mk(r.children);n.push(new vt(r.value,i))}return n.filter(r=>!t.has(r))}function Gm(e){return e.data||{}}function Wm(e){return e.resolve||{}}function Cb(e,n,t,r,i,o){return de(a=>kb(e,n,t,r,a.extractedUrl,i,o).pipe(R(({state:s,tree:c})=>V(I({},a),{targetSnapshot:s,urlAfterRedirects:c}))))}function bb(e,n){return de(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return O(t);let o=new Set(i.map(c=>c.route)),a=new Set;for(let c of o)if(!a.has(c))for(let l of wk(c))a.add(l);let s=0;return $(a).pipe(at(c=>o.has(c)?Ib(c,r,e,n):(c.data=Yl(c,c.parent,e).resolve,O(void 0))),se(()=>s++),Si(1),de(c=>s===a.size?O(t):qe))})}function wk(e){let n=e.children.map(t=>wk(t)).flat();return[e,...n]}function Ib(e,n,t,r){let i=e.routeConfig,o=e._resolve;return i?.title!==void 0&&!hk(i)&&(o[Oa]=i.title),Ht(()=>(e.data=Yl(e,e.parent,t).resolve,xb(o,e,n,r).pipe(R(a=>(e._resolvedData=a,e.data=I(I({},e.data),a),null)))))}function xb(e,n,t,r){let i=Zp(e);if(i.length===0)return O({});let o={};return $(i).pipe(de(a=>Sb(e[a],n,t,r).pipe(bt(),se(s=>{if(s instanceof Xi)throw Jl(new Xr,s);o[a]=s}))),Si(1),R(()=>o),ot(a=>mk(a)?qe:Vt(a)))}function Sb(e,n,t,r){let i=Fa(n)??r,o=Qi(e,i),a=o.resolve?o.resolve(n,t):pt(i,()=>o(n,t));return Nn(a)}function Gp(e){return ze(n=>{let t=e(n);return t?$(t).pipe(R(()=>n)):O(n)})}var d2=(()=>{class e{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===z);return r}getResolvedTitleForRoute(t){return t.data[Oa]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(Ck),providedIn:"root"})}return e})(),Ck=(()=>{class e extends d2{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(P(Hm))};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),eo=new E("",{providedIn:"root",factory:()=>({})}),Ha=new E(""),bk=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=b(Mp);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return O(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Nn(t.loadComponent()).pipe(R(xk),se(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),bo(()=>{this.componentLoaders.delete(t)})),i=new Ci(r,()=>new re).pipe(wi());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return O({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=Ik(r,this.compiler,t,this.onLoadEndListener).pipe(bo(()=>{this.childrenLoaders.delete(r)})),a=new Ci(o,()=>new re).pipe(wi());return this.childrenLoaders.set(r,a),a}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ik(e,n,t,r){return Nn(e.loadChildren()).pipe(R(xk),de(i=>i instanceof ml||Array.isArray(i)?O(i):$(n.compileModuleAsync(i))),R(i=>{r&&r(e);let o,a,s=!1;return Array.isArray(i)?(a=i,s=!0):(o=i.create(t).injector,a=o.get(Ha,[],{optional:!0,self:!0}).flat()),{routes:a.map(l2),injector:o}}))}function Db(e){return e&&typeof e=="object"&&"default"in e}function xk(e){return Db(e)?e.default:e}var rd=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(_b),providedIn:"root"})}return e})(),_b=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sk=new E("");var Dk=new E(""),_k=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new re;transitionAbortWithErrorSubject=new re;configLoader=b(bk);environmentInjector=b(De);destroyRef=b(Or);urlSerializer=b(Na);rootContexts=b(Ji);location=b(rr);inputBindingEnabled=b(td,{optional:!0})!==null;titleStrategy=b(d2);options=b(eo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=b(rd);createViewTransition=b(Sk,{optional:!0});navigationErrorHandler=b(Dk,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>O(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new zl(i)),r=i=>this.events.next(new Ul(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(V(I({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new Ie(null),this.transitions.pipe(Be(r=>r!==null),ze(r=>{let i=!1;return O(r).pipe(ze(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),qe;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?V(I({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&s!=="reload"){let c="";return this.events.next(new On(o.id,this.urlSerializer.serialize(o.rawUrl),c,Da.IgnoredSameUrlNavigation)),o.resolve(!1),qe}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return O(o).pipe(ze(c=>(this.events.next(new Yr(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?qe:Promise.resolve(c))),Cb(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),se(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=V(I({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let l=new _a(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(l)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:l,source:d,restoredState:u,extras:p}=o,h=new Yr(c,this.urlSerializer.serialize(l),d,u);this.events.next(h);let y=dk(this.rootComponentType).snapshot;return this.currentTransition=r=V(I({},o),{targetSnapshot:y,urlAfterRedirects:l,extras:V(I({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,O(r)}else{let c="";return this.events.next(new On(o.id,this.urlSerializer.serialize(o.extractedUrl),c,Da.IgnoredByUrlHandlingStrategy)),o.resolve(!1),qe}}),se(o=>{let a=new Vl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),R(o=>(this.currentTransition=r=V(I({},o),{guards:qC(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),JC(this.environmentInjector,o=>this.events.next(o)),se(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Jl(this.urlSerializer,o.guardsResult);let a=new Hl(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Be(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",rt.GuardRejected),!1)),Gp(o=>{if(o.guards.canActivateChecks.length!==0)return O(o).pipe(se(a=>{let s=new ql(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}),ze(a=>{let s=!1;return O(a).pipe(bb(this.paramsInheritanceStrategy,this.environmentInjector),se({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(a,"",rt.NoDataFromResolver)}}))}),se(a=>{let s=new Bl(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(s)}))}),Gp(o=>{let a=s=>{let c=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(s.routeConfig).pipe(se(l=>{s.component=l}),R(()=>{})));for(let l of s.children)c.push(...a(l));return c};return Ct(a(o.targetSnapshot.root)).pipe(Bn(null),ge(1))}),Gp(()=>this.afterPreactivation()),ze(()=>{let{currentSnapshot:o,targetSnapshot:a}=r,s=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return s?$(s).pipe(R(()=>r)):O(r)}),R(o=>{let a=NC(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=V(I({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,r}),se(()=>{this.events.next(new La)}),HC(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ge(1),Di(new Y(o=>{let a=r.abortController.signal,s=()=>o.next();return a.addEventListener("abort",s),()=>a.removeEventListener("abort",s)}).pipe(Be(()=>!i&&!r.targetRouterState),se(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",rt.Aborted)}))),se({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new hn(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Di(this.transitionAbortWithErrorSubject.pipe(se(o=>{throw o}))),bo(()=>{i||this.cancelNavigationTransition(r,"",rt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),ot(o=>{if(this.destroyed)return r.resolve(!1),qe;if(i=!0,gk(o))this.events.next(new dn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),VC(o)?this.events.next(new Ki(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let a=new Zi(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let s=pt(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(s instanceof Xi){let{message:c,cancellationCode:l}=Jl(this.urlSerializer,s);this.events.next(new dn(r.id,this.urlSerializer.serialize(r.extractedUrl),c,l)),this.events.next(new Ki(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return qe}))}))}cancelNavigationTransition(t,r,i){let o=new dn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Lb(e){return e!==Ia}var Lk=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(Eb),providedIn:"root"})}return e})(),ed=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},Eb=(()=>{class e extends ed{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zr(e)))(i||e)}})();static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ek=(()=>{class e{urlSerializer=b(Na);options=b(eo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=b(rr);urlHandlingStrategy=b(rd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new un;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,a=i??o;return a instanceof un?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=dk(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:()=>b(Ab),providedIn:"root"})}return e})(),Ab=(()=>{class e extends Ek{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Yr?this.updateStateMemento():t instanceof On?this.commitTransition(r):t instanceof _a?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof La?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof dn&&t.code!==rt.SupersededByNewNavigation&&t.code!==rt.Redirect?this.restoreHistory(r):t instanceof Zi?this.restoreHistory(r,!0):t instanceof hn&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(t)||o){let s=this.browserPageId,c=I(I({},a),this.generateNgRouterState(i,s));this.location.replaceState(t,"",c)}else{let s=I(I({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zr(e)))(i||e)}})();static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function u2(e,n){e.events.pipe(Be(t=>t instanceof hn||t instanceof dn||t instanceof Zi||t instanceof On),R(t=>t instanceof hn||t instanceof On?0:(t instanceof dn?t.code===rt.Redirect||t.code===rt.SupersededByNewNavigation:!1)?2:1),Be(t=>t!==2),ge(1)).subscribe(()=>{n()})}var Tb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Rb={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=b(lp);stateManager=b(Ek);options=b(eo,{optional:!0})||{};pendingTasks=b(Yn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=b(_k);urlSerializer=b(Na);location=b(rr);urlHandlingStrategy=b(rd);injector=b(De);_events=new re;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=b(Lk);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=b(Ha,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!b(td,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new he;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof dn&&r.code!==rt.Redirect&&r.code!==rt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof hn)this.navigated=!0;else if(r instanceof Ki){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=I({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Lb(i.source)},a);this.scheduleNavigation(s,Ia,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}TC(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ia,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=I({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,a,o).catch(c=>{this.injector.get(ct)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(l2),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=I(I({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=i?i.snapshot:this.routerState.snapshot.root;u=ak(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return sk(u,t,d,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=or(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ia,null,r)}navigate(t,r={skipLocationChange:!1}){return Pb(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=I({},Tb):r===!1?i=I({},Rb):i=r,or(t))return qm(this.currentUrlTree,t,i);let o=this.parseUrl(t);return qm(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return u2(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Pb(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new D(4008,!1)}var pn=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=An(null);get href(){return Lt(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new re;applicationErrorHandler=b(ct);options=b(eo,{optional:!0});constructor(t,r,i,o,a,s){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(b(new Ml("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof hn&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(or(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(t!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:or(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(A(Fn),A(wt),Xo("tabindex"),A(sn),A(Gt),A(zi))};static \u0275dir=Ae({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Fe("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&er("href",i.reactiveHref(),$h)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ca],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ca],replaceUrl:[2,"replaceUrl","replaceUrl",ca],routerLink:"routerLink"},features:[$t]})}return e})();var Nb=new E("");function h2(e,...n){return Sr([{provide:Ha,multi:!0,useValue:e},[],{provide:wt,useFactory:Fb,deps:[Fn]},{provide:kl,multi:!0,useFactory:jb},n.map(t=>t.\u0275providers)])}function Fb(e){return e.routerState.root}function jb(){let e=b(Oe);return n=>{let t=e.get(Ur);if(n!==t.components[0])return;let r=e.get(Fn),i=e.get(Vb);e.get(Hb)===1&&r.initialNavigation(),e.get(qb,null,{optional:!0})?.setUpPreloading(),e.get(Nb,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var Vb=new E("",{factory:()=>new re}),Hb=new E("",{providedIn:"root",factory:()=>1});var qb=new E("");var zb=["*"];var id=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]];var Ak=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]];var Tk=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Rk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]];var Pk=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]];var od=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]];var Ok=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]];var Nk=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]];var to=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]];var Fk=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]];var ad=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]];var jk=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var Vk=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]];var qa={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},p2=new E("LucideIcons",{factory:()=>new Ba({})}),Ba=class{constructor(n){this.icons=n}getIcon(n){return this.hasIcon(n)?this.icons[n]:null}hasIcon(n){return typeof this.icons=="object"&&n in this.icons}},Ub=(()=>{class e{constructor(){this.color=qa.stroke,this.size=qa.width,this.strokeWidth=qa["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $b(e,n=3){return parseFloat(e.toFixed(n)).toString(10)}var ar=(()=>{class e{constructor(t,r,i,o,a){this.elem=t,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=qa.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let r=V(I({},qa),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?$b(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,t]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(t){if(typeof t=="string"){let r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,i=[]]){let o=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return e.\u0275fac=function(t){return new(t||e)(A(Gt),A(sn),A(Gr),A(p2),A(Ub))},e.\u0275cmp=J({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[$t],ngContentSelectors:zb,decls:1,vars:0,template:function(t,r){t&1&&(yp(),gp(0))},encapsulation:2}),e})(),f2=class{constructor(n){this.icons=n}},Gb=e=>new Ba(e??{}),sr=(()=>{class e{static pick(t){return{ngModule:e,providers:[{provide:p2,multi:!0,useValue:new Ba(t)},{provide:p2,multi:!0,useFactory:Gb,deps:[[new Vh,f2]]}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=Dt({type:e}),e.\u0275inj=ht({imports:[[]]}),e})();var Wb=e=>["/lease",e];function Zb(e,n){if(e&1&&(g(0,"div",0)(1,"div",1),S(2,"img",2),k(),g(3,"h2",3),x(4),k(),g(5,"p",4),S(6,"lucide-icon",5),x(7),k(),S(8,"hr",6),g(9,"div",7),S(10,"lucide-icon",5),g(11,"span"),x(12),kt(13,"date"),kt(14,"date"),k()(),g(15,"div",8),S(16,"lucide-icon",5),g(17,"span",9),x(18),k(),g(19,"span",10),x(20),k()()()),e&2){let t=je();_("routerLink",oa(18,Wb,t.lease.id)),M(4),Me(" ",t.lease.property==null?null:t.lease.property.name," "),M(2),_("img",t.MapPinIcon),M(),Kt(" ",t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.street,", ",t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.city," "),M(3),_("img",t.CalendarIcon),M(2),Kt("",$r(13,12,t.lease.startDate,"MMM y")," \u2013 ",$r(14,15,t.lease.endDate,"MMM y")),M(4),_("img",t.Banknote),M(2),Kt(" ",t.lease.rentAmount," ",t.lease.rentCurrency),M(2),Me("/ ",t.lease.paymentFrequency||"mois")}}var cd=class e{lease;MapPinIcon=to;CalendarIcon=Tk;Banknote=Ak;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-lease-card"]],inputs:{lease:"lease"},decls:1,vars:1,consts:[[1,"bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4",3,"routerLink"],[1,"h-32","flex","justify-center"],["src","/illustrations/home.svg",1,"h-full"],[1,"text-2xl","font-bold","leading-tight"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-200/50","my-2"],[1,"flex","items-center","text-sm","flex","items-center","gap-1","text-gray-600"],[1,"flex","items-baseline","text-gray-800","flex","items-center","gap-1"],[1,"ml-1","text-sm","font-medium"],[1,"ml-2","text-sm","text-gray-500"]],template:function(t,r){t&1&&ke(0,Zb,21,20,"div",0),t&2&&ve(r.lease?0:-1)},dependencies:[ya,sr,ar,pn],encapsulation:2})};var ld=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-lease-skeleton-card"]],decls:11,vars:0,consts:[[1,"w-full","md:w-80","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-4","animate-pulse"],[1,"h-6","bg-gray-300/50","rounded","w-2/3","mx-auto"],[1,"h-4","bg-gray-300/50","rounded","w-full"],[1,"border-t","border-gray-300/30","my-2"],[1,"h-4","bg-gray-300/50","rounded","w-3/4"],[1,"h-4","bg-gray-300/50","rounded","w-4/5"],[1,"h-4","bg-gray-300/50","rounded","w-3/5"],[1,"flex","flex-wrap","gap-2"],[1,"h-6","w-16","bg-gray-300/50","rounded-full"],[1,"h-6","w-20","bg-gray-300/50","rounded-full"],[1,"h-6","w-14","bg-gray-300/50","rounded-full"]],template:function(t,r){t&1&&(g(0,"div",0),S(1,"div",1)(2,"div",2)(3,"hr",3)(4,"div",4)(5,"div",5)(6,"div",6),g(7,"div",7),S(8,"div",8)(9,"div",9)(10,"div",10),k()())},encapsulation:2})};var Hk=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var za=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},dd=class extends za{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},ud=class extends za{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},hd=class extends za{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},y2=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(y2||{});var Kb=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},Ua=class{constructor(n,{headers:t={},customFetch:r,region:i=y2.Any}={}){this.url=n,this.headers=t,this.region=i,this.fetch=Hk(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return Kb(this,void 0,void 0,function*(){try{let{headers:i,method:o,body:a}=t,s={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(s["x-region"]=c);let l;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",l=a):typeof a=="string"?(s["Content-Type"]="text/plain",l=a):typeof FormData<"u"&&a instanceof FormData?l=a:(s["Content-Type"]="application/json",l=JSON.stringify(a)));let d=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),i),body:l}).catch(y=>{throw new dd(y)}),u=d.headers.get("x-relay-error");if(u&&u==="true")throw new ud(d);if(!d.ok)throw new hd(d);let p=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield d.json():p==="application/octet-stream"?h=yield d.blob():p==="text/event-stream"?h=d:p==="multipart/form-data"?h=yield d.formData():h=yield d.text(),{data:h,error:null}}catch(i){return{data:null,error:i}}})}};var Qk=e5(Jk(),1),{PostgrestClient:ev,PostgrestQueryBuilder:CB,PostgrestFilterBuilder:bB,PostgrestTransformBuilder:IB,PostgrestBuilder:xB,PostgrestError:sI}=Qk.default;function tv(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var nv=tv();var rv="2.11.13";var iv={"X-Client-Info":`realtime-js/${rv}`},ov="1.0.0";var gd=1e4,av=1e3,Ya=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(Ya||{}),Ke=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Ke||{}),Tt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(Tt||{}),D2=function(e){return e.websocket="websocket",e}(D2||{}),Jr=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Jr||{});var md=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let i=t.getUint8(1),o=t.getUint8(2),a=this.HEADER_LENGTH+2,s=r.decode(n.slice(a,a+i));a=a+i;let c=r.decode(n.slice(a,a+o));a=a+o;let l=JSON.parse(r.decode(n.slice(a,n.byteLength)));return{ref:null,topic:s,event:c,payload:l}}};var ro=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ce=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(ce||{}),L2=(e,n,t={})=>{var r;let i=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,a)=>(o[a]=cI(a,e,n,i),o),{})},cI=(e,n,t,r)=>{let i=n.find(s=>s.name===e),o=i?.type,a=t[e];return o&&!r.includes(o)?sv(o,a):_2(a)},sv=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return hI(n,t)}switch(e){case ce.bool:return lI(n);case ce.float4:case ce.float8:case ce.int2:case ce.int4:case ce.int8:case ce.numeric:case ce.oid:return dI(n);case ce.json:case ce.jsonb:return uI(n);case ce.timestamp:return pI(n);case ce.abstime:case ce.date:case ce.daterange:case ce.int4range:case ce.int8range:case ce.money:case ce.reltime:case ce.text:case ce.time:case ce.timestamptz:case ce.timetz:case ce.tsrange:case ce.tstzrange:return _2(n);default:return _2(n)}},_2=e=>e,lI=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},dI=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},uI=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},hI=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,a=e.slice(1,t);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>sv(n,s))}return e},pI=e=>typeof e=="string"?e.replace(" ","T"):e,kd=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var io=class{constructor(n,t,r={},i=gd){this.channel=n,this.event=t,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Ja=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,i){let o=this.cloneDeep(n),a=this.transformState(t),s={},c={};return this.map(o,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=o[l];if(u){let p=d.map(v=>v.presence_ref),h=u.map(v=>v.presence_ref),y=d.filter(v=>h.indexOf(v.presence_ref)<0),m=u.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(s[l]=y),m.length>0&&(c[l]=m)}else s[l]=d}),this.syncDiff(o,{joins:s,leaves:c},r,i)}static syncDiff(n,t,r,i){let{joins:o,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,c)=>{var l;let d=(l=n[s])!==null&&l!==void 0?l:[];if(n[s]=this.cloneDeep(c),d.length>0){let u=n[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);n[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=n[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),n[s]=l,i(s,l,c),l.length===0&&delete n[s]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let i=n[r];return"metas"in i?t[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=i,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var jn=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(jn||{});var Qa=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Ke.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new io(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new ro(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ke.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ke.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ke.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(i,o)=>{this._trigger(this._replyEventName(o),i)}),this.presence=new Ja(this),this.broadcastEndpointURL=kd(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==Ke.closed){let{config:{broadcast:o,presence:a,private:s}}=this.params;this._onError(d=>n?.(jn.CHANNEL_ERROR,d)),this._onClose(()=>n?.(jn.CLOSED));let c={},l={broadcast:o,presence:a,postgres_changes:(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&i!==void 0?i:[],private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",u=>f(this,[u],function*({postgres_changes:d}){var p;if(this.socket.setAuth(),d===void 0){n?.(jn.SUBSCRIBED);return}else{let h=this.bindings.postgres_changes,y=(p=h?.length)!==null&&p!==void 0?p:0,m=[];for(let v=0;v<y;v++){let w=h[v],{filter:{event:T,schema:N,table:C,filter:W}}=w,He=d&&d[v];if(He&&He.event===T&&He.schema===N&&He.table===C&&He.filter===W)m.push(Object.assign(Object.assign({},w),{id:He.id}));else{this.unsubscribe(),this.state=Ke.errored,n?.(jn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,n&&n(jn.SUBSCRIBED);return}})).receive("error",d=>{this.state=Ke.errored,n?.(jn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{n?.(jn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return f(this,arguments,function*(n,t={}){var i,o;if(!this._canPush()&&n.type==="broadcast"){let{event:a,payload:s}=n,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:s,private:this.private}]})};try{let d=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=t.timeout)!==null&&i!==void 0?i:this.timeout);return yield(o=d.body)===null||o===void 0?void 0:o.cancel(),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var s,c,l;let d=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((l=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||l===void 0)&&l.ack)&&a("ok"),d.receive("ok",()=>a("ok")),d.receive("error",()=>a("error")),d.receive("timeout",()=>a("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Ke.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new io(this,Tt.leave,{},n),r.receive("ok",()=>{t(),i("ok")}).receive("timeout",()=>{t(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,t,r){return f(this,null,function*(){let i=new AbortController,o=setTimeout(()=>i.abort(),r),a=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:i.signal}));return clearTimeout(o),a})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new io(this,n,t,r);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var i,o;let a=n.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=Tt;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,m,v;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(m=h.filter)===null||m===void 0?void 0:m.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(o=this.bindings[a])===null||o===void 0||o.filter(h=>{var y,m,v,w,T,N;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let C=h.id,W=(y=h.filter)===null||y===void 0?void 0:y.event;return C&&((m=t.ids)===null||m===void 0?void 0:m.includes(C))&&(W==="*"||W?.toLocaleLowerCase()===((v=t.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{let C=(T=(w=h?.filter)===null||w===void 0?void 0:w.event)===null||T===void 0?void 0:T.toLocaleLowerCase();return C==="*"||C===((N=t?.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:m,table:v,commit_timestamp:w,type:T,errors:N}=y;p=Object.assign(Object.assign({},{schema:m,table:v,commit_timestamp:w,eventType:T,new:{},old:{},errors:N}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===Ke.closed}_isJoined(){return this.state===Ke.joined}_isJoining(){return this.state===Ke.joining}_isLeaving(){return this.state===Ke.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let i=n.toLocaleLowerCase(),o={type:i,filter:t,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Tt.close,{},n)}_onError(n){this._on(Tt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ke.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=L2(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=L2(n.columns,n.old_record)),t}};var cv=()=>{},yI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,es=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=iv,this.params={},this.timeout=gd,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cv,this.ref=0,this.logger=cv,this.conn=null,this.sendBuffer=[],this.serializer=new md,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:c})=>c(...s)):a=fetch,(...s)=>a(...s)},this.endPoint=`${n}/${D2.websocket}`,this.httpEndpoint=kd(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let i=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,a)=>a(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new ro(()=>f(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=nv),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ov}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(n){return f(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return f(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ya.connecting:return Jr.Connecting;case Ya.open:return Jr.Open;case Ya.closing:return Jr.Closing;default:return Jr.Closed}}isConnected(){return this.connectionState()===Jr.Open}channel(n,t={config:{}}){let r=`realtime:${n}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Qa(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:i,ref:o}=n,a=()=>{this.encode(n,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${t} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}setAuth(n=null){return f(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Tt.access_token,{access_token:t})}))})}sendHeartbeat(){return f(this,null,function*(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(av,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:i,payload:o,ref:a}=t;r==="phoenix"&&i==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${i} ${a&&"("+a+")"||""}`,o),Array.from(this.channels).filter(s=>s._isMember(r)).forEach(s=>s._trigger(i,o,a)),this.stateChangeCallbacks.message.forEach(s=>s(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(Tt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",i=new URLSearchParams(t);return`${n}${r}${i}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([yI],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var oo=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function Ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var vd=class extends oo{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Qr=class extends oo{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var gI=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},wd=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},lv=()=>gI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),Md=e=>{if(Array.isArray(e))return e.map(t=>Md(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let i=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[i]=Md(r)}),n};var ei=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},E2=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mI=(e,n,t)=>ei(void 0,void 0,void 0,function*(){let r=yield lv();e instanceof r&&!t?.noResolveJson?e.json().then(i=>{n(new vd(E2(i),e.status||500))}).catch(i=>{n(new Qr(E2(i),i))}):n(new Qr(E2(e),e))}),kI=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(i.body=JSON.stringify(r)),Object.assign(Object.assign({},i),t))};function ts(e,n,t,r,i,o){return ei(this,void 0,void 0,function*(){return new Promise((a,s)=>{e(t,kI(n,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>mI(c,s,r))})})}function ao(e,n,t,r){return ei(this,void 0,void 0,function*(){return ts(e,"GET",n,t,r)})}function fn(e,n,t,r,i){return ei(this,void 0,void 0,function*(){return ts(e,"POST",n,r,i,t)})}function dv(e,n,t,r,i){return ei(this,void 0,void 0,function*(){return ts(e,"PUT",n,r,i,t)})}function uv(e,n,t,r){return ei(this,void 0,void 0,function*(){return ts(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Cd(e,n,t,r,i){return ei(this,void 0,void 0,function*(){return ts(e,"DELETE",n,r,i,t)})}var dt=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},vI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},bd=class{constructor(n,t={},r,i){this.url=n,this.headers=t,this.bucketId=r,this.fetch=wd(i)}uploadOrUpdate(n,t,r,i){return dt(this,void 0,void 0,function*(){try{let o,a=Object.assign(Object.assign({},hv),i),s=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i?.headers&&(s=Object.assign(Object.assign({},s),i.headers));let l=this._removeEmptyFolders(t),d=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:n,body:o,headers:s},a?.duplex?{duplex:a.duplex}:{})),p=yield u.json();return u.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(Ce(o))return{data:null,error:o};throw o}})}upload(n,t,r){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,i){return dt(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),a=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let c,l=Object.assign({upsert:hv.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",l.cacheControl)):(c=r,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType);let u=yield this.fetch(s.toString(),{method:"PUT",body:c,headers:d}),p=yield u.json();return u.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(Ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return dt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),i=Object.assign({},this.headers);t?.upsert&&(i["x-upsert"]="true");let o=yield fn(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+o.url),s=a.searchParams.get("token");if(!s)throw new oo("No token returned by API");return{data:{signedUrl:a.toString(),path:n,token:s},error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}update(n,t,r){return dt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return dt(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}copy(n,t,r){return dt(this,void 0,void 0,function*(){try{return{data:{path:(yield fn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}createSignedUrl(n,t,r){return dt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(n),o=yield fn(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),a=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}createSignedUrls(n,t,r){return dt(this,void 0,void 0,function*(){try{let i=yield fn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}download(n,t){return dt(this,void 0,void 0,function*(){let i=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),a=o?`?${o}`:"";try{let s=this._getFinalPath(n);return{data:yield(yield ao(this.fetch,`${this.url}/${i}/${s}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(Ce(s))return{data:null,error:s};throw s}})}info(n){return dt(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield ao(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Md(r),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}exists(n){return dt(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield uv(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ce(r)&&r instanceof Qr){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),i=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&i.push(o);let s=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&i.push(c);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${l}`)}}}remove(n){return dt(this,void 0,void 0,function*(){try{return{data:yield Cd(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}list(n,t,r){return dt(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},vI),t),{prefix:n||""});return{data:yield fn(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(Ce(i))return{data:null,error:i};throw i}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var pv="2.7.1";var fv={"X-Client-Info":`storage-js/${pv}`};var so=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},Id=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},fv),t),this.fetch=wd(r)}listBuckets(){return so(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(Ce(n))return{data:null,error:n};throw n}})}getBucket(n){return so(this,void 0,void 0,function*(){try{return{data:yield ao(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return so(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return so(this,void 0,void 0,function*(){try{return{data:yield dv(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ce(r))return{data:null,error:r};throw r}})}emptyBucket(n){return so(this,void 0,void 0,function*(){try{return{data:yield fn(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}deleteBucket(n){return so(this,void 0,void 0,function*(){try{return{data:yield Cd(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(Ce(t))return{data:null,error:t};throw t}})}};var ns=class extends Id{constructor(n,t={},r){super(n,t,r)}from(n){return new bd(this.url,this.headers,n,this.fetch)}};var yv="2.50.1";var rs="";typeof Deno<"u"?rs="deno":typeof document<"u"?rs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rs="react-native":rs="node";var MI={"X-Client-Info":`supabase-js-${rs}/${yv}`},gv={headers:MI},mv={schema:"public"},kv={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},vv={};p0();var wI=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},CI=e=>{let n;return e?n=e:typeof fetch>"u"?n=u0:n=fetch,(...t)=>n(...t)},bI=()=>typeof Headers>"u"?h0:Headers,Mv=(e,n,t)=>{let r=CI(t),i=bI();return(o,a)=>wI(void 0,void 0,void 0,function*(){var s;let c=(s=yield n())!==null&&s!==void 0?s:e,l=new i(a?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},a),{headers:l}))})};var II=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})};function wv(e){return e.endsWith("/")?e:e+"/"}function Cv(e,n){var t,r;let{db:i,auth:o,realtime:a,global:s}=e,{db:c,auth:l,realtime:d,global:u}=n,p={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},l),o),realtime:Object.assign(Object.assign({},d),a),global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(t=u?.headers)!==null&&t!==void 0?t:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>II(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}var xd="2.70.0";var ti=30*1e3,Sd=3,Dd=Sd*ti,bv="http://localhost:9999",Iv="supabase.auth.token";var xv={"X-Client-Info":`gotrue-js/${xd}`};var is="X-Supabase-Api-Version",A2={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Sv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Dv=6e5;var os=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function j(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var _d=class extends os{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function _v(e){return j(e)&&e.name==="AuthApiError"}var co=class extends os{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},yn=class extends os{constructor(n,t,r,i){super(n,r,i),this.name=t,this.status=r}},Rt=class extends yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Lv(e){return j(e)&&e.name==="AuthSessionMissingError"}var ni=class extends yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ri=class extends yn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},ii=class extends yn{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ev(e){return j(e)&&e.name==="AuthImplicitGrantRedirectError"}var as=class extends yn{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},lo=class extends yn{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function Ld(e){return j(e)&&e.name==="AuthRetryableFetchError"}var ss=class extends yn{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var Vn=class extends yn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Ed="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Av=` 	
\r=`.split(""),xI=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Av.length;n+=1)e[Av[n].charCodeAt(0)]=-2;for(let n=0;n<Ed.length;n+=1)e[Ed[n].charCodeAt(0)]=n;return e})();function Tv(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ed[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Ed[r]),n.queuedBits-=6}}function Rv(e,n,t){let r=xI[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function T2(e){let n=[],t=a=>{n.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{_I(a,r,t)};for(let a=0;a<e.length;a+=1)Rv(e.charCodeAt(a),i,o);return n.join("")}function SI(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DI(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|i)+65536,t+=1}SI(r,n)}}function _I(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Pv(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};for(let i=0;i<e.length;i+=1)Rv(e.charCodeAt(i),t,r);return new Uint8Array(n)}function Ov(e){let n=[];return DI(e,t=>n.push(t)),new Uint8Array(n)}function Nv(e){let n=[],t={queue:0,queuedBits:0},r=i=>{n.push(i)};return e.forEach(i=>Tv(i,t,r)),Tv(null,t,r),n.join("")}function Fv(e){return Math.round(Date.now()/1e3)+e}function jv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var Pt=()=>typeof window<"u"&&typeof document<"u",oi={tested:!1,writable:!1},cr=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(oi.tested)return oi.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),oi.tested=!0,oi.writable=!0}catch{oi.tested=!0,oi.writable=!1}return oi.writable};function Vv(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((i,o)=>{n[o]=i})}catch{}return t.searchParams.forEach((r,i)=>{n[i]=r}),n}var Ad=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Hv=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",R2=(e,n,t)=>f(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),ls=(e,n)=>f(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),ds=(e,n)=>f(null,null,function*(){yield e.removeItem(n)}),cs=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};cs.promiseConstructor=Promise;function Td(e){let n=e.split(".");if(n.length!==3)throw new Vn("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!Sv.test(n[r]))throw new Vn("JWT not in base64url format");return{header:JSON.parse(T2(n[0])),payload:JSON.parse(T2(n[1])),signature:Pv(n[2]),raw:{header:n[0],payload:n[1]}}}function qv(e){return f(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function Bv(e,n){return new Promise((r,i)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let a=yield e(o);if(!n(o,null,a)){r(a);return}}catch(a){if(!n(o,a)){i(a);return}}})})}function LI(e){return("0"+e.toString(16)).substr(-2)}function EI(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(n),Array.from(n,LI).join("")}function AI(e){return f(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")})}function TI(e){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield AI(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function ai(e,n,t=!1){return f(this,null,function*(){let r=EI(),i=r;t&&(i+="/PASSWORD_RECOVERY"),yield R2(e,`${n}-code-verifier`,i);let o=yield TI(r);return[o,r===o?"plain":"s256"]})}var RI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function zv(e){let n=e.headers.get(is);if(!n||!n.match(RI))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Uv(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function $v(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var PI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function si(e){if(!PI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var OI=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},ci=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NI=[502,503,504];function Gv(e){return f(this,null,function*(){var n;if(!Hv(e))throw new lo(ci(e),0);if(NI.includes(e.status))throw new lo(ci(e),e.status);let t;try{t=yield e.json()}catch(o){throw new co(ci(o),o)}let r,i=zv(e);if(i&&i.getTime()>=A2["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new ss(ci(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new Rt}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new ss(ci(t),e.status,t.weak_password.reasons);throw new _d(ci(t),e.status||500,r)})}var FI=(e,n,t,r)=>{let i={method:e,headers:n?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),t))};function K(e,n,t,r){return f(this,null,function*(){var i;let o=Object.assign({},r?.headers);o[is]||(o[is]=A2["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=yield jI(e,n,t+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function jI(e,n,t,r,i,o){return f(this,null,function*(){let a=FI(n,r,i,o),s;try{s=yield e(t,Object.assign({},a))}catch(c){throw console.error(c),new lo(ci(c),0)}if(s.ok||(yield Gv(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield Gv(c)}})}function gn(e){var n;let t=null;VI(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Fv(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function P2(e){let n=gn(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function mn(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Wv(e){return{data:e,error:null}}function Zv(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o}=e,a=OI(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:n,email_otp:t,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function Kv(e){return e}function VI(e){return e.access_token&&e.refresh_token&&e.expires_in}var Rd=["global","local","others"];var HI=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]]);return t},uo=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Ad(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return f(this,arguments,function*(n,t=Rd[0]){if(Rd.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Rd.join(", ")}`);try{return yield K(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(i){if(j(i))return{data:null,error:i};throw i}})}inviteUserByEmail(r){return f(this,arguments,function*(n,t={}){try{return yield K(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:mn})}catch(i){if(j(i))return{data:{user:null},error:i};throw i}})}generateLink(n){return f(this,null,function*(){try{let{options:t}=n,r=HI(n,["options"]),i=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),yield K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Zv,redirectTo:t?.redirectTo})}catch(t){if(j(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return f(this,null,function*(){try{return yield K(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:mn})}catch(t){if(j(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return f(this,null,function*(){var t,r,i,o,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=yield K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=n?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Kv});if(d.error)throw d.error;let u=yield d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);l[`${v}Page`]=m}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(j(l))return{data:{users:[]},error:l};throw l}})}getUserById(n){return f(this,null,function*(){si(n);try{return yield K(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:mn})}catch(t){if(j(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return f(this,null,function*(){si(n);try{return yield K(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:mn})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return f(this,null,function*(){si(n);try{return yield K(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:mn})}catch(r){if(j(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return f(this,null,function*(){si(n.userId);try{let{data:t,error:r}=yield K(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:t,error:r}}catch(t){if(j(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return f(this,null,function*(){si(n.userId),si(n.id);try{return{data:yield K(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(j(t))return{data:null,error:t};throw t}})}};var Xv={getItem:e=>cr()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{cr()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{cr()&&globalThis.localStorage.removeItem(e)}};function O2(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function Yv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var li={debug:!!(globalThis&&cr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},us=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Pd=class extends us{};function N2(e,n,t){return f(this,null,function*(){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),li.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},i=>f(null,null,function*(){if(i){li.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return yield t()}finally{li.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(n===0)throw li.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Pd(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(li.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}Yv();var qI={url:bv,storageKey:Iv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:xv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Jv(e,n,t){return f(this,null,function*(){return yield t()})}var F2=(()=>{class e{constructor(t){var r,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},qI),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new uo({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Ad(o.fetch),this.lock=o.lock||Jv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Pt()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=N2:this.lock=Jv,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:cr()?this.storage=Xv:(this.memoryStorage={},this.storage=O2(this.memoryStorage)):(this.memoryStorage={},this.storage=O2(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",a=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",a),yield this._notifyAllSubscribers(a.data.event,a.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${xd}) ${new Date().toISOString()}`,...t),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var t;try{let r=Vv(window.location.href),i="none";if(this._isImplicitGrantCallback(r)?i="implicit":(yield this._isPKCECallback(r))&&(i="pkce"),Pt()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:a}=yield this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Ev(a)){let l=(t=a.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return yield this._removeSession(),{error:a}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return j(r)?{error:r}:{error:new co("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return f(this,null,function*(){var r,i,o;try{let a=yield K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:gn}),{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(j(a))return{data:{user:null,session:null},error:a};throw a}})}signUp(t){return f(this,null,function*(){var r,i,o;try{let a;if("email"in t){let{email:u,password:p,options:h}=t,y=null,m=null;this.flowType==="pkce"&&([y,m]=yield ai(this.storage,this.storageKey)),a=yield K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:m},xform:gn})}else if("phone"in t){let{phone:u,password:p,options:h}=t;a=yield K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:gn})}else throw new ri("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return{data:{user:null,session:null},error:c};let l=s.session,d=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(a){if(j(a))return{data:{user:null,session:null},error:a};throw a}})}signInWithPassword(t){return f(this,null,function*(){try{let r;if("email"in t){let{email:a,password:s,options:c}=t;r=yield K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:P2})}else if("phone"in t){let{phone:a,password:s,options:c}=t;r=yield K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:P2})}else throw new ri("You must provide either an email or phone number and a password");let{data:i,error:o}=r;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ni}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return f(this,null,function*(){var r,i,o,a;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})})}exchangeCodeForSession(t){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return f(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return f(this,null,function*(){var r,i,o,a,s,c,l,d,u,p,h,y;let m,v;if("message"in t)m=t.message,v=t.signature;else{let{chain:w,wallet:T,statement:N,options:C}=t,W;if(Pt())if(typeof T=="object")W=T;else{let ee=window;if("solana"in ee&&typeof ee.solana=="object"&&("signIn"in ee.solana&&typeof ee.solana.signIn=="function"||"signMessage"in ee.solana&&typeof ee.solana.signMessage=="function"))W=ee.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!C?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=T}let He=new URL((r=C?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in W&&W.signIn){let ee=yield W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},C?.signInWithSolana),{version:"1",domain:He.host,uri:He.href}),N?{statement:N}:null)),ue;if(Array.isArray(ee)&&ee[0]&&typeof ee[0]=="object")ue=ee[0];else if(ee&&typeof ee=="object"&&"signedMessage"in ee&&"signature"in ee)ue=ee;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ue&&"signature"in ue&&(typeof ue.signedMessage=="string"||ue.signedMessage instanceof Uint8Array)&&ue.signature instanceof Uint8Array)m=typeof ue.signedMessage=="string"?ue.signedMessage:new TextDecoder().decode(ue.signedMessage),v=ue.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${He.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${He.href}`,`Issued At: ${(o=(i=C?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=C?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${C.signInWithSolana.notBefore}`]:[],...!((s=C?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${C.signInWithSolana.expirationTime}`]:[],...!((c=C?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${C.signInWithSolana.chainId}`]:[],...!((l=C?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${C.signInWithSolana.nonce}`]:[],...!((d=C?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${C.signInWithSolana.requestId}`]:[],...!((p=(u=C?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...C.signInWithSolana.resources.map(ue=>`- ${ue}`)]:[]].join(`
`);let ee=yield W.signMessage(new TextEncoder().encode(m),"utf8");if(!ee||!(ee instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=ee}}try{let{data:w,error:T}=yield K(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Nv(v)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:gn});if(T)throw T;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new ni}:(w.session&&(yield this._saveSession(w.session),yield this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:T})}catch(w){if(j(w))return{data:{user:null,session:null},error:w};throw w}})}_exchangeCodeForSession(t){return f(this,null,function*(){let r=yield ls(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{let{data:a,error:s}=yield K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:gn});if(yield ds(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ni}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:s})}catch(a){if(j(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}})}signInWithIdToken(t){return f(this,null,function*(){try{let{options:r,provider:i,token:o,access_token:a,nonce:s}=t,c=yield K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:gn}),{data:l,error:d}=c;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new ni}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return f(this,null,function*(){var r,i,o,a,s;try{if("email"in t){let{email:c,options:l}=t,d=null,u=null;this.flowType==="pkce"&&([d,u]=yield ai(this.storage,this.storageKey));let{error:p}=yield K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:c,options:l}=t,{data:d,error:u}=yield K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:d?.message_id},error:u}}throw new ri("You must provide either an email or phone number.")}catch(c){if(j(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return f(this,null,function*(){var r,i;try{let o,a;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);let{data:s,error:c}=yield K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:gn});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(o){if(j(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return f(this,null,function*(){var r,i,o;try{let a=null,s=null;return this.flowType==="pkce"&&([a,s]=yield ai(this.storage,this.storageKey)),yield K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Wv})}catch(a){if(j(a))return{data:null,error:a};throw a}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){let{data:{session:r},error:i}=t;if(i)throw i;if(!r)throw new Rt;let{error:o}=yield K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(j(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:i,type:o,options:a}=t,{error:s}=yield K(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:i,type:o,options:a}=t,{data:s,error:c}=yield K(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new ri("You must provide either an email or phone number and a type")}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(t,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield i,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let i=t.expires_at?t.expires_at*1e3-Date.now()<Dd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(l,d,u)=>(!s&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,u))})}return{data:{session:t},error:null}}let{session:o,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return f(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return f(this,null,function*(){try{return t?yield K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:mn}):yield this._useSession(r=>f(this,null,function*(){var i,o,a;let{data:s,error:c}=r;if(c)throw c;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:yield K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:mn})}))}catch(r){if(j(r))return Lv(r)&&(yield this._removeSession(),yield ds(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(i){return f(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(i){return f(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:a,error:s}=o;if(s)throw s;if(!a.session)throw new Rt;let c=a.session,l=null,d=null;this.flowType==="pkce"&&t.email!=null&&([l,d]=yield ai(this.storage,this.storageKey));let{data:u,error:p}=yield K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:d}),jwt:c.access_token,xform:mn});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(j(o))return{data:{user:null},error:o};throw o}})}setSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return f(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new Rt;let r=Date.now()/1e3,i=r,o=!0,a=null,{payload:s}=Td(t.access_token);if(s.exp&&(i=s.exp,o=i<=r),o){let{session:c,error:l}=yield this._callRefreshToken(t.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=yield this._getUser(t.access_token);if(l)throw l;a={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},yield this._saveSession(a),yield this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(j(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;if(!t){let{data:s,error:c}=r;if(c)throw c;t=(i=s.session)!==null&&i!==void 0?i:void 0}if(!t?.refresh_token)throw new Rt;let{session:o,error:a}=yield this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(j(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return f(this,null,function*(){try{if(!Pt())throw new ii("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ii(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new as("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ii("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new as("No code detected.");let{data:N,error:C}=yield this._exchangeCodeForSession(t.code);if(C)throw C;let W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:N.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=t;if(!a||!c||!s||!d)throw new ii("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=ti&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let m=h-p;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,h,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,h,u);let{data:v,error:w}=yield this._getUser(a);if(w)throw w;let T={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:T,redirectType:t.type},error:null}}catch(i){if(j(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return f(this,null,function*(){let r=yield ls(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return f(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return f(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;if(a)return{error:a};let s=(i=o.session)===null||i===void 0?void 0:i.access_token;if(s){let{error:c}=yield this.admin.signOut(s,t);if(c&&!(_v(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield ds(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=jv(),i={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:i}}}_emitInitialSession(t){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var i,o;try{let{data:{session:a},error:s}=r;if(s)throw s;yield(i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}}))})}resetPasswordForEmail(i){return f(this,arguments,function*(t,r={}){let o=null,a=null;this.flowType==="pkce"&&([o,a]=yield ai(this.storage,this.storageKey,!0));try{return yield K(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(j(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var t;try{let{data:r,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(j(r))return{data:null,error:r};throw r}})}linkIdentity(t){return f(this,null,function*(){var r;try{let{data:i,error:o}=yield this._useSession(a=>f(this,null,function*(){var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield K(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})}));if(o)throw o;return Pt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:t.provider,url:i?.url},error:null}}catch(i){if(j(i))return{data:{provider:t.provider,url:null},error:i};throw i}})}unlinkIdentity(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:a,error:s}=r;if(s)throw s;return yield K(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(j(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return f(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return yield Bv(o=>f(this,null,function*(){return o>0&&(yield qv(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:gn})}),(o,a)=>{let s=200*Math.pow(2,o);return a&&Ld(a)&&Date.now()+s-i<ti})}catch(i){if(this._debug(r,"error",i),j(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return f(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",i),Pt()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=yield ls(this.storage,this.storageKey);if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&(yield this._removeSession());return}let o=((t=i.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Dd;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${Dd}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:a}=yield this._callRefreshToken(i.refresh_token);a&&(console.error(a),Ld(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return f(this,null,function*(){var r,i;if(!t)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cs;let{data:a,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!a.session)throw new Rt;yield this._saveSession(a.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={session:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),j(a)){let s={session:null,error:a};return Ld(a)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,i=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(t,r)}catch(l){a.push(l)}}));if(yield Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return f(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield R2(this.storage,this.storageKey,t)})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield ds(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),ti);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-t)/ti);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ti}ms, refresh threshold is ${Sd} ticks`),o<=Sd&&(yield this._callRefreshToken(i.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof us)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return f(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,i){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[a,s]=yield ai(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(i?.queryParams){let a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;return a?{data:null,error:a}:yield K(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(j(r))return{data:null,error:r};throw r}})}_enroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i,o;let{data:a,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:l,error:d}=yield K(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(t.factorType==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(r){if(j(r))return{data:null,error:r};throw r}})}_verify(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;if(a)return{data:null,error:a};let{data:s,error:c}=yield K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})}))}catch(r){if(j(r))return{data:null,error:r};throw r}}))})}_challenge(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var i;let{data:o,error:a}=r;return a?{data:null,error:a}:yield K(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})}))}catch(r){if(j(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return f(this,null,function*(){let{data:r,error:i}=yield this._challenge({factorId:t.factorId});return i?{data:null,error:i}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return f(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let i=t?.factors||[],o=i.filter(s=>s.factor_type==="totp"&&s.status==="verified"),a=i.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){return yield this._useSession(t=>f(this,null,function*(){var r,i;let{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=Td(o.access_token),c=null;s.aal&&(c=s.aal);let l=c;((i=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let u=s.amr||[];return{data:{currentLevel:c,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}))})}fetchJwk(i){return f(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o||(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+Dv>Date.now()))return o;let{data:a,error:s}=yield K(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!a.keys||a.keys.length===0)throw new Vn("JWKS is empty");if(this.jwks=a,this.jwks_cached_at=Date.now(),o=a.keys.find(c=>c.kid===t),!o)throw new Vn("No matching signing key found in JWKS");return o})}getClaims(i){return f(this,arguments,function*(t,r={keys:[]}){try{let o=t;if(!o){let{data:m,error:v}=yield this.getSession();if(v||!m.session)return{data:null,error:v};o=m.session.access_token}let{header:a,payload:s,signature:c,raw:{header:l,payload:d}}=Td(o);if(Uv(s.exp),!a.kid||a.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:m}=yield this.getUser(o);if(m)throw m;return{data:{claims:s,header:a,signature:c},error:null}}let u=$v(a.alg),p=yield this.fetchJwk(a.kid,r),h=yield crypto.subtle.importKey("jwk",p,u,!0,["verify"]);if(!(yield crypto.subtle.verify(u,h,c,Ov(`${l}.${d}`))))throw new Vn("Invalid JWT signature");return{data:{claims:s,header:a,signature:c},error:null}}catch(o){if(j(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var BI=F2,j2=BI;var Od=class extends j2{constructor(n){super(n)}};var zI=function(e,n,t,r){function i(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,n||[])).next())})},Nd=class{constructor(n,t,r){var i,o,a;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let s=wv(n),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let l=`sb-${c.hostname.split(".")[0]}-auth-token`,d={db:mv,realtime:vv,auth:Object.assign(Object.assign({},kv),{storageKey:l}),global:gv},u=Cv(r??{},d);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=Mv(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new ev(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ua(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ns(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return zI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,storageKey:o,flowType:a,lock:s,debug:c},l,d){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Od({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),l),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:i,flowType:a,lock:s,debug:c,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new es(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Qv=(e,n,t)=>new Nd(e,n,t);var UI="https://otxhrbsfcrkajaljaips.supabase.co",$I="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im90eGhyYnNmY3JrYWphbGphaXBzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDc2MzkwOSwiZXhwIjoyMDY2MzM5OTA5fQ.nTDMEhkmQXh5-Adh_d4VFmqREBgM6GxaenaprzLuBAo",Ot=Qv(UI,$I);function GI(e){return e.replace(/_([a-z])/g,(n,t)=>t.toUpperCase())}function hs(e){if(Array.isArray(e))return e.map(hs);if(e!==null&&typeof e=="object"){let n={};for(let t of Object.keys(e)){let r=GI(t);n[r]=hs(e[t])}return n}return e}function kn(e){if(Array.isArray(e))return e.map(kn);if(e!==null&&typeof e=="object"){let n={};for(let t of Object.keys(e)){let r=WI(t);n[r]=kn(e[t])}return n}return e}function WI(e){return e.replace(/[A-Z]/g,n=>`_${n.toLowerCase()}`)}var lr=class e{findAll(){return $(Ot.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `)).pipe(R(n=>{if(n.error)throw n.error;return hs(n.data)}))}findById(n){return $(Ot.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `).eq("id",n).single()).pipe(R(t=>{if(t.error)throw t.error;return hs(t.data)}))}create(n){return $(Ot.from("lease").insert(kn(n)).select().single()).pipe(R(t=>{if(t.error)throw t.error;return t.data}))}update(n,t){return $(Ot.from("lease").update(t).eq("id",n).select().single()).pipe(R(r=>{if(r.error)throw r.error;return r.data}))}delete(n){return $(Ot.from("lease").delete().eq("id",n)).pipe(R(t=>{if(t.error)throw t.error}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})};var ZI=()=>[1,2,3],KI=()=>["/lease","new"],XI=(e,n)=>n.id;function YI(e,n){e&1&&(g(0,"div",3),S(1,"app-lease-skeleton-card"),k())}function JI(e,n){e&1&&$e(0,YI,2,0,"div",3,Zt),e&2&&Ge(cn(0,ZI))}function QI(e,n){if(e&1&&(g(0,"div",3),S(1,"app-lease-card",9),k()),e&2){let t=n.$implicit;M(),_("lease",t)}}function ex(e,n){if(e&1&&($e(0,QI,2,1,"div",3,XI),g(2,"div",4)(3,"div",5),S(4,"lucide-icon",6),k(),g(5,"h2",7),x(6," Nouveau bail "),k(),g(7,"p",8),x(8," Cr\xE9ez un nouveau contrat de location "),k()()),e&2){let t=je();Ge(t.leases),M(2),_("routerLink",cn(2,KI)),M(2),_("img",t.PlusCircleIcon)}}var Fd=class e{constructor(n){this.leaseRepository=n}leases=[];loading=!0;ngOnInit(){this.loadLeases()}loadLeases(){Ct([this.leaseRepository.findAll(),Sn(500)]).pipe(ge(1)).subscribe(([n])=>{this.leases=n,this.loading=!1})}PlusCircleIcon=Rk;static \u0275fac=function(t){return new(t||e)(A(lr))};static \u0275cmp=J({type:e,selectors:[["app-home"]],decls:6,vars:1,consts:[[1,"px-2","md:px-48","py-4","md:py-8"],[1,"text-3xl","font-bold","mb-4","md:mb-8","text-gray-800","gap-2"],[1,"flex","flex-row","flex-wrap","gap-4"],[1,"w-full","md:w-80"],[1,"w-full","md:w-80","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4","hover:bg-opacity-40","transition",3,"routerLink"],[1,"h-32","flex","justify-center","items-center"],[1,"w-12","h-12","text-red-500",3,"img"],[1,"text-2xl","font-bold","leading-tight","text-center"],[1,"text-sm","text-gray-600","text-center"],[3,"lease"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1),x(2,"Mes locations"),k(),g(3,"div",2),ke(4,JI,2,1)(5,ex,9,3),k()()),t&2&&(M(4),ve(r.loading?4:5))},dependencies:[cd,pn,sr,ar,ld],encapsulation:2})};function vn(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t}var ui=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Z2(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function K2(e,n){return e(n={exports:{}},n.exports),n.exports}var di=K2(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function r(){var i=this;this.locked=new Map,this.addToLocked=function(o,a){var s=i.locked.get(o);s===void 0?a===void 0?i.locked.set(o,[]):i.locked.set(o,[a]):a!==void 0&&(s.unshift(a),i.locked.set(o,s))},this.isLocked=function(o){return i.locked.has(o)},this.lock=function(o){return new Promise(function(a,s){i.isLocked(o)?i.addToLocked(o,a):(i.addToLocked(o),a())})},this.unlock=function(o){var a=i.locked.get(o);if(a!==void 0&&a.length!==0){var s=a.pop();i.locked.set(o,a),s!==void 0&&setTimeout(s,0)}else i.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();n.default=function(){return t.getInstance()}});Z2(di);var tx=Z2(K2(function(e,n){var t=ui&&ui.__awaiter||function(d,u,p,h){return new(p||(p=Promise))(function(y,m){function v(N){try{T(h.next(N))}catch(C){m(C)}}function w(N){try{T(h.throw(N))}catch(C){m(C)}}function T(N){N.done?y(N.value):new p(function(C){C(N.value)}).then(v,w)}T((h=h.apply(d,u||[])).next())})},r=ui&&ui.__generator||function(d,u){var p,h,y,m,v={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return m={next:w(0),throw:w(1),return:w(2)},typeof Symbol=="function"&&(m[Symbol.iterator]=function(){return this}),m;function w(T){return function(N){return function(C){if(p)throw new TypeError("Generator is already executing.");for(;v;)try{if(p=1,h&&(y=2&C[0]?h.return:C[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,C[1])).done)return y;switch(h=0,y&&(C=[2&C[0],y.value]),C[0]){case 0:case 1:y=C;break;case 4:return v.label++,{value:C[1],done:!1};case 5:v.label++,h=C[1],C=[0];continue;case 7:C=v.ops.pop(),v.trys.pop();continue;default:if(y=v.trys,!((y=y.length>0&&y[y.length-1])||C[0]!==6&&C[0]!==2)){v=0;continue}if(C[0]===3&&(!y||C[1]>y[0]&&C[1]<y[3])){v.label=C[1];break}if(C[0]===6&&v.label<y[1]){v.label=y[1],y=C;break}if(y&&v.label<y[2]){v.label=y[2],v.ops.push(C);break}y[2]&&v.ops.pop(),v.trys.pop();continue}C=u.call(d,v)}catch(W){C=[6,W],h=0}finally{p=y=0}if(5&C[0])throw C[1];return{value:C[0]?C[1]:void 0,done:!0}}([T,N])}}},i=ui;Object.defineProperty(n,"__esModule",{value:!0});var o="browser-tabs-lock-key",a={key:function(d){return t(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},getItem:function(d){return t(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},clear:function(){return t(i,void 0,void 0,function(){return r(this,function(d){return[2,window.localStorage.clear()]})})},removeItem:function(d){return t(i,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},setItem:function(d,u){return t(i,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},keySync:function(d){return window.localStorage.key(d)},getItemSync:function(d){return window.localStorage.getItem(d)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(d){return window.localStorage.removeItem(d)},setItemSync:function(d,u){return window.localStorage.setItem(d,u)}};function s(d){return new Promise(function(u){return setTimeout(u,d)})}function c(d){for(var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="",h=0;h<d;h++)p+=u[Math.floor(Math.random()*u.length)];return p}var l=function(){function d(u){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=u,d.waiters===void 0&&(d.waiters=[])}return d.prototype.acquireLock=function(u,p){return p===void 0&&(p=5e3),t(this,void 0,void 0,function(){var h,y,m,v,w,T,N;return r(this,function(C){switch(C.label){case 0:h=Date.now()+c(4),y=Date.now()+p,m=o+"-"+u,v=this.storageHandler===void 0?a:this.storageHandler,C.label=1;case 1:return Date.now()<y?[4,s(30)]:[3,8];case 2:return C.sent(),v.getItemSync(m)!==null?[3,5]:(w=this.id+"-"+u+"-"+h,[4,s(Math.floor(25*Math.random()))]);case 3:return C.sent(),v.setItemSync(m,JSON.stringify({id:this.id,iat:h,timeoutKey:w,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return C.sent(),(T=v.getItemSync(m))!==null&&(N=JSON.parse(T)).id===this.id&&N.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(m,h),[2,!0]):[3,7];case 5:return d.lockCorrector(this.storageHandler===void 0?a:this.storageHandler),[4,this.waitForSomethingToChange(y)];case 6:C.sent(),C.label=7;case 7:return h=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},d.prototype.refreshLockWhileAcquired=function(u,p){return t(this,void 0,void 0,function(){var h=this;return r(this,function(y){return setTimeout(function(){return t(h,void 0,void 0,function(){var m,v,w;return r(this,function(T){switch(T.label){case 0:return[4,di.default().lock(p)];case 1:return T.sent(),this.acquiredIatSet.has(p)?(m=this.storageHandler===void 0?a:this.storageHandler,(v=m.getItemSync(u))===null?(di.default().unlock(p),[2]):((w=JSON.parse(v)).timeRefreshed=Date.now(),m.setItemSync(u,JSON.stringify(w)),di.default().unlock(p),this.refreshLockWhileAcquired(u,p),[2])):(di.default().unlock(p),[2])}})})},1e3),[2]})})},d.prototype.waitForSomethingToChange=function(u){return t(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,new Promise(function(h){var y=!1,m=Date.now(),v=!1;function w(){if(v||(window.removeEventListener("storage",w),d.removeFromWaiting(w),clearTimeout(T),v=!0),!y){y=!0;var N=50-(Date.now()-m);N>0?setTimeout(h,N):h(null)}}window.addEventListener("storage",w),d.addToWaiting(w);var T=setTimeout(w,Math.max(0,u-Date.now()))})];case 1:return p.sent(),[2]}})})},d.addToWaiting=function(u){this.removeFromWaiting(u),d.waiters!==void 0&&d.waiters.push(u)},d.removeFromWaiting=function(u){d.waiters!==void 0&&(d.waiters=d.waiters.filter(function(p){return p!==u}))},d.notifyWaiters=function(){d.waiters!==void 0&&d.waiters.slice().forEach(function(u){return u()})},d.prototype.releaseLock=function(u){return t(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,this.releaseLock__private__(u)];case 1:return[2,p.sent()]}})})},d.prototype.releaseLock__private__=function(u){return t(this,void 0,void 0,function(){var p,h,y,m;return r(this,function(v){switch(v.label){case 0:return p=this.storageHandler===void 0?a:this.storageHandler,h=o+"-"+u,(y=p.getItemSync(h))===null?[2]:(m=JSON.parse(y)).id!==this.id?[3,2]:[4,di.default().lock(m.iat)];case 1:v.sent(),this.acquiredIatSet.delete(m.iat),p.removeItemSync(h),di.default().unlock(m.iat),d.notifyWaiters(),v.label=2;case 2:return[2]}})})},d.lockCorrector=function(u){for(var p=Date.now()-5e3,h=u,y=[],m=0;;){var v=h.keySync(m);if(v===null)break;y.push(v),m++}for(var w=!1,T=0;T<y.length;T++){var N=y[T];if(N.includes(o)){var C=h.getItemSync(N);if(C!==null){var W=JSON.parse(C);(W.timeRefreshed===void 0&&W.timeAcquired<p||W.timeRefreshed!==void 0&&W.timeRefreshed<p)&&(h.removeItemSync(N),w=!0)}}}w&&d.notifyWaiters()},d.waiters=void 0,d}();n.default=l})),nx={timeoutInSeconds:60},c4={name:"auth0-spa-js",version:"2.2.0"},l4=()=>Date.now(),Xe=class e extends Error{constructor(n,t){super(t),this.error=n,this.error_description=t,Object.setPrototypeOf(this,e.prototype)}static fromPayload({error:n,error_description:t}){return new e(n,t)}},Vd=class e extends Xe{constructor(n,t,r,i=null){super(n,t),this.state=r,this.appState=i,Object.setPrototypeOf(this,e.prototype)}},po=class e extends Xe{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,e.prototype)}},Hd=class e extends po{constructor(n){super(),this.popup=n,Object.setPrototypeOf(this,e.prototype)}},qd=class e extends Xe{constructor(n){super("cancelled","Popup closed"),this.popup=n,Object.setPrototypeOf(this,e.prototype)}},Bd=class e extends Xe{constructor(n,t,r){super(n,t),this.mfa_token=r,Object.setPrototypeOf(this,e.prototype)}},ys=class e extends Xe{constructor(n,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${e4(n,["default"])}', scope: '${e4(t)}')`),this.audience=n,this.scope=t,Object.setPrototypeOf(this,e.prototype)}};function e4(e,n=[]){return e&&!n.includes(e)?e:""}var jd=()=>window.crypto,H2=()=>{let e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",n="";return Array.from(jd().getRandomValues(new Uint8Array(43))).forEach(t=>n+=e[t%e.length]),n},t4=e=>btoa(e),U2=e=>{var{clientId:n}=e,t=vn(e,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(i=>r[i]!==void 0).reduce((i,o)=>Object.assign(Object.assign({},i),{[o]:r[o]}),{}))(Object.assign({client_id:n},t))).toString()},n4=e=>(n=>decodeURIComponent(atob(n).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),rx=(e,n)=>f(null,null,function*(){let t=yield fetch(e,n);return{ok:t.ok,json:yield t.json()}}),ix=(e,n,t)=>f(null,null,function*(){let r=new AbortController,i;return n.signal=r.signal,Promise.race([rx(e,n),new Promise((o,a)=>{i=setTimeout(()=>{r.abort(),a(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(i)})}),ox=(e,n,t,r,i,o,a)=>f(null,null,function*(){return s={auth:{audience:n,scope:t},timeout:i,fetchUrl:e,fetchOptions:r,useFormData:a},c=o,new Promise(function(l,d){let u=new MessageChannel;u.port1.onmessage=function(p){p.data.error?d(new Error(p.data.error)):l(p.data),u.port1.close()},c.postMessage(s,[u.port2])});var s,c}),ax=(e,n,t,r,i,o,a=1e4)=>f(null,null,function*(){return i?ox(e,n,t,r,a,i,o):ix(e,r,a)});function sx(e,n){return f(this,null,function*(){var{baseUrl:t,timeout:r,audience:i,scope:o,auth0Client:a,useFormData:s}=e,c=vn(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let l=s?U2(c):JSON.stringify(c);return yield function(d,u,p,h,y,m,v){return f(this,null,function*(){let w,T=null;for(let ue=0;ue<3;ue++)try{w=yield ax(d,p,h,y,m,v,u),T=null;break}catch(Q4){T=Q4}if(T)throw T;let N=w.json,{error:C,error_description:W}=N,He=vn(N,["error","error_description"]),{ok:ee}=w;if(!ee){let ue=W||`HTTP error. Unable to fetch ${d}`;throw C==="mfa_required"?new Bd(C,ue,He.mfa_token):C==="missing_refresh_token"?new ys(p,h):new Xe(C||"request_error",ue)}return He})}(`${t}/oauth/token`,r,i||"default",o,{method:"POST",body:l,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(a||c4))}},n,s)})}var ps=(...e)=>{return(n=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(n))).join(" ");var n},Hn=class e{constructor(n,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=n.clientId,this.scope=n.scope,this.audience=n.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(n){let[t,r,i,o]=n.split("::");return new e({clientId:r,scope:o,audience:i},t)}static fromCacheEntry(n){let{scope:t,audience:r,client_id:i}=n;return new e({scope:t,audience:r,clientId:i})}},zd=class{set(n,t){localStorage.setItem(n,JSON.stringify(t))}get(n){let t=window.localStorage.getItem(n);if(t)try{return JSON.parse(t)}catch{return}}remove(n){localStorage.removeItem(n)}allKeys(){return Object.keys(window.localStorage).filter(n=>n.startsWith("@@auth0spajs@@"))}},gs=class{constructor(){this.enclosedCache=function(){let n={};return{set(t,r){n[t]=r},get(t){let r=n[t];if(r)return r},remove(t){delete n[t]},allKeys:()=>Object.keys(n)}}()}},$2=class{constructor(n,t,r){this.cache=n,this.keyManifest=t,this.nowProvider=r||l4}setIdToken(n,t,r){return f(this,null,function*(){var i;let o=this.getIdTokenCacheKey(n);yield this.cache.set(o,{id_token:t,decodedToken:r}),yield(i=this.keyManifest)===null||i===void 0?void 0:i.add(o)})}getIdToken(n){return f(this,null,function*(){let t=yield this.cache.get(this.getIdTokenCacheKey(n.clientId));if(!t&&n.scope&&n.audience){let r=yield this.get(n);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}})}get(n,t=0){return f(this,null,function*(){var r;let i=yield this.cache.get(n.toKey());if(!i){let s=yield this.getCacheKeys();if(!s)return;let c=this.matchExistingCacheKey(n,s);c&&(i=yield this.cache.get(c))}if(!i)return;let o=yield this.nowProvider(),a=Math.floor(o/1e3);return i.expiresAt-t<a?i.body.refresh_token?(i.body={refresh_token:i.body.refresh_token},yield this.cache.set(n.toKey(),i),i.body):(yield this.cache.remove(n.toKey()),void(yield(r=this.keyManifest)===null||r===void 0?void 0:r.remove(n.toKey()))):i.body})}set(n){return f(this,null,function*(){var t;let r=new Hn({clientId:n.client_id,scope:n.scope,audience:n.audience}),i=yield this.wrapCacheEntry(n);yield this.cache.set(r.toKey(),i),yield(t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey())})}clear(n){return f(this,null,function*(){var t;let r=yield this.getCacheKeys();r&&(yield r.filter(i=>!n||i.includes(n)).reduce((i,o)=>f(this,null,function*(){yield i,yield this.cache.remove(o)}),Promise.resolve()),yield(t=this.keyManifest)===null||t===void 0?void 0:t.clear())})}wrapCacheEntry(n){return f(this,null,function*(){let t=yield this.nowProvider();return{body:n,expiresAt:Math.floor(t/1e3)+n.expires_in}})}getCacheKeys(){return f(this,null,function*(){var n;return this.keyManifest?(n=yield this.keyManifest.get())===null||n===void 0?void 0:n.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(n){return new Hn({clientId:n},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(n,t){return t.filter(r=>{var i;let o=Hn.fromKey(r),a=new Set(o.scope&&o.scope.split(" ")),s=((i=n.scope)===null||i===void 0?void 0:i.split(" "))||[],c=o.scope&&s.reduce((l,d)=>l&&a.has(d),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===n.clientId&&o.audience===n.audience&&c})[0]}},G2=class{constructor(n,t,r){this.storage=n,this.clientId=t,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(n){this.storage.save(this.storageKey,n,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},fs=e=>typeof e=="number",cx=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],lx=e=>{if(!e.id_token)throw new Error("ID token is required but missing");let n=(o=>{let a=o.split("."),[s,c,l]=a;if(a.length!==3||!s||!c||!l)throw new Error("ID token could not be decoded");let d=JSON.parse(n4(c)),u={__raw:o},p={};return Object.keys(d).forEach(h=>{u[h]=d[h],cx.includes(h)||(p[h]=d[h])}),{encoded:{header:s,payload:c,signature:l},header:JSON.parse(n4(s)),claims:u,user:p}})(e.id_token);if(!n.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(n.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${n.claims.iss}"`);if(!n.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(n.header.alg!=="RS256")throw new Error(`Signature algorithm of "${n.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!n.claims.aud||typeof n.claims.aud!="string"&&!Array.isArray(n.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(n.claims.aud)){if(!n.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${n.claims.aud.join(", ")}"`);if(n.claims.aud.length>1){if(!n.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(n.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${n.claims.azp}"`)}}else if(n.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${n.claims.aud}"`);if(e.nonce){if(!n.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(n.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${n.claims.nonce}"`)}if(e.max_age&&!fs(n.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(n.claims.exp==null||!fs(n.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!fs(n.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let t=e.leeway||60,r=new Date(e.now||Date.now()),i=new Date(0);if(i.setUTCSeconds(n.claims.exp+t),r>i)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${i})`);if(n.claims.nbf!=null&&fs(n.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(n.claims.nbf-t),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(n.claims.auth_time!=null&&fs(n.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(n.claims.auth_time)+e.max_age+t),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(e.organization){let o=e.organization.trim();if(o.startsWith("org_")){let a=o;if(!n.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(a!==n.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${a}", found "${n.claims.org_id}"`)}else{let a=o.toLowerCase();if(!n.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(a!==n.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${a}", found "${n.claims.org_name}"`)}}return n},hi=K2(function(e,n){var t=ui&&ui.__assign||function(){return t=Object.assign||function(c){for(var l,d=1,u=arguments.length;d<u;d++)for(var p in l=arguments[d])Object.prototype.hasOwnProperty.call(l,p)&&(c[p]=l[p]);return c},t.apply(this,arguments)};function r(c,l){if(!l)return"";var d="; "+c;return l===!0?d:d+"="+l}function i(c,l,d){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(l).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(u){if(typeof u.expires=="number"){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*u.expires),u.expires=p}return r("Expires",u.expires?u.expires.toUTCString():"")+r("Domain",u.domain)+r("Path",u.path)+r("Secure",u.secure)+r("SameSite",u.sameSite)}(d)}function o(c){for(var l={},d=c?c.split("; "):[],u=/(%[\dA-F]{2})+/gi,p=0;p<d.length;p++){var h=d[p].split("="),y=h.slice(1).join("=");y.charAt(0)==='"'&&(y=y.slice(1,-1));try{l[h[0].replace(u,decodeURIComponent)]=y.replace(u,decodeURIComponent)}catch{}}return l}function a(){return o(document.cookie)}function s(c,l,d){document.cookie=i(c,l,t({path:"/"},d))}n.__esModule=!0,n.encode=i,n.parse=o,n.getAll=a,n.get=function(c){return a()[c]},n.set=s,n.remove=function(c,l){s(c,"",t(t({},l),{expires:-1}))}});Z2(hi),hi.encode,hi.parse,hi.getAll;var dx=hi.get,d4=hi.set,u4=hi.remove,ho={get(e){let n=dx(e);if(n!==void 0)return JSON.parse(n)},save(e,n,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),d4(e,JSON.stringify(n),r)},remove(e,n){let t={};n?.cookieDomain&&(t.domain=n.cookieDomain),u4(e,t)}},ux={get(e){return ho.get(e)||ho.get(`_legacy_${e}`)},save(e,n,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),d4(`_legacy_${e}`,JSON.stringify(n),r),ho.save(e,n,t)},remove(e,n){let t={};n?.cookieDomain&&(t.domain=n.cookieDomain),u4(e,t),ho.remove(e,n),ho.remove(`_legacy_${e}`,n)}},hx={get(e){if(typeof sessionStorage>"u")return;let n=sessionStorage.getItem(e);return n!=null?JSON.parse(n):void 0},save(e,n){sessionStorage.setItem(e,JSON.stringify(n))},remove(e){sessionStorage.removeItem(e)}};function px(e,n,t){var r=n===void 0?null:n,i=function(c,l){var d=atob(c);if(l){for(var u=new Uint8Array(d.length),p=0,h=d.length;p<h;++p)u[p]=d.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(u.buffer))}return d}(e,t!==void 0&&t),o=i.indexOf(`
`,10)+1,a=i.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([a],{type:"application/javascript"});return URL.createObjectURL(s)}var r4,i4,o4,q2,fx=(r4="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",i4=null,o4=!1,function(e){return q2=q2||px(r4,i4,o4),new Worker(q2,e)}),B2={},W2=class{constructor(n,t){this.cache=n,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(n){return f(this,null,function*(){var t;let r=new Set(((t=yield this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(n),yield this.cache.set(this.manifestKey,{keys:[...r]})})}remove(n){return f(this,null,function*(){let t=yield this.cache.get(this.manifestKey);if(t){let r=new Set(t.keys);return r.delete(n),r.size>0?yield this.cache.set(this.manifestKey,{keys:[...r]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(n){return`@@auth0spajs@@::${n}`}},yx={memory:()=>new gs().enclosedCache,localstorage:()=>new zd},a4=e=>yx[e],s4=e=>{let{openUrl:n,onRedirect:t}=e,r=vn(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:n===!1||n?n:t})},z2=new tx,Ud=class{constructor(n){let t,r;if(this.userCache=new gs().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>f(this,null,function*(){yield z2.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),n),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),n.authorizationParams)}),typeof window<"u"&&(()=>{if(!jd())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(jd().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),n.cache&&n.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),n.cache)r=n.cache;else{if(t=n.cacheLocation||"memory",!a4(t))throw new Error(`Invalid cache location "${t}"`);r=a4(t)()}this.httpTimeoutMs=n.httpTimeoutInSeconds?1e3*n.httpTimeoutInSeconds:1e4,this.cookieStorage=n.legacySameSiteCookie===!1?ho:ux,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(a=>`auth0.${a}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=n.sessionCheckExpiryDays||1;let i=n.useCookiesForTransactions?this.cookieStorage:hx;var o;this.scope=ps("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new G2(i,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||l4,this.cacheManager=new $2(r,r.allKeys?void 0:new W2(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((a,s)=>a?a.startsWith("https://")?a:`https://${a}/`:`${s}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new fx)}_url(n){let t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||c4)));return`${this.domainUrl}${n}&auth0Client=${t}`}_authorizeUrl(n){return this._url(`/authorize?${U2(n)}`)}_verifyIdToken(n,t,r){return f(this,null,function*(){let i=yield this.nowProvider();return lx({iss:this.tokenIssuer,aud:this.options.clientId,id_token:n,nonce:t,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:i});var o})}_processOrgHint(n){n?this.cookieStorage.save(this.orgHintCookieName,n,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(n,t,r){return f(this,null,function*(){let i=t4(H2()),o=t4(H2()),a=H2(),s=(d=>{let u=new Uint8Array(d);return(p=>{let h={"+":"-","/":"_","=":""};return p.replace(/[+/=]/g,y=>h[y])})(window.btoa(String.fromCharCode(...Array.from(u))))})(yield(d=>f(null,null,function*(){return yield jd().subtle.digest({name:"SHA-256"},new TextEncoder().encode(d))}))(a)),c=((d,u,p,h,y,m,v,w)=>Object.assign(Object.assign(Object.assign({client_id:d.clientId},d.authorizationParams),p),{scope:ps(u,p.scope),response_type:"code",response_mode:w||"query",state:h,nonce:y,redirect_uri:v||d.authorizationParams.redirect_uri,code_challenge:m,code_challenge_method:"S256"}))(this.options,this.scope,n,i,o,s,n.redirect_uri||this.options.authorizationParams.redirect_uri||r,t?.response_mode),l=this._authorizeUrl(c);return{nonce:o,code_verifier:a,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:i,url:l}})}loginWithPopup(n,t){return f(this,null,function*(){var r;if(n=n||{},!(t=t||{}).popup&&(t.popup=(s=>{let c=window.screenX+(window.innerWidth-400)/2,l=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup",`left=${c},top=${l},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let i=yield this._prepareAuthorizeUrl(n.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=i.url;let o=yield(s=>new Promise((c,l)=>{let d,u=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(u),clearTimeout(p),window.removeEventListener("message",d,!1),l(new qd(s.popup)))},1e3),p=setTimeout(()=>{clearInterval(u),l(new Hd(s.popup)),window.removeEventListener("message",d,!1)},1e3*(s.timeoutInSeconds||60));d=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(p),clearInterval(u),window.removeEventListener("message",d,!1),s.popup.close(),h.data.response.error)return l(Xe.fromPayload(h.data.response));c(h.data.response)}},window.addEventListener("message",d)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(i.state!==o.state)throw new Xe("state_mismatch","Invalid state");let a=((r=n.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:i.audience,scope:i.scope,code_verifier:i.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:i.redirect_uri},{nonceIn:i.nonce,organization:a})})}getUser(){return f(this,null,function*(){var n;let t=yield this._getIdTokenFromCache();return(n=t?.decodedToken)===null||n===void 0?void 0:n.user})}getIdTokenClaims(){return f(this,null,function*(){var n;let t=yield this._getIdTokenFromCache();return(n=t?.decodedToken)===null||n===void 0?void 0:n.claims})}loginWithRedirect(){return f(this,arguments,function*(n={}){var t;let r=s4(n),{openUrl:i,fragment:o,appState:a}=r,s=vn(r,["openUrl","fragment","appState"]),c=((t=s.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,l=yield this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:d}=l,u=vn(l,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},u),{appState:a}),c&&{organization:c}));let p=o?`${d}#${o}`:d;i?yield i(p):window.location.assign(p)})}handleRedirectCallback(){return f(this,arguments,function*(n=window.location.href){let t=n.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");let{state:r,code:i,error:o,error_description:a}=(u=>{u.indexOf("#")>-1&&(u=u.substring(0,u.indexOf("#")));let p=new URLSearchParams(u);return{state:p.get("state"),code:p.get("code")||void 0,error:p.get("error")||void 0,error_description:p.get("error_description")||void 0}})(t.join("")),s=this.transactionManager.get();if(!s)throw new Xe("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new Vd(o,a||o,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new Xe("state_mismatch","Invalid state");let c=s.organization,l=s.nonce,d=s.redirect_uri;return yield this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:i},d?{redirect_uri:d}:{}),{nonceIn:l,organization:c}),{appState:s.appState}})}checkSession(n){return f(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(n)}catch{}})}getTokenSilently(){return f(this,arguments,function*(n={}){var t;let r=Object.assign(Object.assign({cacheMode:"on"},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),n.authorizationParams),{scope:ps(this.scope,(t=n.authorizationParams)===null||t===void 0?void 0:t.scope)})}),i=yield((o,a)=>{let s=B2[a];return s||(s=o().finally(()=>{delete B2[a],s=null}),B2[a]=s),s})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return n.detailedResponse?i:i?.access_token})}_getTokenSilently(n){return f(this,null,function*(){let{cacheMode:t}=n,r=vn(n,["cacheMode"]);if(t!=="off"){let i=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(i)return i}if(t!=="cache-only"){if(!(yield((i,o=3)=>f(this,null,function*(){for(let a=0;a<o;a++)if(yield i())return!0;return!1}))(()=>z2.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new po;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){let l=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(l)return l}let i=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(r):yield this._getTokenFromIFrame(r),{id_token:o,access_token:a,oauthTokenScope:s,expires_in:c}=i;return Object.assign(Object.assign({id_token:o,access_token:a},s?{scope:s}:null),{expires_in:c})}finally{yield z2.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return f(this,arguments,function*(n={},t={}){var r;let i=Object.assign(Object.assign({},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),n.authorizationParams),{scope:ps(this.scope,(r=n.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},nx),t),yield this.loginWithPopup(i,t),(yield this.cacheManager.get(new Hn({scope:i.authorizationParams.scope,audience:i.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return f(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(n){n.clientId!==null?n.clientId=n.clientId||this.options.clientId:delete n.clientId;let t=n.logoutParams||{},{federated:r}=t,i=vn(t,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${U2(Object.assign({clientId:n.clientId},i))}`)+o}logout(){return f(this,arguments,function*(n={}){let t=s4(n),{openUrl:r}=t,i=vn(t,["openUrl"]);n.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(n.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let o=this._buildLogoutUrl(i);r?yield r(o):r!==!1&&window.location.assign(o)})}_getTokenFromIFrame(n){return f(this,null,function*(){let t=Object.assign(Object.assign({},n.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);let{url:i,state:o,nonce:a,code_verifier:s,redirect_uri:c,scope:l,audience:d}=yield this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Xe("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let u=n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,p=yield((y,m,v=60)=>new Promise((w,T)=>{let N=window.document.createElement("iframe");N.setAttribute("width","0"),N.setAttribute("height","0"),N.style.display="none";let C=()=>{window.document.body.contains(N)&&(window.document.body.removeChild(N),window.removeEventListener("message",W,!1))},W,He=setTimeout(()=>{T(new po),C()},1e3*v);W=function(ee){if(ee.origin!=m||!ee.data||ee.data.type!=="authorization_response")return;let ue=ee.source;ue&&ue.close(),ee.data.response.error?T(Xe.fromPayload(ee.data.response)):w(ee.data.response),clearTimeout(He),window.removeEventListener("message",W,!1),setTimeout(C,2e3)},window.addEventListener("message",W,!1),window.document.body.appendChild(N),N.setAttribute("src",y)}))(i,this.domainUrl,u);if(o!==p.state)throw new Xe("state_mismatch","Invalid state");let h=yield this._requestToken(Object.assign(Object.assign({},n.authorizationParams),{code_verifier:s,code:p.code,grant_type:"authorization_code",redirect_uri:c,timeout:n.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:a,organization:t.organization});return Object.assign(Object.assign({},h),{scope:l,oauthTokenScope:h.scope,audience:d})}catch(u){throw u.error==="login_required"&&this.logout({openUrl:!1}),u}})}_getTokenUsingRefreshToken(n){return f(this,null,function*(){let t=yield this.cacheManager.get(new Hn({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(n);throw new ys(n.authorizationParams.audience||"default",n.authorizationParams.scope)}let r=n.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,i=typeof n.timeoutInSeconds=="number"?1e3*n.timeoutInSeconds:null;try{let o=yield this._requestToken(Object.assign(Object.assign(Object.assign({},n.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),i&&{timeout:i}));return Object.assign(Object.assign({},o),{scope:n.authorizationParams.scope,oauthTokenScope:o.scope,audience:n.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(n);throw o}})}_saveEntryInCache(n){return f(this,null,function*(){let{id_token:t,decodedToken:r}=n,i=vn(n,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),yield this.cacheManager.setIdToken(this.options.clientId,n.id_token,n.decodedToken),yield this.cacheManager.set(i)})}_getIdTokenFromCache(){return f(this,null,function*(){let n=this.options.authorizationParams.audience||"default",t=yield this.cacheManager.getIdToken(new Hn({clientId:this.options.clientId,audience:n,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===r?.id_token?r:(this.userCache.set("@@user@@",t),t)})}_getEntryFromCache(i){return f(this,arguments,function*({scope:n,audience:t,clientId:r}){let o=yield this.cacheManager.get(new Hn({scope:n,audience:t,clientId:r}),60);if(o&&o.access_token){let{access_token:a,oauthTokenScope:s,expires_in:c}=o,l=yield this._getIdTokenFromCache();return l&&Object.assign(Object.assign({id_token:l.id_token,access_token:a},s?{scope:s}:null),{expires_in:c})}})}_requestToken(n,t){return f(this,null,function*(){let{nonceIn:r,organization:i}=t||{},o=yield sx(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},n),this.worker),a=yield this._verifyIdToken(o.id_token,r,i);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:a,scope:n.scope,audience:n.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(i||a.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:a})})}exchangeToken(n){return f(this,null,function*(){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:n.subject_token,subject_token_type:n.subject_token_type,scope:ps(n.scope,this.scope),audience:this.options.authorizationParams.audience})})}};var h4={name:"@auth0/auth0-angular",version:"2.2.3"},X2=class{static createClient(n){let t=n.get();if(!t)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new Ud(V(I({},t),{auth0Client:{name:h4.name,version:h4.version,env:{"angular/core":om.full}}}))}},$d=new E("auth0.client");function p4(e){return typeof e!="string"}var f4=new E("auth0-angular.config"),Y2=(()=>{class e{constructor(t){t&&this.set(t)}set(t){this.config=t}get(){return this.config}}return e.\u0275fac=function(t){return new(t||e)(P(f4,8))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gx=(()=>{class e{constructor(t,r){this.location=t;try{this.router=r.get(Fn)}catch{}}navigateByUrl(t){if(this.router){this.router.navigateByUrl(t);return}this.location.replaceState(t)}}return e.\u0275fac=function(t){return new(t||e)(P(rr),P(Oe))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),y4=(()=>{class e{constructor(t){this.auth0Client=t,this.isLoadingSubject$=new Ie(!0),this.refresh$=new re,this.accessToken$=new In(1),this.errorSubject$=new In(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(Io((r,i)=>({previous:r.current,current:i}),{current:null,previous:null}),Be(({previous:r,current:i})=>r!==i)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(Be(r=>!r),Co(),ze(()=>Uu(Ht(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(de(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(de(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(Co(),Ku(1)),this.user$=this.isAuthenticatedTrigger$.pipe(at(r=>r?this.auth0Client.getUser():O(null)),Co()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(at(r=>r?this.auth0Client.getIdTokenClaims():O(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(t){this.isLoadingSubject$.next(t)}refresh(){this.refresh$.next()}setAccessToken(t){this.accessToken$.next(t)}setError(t){this.errorSubject$.next(t)}}return e.\u0275fac=function(t){return new(t||e)(P($d))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),ms=(()=>{class e{constructor(t,r,i,o){this.auth0Client=t,this.configFactory=r,this.navigator=i,this.authState=o,this.appStateSubject$=new In(1),this.ngUnsubscribe$=new re,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let a=s=>cc(()=>s,this.handleRedirectCallback(),Ht(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(ze(s=>a(s).pipe(ot(c=>{let l=this.configFactory.get();return this.navigator.navigateByUrl(l.errorPath||"/"),this.authState.setError(c),O(void 0)}))),se(()=>{this.authState.setIsLoading(!1)}),Di(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(t){return $(this.auth0Client.loginWithRedirect(t))}loginWithPopup(t,r){return $(this.auth0Client.loginWithPopup(t,r).then(()=>{this.authState.refresh()}))}logout(t){return $(this.auth0Client.logout(t).then(()=>{(t?.openUrl===!1||t?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(t={}){return O(this.auth0Client).pipe(at(r=>t.detailedResponse===!0?r.getTokenSilently(V(I({},t),{detailedResponse:!0})):r.getTokenSilently(t)),se(r=>{r&&this.authState.setAccessToken(typeof r=="string"?r:r.access_token)}),ot(r=>(this.authState.setError(r),this.authState.refresh(),Vt(r))))}getAccessTokenWithPopup(t){return O(this.auth0Client).pipe(at(r=>r.getTokenWithPopup(t)),se(r=>{r&&this.authState.setAccessToken(r)}),ot(r=>(this.authState.setError(r),this.authState.refresh(),Vt(r))))}handleRedirectCallback(t){return Ht(()=>this.auth0Client.handleRedirectCallback(t)).pipe(Yu(this.authState.isLoading$),se(([r,i])=>{i||this.authState.refresh();let o=r?.appState,a=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(a)}),R(([r])=>r))}shouldHandleCallback(){return O(location.search).pipe(R(t=>{let r=new URLSearchParams(t);return(r.has("code")||r.has("error"))&&r.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return e.\u0275fac=function(t){return new(t||e)(P($d),P(Y2),P(gx),P(y4))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),dr=(()=>{class e{constructor(t){this.auth=t}canLoad(t,r){return this.auth.isAuthenticated$.pipe(ge(1))}canActivate(t,r){return this.redirectIfUnauthenticated(r)}canActivateChild(t,r){return this.redirectIfUnauthenticated(r)}redirectIfUnauthenticated(t){return this.auth.isAuthenticated$.pipe(se(r=>{r||this.auth.loginWithRedirect({appState:{target:t.url}})}))}}return e.\u0275fac=function(t){return new(t||e)(P(ms))},e.\u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var mx=e=>n=>n.pipe(de(t=>e.pipe(bt(),$u(t)))),kx=(()=>{class e{constructor(t,r,i,o){this.configFactory=t,this.auth0Client=r,this.authState=i,this.authService=o}intercept(t,r){let i=this.configFactory.get();if(!i.httpInterceptor?.allowedList)return r.handle(t);let o=this.authService.isLoading$.pipe(Be(a=>!a));return this.findMatchingRoute(t,i.httpInterceptor).pipe(at(a=>cc(()=>a!==null,O(a).pipe(mx(o),Wu("tokenOptions"),at(s=>this.getAccessTokenSilently(s).pipe(ot(c=>this.allowAnonymous(a,c)?O(""):(this.authState.setError(c),Vt(c))))),ze(s=>{let c=s?t.clone({headers:t.headers.set("Authorization",`Bearer ${s}`)}):t;return r.handle(c)})),r.handle(t))))}getAccessTokenSilently(t){return O(this.auth0Client).pipe(at(r=>r.getTokenSilently(t)),se(r=>this.authState.setAccessToken(r)),ot(r=>(this.authState.refresh(),Vt(r))))}stripQueryFrom(t){return t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#"))),t}canAttachToken(t,r){let i=o=>{if(!o)return!1;let a=this.stripQueryFrom(r.url);return o===a?!0:o.indexOf("*")===o.length-1&&r.url.startsWith(o.substr(0,o.length-1))};return p4(t)?t.httpMethod&&t.httpMethod!==r.method?!1:(!t.uri&&!t.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),t.uriMatcher?t.uriMatcher(r.url):i(t.uri)):i(t)}findMatchingRoute(t,r){return $(r.allowedList).pipe(bt(i=>this.canAttachToken(i,t),null))}allowAnonymous(t,r){return!!t&&p4(t)&&!!t.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(r.error)}}return e.\u0275fac=function(t){return new(t||e)(P(Y2),P($d),P(y4),P(ms))},e.\u0275prov=L({token:e,factory:e.\u0275fac}),e})();function g4(e){return[ms,kx,dr,{provide:f4,useValue:e},{provide:$d,useFactory:X2.createClient,deps:[Y2]}]}var Mx=()=>[1,2,3,4],wx=()=>[1,2,3,4,5];function Cx(e,n){e&1&&S(0,"div",12)}function bx(e,n){e&1&&(g(0,"div",20),S(1,"div",21)(2,"div",22),k())}var Gd=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-lease-view-skeleton"]],decls:27,vars:2,consts:[[1,"md:px-48","py-4","md:py-8","animate-pulse"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],[1,"w-10","h-10","rounded-full","bg-white","bg-opacity-30","backdrop-blur-md","shadow-md"],[1,"h-8","w-48","bg-gray-300","bg-opacity-40","rounded"],[1,"flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","space-y-4"],[1,"h-6","w-32","bg-gray-300","rounded"],[1,"h-4","w-64","bg-gray-300","rounded"],[1,"border-t","border-gray-300/30","my-2"],[1,"h-4","w-56","bg-gray-300","rounded"],[1,"h-4","w-72","bg-gray-300","rounded"],[1,"flex","flex-wrap","gap-2","mt-2"],[1,"h-6","w-20","bg-gray-200","rounded-full"],[1,"h-5","w-40","bg-gray-300","rounded"],[1,"h-4","w-40","bg-gray-300","rounded","mt-2"],[1,"h-3","w-64","bg-gray-200","rounded"],[1,"h-5","w-40","bg-gray-300","rounded","mt-8"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","space-y-2"],[1,"h-5","w-48","bg-gray-300","rounded"],[1,"border-t","border-gray-300/30","pt-2","space-y-2"],[1,"flex","justify-between"],[1,"h-4","w-32","bg-gray-300","rounded"],[1,"h-4","w-24","bg-gray-300","rounded"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1),S(2,"div",2)(3,"div",3),k(),g(4,"div",4)(5,"div",5),S(6,"div",6)(7,"div",7)(8,"hr",8)(9,"div",9)(10,"div",10)(11,"div",7),g(12,"div",11),$e(13,Cx,1,0,"div",12,Zt),k()(),g(15,"div",5),S(16,"div",13)(17,"div",14)(18,"div",15)(19,"div",16)(20,"div",14)(21,"div",15),k(),g(22,"div",17),S(23,"div",18),g(24,"div",19),$e(25,bx,3,0,"div",20,Zt),k()()()()),t&2&&(M(13),Ge(cn(0,Mx)),M(12),Ge(cn(1,wx)))},encapsulation:2})};var Wd=class e{translations={APARTMENT:"Appartement",HOUSE:"Maison",STUDIO:"Studio",DUPLEX:"Duplex",VILLA:"Villa",ROOM:"Chambre",COMMERCIAL:"Local commercial",LAND:"Terrain",OTHER:"Autre"};transform(n){return n?this.translations[n]||n:""}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Wt({name:"propertyType",type:e,pure:!0})};var Zd=class e{translations={ELECTRIC:"\xC9lectrique",GAS:"Gaz",FUEL:"Fioul",HEAT_PUMP:"Pompe \xE0 chaleur",DISTRICT:"Chauffage urbain",WOOD:"Bois",SOLAR:"Solaire",OTHER:"Autre"};transform(n){return n?this.translations[n]||n:""}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Wt({name:"heatingType",type:e,pure:!0})};var Kd=class e{translations={elevator:"Ascenseur",balcony:"Balcon",terrace:"Terrasse",garden:"Jardin",cellar:"Cave",garage:"Garage",parking:"Parking",attic:"Grenier",accessible:"Acc\xE8s PMR",intercom:"Interphone",swimmingPool:"Piscine",fireplace:"Chemin\xE9e"};transform(n){return n?this.translations[n]||n:""}static \u0275fac=function(t){return new(t||e)};static \u0275pipe=Wt({name:"propertyFeature",type:e,pure:!0})};var Ix=e=>["/lease",e,"property"];function xx(e,n){e&1&&S(0,"app-lease-view-skeleton")}function Sx(e,n){if(e&1&&(g(0,"span"),x(1),k()),e&2){let t=je(2);M(),Me("\xB7 ",t.lease==null||t.lease.property==null?null:t.lease.property.bedrooms," chambres")}}function Dx(e,n){if(e&1&&(g(0,"span"),x(1),k()),e&2){let t=je(2);M(),Me("\xB7 ",t.lease==null||t.lease.property==null?null:t.lease.property.bathrooms," sdb")}}function _x(e,n){if(e&1&&(g(0,"span"),x(1),k()),e&2){let t=je(2);M(),Me("\xB7 DPE ",t.lease==null||t.lease.property==null?null:t.lease.property.energyLabel)}}function Lx(e,n){if(e&1&&(g(0,"span",13),x(1),kt(2,"propertyFeature"),kt(3,"titlecase"),k()),e&2){let t=n.$implicit;M(),tt(tr(3,3,tr(2,1,t)))}}function Ex(e,n){if(e&1&&(g(0,"div",0)(1,"div",1)(2,"a",2),S(3,"lucide-icon",3),k(),g(4,"div",4),x(5),k()(),g(6,"div",5)(7,"div",6)(8,"h2",7),x(9,"Mon bien"),k(),g(10,"p",8),S(11,"lucide-icon",9),x(12),k(),S(13,"hr",10),g(14,"div",11),S(15,"lucide-icon",9),g(16,"span"),x(17),kt(18,"propertyType"),kt(19,"titlecase"),k(),x(20," \xB7 "),g(21,"span"),x(22),k()(),g(23,"div",11),S(24,"lucide-icon",9),g(25,"span"),x(26),k(),ke(27,Sx,2,1,"span"),ke(28,Dx,2,1,"span"),k(),g(29,"div",11),S(30,"lucide-icon",9),g(31,"span"),x(32),kt(33,"heatingType"),kt(34,"lowercase"),k(),ke(35,_x,2,1,"span"),k(),g(36,"div",12),$e(37,Lx,4,5,"span",13,Zt),k()(),g(39,"div",14)(40,"h3",15),x(41,"Propri\xE9taires"),k(),g(42,"div",16)(43,"div",17),x(44," Koussila ZEKRI "),k(),g(45,"div",18),x(46," koussila zekri@gmail.com"),S(47,"br"),x(48," +33123456789 "),k()(),g(49,"h3",19),x(50,"Locataires"),k(),g(51,"div",16)(52,"div",17),x(53," Koussila ZEKRI "),k(),g(54,"div",18),x(55," koussila zekri@gmail.com"),S(56,"br"),x(57," +33123456789 "),k()()(),g(58,"div",14)(59,"h3",15),x(60,"D\xE9tails de la location"),k(),g(61,"div",20)(62,"div",21)(63,"span",22),x(64,"P\xE9riode"),k(),g(65,"span"),x(66),kt(67,"date"),kt(68,"date"),k()(),g(69,"div",21)(70,"span",22),x(71,"Loyer"),k(),g(72,"span"),x(73),k()(),g(74,"div",21)(75,"span",22),x(76,"Fr\xE9quence"),k(),g(77,"span"),x(78),k()(),g(79,"div",21)(80,"span",22),x(81,"D\xE9p\xF4t de garantie"),k(),g(82,"span"),x(83),k()(),g(84,"div",21)(85,"span",22),x(86,"Statut"),k(),g(87,"span",23),x(88),k()(),g(89,"div",24)(90,"button",25),S(91,"lucide-icon",26),x(92," G\xE9n\xE9rer le bail (PDF) "),k()()()()()()),e&2){let t=je();M(3),_("img",t.ArrowLeftIcon),M(2),Me(" ",t.lease==null||t.lease.property==null?null:t.lease.property.name," "),M(2),_("routerLink",oa(39,Ix,t.lease==null?null:t.lease.id)),M(4),_("img",t.MapPinIcon),M(),Kt(" ",t.lease==null||t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.street,", ",t.lease==null||t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.city," "),M(3),_("img",t.HomeIcon),M(2),tt(tr(19,27,tr(18,25,t.lease==null||t.lease.property==null?null:t.lease.property.type))),M(5),Me("",t.lease==null||t.lease.property==null?null:t.lease.property.livingArea," m\xB2"),M(2),_("img",t.LayoutIcon),M(2),Me("",t.lease==null||t.lease.property==null?null:t.lease.property.rooms," pi\xE8ces"),M(),ve(!(t.lease==null||t.lease.property==null)&&t.lease.property.bedrooms?27:-1),M(),ve(!(t.lease==null||t.lease.property==null)&&t.lease.property.bathrooms?28:-1),M(2),_("img",t.FlameIcon),M(2),Me("Chauffage avec ",tr(34,31,tr(33,29,t.lease==null||t.lease.property==null?null:t.lease.property.heatingType))),M(3),ve(!(t.lease==null||t.lease.property==null)&&t.lease.property.bathrooms?35:-1),M(2),Ge(t.getEnabledFeatures(t.lease==null||t.lease.property==null?null:t.lease.property.features)),M(29),Kt("",$r(67,33,t.lease==null?null:t.lease.startDate,"dd MMM yyyy")," \u2013 ",$r(68,36,t.lease==null?null:t.lease.endDate,"dd MMM yyyy")),M(7),Kt("",t.lease==null?null:t.lease.rentAmount," ",t.lease==null?null:t.lease.rentCurrency),M(5),tt((t.lease==null?null:t.lease.paymentFrequency)||"Mensuel"),M(5),Kt("",t.lease==null?null:t.lease.securityDeposit," ",t.lease==null?null:t.lease.rentCurrency),M(5),tt(t.lease==null||t.lease.status==null?null:t.lease.status.toLowerCase()),M(3),_("img",t.FileTextIcon)}}var Xd=class e{constructor(n){this.leaseRepository=n}leaseId=null;lease;loading=!0;route=b(wt);RulerIcon=ad;ngOnInit(){this.leaseId=this.route.snapshot.paramMap.get("id"),this.leaseId?Ct([this.leaseRepository.findById(this.leaseId),Sn(500)]).pipe(ge(1)).subscribe(([n])=>{this.lease=n,this.loading=!1}):this.loading=!1}LayoutIcon=Fk;MapPinIcon=to;HomeIcon=Ok;FlameIcon=od;ArrowLeftIcon=id;FileTextIcon=Pk;getEnabledFeatures(n){return n?Object.keys(n).filter(t=>n[t]===!0):[]}static \u0275fac=function(t){return new(t||e)(A(lr))};static \u0275cmp=J({type:e,selectors:[["app-lease"]],decls:2,vars:1,consts:[[1,"p-2","md:px-48","py-4","md:py-8"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],["routerLink","/home",1,"w-10","h-10","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","rounded-full","shadow-md","hover:bg-opacity-40","transition"],[1,"w-5","h-5","text-red-500",3,"img"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","flex-wrap","gap-4"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-4","hover:bg-opacity-40","transition","cursor-pointer",3,"routerLink"],[1,"text-2xl","font-bold"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-300/50","my-2"],[1,"text-sm","text-gray-700","flex","items-center","gap-2"],[1,"text-xs","text-gray-600","flex","flex-wrap","gap-2","mt-2"],[1,"bg-gray-200","px-2","py-1","rounded-full"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2","cursor-pointer"],[1,"text-xl","font-bold"],[1,"border-t","border-gray-300/40","pt-2"],[1,"text-gray-800","font-medium"],[1,"text-xs","text-gray-600"],[1,"text-xl","font-bold","mt-8"],[1,"border-t","border-gray-300/40","pt-2","space-y-2","text-sm","text-gray-700"],[1,"flex","justify-between"],[1,"font-medium","text-gray-800"],[1,"capitalize"],[1,"flex","items-center","justify-center","mt-8"],[1,"px-4","py-2","bg-red-500","text-white","rounded","hover:bg-red-600","transition","flex","items-center","gap-2"],[1,"w-5","h-5",3,"img"]],template:function(t,r){t&1&&ke(0,xx,1,0,"app-lease-view-skeleton")(1,Ex,93,41,"div",0),t&2&&ve(r.loading?0:1)},dependencies:[sr,ar,pn,Rp,ya,Gd,Wd,Zd,Tp,Kd],encapsulation:2})};var x4=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,r){this._renderer=t,this._elementRef=r}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(r){return new(r||e)(A(sn),A(Gt))};static \u0275dir=Ae({type:e})}return e})(),Ax=(()=>{class e extends x4{static \u0275fac=(()=>{let t;return function(i){return(t||(t=zr(e)))(i||e)}})();static \u0275dir=Ae({type:e,features:[_t]})}return e})(),Mn=new E("");var Tx={provide:Mn,useExisting:Le(()=>S4),multi:!0};function Rx(){let e=Et()?Et().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var Px=new E(""),S4=(()=>{class e extends x4{_compositionMode;_composing=!1;constructor(t,r,i){super(t,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!Rx())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(r){return new(r||e)(A(sn),A(Gt),A(Px,8))};static \u0275dir=Ae({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Fe("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[nt([Tx]),_t]})}return e})();function r0(e){return e==null||i0(e)===0}function i0(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var au=new E(""),su=new E(""),Ox=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nt=class{static min(n){return Nx(n)}static max(n){return Fx(n)}static required(n){return jx(n)}static requiredTrue(n){return Vx(n)}static email(n){return Hx(n)}static minLength(n){return qx(n)}static maxLength(n){return Bx(n)}static pattern(n){return zx(n)}static nullValidator(n){return D4()}static compose(n){return R4(n)}static composeAsync(n){return O4(n)}};function Nx(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function Fx(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function jx(e){return r0(e.value)?{required:!0}:null}function Vx(e){return e.value===!0?null:{required:!0}}function Hx(e){return r0(e.value)||Ox.test(e.value)?null:{email:!0}}function qx(e){return n=>{let t=n.value?.length??i0(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function Bx(e){return n=>{let t=n.value?.length??i0(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function zx(e){if(!e)return D4;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),r=>{if(r0(r.value))return null;let i=r.value;return n.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function D4(e){return null}function _4(e){return e!=null}function L4(e){return Qn(e)?$(e):e}function E4(e){let n={};return e.forEach(t=>{n=t!=null?I(I({},n),t):n}),Object.keys(n).length===0?null:n}function A4(e,n){return n.map(t=>t(e))}function Ux(e){return!e.validate}function T4(e){return e.map(n=>Ux(n)?n:t=>n.validate(t))}function R4(e){if(!e)return null;let n=e.filter(_4);return n.length==0?null:function(t){return E4(A4(t,n))}}function P4(e){return e!=null?R4(T4(e)):null}function O4(e){if(!e)return null;let n=e.filter(_4);return n.length==0?null:function(t){let r=A4(t,n).map(L4);return zu(r).pipe(R(E4))}}function N4(e){return e!=null?O4(T4(e)):null}function m4(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function F4(e){return e._rawValidators}function j4(e){return e._rawAsyncValidators}function J2(e){return e?Array.isArray(e)?e:[e]:[]}function Qd(e,n){return Array.isArray(e)?e.includes(n):e===n}function k4(e,n){let t=J2(n);return J2(e).forEach(i=>{Qd(t,i)||t.push(i)}),t}function v4(e,n){return J2(n).filter(t=>!Qd(e,t))}var eu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=P4(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=N4(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},Ft=class extends eu{name;get formDirective(){return null}get path(){return null}},qn=class extends eu{_parent=null;name=null;valueAccessor=null},tu=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},$x={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},iG=V(I({},$x),{"[class.ng-submitted]":"isSubmitted"}),V4=(()=>{class e extends tu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(A(qn,2))};static \u0275dir=Ae({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&ia("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[_t]})}return e})(),H4=(()=>{class e extends tu{constructor(t){super(t)}static \u0275fac=function(r){return new(r||e)(A(Ft,10))};static \u0275dir=Ae({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&ia("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[_t]})}return e})();var ks="VALID",Yd="INVALID",fo="PENDING",vs="DISABLED",ur=class{},nu=class extends ur{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Ms=class extends ur{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},ws=class extends ur{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},yo=class extends ur{status;source;constructor(n,t){super(),this.status=n,this.source=t}},Q2=class extends ur{source;constructor(n){super(),this.source=n}},e0=class extends ur{source;constructor(n){super(),this.source=n}};function o0(e){return(cu(e)?e.validators:e)||null}function Gx(e){return Array.isArray(e)?P4(e):e||null}function a0(e,n){return(cu(n)?n.asyncValidators:e)||null}function Wx(e){return Array.isArray(e)?N4(e):e||null}function cu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function q4(e,n,t){let r=e.controls;if(!(n?Object.keys(r):r).length)throw new D(1e3,"");if(!r[t])throw new D(1001,"")}function B4(e,n,t){e._forEachChild((r,i)=>{if(t[i]===void 0)throw new D(1002,"")})}var go=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return Lt(this.statusReactive)}set status(n){Lt(()=>this.statusReactive.set(n))}_status=Bi(()=>this.statusReactive());statusReactive=An(void 0);get valid(){return this.status===ks}get invalid(){return this.status===Yd}get pending(){return this.status==fo}get disabled(){return this.status===vs}get enabled(){return this.status!==vs}errors;get pristine(){return Lt(this.pristineReactive)}set pristine(n){Lt(()=>this.pristineReactive.set(n))}_pristine=Bi(()=>this.pristineReactive());pristineReactive=An(!0);get dirty(){return!this.pristine}get touched(){return Lt(this.touchedReactive)}set touched(n){Lt(()=>this.touchedReactive.set(n))}_touched=Bi(()=>this.touchedReactive());touchedReactive=An(!1);get untouched(){return!this.touched}_events=new re;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(k4(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(k4(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(v4(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(v4(n,this._rawAsyncValidators))}hasValidator(n){return Qd(this._rawValidators,n)}hasAsyncValidator(n){return Qd(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(V(I({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new ws(!0,r))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:r})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,r),t&&n.emitEvent!==!1&&this._events.next(new ws(!1,r))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let r=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(V(I({},n),{sourceControl:r})),t&&n.emitEvent!==!1&&this._events.next(new Ms(!1,r))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=n.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,r),t&&n.emitEvent!==!1&&this._events.next(new Ms(!0,r))}markAsPending(n={}){this.status=fo;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new yo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(V(I({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=vs,this.errors=null,this._forEachChild(i=>{i.disable(V(I({},n),{onlySelf:!0}))}),this._updateValue();let r=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new nu(this.value,r)),this._events.next(new yo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(V(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=ks,this._forEachChild(r=>{r.enable(V(I({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(V(I({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ks||this.status===fo)&&this._runAsyncValidator(r,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new nu(this.value,t)),this._events.next(new yo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(V(I({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?vs:ks}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=fo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let r=L4(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(n,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,r){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||r)&&this._events.next(new yo(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,r)}_initObservables(){this.valueChanges=new me,this.statusChanges=new me}_calculateStatus(){return this._allControlsDisabled()?vs:this.errors?Yd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fo)?fo:this._anyControlsHaveStatus(Yd)?Yd:ks}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),i&&this._events.next(new Ms(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new ws(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){cu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=Gx(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=Wx(this._rawAsyncValidators)}},ru=class extends go{constructor(n,t,r){super(o0(t),a0(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,r={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,r={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){B4(this,!0,n),Object.keys(n).forEach(r=>{q4(this,!0,r),this.controls[r].setValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(r=>{let i=this.controls[r];i&&i.patchValue(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((r,i)=>{r.reset(n?n[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(n,t,r)=>(n[r]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&n(r,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&n(r))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(n,t){let r=n;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var t0=class extends ru{};var s0=new E("",{providedIn:"root",factory:()=>lu}),lu="always";function c0(e,n){return[...n.path,e]}function M4(e,n,t=lu){l0(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),Kx(e,n),Yx(e,n),Xx(e,n),Zx(e,n)}function w4(e,n,t=!0){let r=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(r),n.valueAccessor.registerOnTouched(r)),ou(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function iu(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function Zx(e,n){if(n.valueAccessor.setDisabledState){let t=r=>{n.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function l0(e,n){let t=F4(e);n.validator!==null?e.setValidators(m4(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let r=j4(e);n.asyncValidator!==null?e.setAsyncValidators(m4(r,n.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();iu(n._rawValidators,i),iu(n._rawAsyncValidators,i)}function ou(e,n){let t=!1;if(e!==null){if(n.validator!==null){let i=F4(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==n.validator);o.length!==i.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let i=j4(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==n.asyncValidator);o.length!==i.length&&(t=!0,e.setAsyncValidators(o))}}}let r=()=>{};return iu(n._rawValidators,r),iu(n._rawAsyncValidators,r),t}function Kx(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&z4(e,n)})}function Xx(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&z4(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function z4(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function Yx(e,n){let t=(r,i)=>{n.valueAccessor.writeValue(r),i&&n.viewToModelUpdate(r)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function Jx(e,n){e==null,l0(e,n)}function Qx(e,n){return ou(e,n)}function e7(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function t7(e){return Object.getPrototypeOf(e.constructor)===Ax}function n7(e,n){e._syncPendingControls(),n.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function r7(e,n){if(!n)return null;Array.isArray(n);let t,r,i;return n.forEach(o=>{o.constructor===S4?t=o:t7(o)?r=o:i=o}),i||r||t||null}function i7(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function C4(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function b4(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Jd=class extends go{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,r){super(o0(t),a0(r,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),cu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(b4(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){C4(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){C4(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){b4(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var o7=e=>e instanceof Jd,a7=(()=>{class e extends Ft{_parent;ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return c0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static \u0275fac=(()=>{let t;return function(i){return(t||(t=zr(e)))(i||e)}})();static \u0275dir=Ae({type:e,standalone:!1,features:[_t]})}return e})();var U4=new E("");var s7={provide:Ft,useExisting:Le(()=>du)},du=(()=>{class e extends Ft{callSetDisabledState;get submitted(){return Lt(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=Bi(()=>this._submittedReactive());_submittedReactive=An(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new me;constructor(t,r,i){super(),this.callSetDisabledState=i,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ou(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return M4(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){w4(t.control||null,t,!1),i7(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),n7(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new Q2(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,r={}){this.form.reset(t,r),this._submittedReactive.set(!1),r?.emitEvent!==!1&&this.form._events.next(new e0(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(w4(r||null,t),o7(i)&&(M4(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);Jx(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&Qx(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){l0(this.form,this),this._oldForm&&ou(this._oldForm,this)}static \u0275fac=function(r){return new(r||e)(A(au,10),A(su,10),A(s0,8))};static \u0275dir=Ae({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Fe("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[nt([s7]),_t,$t]})}return e})(),c7={provide:Ft,useExisting:Le(()=>uu)},uu=(()=>{class e extends a7{name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){G4(this._parent)}static \u0275fac=function(r){return new(r||e)(A(Ft,13),A(au,10),A(su,10))};static \u0275dir=Ae({type:e,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},standalone:!1,features:[nt([c7]),_t]})}return e})(),l7={provide:Ft,useExisting:Le(()=>$4)},$4=(()=>{class e extends Ft{_parent;name=null;constructor(t,r,i){super(),this._parent=t,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){G4(this._parent),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective?.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return c0(this.name==null?this.name:this.name.toString(),this._parent)}static \u0275fac=function(r){return new(r||e)(A(Ft,13),A(au,10),A(su,10))};static \u0275dir=Ae({type:e,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},standalone:!1,features:[nt([l7]),_t]})}return e})();function G4(e){return!(e instanceof uu)&&!(e instanceof du)&&!(e instanceof $4)}var d7={provide:qn,useExisting:Le(()=>d0)},d0=(()=>{class e extends qn{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=r7(this,o)}ngOnChanges(t){this._added||this._setUpControl(),e7(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return c0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(A(Ft,13),A(au,10),A(su,10),A(Mn,10),A(U4,8))};static \u0275dir=Ae({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[nt([d7]),_t,$t]})}return e})();var W4=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=ht({})}return e})(),n0=class extends go{constructor(n,t,r){super(o0(t),a0(r,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){this.controls.push(n),this._registerControl(n),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,r={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(n,t={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,r={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){B4(this,!1,n),n.forEach((r,i)=>{q4(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((r,i)=>{r.reset(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,r)=>r._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,r)=>{n(t,r)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function I4(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Z4=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,r=null){let i=this._reduceControls(t),o={};return I4(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new ru(i,o)}record(t,r=null){let i=this._reduceControls(t);return new t0(i,r)}control(t,r,i){let o={};return this.useNonNullable?(I4(r)?o=r:(o.validators=r,o.asyncValidators=i),new Jd(t,V(I({},o),{nonNullable:!0}))):new Jd(t,r,i)}array(t,r,i){let o=t.map(a=>this._createControl(a));return new n0(o,r,i)}_reduceControls(t){let r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){if(t instanceof Jd)return t;if(t instanceof go)return t;if(Array.isArray(t)){let r=t[0],i=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(r,i,o)}else return this.control(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var K4=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:s0,useValue:t.callSetDisabledState??lu}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=ht({imports:[W4]})}return e})(),X4=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:U4,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:s0,useValue:t.callSetDisabledState??lu}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Dt({type:e});static \u0275inj=ht({imports:[W4]})}return e})();var h7=(e,n,t)=>({"outline-red-300":e,"outline-gray-300":n,"bg-gray-100":t});function p7(e,n){e&1&&(g(0,"span",2),x(1,"*"),k())}function f7(e,n){if(e&1&&(g(0,"div",4),x(1),k()),e&2){let t=je();M(),tt(t.errorMessage)}}var hu=class e{constructor(n){this.injector=n}label="";placeholder="";type="text";value="";isDisabled=!1;ngControl;ngOnInit(){this.ngControl=this.injector.get(qn,null,{self:!0}),this.ngControl&&(this.ngControl.valueAccessor=this)}onChange=n=>{};onTouched=()=>{};errorMessage;writeValue(n){this.value=n??""}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.isDisabled=n}onInput(n){let t=n.target.value;this.value=t,this.onChange(t),this.setErrorMessage()}onBlur(){this.onTouched()}isRequired(){return this.ngControl?.control?.validator?.({})?.required??!1}setErrorMessage(){this.errorMessage="",this.ngControl?.errors&&Object.keys(this.ngControl?.errors).forEach(n=>this.errorMessage=this.getMessage(n,this.ngControl?.errors?.[n]))}getMessage(n,t){return{required:()=>"Ce champ est requis.",email:()=>"Email invalide.",minlength:i=>`Minimum ${i.requiredLength} caract\xE8res.`,maxlength:i=>`Maximum ${i.requiredLength} caract\xE8res.`,pattern:()=>"Format invalide.",min:i=>`Valeur minimale : ${i.min}.`,max:i=>`Valeur maximale : ${i.max}.`}[n]?.(t)||"Champ invalide."}static \u0275fac=function(t){return new(t||e)(A(Oe))};static \u0275cmp=J({type:e,selectors:[["app-text-input"]],inputs:{label:"label",placeholder:"placeholder",type:"type"},features:[nt([{provide:Mn,useExisting:Le(()=>e),multi:!0}])],decls:7,vars:12,consts:[[1,""],["for","field",1,"block","text-sm/6","font-medium","text-gray-900"],[1,"text-red-600"],["id","field","autocomplete","off",1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","placeholder:text-gray-400","sm:text-sm/6",3,"input","blur","type","value","placeholder","disabled","ngClass"],[1,"text-red-500","text-xs","mt-1","ml-2.5"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"label",1),x(2),ke(3,p7,2,0,"span",2),k(),g(4,"div",0)(5,"input",3),Fe("input",function(o){return r.onInput(o)})("blur",function(){return r.onBlur()}),k()(),ke(6,f7,2,1,"div",4),k()),t&2&&(M(2),Me("",r.label," "),M(),ve(r.isRequired()?3:-1),M(2),_("type",r.type)("value",r.value)("placeholder",r.placeholder)("disabled",r.isDisabled)("ngClass",kp(8,h7,r.errorMessage,!r.errorMessage&&!r.isDisabled,r.isDisabled)),M(),ve(r.errorMessage?6:-1))},dependencies:[fa],encapsulation:2})};var y7=(e,n)=>n.key;function g7(e,n){e&1&&(g(0,"span",1),x(1,"*"),k())}function m7(e,n){if(e&1&&(g(0,"option",5),x(1),k()),e&2){let t=n.$implicit;_("value",t.key),M(),tt(t.label)}}function k7(e,n){if(e&1&&(g(0,"div",8),x(1),k()),e&2){let t=je();M(),tt(t.errorMessage)}}var pu=class e{constructor(n){this.injector=n}label="";placeholder="S\xE9lectionner...";options=[];value=null;isDisabled=!1;ngControl;errorMessage="";ngOnInit(){this.ngControl=this.injector.get(qn,null,{self:!0}),this.ngControl&&(this.ngControl.valueAccessor=this)}onChange=n=>{};onTouched=()=>{};writeValue(n){this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.isDisabled=n}onSelect(n){let t=n.target.value;this.value=t,this.onChange(t),this.setErrorMessage()}onBlur(){this.onTouched()}isRequired(){return this.ngControl?.control?.validator?.({})?.required??!1}setErrorMessage(){this.errorMessage="",this.ngControl?.errors&&Object.keys(this.ngControl?.errors).forEach(n=>this.errorMessage=this.getMessage(n,this.ngControl?.errors?.[n]))}getMessage(n,t){return{required:()=>"Ce champ est requis.",email:()=>"Email invalide.",minlength:i=>`Minimum ${i.requiredLength} caract\xE8res.`,maxlength:i=>`Maximum ${i.requiredLength} caract\xE8res.`,pattern:()=>"Format invalide.",min:i=>`Valeur minimale : ${i.min}.`,max:i=>`Valeur maximale : ${i.max}.`}[n]?.(t)||"Champ invalide."}static \u0275fac=function(t){return new(t||e)(A(Oe))};static \u0275cmp=J({type:e,selectors:[["app-dropdown"]],inputs:{label:"label",placeholder:"placeholder",options:"options"},features:[nt([{provide:Mn,useExisting:Le(()=>e),multi:!0}])],decls:13,vars:8,consts:[[1,"block","text-sm/6","font-medium","text-gray-900",3,"for"],[1,"text-red-600"],[1,"relative"],[1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-gray-400","sm:text-sm/6","appearance-none",3,"change","blur","id","value","disabled"],["value","","disabled","","hidden",""],[3,"value"],["viewBox","0 0 16 16","fill","currentColor","aria-hidden","true",1,"pointer-events-none","absolute","right-2","top-1/2","-translate-y-1/2","size-5","text-gray-500","sm:size-4"],["fill-rule","evenodd","d","M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z","clip-rule","evenodd"],[1,"text-red-500","text-xs","mt-1","ml-2.5"]],template:function(t,r){t&1&&(g(0,"div")(1,"label",0),x(2),ke(3,g7,2,0,"span",1),k(),g(4,"div",2)(5,"select",3),Fe("change",function(o){return r.onSelect(o)})("blur",function(){return r.onBlur()}),g(6,"option",4),x(7),k(),$e(8,m7,2,2,"option",5,y7),k(),Ec(),g(10,"svg",6),S(11,"path",7),k()(),ke(12,k7,2,1,"div",8),k()),t&2&&(M(),_("for",r.label),M(),Me(" ",r.label," "),M(),ve(r.isRequired()?3:-1),M(2),_("id",r.label)("value",r.value)("disabled",r.isDisabled),M(2),tt(r.placeholder),M(),Ge(r.options),M(4),ve(r.errorMessage?12:-1))},encapsulation:2})};var fu=class e{label="";disabled=!1;value=!1;onChange=n=>{};onTouched=()=>{};writeValue(n){this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}onInputChange(n){let t=n.target;this.value=t.checked,this.onChange(this.value),this.onTouched()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-checkbox"]],inputs:{label:"label",disabled:"disabled"},features:[nt([{provide:Mn,useExisting:Le(()=>e),multi:!0}])],decls:4,vars:5,consts:[[1,"flex","items-center","gap-3"],["type","checkbox",1,"w-4","h-4","rounded","border","border-gray-300","text-indigo-600","focus:ring-2","focus:ring-indigo-500","focus:ring-offset-0","cursor-pointer","transition","duration-150","ease-in-out",3,"change","blur","checked","disabled"],[1,"text-gray-900","font-normal","text-base","cursor-pointer","select-none"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"input",1),Fe("change",function(o){return r.onInputChange(o)})("blur",function(){return r.onTouched()}),k(),g(2,"label",2),x(3),k()()),t&2&&(M(),_("checked",r.value)("disabled",r.disabled),er("id",r.label),M(),er("for",r.label),M(),Me(" ",r.label," "))},encapsulation:2})};var yu=class e{label="";placeholder="";isDisabled=!1;value="";onChange=()=>{};onTouched=()=>{};writeValue(n){this.value=n}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.isDisabled=n}onInput(n){let t=n.target.value;this.value=t,this.onChange(t)}onBlur(){this.onTouched()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-text-area"]],inputs:{label:"label",placeholder:"placeholder",isDisabled:"isDisabled"},features:[nt([{provide:Mn,useExisting:Le(()=>e),multi:!0}])],decls:5,vars:4,consts:[[1,""],["for","field",1,"block","text-sm/6","font-medium","text-gray-900"],["id","field","autocomplete","off","rows","4",1,"block","w-full","rounded-md","bg-white","px-3","py-1.5","text-base","text-gray-900","outline-1","-outline-offset-1","outline-gray-300","placeholder:text-gray-400","focus:outline-2","focus:-outline-offset-2","focus:outline-gray-400","sm:text-sm/6",3,"input","blur","value","placeholder","disabled"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"label",1),x(2),k(),g(3,"div",0)(4,"textarea",2),Fe("input",function(o){return r.onInput(o)})("blur",function(){return r.onBlur()}),k()()()),t&2&&(M(2),tt(r.label),M(2),_("value",r.value)("placeholder",r.placeholder)("disabled",r.isDisabled))},encapsulation:2})};var v7=()=>[1,2,3,4,5],M7=()=>[1,2,3];function w7(e,n){e&1&&(g(0,"div",8),S(1,"div",9)(2,"div",9),k())}function C7(e,n){e&1&&(g(0,"div",5),S(1,"div",6),$e(2,w7,3,0,"div",8,Zt),k()),e&2&&(M(2),Ge(cn(0,M7)))}var gu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-edit-property-skeleton"]],decls:10,vars:1,consts:[[1,"p-2","md:px-48","py-4","md:py-8","animate-pulse","space-y-8"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],[1,"w-10","h-10","rounded-full","bg-gray-300"],[1,"h-8","w-48","bg-gray-300","rounded"],[1,"flex","flex-wrap","gap-4","mb-16"],[1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","space-y-4"],[1,"h-6","w-56","bg-gray-300","rounded"],[1,"h-24","w-full","bg-gray-200","rounded"],[1,"flex","gap-4"],[1,"h-5","w-32","bg-gray-200","rounded"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1),S(2,"div",2)(3,"div",3),k(),g(4,"div",4),$e(5,C7,4,1,"div",5,Zt),g(7,"div",5),S(8,"div",6)(9,"div",7),k()()()),t&2&&(M(5),Ge(cn(0,v7)))},encapsulation:2})};var mu=class e{create(n){return $(Ot.from("property").insert(kn(n)).select().single()).pipe(R(t=>{if(t.error)throw t.error;return t.data}))}update(n){return $(Ot.from("property").update(kn(n)).eq("id",n.id).select().single()).pipe(R(t=>{if(t.error)throw t.error;return t.data}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})};var ku=class e{create(n){return $(Ot.from("address").insert(kn(n)).select().single()).pipe(R(t=>{if(t.error)throw t.error;return t.data}))}update(n){return $(Ot.from("address").insert(kn(n)).select().single()).pipe(R(t=>{if(t.error)throw t.error;return t.data}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=L({token:e,factory:e.\u0275fac,providedIn:"root"})};var x7=(e,n)=>({"bg-gray-300 text-gray-500":e,"bg-red-600 text-white":n}),S7=(e,n)=>n.key;function D7(e,n){e&1&&S(0,"app-edit-property-skeleton")}function _7(e,n){if(e&1&&(g(0,"div"),S(1,"app-checkbox",47),k()),e&2){let t=n.$implicit;M(),_("formControlName",t.key)("label",t.label)}}function L7(e,n){if(e&1){let t=fp();g(0,"div",0)(1,"div",1)(2,"a",2),S(3,"lucide-icon",3),k(),g(4,"div",4),x(5,"\xC9diter le bien"),k()(),g(6,"div",5)(7,"div",6)(8,"h3",7),S(9,"lucide-icon",8),x(10," Informations g\xE9n\xE9rales "),k(),g(11,"div"),S(12,"app-text-input",9),k(),g(13,"div",10),S(14,"app-dropdown",11),k(),g(15,"div")(16,"div",12),S(17,"app-text-input",13)(18,"app-text-input",14),k(),g(19,"div",15),S(20,"app-text-input",16)(21,"app-text-input",17),k()()(),g(22,"div",18)(23,"h3",7),S(24,"lucide-icon",8),x(25," Adresse "),k(),g(26,"div"),S(27,"app-text-input",19),k(),g(28,"div"),S(29,"app-text-input",20),k(),g(30,"div",15),S(31,"app-text-input",21)(32,"app-text-input",22),k(),g(33,"div",15),S(34,"app-text-input",23)(35,"app-text-input",24),k(),g(36,"div",25),S(37,"app-dropdown",26),k()(),g(38,"div",27)(39,"h3",7),S(40,"lucide-icon",8),x(41," Surfaces "),k(),g(42,"div",15),S(43,"app-text-input",28)(44,"app-text-input",29),k(),g(45,"div",15),S(46,"app-text-input",30)(47,"app-text-input",31),k(),g(48,"div",15),S(49,"app-text-input",32)(50,"app-text-input",33),k()(),g(51,"div",34)(52,"h3",7),S(53,"lucide-icon",8),x(54," Performance En\xE9rgetique "),k(),g(55,"div",15),S(56,"app-text-input",35)(57,"app-text-input",36),k(),g(58,"div",37),S(59,"app-dropdown",38)(60,"app-dropdown",39),k(),g(61,"div",25),S(62,"app-dropdown",40),k()(),g(63,"div",41)(64,"h3",7),S(65,"lucide-icon",8),x(66," \xC9quipements "),k(),g(67,"div",42),$e(68,_7,2,2,"div",null,S7),k()(),g(70,"div",43)(71,"h3",7),S(72,"lucide-icon",8),x(73," Plus d'informations "),k(),g(74,"div",25),S(75,"app-text-area",44),k()()(),g(76,"div",45)(77,"button",46),Fe("click",function(){xc(t);let i=je();return Sc(i.save())}),x(78," Sauvegarder "),k()()()}if(e&2){let t=je();_("formGroup",t.propertyForm),M(2),_("routerLink",t.leaseId?"/lease/"+t.leaseId:"/home"),M(),_("img",t.ArrowLeftIcon),M(6),_("img",t.TagIcon),M(3),_("label","Nom du bien")("placeholder","Exemple: Studio Lausanne"),M(2),_("label","Type du bien")("options",t.propertyTypes),M(3),_("label","Nombre de pi\xE8ces")("placeholder","Exemple: 4"),M(),_("label","Chambres")("placeholder","Exemple: 2"),M(2),_("label","Salles de bain")("placeholder","Exemple: 1"),M(),_("label","Toilettes")("placeholder","Exemple: 1"),M(3),_("img",t.MapPinIcon),M(3),_("label","Adresse")("placeholder","Exemple: 2 rue du vieux moulin"),M(2),_("label","Compl\xE9ment")("placeholder","Exemple: R\xE9sidence Les Lilas"),M(2),_("label","Batiment")("placeholder","Exemple: A"),M(),_("label","Etage")("placeholder","Exemple: 108"),M(2),_("label","Code postal")("placeholder","Exemple: 1005"),M(),_("label","Ville")("placeholder","Exemple: Lausanne"),M(2),_("label","Canton")("options",t.cantons),M(3),_("img",t.RulerIcon),M(3),_("label","Surface hab. (m\xB2)")("placeholder","Exemple: 85"),M(),_("label","Surface totale (m\xB2)")("placeholder","Exemple: 100"),M(2),_("label","Surface du terrain (m\xB2)")("placeholder","Exemple: 300"),M(),_("label","Balcon (m\xB2)")("placeholder","Exemple: 5"),M(2),_("label","Terrasse (m\xB2)")("placeholder","Exemple: 12"),M(),_("label","Jardin (m\xB2)")("placeholder","Exemple: 150"),M(3),_("img",t.FlameIcon),M(3),_("label","Ann\xE9e de construction")("placeholder","Exemple: 2005"),M(),_("label","Ann\xE9e de r\xE9novation")("placeholder","Exemple: 2020"),M(2),_("label","Chauffage")("options",t.heatingOptions),M(),_("label","Ditribution")("options",t.heatingDistributions),M(2),_("label","\xC9tiquette \xE9nerg\xE9tique (DPE)")("options",t.energyLabels),M(3),_("img",t.SettingsIcon),M(3),Ge(t.featuresOptions),M(4),_("img",t.InfoIcon),M(3),_("label","Description")("placeholder","Exemple: Charmant studio lumineux avec vue sur le lac..."),M(2),_("disabled",!t.propertyForm.valid)("ngClass",mp(61,x7,!t.propertyForm.valid,t.propertyForm.valid))}}var Cs=class e{constructor(n,t,r,i,o,a){this.fb=n;this.route=t;this.router=r;this.leaseRepository=i;this.propertyRepository=o;this.addressRepository=a;this.initForm()}propertyForm;property=void 0;heatingOptions=[{key:"GAS",label:"Gaz"},{key:"FUEL",label:"Fioul"},{key:"ELECTRIC",label:"\xC9lectrique"},{key:"HEAT_PUMP",label:"Pompe \xE0 chaleur"},{key:"WOOD",label:"Bois"},{key:"DISTRICT",label:"R\xE9seau urbain"},{key:"SOLAR",label:"Solaire"}];heatingDistributions=[{key:"RADIATORS",label:"Radiateurs"},{key:"UNDERFLOOR",label:"Plancher chauffant"},{key:"AIR_BLOWER",label:"Soufflage d\u2019air chaud"},{key:"WALL_HEATING",label:"Chauffage mural"},{key:"CEILING",label:"Plafond chauffant"},{key:"STOVES",label:"Po\xEAles"},{key:"INDIVIDUAL_UNITS",label:"Unit\xE9s individuelles"},{key:"OTHER",label:"Autre"}];propertyTypes=[{key:"STUDIO",label:"Studio"},{key:"APARTMENT",label:"Appartement"},{key:"HOUSE",label:"Maison"},{key:"DUPLEX",label:"Duplex"},{key:"VILLA",label:"Villa"},{key:"ROOM",label:"Chambre"},{key:"COMMERCIAL",label:"Local commercial"},{key:"LAND",label:"Terrain"},{key:"OTHER",label:"Autre"}];energyLabels=[{key:"A",label:"A - Tr\xE8s performant"},{key:"B",label:"B - Performant"},{key:"C",label:"C - Correct"},{key:"D",label:"D - Passable"},{key:"E",label:"E - Faible"},{key:"F",label:"F - Tr\xE8s faible"},{key:"G",label:"G - Extr\xEAmement faible"}];featuresOptions=[{key:"elevator",label:"Ascenseur"},{key:"balcony",label:"Balcon"},{key:"terrace",label:"Terrasse"},{key:"garden",label:"Jardin"},{key:"cellar",label:"Cave"},{key:"garage",label:"Garage"},{key:"parking",label:"Place de parking"},{key:"attic",label:"Grenier"},{key:"accessible",label:"Accessible PMR"},{key:"intercom",label:"Interphone"},{key:"swimmingPool",label:"Piscine"},{key:"fireplace",label:"Chemin\xE9e"}];cantons=[{key:"AG",label:"Argovie"},{key:"AI",label:"Appenzell Rhodes-Int\xE9rieures"},{key:"AR",label:"Appenzell Rhodes-Ext\xE9rieures"},{key:"BE",label:"Berne"},{key:"BL",label:"B\xE2le-Campagne"},{key:"BS",label:"B\xE2le-Ville"},{key:"FR",label:"Fribourg"},{key:"GE",label:"Gen\xE8ve"},{key:"GL",label:"Glaris"},{key:"GR",label:"Grisons"},{key:"JU",label:"Jura"},{key:"LU",label:"Lucerne"},{key:"NE",label:"Neuch\xE2tel"},{key:"NW",label:"Nidwald"},{key:"OW",label:"Obwald"},{key:"SG",label:"Saint-Gall"},{key:"SH",label:"Schaffhouse"},{key:"SO",label:"Soleure"},{key:"SZ",label:"Schwyz"},{key:"TG",label:"Thurgovie"},{key:"TI",label:"Tessin"},{key:"UR",label:"Uri"},{key:"VD",label:"Vaud"},{key:"VS",label:"Valais"},{key:"ZG",label:"Zoug"},{key:"ZH",label:"Zurich"}];leaseId=null;loading=!0;ArrowLeftIcon=id;MapPinIcon=to;RulerIcon=ad;TagIcon=Vk;SettingsIcon=jk;FlameIcon=od;InfoIcon=Nk;ngOnInit(){this.leaseId=this.route.snapshot.paramMap.get("id"),this.leaseId?Ct([this.leaseRepository.findById(this.leaseId),Sn(500)]).pipe(ge(1)).subscribe(([n])=>{this.property=n.property,this.loading=!1,this.initForm()}):this.loading=!1}save(){this.leaseId?this.update():this.create()}initForm(){this.propertyForm=this.fb.group({general:this.fb.group({name:[this.property?.name??"",Nt.required],type:[this.property?.type??"",Nt.required],rooms:[this.property?.rooms??"",Nt.required],bedrooms:[this.property?.bedrooms??""],bathrooms:[this.property?.bathrooms??""],toilets:[this.property?.toilets??""]}),address:this.fb.group({street:[this.property?.address?.street??"",Nt.required],additional:[this.property?.address?.additional??""],building:[this.property?.address?.building??""],floor:[this.property?.address?.floor??""],zipCode:[this.property?.address?.zipCode??"",Nt.required],city:[this.property?.address?.city??"",Nt.required],state:[this.property?.address?.state??"",Nt.required],country:[this.property?.address?.country??"CH"]}),surface:this.fb.group({livingArea:[this.property?.livingArea??"",Nt.required],totalArea:[this.property?.totalArea??""],landArea:[this.property?.landArea??""],balconyArea:[this.property?.balconyArea??""],terraceArea:[this.property?.terraceArea??""],gardenArea:[this.property?.gardenArea??""]}),energy:this.fb.group({yearOfConstruction:[this.property?.yearOfConstruction??""],yearOfRenovation:[this.property?.yearOfRenovation??""],heatingType:[this.property?.heatingType??"",Nt.required],heatingDistribution:[this.property?.heatingDistribution??""],energyLabel:[this.property?.energyLabel??""]}),features:this.fb.group({elevator:[this.property?.features?.elevator??!1],balcony:[this.property?.features?.balcony??!1],terrace:[this.property?.features?.terrace??!1],garden:[this.property?.features?.garden??!1],cellar:[this.property?.features?.cellar??!1],garage:[this.property?.features?.garage??!1],parking:[this.property?.features?.parking??!1],attic:[this.property?.features?.attic??!1],accessible:[this.property?.features?.accessible??!1],intercom:[this.property?.features?.intercom??!1],swimmingPool:[this.property?.features?.swimmingPool??!1],fireplace:[this.property?.features?.fireplace??!1]}),additionalInformation:this.fb.group({description:[this.property?.description??""]})})}create(){this.addressRepository.create(this.buildAddressFromForm()).subscribe(n=>{let t=this.buildPropertyFromForm();t.addressId=n.id,this.propertyRepository.create(t).subscribe(r=>{this.leaseRepository.create({id:this.leaseId??crypto.randomUUID(),propertyId:r.id}).subscribe(i=>{this.router.navigate(["/lease",i.id]).then()})})})}update(){this.addressRepository.update(this.buildAddressFromForm()).subscribe(n=>{let t=this.buildPropertyFromForm();t.addressId=n.id,t.id=this.property?.id??"",this.propertyRepository.update(t).subscribe(r=>{this.router.navigate(["/lease",this.leaseId]).then()})})}buildAddressFromForm(){return{street:this.propertyForm.get("address.street")?.value,additional:this.propertyForm.get("address.additional")?.value,building:this.propertyForm.get("address.building")?.value,floor:this.propertyForm.get("address.floor")?.value,zipCode:this.propertyForm.get("address.zipCode")?.value,city:this.propertyForm.get("address.city")?.value,state:this.propertyForm.get("address.state")?.value,country:"CH"}}buildPropertyFromForm(){let n=this.propertyForm.get("general")?.value,t=this.propertyForm.get("surface")?.value,r=this.propertyForm.get("energy")?.value,i=this.propertyForm.get("features")?.value,o=this.propertyForm.get("additionalInformation")?.value;return{name:n.name,type:n.type,rooms:n.rooms,bedrooms:n.bedrooms,bathrooms:n.bathrooms,toilets:n.toilets,livingArea:t.livingArea,totalArea:t.totalArea,landArea:t.landArea,balconyArea:t.balconyArea,terraceArea:t.terraceArea,gardenArea:t.gardenArea,yearOfConstruction:r.yearOfConstruction,yearOfRenovation:r.yearOfRenovation,energyLabel:r.energyLabel,heatingType:r.heatingType,heatingDistribution:r.heatingDistribution,features:i,description:o.description}}static \u0275fac=function(t){return new(t||e)(A(Z4),A(wt),A(Fn),A(lr),A(mu),A(ku))};static \u0275cmp=J({type:e,selectors:[["app-edit-property"]],decls:2,vars:1,consts:[[1,"p-2","md:px-48","py-4","md:py-8",3,"formGroup"],[1,"flex","items-center","gap-4","mb-4","md:mb-8"],[1,"w-10","h-10","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","rounded-full","shadow-md","hover:bg-opacity-40","transition",3,"routerLink"],[1,"w-5","h-5","text-red-500",3,"img"],[1,"text-3xl","font-bold","text-gray-800"],[1,"flex","flex-wrap","gap-4","mb-16"],["formGroupName","general",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],[1,"text-xl","font-bold","flex","items-center","gap-2"],[1,"w-5","h-5",3,"img"],["formControlName","name",3,"label","placeholder"],[1,"mt-2"],["formControlName","type",3,"label","options"],[1,"flex","gap-4","mt-4"],["type","number","formControlName","rooms",3,"label","placeholder"],["type","number","formControlName","bedrooms",3,"label","placeholder"],[1,"flex","gap-4"],["type","number","formControlName","bathrooms",3,"label","placeholder"],["type","number","formControlName","toilets",3,"label","placeholder"],["formGroupName","address",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["formControlName","street",3,"label","placeholder"],["formControlName","additional",3,"label","placeholder"],["formControlName","building",3,"label","placeholder"],["formControlName","floor",3,"label","placeholder"],["formControlName","zipCode",3,"label","placeholder"],["formControlName","city",3,"label","placeholder"],[1,""],["formControlName","state",3,"label","options"],["formGroupName","surface",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["type","number","formControlName","livingArea",3,"label","placeholder"],["formControlName","totalArea","type","number",3,"label","placeholder"],["formControlName","landArea","type","number",3,"label","placeholder"],["formControlName","balconyArea","type","number",3,"label","placeholder"],["formControlName","terraceArea","type","number",3,"label","placeholder"],["formControlName","gardenArea","type","number",3,"label","placeholder"],["formGroupName","energy",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["formControlName","yearOfConstruction","type","number",3,"label","placeholder"],["formControlName","yearOfRenovation","type","number",3,"label","placeholder"],[1,"grid","grid-cols-2","gap-4"],["formControlName","heatingType",3,"label","options"],["formControlName","heatingDistribution",3,"label","options"],["formControlName","energyLabel",3,"label","options"],["formGroupName","features",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],[1,"grid","grid-cols-2","gap-2"],["formGroupName","additionalInformation",1,"w-90","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","space-y-2"],["formControlName","description",3,"label","placeholder"],[1,"fixed","bottom-4","left-0","w-full","flex","justify-center","px-4"],[1,"text-white","font-semibold","py-3","px-8","rounded-lg","shadow-lg","transition","cursor-pointer",3,"click","disabled","ngClass"],[3,"formControlName","label"]],template:function(t,r){t&1&&ke(0,D7,1,0,"app-edit-property-skeleton")(1,L7,79,64,"div",0),t&2&&ve(r.loading?0:1)},dependencies:[sr,ar,pn,X4,V4,H4,du,d0,uu,K4,hu,pu,fu,yu,fa,gu],encapsulation:2})};var vu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-edit-contractors"]],decls:2,vars:0,template:function(t,r){t&1&&(g(0,"p"),x(1,"edit-contractors works!"),k())},encapsulation:2})};var Mu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-edit-lease-information"]],decls:2,vars:0,template:function(t,r){t&1&&(g(0,"p"),x(1,"edit-lease-information works!"),k())},encapsulation:2})};var Y4=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Fd,canActivate:[dr]},{path:"lease/new",component:Cs,canActivate:[dr]},{path:"lease/:id",component:Xd,canActivate:[dr]},{path:"lease/:id/property",component:Cs,canActivate:[dr]},{path:"lease/:id/contractors",component:vu,canActivate:[dr]},{path:"lease/:id/information",component:Mu,canActivate:[dr]}];var J4={providers:[Q1(),Cp({eventCoalescing:!0}),h2(Y4),g4({domain:"bailo.eu.auth0.com",clientId:"pArbEhROiWpOaHFCprb8hm8FJrszoJyX",authorizationParams:{redirect_uri:window.location.origin}})]};var wu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-header"]],decls:9,vars:0,consts:[[1,"header","flex","flex-row","h-16","md:h-24","justify-between","items-center","px-8","bg-white","bg-opacity-30","backdrop-blur-md","p-6","shadow-lg","text-gray-900"],[1,"text-4xl","font-bold","flex","items-center","gap-1"],["src","suisse.png",1,"h-6"],[1,"flex","flex-row","items-center","gap-4"],[1,"h-12","w-12","bg-red-600","rounded-full","flex","justify-center","items-center","text-xl","text-white","font-semibold"],[1,"font-semibold","hidden","md:block"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1),S(2,"img",2),x(3,"Bailo"),k(),g(4,"div",3)(5,"div",4),x(6,"KZ"),k(),g(7,"div",5),x(8,"Koussila ZEKRI"),k()()())},encapsulation:2})};var Cu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=J({type:e,selectors:[["app-auth-loading"]],decls:8,vars:0,consts:[[1,"fixed","inset-0","flex","items-center","justify-center","bg-white","bg-opacity-30","backdrop-blur-md","z-50"],[1,"text-center","space-y-4","animate-fade-in"],[1,"flex","items-center","justify-center","gap-2","text-4xl","font-bold","text-gray-800"],["src","suisse.png","alt","Logo B",1,"h-8"],[1,"text-gray-800","text-sm","font-medium","tracking-wide"]],template:function(t,r){t&1&&(g(0,"div",0)(1,"div",1)(2,"div",2),S(3,"img",3),g(4,"span"),x(5,"Bailo"),k()(),g(6,"p",4),x(7,"Connexion s\xE9curis\xE9e..."),k()()())},styles:["@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}.animate-fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .4s ease-out}"]})};function E7(e,n){e&1&&S(0,"app-auth-loading")}function A7(e,n){e&1&&(g(0,"div",1,0),S(2,"app-header")(3,"router-outlet"),k())}var bu=class e{constructor(n){this.auth=n;Ct([this.auth.isLoading$,Sn(2e3)]).pipe(ge(1)).subscribe(()=>{this.isLoading=!1})}isLoading=!0;static \u0275fac=function(t){return new(t||e)(A(ms))};static \u0275cmp=J({type:e,selectors:[["app-root"]],decls:2,vars:1,consts:[["content",""],[1,"min-h-screen","bg-gray-100"]],template:function(t,r){t&1&&ke(0,E7,1,0,"app-auth-loading")(1,A7,4,0,"div",1),t&2&&ve(r.isLoading?0:1)},dependencies:[ja,wu,Cu],encapsulation:2})};Bp(bu,J4).catch(e=>console.error(e));
