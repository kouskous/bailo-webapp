import{a as w,b as $,c as Rt,d as hm,e as pm,f,h as wh,i as Ih,l as fm,m as Ch}from"./chunk-PZ5UXJ7I.js";var qu=Rt(Hu=>{"use strict";Object.defineProperty(Hu,"__esModule",{value:!0});var ju=class extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}};Hu.default=ju});var zu=Rt(Po=>{"use strict";var Ry=Po&&Po.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Po,"__esModule",{value:!0});var D8=Ry((Ch(),pm(fm))),L8=Ry(qu()),Vu=class{constructor(n){this.shouldThrowOnError=!1,this.method=n.method,this.url=n.url,this.headers=n.headers,this.schema=n.schema,this.body=n.body,this.shouldThrowOnError=n.shouldThrowOnError,this.signal=n.signal,this.isMaybeSingle=n.isMaybeSingle,n.fetch?this.fetch=n.fetch:typeof fetch>"u"?this.fetch=D8.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(n,t){return this.headers=Object.assign({},this.headers),this.headers[n]=t,this}then(n,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let r=this.fetch,a=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(o=>f(this,null,function*(){var i,s,c;let d=null,l=null,u=null,p=o.status,h=o.statusText;if(o.ok){if(this.method!=="HEAD"){let v=yield o.text();v===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?l=v:l=JSON.parse(v))}let g=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),m=(s=o.headers.get("content-range"))===null||s===void 0?void 0:s.split("/");g&&m&&m.length>1&&(u=parseInt(m[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(l)&&(l.length>1?(d={code:"PGRST116",details:`Results contain ${l.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},l=null,u=null,p=406,h="Not Acceptable"):l.length===1?l=l[0]:l=null)}else{let g=yield o.text();try{d=JSON.parse(g),Array.isArray(d)&&o.status===404&&(l=[],d=null,p=200,h="OK")}catch{o.status===404&&g===""?(p=204,h="No Content"):d={message:g}}if(d&&this.isMaybeSingle&&(!((c=d?.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,p=200,h="OK"),d&&this.shouldThrowOnError)throw new L8.default(d)}return{error:d,data:l,count:u,status:p,statusText:h}}));return this.shouldThrowOnError||(a=a.catch(o=>{var i,s,c;return{error:{message:`${(i=o?.name)!==null&&i!==void 0?i:"FetchError"}: ${o?.message}`,details:`${(s=o?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=o?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),a.then(n,t)}returns(){return this}overrideTypes(){return this}};Po.default=Vu});var Uu=Rt(Oo=>{"use strict";var E8=Oo&&Oo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Oo,"__esModule",{value:!0});var _8=E8(zu()),Bu=class extends _8.default{select(n){let t=!1,r=(n??"*").split("").map(a=>/\s/.test(a)&&!t?"":(a==='"'&&(t=!t),a)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(n,{ascending:t=!0,nullsFirst:r,foreignTable:a,referencedTable:o=a}={}){let i=o?`${o}.order`:"order",s=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${s?`${s},`:""}${n}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(n,{foreignTable:t,referencedTable:r=t}={}){let a=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(a,`${n}`),this}range(n,t,{foreignTable:r,referencedTable:a=r}={}){let o=typeof a>"u"?"offset":`${a}.offset`,i=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${n}`),this.url.searchParams.set(i,`${t-n+1}`),this}abortSignal(n){return this.signal=n,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:n=!1,verbose:t=!1,settings:r=!1,buffers:a=!1,wal:o=!1,format:i="text"}={}){var s;let c=[n?"analyze":null,t?"verbose":null,r?"settings":null,a?"buffers":null,o?"wal":null].filter(Boolean).join("|"),d=(s=this.headers.Accept)!==null&&s!==void 0?s:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`,i==="json"?this:this}rollback(){var n;return((n=this.headers.Prefer)!==null&&n!==void 0?n:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Oo.default=Bu});var Sc=Rt(No=>{"use strict";var A8=No&&No.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(No,"__esModule",{value:!0});var T8=A8(Uu()),$u=class extends T8.default{eq(n,t){return this.url.searchParams.append(n,`eq.${t}`),this}neq(n,t){return this.url.searchParams.append(n,`neq.${t}`),this}gt(n,t){return this.url.searchParams.append(n,`gt.${t}`),this}gte(n,t){return this.url.searchParams.append(n,`gte.${t}`),this}lt(n,t){return this.url.searchParams.append(n,`lt.${t}`),this}lte(n,t){return this.url.searchParams.append(n,`lte.${t}`),this}like(n,t){return this.url.searchParams.append(n,`like.${t}`),this}likeAllOf(n,t){return this.url.searchParams.append(n,`like(all).{${t.join(",")}}`),this}likeAnyOf(n,t){return this.url.searchParams.append(n,`like(any).{${t.join(",")}}`),this}ilike(n,t){return this.url.searchParams.append(n,`ilike.${t}`),this}ilikeAllOf(n,t){return this.url.searchParams.append(n,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(n,t){return this.url.searchParams.append(n,`ilike(any).{${t.join(",")}}`),this}is(n,t){return this.url.searchParams.append(n,`is.${t}`),this}in(n,t){let r=Array.from(new Set(t)).map(a=>typeof a=="string"&&new RegExp("[,()]").test(a)?`"${a}"`:`${a}`).join(",");return this.url.searchParams.append(n,`in.(${r})`),this}contains(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cs.{${t.join(",")}}`):this.url.searchParams.append(n,`cs.${JSON.stringify(t)}`),this}containedBy(n,t){return typeof t=="string"?this.url.searchParams.append(n,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(n,`cd.{${t.join(",")}}`):this.url.searchParams.append(n,`cd.${JSON.stringify(t)}`),this}rangeGt(n,t){return this.url.searchParams.append(n,`sr.${t}`),this}rangeGte(n,t){return this.url.searchParams.append(n,`nxl.${t}`),this}rangeLt(n,t){return this.url.searchParams.append(n,`sl.${t}`),this}rangeLte(n,t){return this.url.searchParams.append(n,`nxr.${t}`),this}rangeAdjacent(n,t){return this.url.searchParams.append(n,`adj.${t}`),this}overlaps(n,t){return typeof t=="string"?this.url.searchParams.append(n,`ov.${t}`):this.url.searchParams.append(n,`ov.{${t.join(",")}}`),this}textSearch(n,t,{config:r,type:a}={}){let o="";a==="plain"?o="pl":a==="phrase"?o="ph":a==="websearch"&&(o="w");let i=r===void 0?"":`(${r})`;return this.url.searchParams.append(n,`${o}fts${i}.${t}`),this}match(n){return Object.entries(n).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(n,t,r){return this.url.searchParams.append(n,`not.${t}.${r}`),this}or(n,{foreignTable:t,referencedTable:r=t}={}){let a=r?`${r}.or`:"or";return this.url.searchParams.append(a,`(${n})`),this}filter(n,t,r){return this.url.searchParams.append(n,`${t}.${r}`),this}};No.default=$u});var Wu=Rt(jo=>{"use strict";var R8=jo&&jo.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(jo,"__esModule",{value:!0});var Fo=R8(Sc()),Gu=class{constructor(n,{headers:t={},schema:r,fetch:a}){this.url=n,this.headers=t,this.schema=r,this.fetch=a}select(n,{head:t=!1,count:r}={}){let a=t?"HEAD":"GET",o=!1,i=(n??"*").split("").map(s=>/\s/.test(s)&&!o?"":(s==='"'&&(o=!o),s)).join("");return this.url.searchParams.set("select",i),r&&(this.headers.Prefer=`count=${r}`),new Fo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(n,{count:t,defaultToNull:r=!0}={}){let a="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),r||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(n)){let i=n.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(i.length>0){let s=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new Fo.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}upsert(n,{onConflict:t,ignoreDuplicates:r=!1,count:a,defaultToNull:o=!0}={}){let i="POST",s=[`resolution=${r?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&s.push(this.headers.Prefer),a&&s.push(`count=${a}`),o||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(n)){let c=n.reduce((d,l)=>d.concat(Object.keys(l)),[]);if(c.length>0){let d=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",d.join(","))}}return new Fo.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}update(n,{count:t}={}){let r="PATCH",a=[];return this.headers.Prefer&&a.push(this.headers.Prefer),t&&a.push(`count=${t}`),this.headers.Prefer=a.join(","),new Fo.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:n,fetch:this.fetch,allowEmpty:!1})}delete({count:n}={}){let t="DELETE",r=[];return n&&r.push(`count=${n}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new Fo.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jo.default=Gu});var Py=Rt(Dc=>{"use strict";Object.defineProperty(Dc,"__esModule",{value:!0});Dc.version=void 0;Dc.version="0.0.0-automated"});var Oy=Rt(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});Lc.DEFAULT_HEADERS=void 0;var P8=Py();Lc.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${P8.version}`}});var Fy=Rt(Ho=>{"use strict";var Ny=Ho&&Ho.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ho,"__esModule",{value:!0});var O8=Ny(Wu()),N8=Ny(Sc()),F8=Oy(),Zu=class e{constructor(n,{headers:t={},schema:r,fetch:a}={}){this.url=n,this.headers=Object.assign(Object.assign({},F8.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=a}from(n){let t=new URL(`${this.url}/${n}`);return new O8.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new e(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,t={},{head:r=!1,get:a=!1,count:o}={}){let i,s=new URL(`${this.url}/rpc/${n}`),c;r||a?(i=r?"HEAD":"GET",Object.entries(t).filter(([l,u])=>u!==void 0).map(([l,u])=>[l,Array.isArray(u)?`{${u.join(",")}}`:`${u}`]).forEach(([l,u])=>{s.searchParams.append(l,u)})):(i="POST",c=t);let d=Object.assign({},this.headers);return o&&(d.Prefer=`count=${o}`),new N8.default({method:i,url:s,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Ho.default=Zu});var Uy=Rt(Ie=>{"use strict";var Zr=Ie&&Ie.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.PostgrestError=Ie.PostgrestBuilder=Ie.PostgrestTransformBuilder=Ie.PostgrestFilterBuilder=Ie.PostgrestQueryBuilder=Ie.PostgrestClient=void 0;var jy=Zr(Fy());Ie.PostgrestClient=jy.default;var Hy=Zr(Wu());Ie.PostgrestQueryBuilder=Hy.default;var qy=Zr(Sc());Ie.PostgrestFilterBuilder=qy.default;var Vy=Zr(Uu());Ie.PostgrestTransformBuilder=Vy.default;var zy=Zr(zu());Ie.PostgrestBuilder=zy.default;var By=Zr(qu());Ie.PostgrestError=By.default;Ie.default={PostgrestClient:jy.default,PostgrestQueryBuilder:Hy.default,PostgrestFilterBuilder:qy.default,PostgrestTransformBuilder:Vy.default,PostgrestBuilder:zy.default,PostgrestError:By.default}});var dd;function ld(){return dd}function Pt(e){let n=dd;return dd=e,n}var ym=Symbol("NotFound"),oi=class extends Error{name="\u0275NotFound";constructor(n){super(n)}};function lr(e){return e===ym||e?.name==="\u0275NotFound"}function xh(e,n){return Object.is(e,n)}var de=null,ii=!1,hd=1;var si=Symbol("SIGNAL");function H(e){let n=de;return de=e,n}function pd(){return de}var ci={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function fd(e){if(ii)throw new Error("");if(de===null)return;de.consumerOnSignalRead(e);let n=de.nextProducerIndex++;if(hi(de),n<de.producerNode.length&&de.producerNode[n]!==e&&ia(de)){let t=de.producerNode[n];ui(t,de.producerIndexOfThis[n])}de.producerNode[n]!==e&&(de.producerNode[n]=e,de.producerIndexOfThis[n]=ia(de)?Lh(e,de,n):0),de.producerLastReadVersion[n]=e.version}function bh(){hd++}function Sh(e){if(!(ia(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===hd)){if(!e.producerMustRecompute(e)&&!li(e)){ud(e);return}e.producerRecomputeValue(e),ud(e)}}function yd(e){if(e.liveConsumerNode===void 0)return;let n=ii;ii=!0;try{for(let t of e.liveConsumerNode)t.dirty||gm(t)}finally{ii=n}}function Dh(){return de?.consumerAllowSignalWrites!==!1}function gm(e){e.dirty=!0,yd(e),e.consumerMarkedDirty?.(e)}function ud(e){e.dirty=!1,e.lastCleanEpoch=hd}function di(e){return e&&(e.nextProducerIndex=0),H(e)}function gd(e,n){if(H(n),!(!e||e.producerNode===void 0||e.producerIndexOfThis===void 0||e.producerLastReadVersion===void 0)){if(ia(e))for(let t=e.nextProducerIndex;t<e.producerNode.length;t++)ui(e.producerNode[t],e.producerIndexOfThis[t]);for(;e.producerNode.length>e.nextProducerIndex;)e.producerNode.pop(),e.producerLastReadVersion.pop(),e.producerIndexOfThis.pop()}}function li(e){hi(e);for(let n=0;n<e.producerNode.length;n++){let t=e.producerNode[n],r=e.producerLastReadVersion[n];if(r!==t.version||(Sh(t),r!==t.version))return!0}return!1}function md(e){if(hi(e),ia(e))for(let n=0;n<e.producerNode.length;n++)ui(e.producerNode[n],e.producerIndexOfThis[n]);e.producerNode.length=e.producerLastReadVersion.length=e.producerIndexOfThis.length=0,e.liveConsumerNode&&(e.liveConsumerNode.length=e.liveConsumerIndexOfThis.length=0)}function Lh(e,n,t){if(Eh(e),e.liveConsumerNode.length===0&&_h(e))for(let r=0;r<e.producerNode.length;r++)e.producerIndexOfThis[r]=Lh(e.producerNode[r],e,r);return e.liveConsumerIndexOfThis.push(t),e.liveConsumerNode.push(n)-1}function ui(e,n){if(Eh(e),e.liveConsumerNode.length===1&&_h(e))for(let r=0;r<e.producerNode.length;r++)ui(e.producerNode[r],e.producerIndexOfThis[r]);let t=e.liveConsumerNode.length-1;if(e.liveConsumerNode[n]=e.liveConsumerNode[t],e.liveConsumerIndexOfThis[n]=e.liveConsumerIndexOfThis[t],e.liveConsumerNode.length--,e.liveConsumerIndexOfThis.length--,n<e.liveConsumerNode.length){let r=e.liveConsumerIndexOfThis[n],a=e.liveConsumerNode[n];hi(a),a.producerIndexOfThis[r]=n}}function ia(e){return e.consumerIsAlwaysLive||(e?.liveConsumerNode?.length??0)>0}function hi(e){e.producerNode??=[],e.producerIndexOfThis??=[],e.producerLastReadVersion??=[]}function Eh(e){e.liveConsumerNode??=[],e.liveConsumerIndexOfThis??=[]}function _h(e){return e.producerNode!==void 0}function mm(){throw new Error}var Ah=mm;function km(e){Ah(e)}function kd(e){Ah=e}var vm=null;function vd(e,n){Dh()||km(e),e.equal(e.value,n)||(e.value=n,Mm(e))}var Md=$(w({},ci),{equal:xh,value:void 0,kind:"signal"});function Mm(e){e.version++,bh(),yd(e),vm?.(e)}function A(e){return typeof e=="function"}function ur(e){let t=e(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var pi=ur(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,a)=>`${a+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function sa(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var ie=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(A(r))try{r()}catch(o){n=o instanceof pi?o.errors:[o]}let{_finalizers:a}=this;if(a){this._finalizers=null;for(let o of a)try{Th(o)}catch(i){n=n??[],i instanceof pi?n=[...n,...i.errors]:n.push(i)}}if(n)throw new pi(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Th(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&sa(t,n)}remove(n){let{_finalizers:t}=this;t&&sa(t,n),n instanceof e&&n._removeParent(this)}};ie.EMPTY=(()=>{let e=new ie;return e.closed=!0,e})();var wd=ie.EMPTY;function fi(e){return e instanceof ie||e&&"closed"in e&&A(e.remove)&&A(e.add)&&A(e.unsubscribe)}function Th(e){A(e)?e():e.unsubscribe()}var it={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var hr={setTimeout(e,n,...t){let{delegate:r}=hr;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=hr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function yi(e){hr.setTimeout(()=>{let{onUnhandledError:n}=it;if(n)n(e);else throw e})}function gn(){}var Rh=Id("C",void 0,void 0);function Ph(e){return Id("E",void 0,e)}function Oh(e){return Id("N",e,void 0)}function Id(e,n,t){return{kind:e,value:n,error:t}}var mn=null;function pr(e){if(it.useDeprecatedSynchronousErrorHandling){let n=!mn;if(n&&(mn={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:r}=mn;if(mn=null,t)throw r}}else e()}function Nh(e){it.useDeprecatedSynchronousErrorHandling&&mn&&(mn.errorThrown=!0,mn.error=e)}var kn=class extends ie{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,fi(n)&&n.add(this)):this.destination=Cm}static create(n,t,r){return new Ot(n,t,r)}next(n){this.isStopped?xd(Oh(n),this):this._next(n)}error(n){this.isStopped?xd(Ph(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?xd(Rh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},wm=Function.prototype.bind;function Cd(e,n){return wm.call(e,n)}var bd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){gi(r)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){gi(r)}else gi(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){gi(t)}}},Ot=class extends kn{constructor(n,t,r){super();let a;if(A(n)||!n)a={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&it.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),a={next:n.next&&Cd(n.next,o),error:n.error&&Cd(n.error,o),complete:n.complete&&Cd(n.complete,o)}):a=n}this.destination=new bd(a)}};function gi(e){it.useDeprecatedSynchronousErrorHandling?Nh(e):yi(e)}function Im(e){throw e}function xd(e,n){let{onStoppedNotification:t}=it;t&&hr.setTimeout(()=>t(e,n))}var Cm={closed:!0,next:gn,error:Im,complete:gn};var fr=typeof Symbol=="function"&&Symbol.observable||"@@observable";function ke(e){return e}function Sd(...e){return Dd(e)}function Dd(e){return e.length===0?ke:e.length===1?e[0]:function(t){return e.reduce((r,a)=>a(r),t)}}var V=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,a){let o=bm(t)?t:new Ot(t,r,a);return pr(()=>{let{operator:i,source:s}=this;o.add(i?i.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=Fh(r),new r((a,o)=>{let i=new Ot({next:s=>{try{t(s)}catch(c){o(c),i.unsubscribe()}},error:o,complete:a});this.subscribe(i)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[fr](){return this}pipe(...t){return Dd(t)(this)}toPromise(t){return t=Fh(t),new t((r,a)=>{let o;this.subscribe(i=>o=i,i=>a(i),()=>r(o))})}}return e.create=n=>new e(n),e})();function Fh(e){var n;return(n=e??it.Promise)!==null&&n!==void 0?n:Promise}function xm(e){return e&&A(e.next)&&A(e.error)&&A(e.complete)}function bm(e){return e&&e instanceof kn||xm(e)&&fi(e)}function Ld(e){return A(e?.lift)}function P(e){return n=>{if(Ld(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function F(e,n,t,r,a){return new Ed(e,n,t,r,a)}var Ed=class extends kn{constructor(n,t,r,a,o,i){super(n),this.onFinalize=o,this.shouldUnsubscribe=i,this._next=t?function(s){try{t(s)}catch(c){n.error(c)}}:super._next,this._error=a?function(s){try{a(s)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){n.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function yr(){return P((e,n)=>{let t=null;e._refCount++;let r=F(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let a=e._connection,o=t;t=null,a&&(!o||a===o)&&a.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}var gr=class extends V{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ld(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new ie;let t=this.getSubject();n.add(this.source.subscribe(F(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=ie.EMPTY)}return n}refCount(){return yr()(this)}};var jh=ur(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ee=(()=>{class e extends V{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new mi(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new jh}next(t){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){pr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:a,observers:o}=this;return r||a?wd:(this.currentObservers=null,o.push(t),new ie(()=>{this.currentObservers=null,sa(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:a,isStopped:o}=this;r?t.error(a):o&&t.complete()}asObservable(){let t=new V;return t.source=this,t}}return e.create=(n,t)=>new mi(n,t),e})(),mi=class extends ee{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,n)}error(n){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&r!==void 0?r:wd}};var le=class extends ee{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}};var _d={now(){return(_d.delegate||Date).now()},delegate:void 0};var Nt=class extends ee{constructor(n=1/0,t=1/0,r=_d){super(),this._bufferSize=n,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,n),this._windowTime=Math.max(1,t)}next(n){let{isStopped:t,_buffer:r,_infiniteTimeWindow:a,_timestampProvider:o,_windowTime:i}=this;t||(r.push(n),!a&&r.push(o.now()+i)),this._trimBuffer(),super.next(n)}_subscribe(n){this._throwIfClosed(),this._trimBuffer();let t=this._innerSubscribe(n),{_infiniteTimeWindow:r,_buffer:a}=this,o=a.slice();for(let i=0;i<o.length&&!n.closed;i+=r?1:2)n.next(o[i]);return this._checkFinalizedStatuses(n),t}_trimBuffer(){let{_bufferSize:n,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:a}=this,o=(a?1:2)*n;if(n<1/0&&o<r.length&&r.splice(0,r.length-o),!a){let i=t.now(),s=0;for(let c=1;c<r.length&&r[c]<=i;c+=2)s=c;s&&r.splice(0,s+1)}}};var xe=new V(e=>e.complete());function Hh(e){return e&&A(e.schedule)}function Ad(e){return e[e.length-1]}function ki(e){return A(Ad(e))?e.pop():void 0}function vt(e){return Hh(Ad(e))?e.pop():void 0}function qh(e,n){return typeof Ad(e)=="number"?e.pop():n}function zh(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})}function Vh(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function vn(e){return this instanceof vn?(this.v=e,this):new vn(e)}function Bh(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(e,n||[]),a,o=[];return a=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",i),a[Symbol.asyncIterator]=function(){return this},a;function i(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(a[h]=function(g){return new Promise(function(m,v){o.push([h,g,m,v])>1||c(h,g)})},y&&(a[h]=y(a[h])))}function c(h,y){try{d(r[h](y))}catch(g){p(o[0][3],g)}}function d(h){h.value instanceof vn?Promise.resolve(h.value.v).then(l,u):p(o[0][2],h)}function l(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function Uh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Vh=="function"?Vh(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(i){return new Promise(function(s,c){i=e[o](i),a(s,c,i.done,i.value)})}}function a(o,i,s,c){Promise.resolve(c).then(function(d){o({value:d,done:s})},i)}}var vi=e=>e&&typeof e.length=="number"&&typeof e!="function";function Mi(e){return A(e?.then)}function wi(e){return A(e[fr])}function Ii(e){return Symbol.asyncIterator&&A(e?.[Symbol.asyncIterator])}function Ci(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function Sm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var xi=Sm();function bi(e){return A(e?.[xi])}function Si(e){return Bh(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:r,done:a}=yield vn(t.read());if(a)return yield vn(void 0);yield yield vn(r)}}finally{t.releaseLock()}})}function Di(e){return A(e?.getReader)}function X(e){if(e instanceof V)return e;if(e!=null){if(wi(e))return Dm(e);if(vi(e))return Lm(e);if(Mi(e))return Em(e);if(Ii(e))return $h(e);if(bi(e))return _m(e);if(Di(e))return Am(e)}throw Ci(e)}function Dm(e){return new V(n=>{let t=e[fr]();if(A(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Lm(e){return new V(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function Em(e){return new V(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,yi)})}function _m(e){return new V(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function $h(e){return new V(n=>{Tm(e,n).catch(t=>n.error(t))})}function Am(e){return $h(Si(e))}function Tm(e,n){var t,r,a,o;return zh(this,void 0,void 0,function*(){try{for(t=Uh(e);r=yield t.next(),!r.done;){let i=r.value;if(n.next(i),n.closed)return}}catch(i){a={error:i}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(a)throw a.error}}n.complete()})}function Fe(e,n,t,r=0,a=!1){let o=n.schedule(function(){t(),a?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!a)return o}function Li(e,n=0){return P((t,r)=>{t.subscribe(F(r,a=>Fe(r,e,()=>r.next(a),n),()=>Fe(r,e,()=>r.complete(),n),a=>Fe(r,e,()=>r.error(a),n)))})}function Ei(e,n=0){return P((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function Gh(e,n){return X(e).pipe(Ei(n),Li(n))}function Wh(e,n){return X(e).pipe(Ei(n),Li(n))}function Zh(e,n){return new V(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}function Kh(e,n){return new V(t=>{let r;return Fe(t,n,()=>{r=e[xi](),Fe(t,n,()=>{let a,o;try{({value:a,done:o}=r.next())}catch(i){t.error(i);return}o?t.complete():t.next(a)},0,!0)}),()=>A(r?.return)&&r.return()})}function _i(e,n){if(!e)throw new Error("Iterable cannot be null");return new V(t=>{Fe(t,n,()=>{let r=e[Symbol.asyncIterator]();Fe(t,n,()=>{r.next().then(a=>{a.done?t.complete():t.next(a.value)})},0,!0)})})}function Xh(e,n){return _i(Si(e),n)}function Yh(e,n){if(e!=null){if(wi(e))return Gh(e,n);if(vi(e))return Zh(e,n);if(Mi(e))return Wh(e,n);if(Ii(e))return _i(e,n);if(bi(e))return Kh(e,n);if(Di(e))return Xh(e,n)}throw Ci(e)}function z(e,n){return n?Yh(e,n):X(e)}function D(...e){let n=vt(e);return z(e,n)}function st(e,n){let t=A(e)?e:()=>e,r=a=>a.error(t());return new V(n?a=>n.schedule(r,0,a):r)}function Td(e){return!!e&&(e instanceof V||A(e.lift)&&A(e.subscribe))}var Ft=ur(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function E(e,n){return P((t,r)=>{let a=0;t.subscribe(F(r,o=>{r.next(e.call(n,o,a++))}))})}var{isArray:Rm}=Array;function Pm(e,n){return Rm(n)?e(...n):e(n)}function Jh(e){return E(n=>Pm(e,n))}var{isArray:Om}=Array,{getPrototypeOf:Nm,prototype:Fm,keys:jm}=Object;function Qh(e){if(e.length===1){let n=e[0];if(Om(n))return{args:n,keys:null};if(Hm(n)){let t=jm(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}function Hm(e){return e&&typeof e=="object"&&Nm(e)===Fm}function e2(e,n){return e.reduce((t,r,a)=>(t[r]=n[a],t),{})}function Ai(...e){let n=vt(e),t=ki(e),{args:r,keys:a}=Qh(e);if(r.length===0)return z([],n);let o=new V(qm(r,n,a?i=>e2(a,i):ke));return t?o.pipe(Jh(t)):o}function qm(e,n,t=ke){return r=>{t2(n,()=>{let{length:a}=e,o=new Array(a),i=a,s=a;for(let c=0;c<a;c++)t2(n,()=>{let d=z(e[c],n),l=!1;d.subscribe(F(r,u=>{o[c]=u,l||(l=!0,s--),s||r.next(t(o.slice()))},()=>{--i||r.complete()}))},r)},r)}}function t2(e,n,t){e?Fe(t,e,n):n()}function n2(e,n,t,r,a,o,i,s){let c=[],d=0,l=0,u=!1,p=()=>{u&&!c.length&&!d&&n.complete()},h=g=>d<r?y(g):c.push(g),y=g=>{o&&n.next(g),d++;let m=!1;X(t(g,l++)).subscribe(F(n,v=>{a?.(v),o?h(v):n.next(v)},()=>{m=!0},void 0,()=>{if(m)try{for(d--;c.length&&d<r;){let v=c.shift();i?Fe(n,i,()=>y(v)):y(v)}p()}catch(v){n.error(v)}}))};return e.subscribe(F(n,h,()=>{u=!0,p()})),()=>{s?.()}}function re(e,n,t=1/0){return A(n)?re((r,a)=>E((o,i)=>n(r,o,a,i))(X(e(r,a))),t):(typeof n=="number"&&(t=n),P((r,a)=>n2(r,a,e,t)))}function Ti(e=1/0){return re(ke,e)}function r2(){return Ti(1)}function mr(...e){return r2()(z(e,vt(e)))}function ct(e){return new V(n=>{X(e()).subscribe(n)})}function Ri(e,n,t){return ct(()=>e()?n:t)}function Rd(...e){let n=vt(e),t=qh(e,1/0),r=e;return r.length?r.length===1?X(r[0]):Ti(t)(z(r,n)):xe}function be(e,n){return P((t,r)=>{let a=0;t.subscribe(F(r,o=>e.call(n,o,a++)&&r.next(o)))})}function je(e){return P((n,t)=>{let r=null,a=!1,o;r=n.subscribe(F(t,void 0,void 0,i=>{o=X(e(i,je(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):a=!0})),a&&(r.unsubscribe(),r=null,o.subscribe(t))})}function a2(e,n,t,r,a){return(o,i)=>{let s=t,c=n,d=0;o.subscribe(F(i,l=>{let u=d++;c=s?e(c,l,u):(s=!0,l),r&&i.next(c)},a&&(()=>{s&&i.next(c),i.complete()})))}}function He(e,n){return A(n)?re(e,n,1):re(e,1)}function Jt(e){return P((n,t)=>{let r=!1;n.subscribe(F(t,a=>{r=!0,t.next(a)},()=>{r||t.next(e),t.complete()}))})}function dt(e){return e<=0?()=>xe:P((n,t)=>{let r=0;n.subscribe(F(t,a=>{++r<=e&&(t.next(a),e<=r&&t.complete())}))})}function Pd(e){return E(()=>e)}function ca(e,n=ke){return e=e??Vm,P((t,r)=>{let a,o=!0;t.subscribe(F(r,i=>{let s=n(i);(o||!e(a,s))&&(o=!1,a=s,r.next(i))}))})}function Vm(e,n){return e===n}function Pi(e=zm){return P((n,t)=>{let r=!1;n.subscribe(F(t,a=>{r=!0,t.next(a)},()=>r?t.complete():t.error(e())))})}function zm(){return new Ft}function da(e){return P((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function Je(e,n){let t=arguments.length>=2;return r=>r.pipe(e?be((a,o)=>e(a,o,r)):ke,dt(1),t?Jt(n):Pi(()=>new Ft))}function kr(e){return e<=0?()=>xe:P((n,t)=>{let r=[];n.subscribe(F(t,a=>{r.push(a),e<r.length&&r.shift()},()=>{for(let a of r)t.next(a);t.complete()},void 0,()=>{r=null}))})}function Od(e,n){let t=arguments.length>=2;return r=>r.pipe(e?be((a,o)=>e(a,o,r)):ke,kr(1),t?Jt(n):Pi(()=>new Ft))}function Nd(...e){let n=e.length;if(n===0)throw new Error("list of properties cannot be empty.");return E(t=>{let r=t;for(let a=0;a<n;a++){let o=r?.[e[a]];if(typeof o<"u")r=o;else return}return r})}function la(e,n){return P(a2(e,n,arguments.length>=2,!0))}function o2(e={}){let{connector:n=()=>new ee,resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:a=!0}=e;return o=>{let i,s,c,d=0,l=!1,u=!1,p=()=>{s?.unsubscribe(),s=void 0},h=()=>{p(),i=c=void 0,l=u=!1},y=()=>{let g=i;h(),g?.unsubscribe()};return P((g,m)=>{d++,!u&&!l&&p();let v=c=c??n();m.add(()=>{d--,d===0&&!u&&!l&&(s=Fd(y,a))}),v.subscribe(m),!i&&d>0&&(i=new Ot({next:x=>v.next(x),error:x=>{u=!0,p(),s=Fd(h,t,x),v.error(x)},complete:()=>{l=!0,p(),s=Fd(h,r),v.complete()}}),X(g).subscribe(i))})(o)}}function Fd(e,n,...t){if(n===!0){e();return}if(n===!1)return;let r=new Ot({next:()=>{r.unsubscribe(),e()}});return X(n(...t)).subscribe(r)}function jd(e,n,t){let r,a=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:n=1/0,refCount:a=!1,scheduler:t}=e:r=e??1/0,o2({connector:()=>new Nt(r,n,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:a})}function Hd(...e){let n=vt(e);return P((t,r)=>{(n?mr(e,t,n):mr(e,t)).subscribe(r)})}function Se(e,n){return P((t,r)=>{let a=null,o=0,i=!1,s=()=>i&&!a&&r.complete();t.subscribe(F(r,c=>{a?.unsubscribe();let d=0,l=o++;X(e(c,l)).subscribe(a=F(r,u=>r.next(n?n(c,u,l,d++):u),()=>{a=null,s()}))},()=>{i=!0,s()}))})}function vr(e){return P((n,t)=>{X(e).subscribe(F(t,()=>t.complete(),gn)),!t.closed&&n.subscribe(t)})}function Y(e,n,t){let r=A(e)||n||t?{next:e,error:n,complete:t}:e;return r?P((a,o)=>{var i;(i=r.subscribe)===null||i===void 0||i.call(r);let s=!0;a.subscribe(F(o,c=>{var d;(d=r.next)===null||d===void 0||d.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var d;s=!1,(d=r.error)===null||d===void 0||d.call(r,c),o.error(c)},()=>{var c,d;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):ke}function qd(...e){let n=ki(e);return P((t,r)=>{let a=e.length,o=new Array(a),i=e.map(()=>!1),s=!1;for(let c=0;c<a;c++)X(e[c]).subscribe(F(r,d=>{o[c]=d,!s&&!i[c]&&(i[c]=!0,(s=i.every(ke))&&(i=null))},gn));t.subscribe(F(r,c=>{if(s){let d=[c,...o];r.next(n?n(...d):d)}}))})}var I=class extends Error{code;constructor(n,t){super(qi(n,t)),this.code=n}};function Um(e){return`NG0${Math.abs(e)}`}function qi(e,n){return`${Um(e)}${n?": "+n:""}`}var xn=globalThis;function te(e){for(let n in e)if(e[n]===te)return n;throw Error("")}function Be(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Be).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function Qd(e,n){return e?n?`${e} ${n}`:e:n||""}var $m=te({__forward_ref__:te});function Vi(e){return e.__forward_ref__=Vi,e.toString=function(){return Be(this())},e}function qe(e){return el(e)?e():e}function el(e){return typeof e=="function"&&e.hasOwnProperty($m)&&e.__forward_ref__===Vi}function d2(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(r==null?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}function C(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function tn(e){return{providers:e.providers||[],imports:e.imports||[]}}function fa(e){return Gm(e,zi)}function tl(e){return fa(e)!==null}function Gm(e,n){return e.hasOwnProperty(n)&&e[n]||null}function Wm(e){let n=e?.[zi]??null;return n||null}function zd(e){return e&&e.hasOwnProperty(Ni)?e[Ni]:null}var zi=te({\u0275prov:te}),Ni=te({\u0275inj:te}),b=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=C({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function nl(e){return e&&!!e.\u0275providers}var rl=te({\u0275cmp:te}),al=te({\u0275dir:te}),ol=te({\u0275pipe:te}),il=te({\u0275mod:te}),ha=te({\u0275fac:te}),bn=te({__NG_ELEMENT_ID__:te}),i2=te({__NG_ENV_ID__:te});function ya(e){return typeof e=="string"?e:e==null?"":String(e)}function l2(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():ya(e)}function sl(e,n){throw new I(-200,e)}function Bi(e,n){throw new I(-201,!1)}var Bd;function u2(){return Bd}function _e(e){let n=Bd;return Bd=e,n}function cl(e,n,t){let r=fa(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(n!==void 0)return n;Bi(e,"Injector")}var Zm={},Mn=Zm,Ud="__NG_DI_FLAG__",$d=class{injector;constructor(n){this.injector=n}retrieve(n,t){let r=wn(t)||0;try{return this.injector.get(n,r&8?null:Mn,r)}catch(a){if(lr(a))return a;throw a}}},Fi="ngTempTokenPath",Km="ngTokenPath",Xm=/\n/gm,Ym="\u0275",s2="__source";function Jm(e,n=0){let t=ld();if(t===void 0)throw new I(-203,!1);if(t===null)return cl(e,void 0,n);{let r=Qm(n),a=t.retrieve(e,r);if(lr(a)){if(r.optional)return null;throw a}return a}}function S(e,n=0){return(u2()||Jm)(qe(e),n)}function M(e,n){return S(e,wn(n))}function wn(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Qm(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Gd(e){let n=[];for(let t=0;t<e.length;t++){let r=qe(e[t]);if(Array.isArray(r)){if(r.length===0)throw new I(900,!1);let a,o=0;for(let i=0;i<r.length;i++){let s=r[i],c=ek(s);typeof c=="number"?c===-1?a=s.token:o|=c:a=s}n.push(S(a,o))}else n.push(S(r))}return n}function h2(e,n){return e[Ud]=n,e.prototype[Ud]=n,e}function ek(e){return e[Ud]}function tk(e,n,t,r){let a=e[Fi];throw n[s2]&&a.unshift(n[s2]),e.message=nk(`
`+e.message,a,t,r),e[Km]=a,e[Fi]=null,e}function nk(e,n,t,r=null){e=e&&e.charAt(0)===`
`&&e.charAt(1)==Ym?e.slice(2):e;let a=Be(n);if(Array.isArray(n))a=n.map(Be).join(" -> ");else if(typeof n=="object"){let o=[];for(let i in n)if(n.hasOwnProperty(i)){let s=n[i];o.push(i+":"+(typeof s=="string"?JSON.stringify(s):Be(s)))}a=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${a}]: ${e.replace(Xm,`
  `)}`}function Qt(e,n){let t=e.hasOwnProperty(ha);return t?e[ha]:null}function Ui(e,n){e.forEach(t=>Array.isArray(t)?Ui(t,n):n(t))}function dl(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function ga(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function p2(e,n){let t=[];for(let r=0;r<e;r++)t.push(n);return t}var Sn={},lt=[],Ht=new b(""),ll=new b("",-1),ul=new b(""),pa=class{get(n,t=Mn){if(t===Mn)throw new oi(`NullInjectorError: No provider for ${Be(n)}!`);return t}};function hl(e){return e[il]||null}function nn(e){return e[rl]||null}function pl(e){return e[al]||null}function f2(e){return e[ol]||null}function Dn(e){return{\u0275providers:e}}function y2(e){return Dn([{provide:Ht,multi:!0,useValue:e}])}function g2(...e){return{\u0275providers:fl(!0,e),\u0275fromNgModule:!0}}function fl(e,...n){let t=[],r=new Set,a,o=i=>{t.push(i)};return Ui(n,i=>{let s=i;ji(s,o,[],r)&&(a||=[],a.push(s))}),a!==void 0&&m2(a,o),t}function m2(e,n){for(let t=0;t<e.length;t++){let{ngModule:r,providers:a}=e[t];yl(a,o=>{n(o,r)})}}function ji(e,n,t,r){if(e=qe(e),!e)return!1;let a=null,o=zd(e),i=!o&&nn(e);if(!o&&!i){let c=e.ngModule;if(o=zd(c),o)a=c;else return!1}else{if(i&&!i.standalone)return!1;a=e}let s=r.has(a);if(i){if(s)return!1;if(r.add(a),i.dependencies){let c=typeof i.dependencies=="function"?i.dependencies():i.dependencies;for(let d of c)ji(d,n,t,r)}}else if(o){if(o.imports!=null&&!s){r.add(a);let d;try{Ui(o.imports,l=>{ji(l,n,t,r)&&(d||=[],d.push(l))})}finally{}d!==void 0&&m2(d,n)}if(!s){let d=Qt(a)||(()=>new a);n({provide:a,useFactory:d,deps:lt},a),n({provide:ul,useValue:a,multi:!0},a),n({provide:Ht,useValue:()=>S(a),multi:!0},a)}let c=o.providers;if(c!=null&&!s){let d=e;yl(c,l=>{n(l,d)})}}else return!1;return a!==e&&e.providers!==void 0}function yl(e,n){for(let t of e)nl(t)&&(t=t.\u0275providers),Array.isArray(t)?yl(t,n):n(t)}var rk=te({provide:String,useValue:te});function k2(e){return e!==null&&typeof e=="object"&&rk in e}function ak(e){return!!(e&&e.useExisting)}function ok(e){return!!(e&&e.useFactory)}function Hi(e){return typeof e=="function"}var ma=new b(""),Oi={},c2={},Vd;function ka(){return Vd===void 0&&(Vd=new pa),Vd}var ve=class{},In=class extends ve{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,r,a){super(),this.parent=t,this.source=r,this.scopes=a,Zd(n,i=>this.processProvider(i)),this.records.set(ll,Mr(void 0,this)),a.has("environment")&&this.records.set(ve,Mr(void 0,this));let o=this.records.get(ma);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(ul,lt,{self:!0}))}retrieve(n,t){let r=wn(t)||0;try{return this.get(n,Mn,r)}catch(a){if(lr(a))return a;throw a}}destroy(){ua(this),this._destroyed=!0;let n=H(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),H(n)}}onDestroy(n){return ua(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ua(this);let t=Pt(this),r=_e(void 0),a;try{return n()}finally{Pt(t),_e(r)}}get(n,t=Mn,r){if(ua(this),n.hasOwnProperty(i2))return n[i2](this);let a=wn(r),o,i=Pt(this),s=_e(void 0);try{if(!(a&4)){let d=this.records.get(n);if(d===void 0){let l=lk(n)&&fa(n);l&&this.injectableDefInScope(l)?d=Mr(Wd(n),Oi):d=null,this.records.set(n,d)}if(d!=null)return this.hydrate(n,d)}let c=a&2?ka():this.parent;return t=a&8&&t===Mn?null:t,c.get(n,t)}catch(c){if(lr(c)){if((c[Fi]=c[Fi]||[]).unshift(Be(n)),i)throw c;return tk(c,n,"R3InjectorError",this.source)}else throw c}finally{_e(s),Pt(i)}}resolveInjectorInitializers(){let n=H(null),t=Pt(this),r=_e(void 0),a;try{let o=this.get(Ht,lt,{self:!0});for(let i of o)i()}finally{Pt(t),_e(r),H(n)}}toString(){let n=[],t=this.records;for(let r of t.keys())n.push(Be(r));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=qe(n);let t=Hi(n)?n:qe(n&&n.provide),r=sk(n);if(!Hi(n)&&n.multi===!0){let a=this.records.get(t);a||(a=Mr(void 0,Oi,!0),a.factory=()=>Gd(a.multi),this.records.set(t,a)),t=n,a.multi.push(n)}this.records.set(t,r)}hydrate(n,t){let r=H(null);try{return t.value===c2?sl(Be(n)):t.value===Oi&&(t.value=c2,t.value=t.factory()),typeof t.value=="object"&&t.value&&dk(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{H(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=qe(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Wd(e){let n=fa(e),t=n!==null?n.factory:Qt(e);if(t!==null)return t;if(e instanceof b)throw new I(204,!1);if(e instanceof Function)return ik(e);throw new I(204,!1)}function ik(e){if(e.length>0)throw new I(204,!1);let t=Wm(e);return t!==null?()=>t.factory(e):()=>new e}function sk(e){if(k2(e))return Mr(void 0,e.useValue);{let n=v2(e);return Mr(n,Oi)}}function v2(e,n,t){let r;if(Hi(e)){let a=qe(e);return Qt(a)||Wd(a)}else if(k2(e))r=()=>qe(e.useValue);else if(ok(e))r=()=>e.useFactory(...Gd(e.deps||[]));else if(ak(e))r=()=>S(qe(e.useExisting));else{let a=qe(e&&(e.useClass||e.provide));if(ck(e))r=()=>new a(...Gd(e.deps));else return Qt(a)||Wd(a)}return r}function ua(e){if(e.destroyed)throw new I(205,!1)}function Mr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function ck(e){return!!e.deps}function dk(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function lk(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function Zd(e,n){for(let t of e)Array.isArray(t)?Zd(t,n):t&&nl(t)?Zd(t.\u0275providers,n):n(t)}function Ue(e,n){let t;e instanceof In?(ua(e),t=e):t=new $d(e);let r,a=Pt(t),o=_e(void 0);try{return n()}finally{Pt(a),_e(o)}}function M2(){return u2()!==void 0||ld()!=null}var ut=0,O=1,T=2,pe=3,et=4,Ae=5,Ln=6,$i=7,ue=8,wr=9,qt=10,fe=11,Ir=12,gl=13,En=14,Te=15,_n=16,An=17,Tn=18,va=19,ml=20,jt=21,Gi=22,Ma=23,$e=24,Wi=25,ye=26,w2=1,kl=6,rn=7,wa=8,Ia=9,Me=10;function wt(e){return Array.isArray(e)&&typeof e[w2]=="object"}function ht(e){return Array.isArray(e)&&e[w2]===!0}function vl(e){return(e.flags&4)!==0}function Rn(e){return e.componentOffset>-1}function Ml(e){return(e.flags&1)===1}function Pn(e){return!!e.template}function Cr(e){return(e[T]&512)!==0}function On(e){return(e[T]&256)===256}var I2="svg",C2="math";function pt(e){for(;Array.isArray(e);)e=e[ut];return e}function x2(e,n){return pt(n[e])}function Vt(e,n){return pt(n[e.index])}function Ca(e,n){return e.data[n]}function b2(e,n){return e[n]}function wl(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}function ft(e,n){let t=n[e];return wt(t)?t:t[ut]}function Zi(e){return(e[T]&128)===128}function S2(e){return ht(e[pe])}function an(e,n){return n==null?null:e[n]}function Il(e){e[An]=0}function Cl(e){e[T]&1024||(e[T]|=1024,Zi(e)&&ba(e))}function D2(e,n){for(;e>0;)n=n[En],e--;return n}function xa(e){return!!(e[T]&9216||e[$e]?.dirty)}function Ki(e){e[qt].changeDetectionScheduler?.notify(8),e[T]&64&&(e[T]|=1024),xa(e)&&ba(e)}function ba(e){e[qt].changeDetectionScheduler?.notify(0);let n=en(e);for(;n!==null&&!(n[T]&8192||(n[T]|=8192,!Zi(n)));)n=en(n)}function xl(e,n){if(On(e))throw new I(911,!1);e[jt]===null&&(e[jt]=[]),e[jt].push(n)}function L2(e,n){if(e[jt]===null)return;let t=e[jt].indexOf(n);t!==-1&&e[jt].splice(t,1)}function en(e){let n=e[pe];return ht(n)?n[pe]:n}var q={lFrame:B2(null),bindingsEnabled:!0,skipHydrationRootTNode:null},Sa=function(e){return e[e.Off=0]="Off",e[e.Exhaustive=1]="Exhaustive",e[e.OnlyDirtyViews=2]="OnlyDirtyViews",e}(Sa||{}),uk=0,Kd=!1;function E2(){return q.lFrame.elementDepthCount}function _2(){q.lFrame.elementDepthCount++}function A2(){q.lFrame.elementDepthCount--}function bl(){return q.bindingsEnabled}function Sl(){return q.skipHydrationRootTNode!==null}function T2(e){return q.skipHydrationRootTNode===e}function R2(){q.skipHydrationRootTNode=null}function W(){return q.lFrame.lView}function yt(){return q.lFrame.tView}function It(){let e=Dl();for(;e!==null&&e.type===64;)e=e.parent;return e}function Dl(){return q.lFrame.currentTNode}function P2(){let e=q.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function xr(e,n){let t=q.lFrame;t.currentTNode=e,t.isParent=n}function Ll(){return q.lFrame.isParent}function El(){q.lFrame.isParent=!1}function _l(e){d2("Must never be called in production mode"),uk=e}function Al(){return Kd}function Tl(e){let n=Kd;return Kd=e,n}function O2(){let e=q.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function N2(){return q.lFrame.bindingIndex}function F2(e){return q.lFrame.bindingIndex=e}function Da(){return q.lFrame.bindingIndex++}function j2(e){let n=q.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function H2(){return q.lFrame.inI18n}function q2(e,n){let t=q.lFrame;t.bindingIndex=t.bindingRootIndex=e,Xi(n)}function V2(){return q.lFrame.currentDirectiveIndex}function Xi(e){q.lFrame.currentDirectiveIndex=e}function Rl(e){q.lFrame.currentQueryIndex=e}function hk(e){let n=e[O];return n.type===2?n.declTNode:n.type===1?e[Ae]:null}function Pl(e,n,t){if(t&4){let a=n,o=e;for(;a=a.parent,a===null&&!(t&1);)if(a=hk(o),a===null||(o=o[En],a.type&10))break;if(a===null)return!1;n=a,e=o}let r=q.lFrame=z2();return r.currentTNode=n,r.lView=e,!0}function Yi(e){let n=z2(),t=e[O];q.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function z2(){let e=q.lFrame,n=e===null?null:e.child;return n===null?B2(e):n}function B2(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function U2(){let e=q.lFrame;return q.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var Ol=U2;function Ji(){let e=U2();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function $2(e){return(q.lFrame.contextLView=D2(e,q.lFrame.contextLView))[ue]}function br(){return q.lFrame.selectedIndex}function on(e){q.lFrame.selectedIndex=e}function G2(){let e=q.lFrame;return Ca(e.tView,e.selectedIndex)}function W2(){return q.lFrame.currentNamespace}var Z2=!0;function Qi(){return Z2}function es(e){Z2=e}function Xd(e,n=null,t=null,r){let a=Nl(e,n,t,r);return a.resolveInjectorInitializers(),a}function Nl(e,n=null,t=null,r,a=new Set){let o=[t||lt,g2(e)];return r=r||(typeof e=="object"?void 0:Be(e)),new In(o,n||ka(),r||null,a)}var Qe=class e{static THROW_IF_NOT_FOUND=Mn;static NULL=new pa;static create(n,t){if(Array.isArray(n))return Xd({name:""},t,n,"");{let r=n.name??"";return Xd({name:r},n.parent,n.providers,r)}}static \u0275prov=C({token:e,providedIn:"any",factory:()=>S(ll)});static __NG_ELEMENT_ID__=-1},ge=new b(""),Nn=(()=>{class e{static __NG_ELEMENT_ID__=pk;static __NG_ENV_ID__=t=>t}return e})(),Yd=class extends Nn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return On(this._lView)}onDestroy(n){let t=this._lView;return xl(t,n),()=>L2(t,n)}};function pk(){return new Yd(W())}var Mt=class{_console=console;handleError(n){this._console.error("ERROR",n)}},tt=new b("",{providedIn:"root",factory:()=>{let e=M(ve),n;return t=>{n??=e.get(Mt),n.handleError(t)}}}),K2={provide:Ht,useValue:()=>void M(Mt),multi:!0},fk=new b("",{providedIn:"root",factory:()=>{let e=M(ge).defaultView;if(!e)return;let n=M(tt),t=o=>{n(o.reason),o.preventDefault()},r=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},a=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(a):a(),M(Nn).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",t)})}});function Fl(){return Dn([y2(()=>void M(fk))])}var Cn=class{},La=new b("",{providedIn:"root",factory:()=>!1});var jl=new b(""),Hl=new b("");var sn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new le(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new V(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})();function Ea(...e){}var ql=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>new Jd})}return e})(),Jd=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,r=this.queues.get(t);r.has(n)&&(r.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(n)||r.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,r]of this.queues)t===null?n||=this.flushQueue(r):n||=t.run(()=>this.flushQueue(r));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let r of n)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Ar(e){return{toString:e}.toString()}var ts="__parameters__";function Ek(e){return function(...t){if(e){let r=e(...t);for(let a in r)this[a]=r[a]}}}function _k(e,n,t){return Ar(()=>{let r=Ek(n);function a(...o){if(this instanceof a)return r.apply(this,o),this;let i=new a(...o);return s.annotation=i,s;function s(c,d,l){let u=c.hasOwnProperty(ts)?c[ts]:Object.defineProperty(c,ts,{value:[]})[ts];for(;u.length<=l;)u.push(null);return(u[l]=u[l]||[]).push(i),c}}return a.prototype.ngMetadataName=e,a.annotationCls=a,a})}var p1=h2(_k("Optional"),8);function Ak(e){return typeof e=="function"}var os=class{previousValue;currentValue;firstChange;constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function C0(e,n,t,r){n!==null?n.applyValueToInputSignal(n,r):e[t]=r}var Tr=(()=>{let e=()=>x0;return e.ngInherit=!0,e})();function x0(e){return e.type.prototype.ngOnChanges&&(e.setInput=Rk),Tk}function Tk(){let e=S0(this),n=e?.current;if(n){let t=e.previous;if(t===Sn)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function Rk(e,n,t,r,a){let o=this.declaredInputs[r],i=S0(e)||Pk(e,{previous:Sn,current:null}),s=i.current||(i.current={}),c=i.previous,d=c[o];s[o]=new os(d&&d.currentValue,t,c===Sn),C0(e,n,a,t)}var b0="__ngSimpleChanges__";function S0(e){return e[b0]||null}function Pk(e,n){return e[b0]=n}var X2=[];var J=function(e,n=null,t){for(let r=0;r<X2.length;r++){let a=X2[r];a(e,n,t)}};function Ok(e,n,t){let{ngOnChanges:r,ngOnInit:a,ngDoCheck:o}=n.type.prototype;if(r){let i=x0(n);(t.preOrderHooks??=[]).push(e,i),(t.preOrderCheckHooks??=[]).push(e,i)}a&&(t.preOrderHooks??=[]).push(0-e,a),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function D0(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:d,ngOnDestroy:l}=o;i&&(e.contentHooks??=[]).push(-t,i),s&&((e.contentHooks??=[]).push(t,s),(e.contentCheckHooks??=[]).push(t,s)),c&&(e.viewHooks??=[]).push(-t,c),d&&((e.viewHooks??=[]).push(t,d),(e.viewCheckHooks??=[]).push(t,d)),l!=null&&(e.destroyHooks??=[]).push(t,l)}}function ns(e,n,t){L0(e,n,3,t)}function rs(e,n,t,r){(e[T]&3)===t&&L0(e,n,t,r)}function Vl(e,n){let t=e[T];(t&3)===n&&(t&=16383,t+=1,e[T]=t)}function L0(e,n,t,r){let a=r!==void 0?e[An]&65535:0,o=r??-1,i=n.length-1,s=0;for(let c=a;c<i;c++)if(typeof n[c+1]=="number"){if(s=n[c],r!=null&&s>=r)break}else n[c]<0&&(e[An]+=65536),(s<o||o==-1)&&(Nk(e,t,n,c),e[An]=(e[An]&4294901760)+c+2),c++}function Y2(e,n){J(4,e,n);let t=H(null);try{n.call(e)}finally{H(t),J(5,e,n)}}function Nk(e,n,t,r){let a=t[r]<0,o=t[r+1],i=a?-t[r]:t[r],s=e[i];a?e[T]>>14<e[An]>>16&&(e[T]&3)===n&&(e[T]+=16384,Y2(s,o)):Y2(s,o)}var Dr=-1,Ta=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,r){this.factory=n,this.canSeeViewProviders=t,this.injectImpl=r}};function Fk(e){return(e.flags&8)!==0}function jk(e){return(e.flags&16)!==0}function Hk(e,n,t){let r=0;for(;r<t.length;){let a=t[r];if(typeof a=="number"){if(a!==0)break;r++;let o=t[r++],i=t[r++],s=t[r++];e.setAttribute(n,i,s,o)}else{let o=a,i=t[++r];Vk(o)?e.setProperty(n,o,i):e.setAttribute(n,o,i),r++}}return r}function qk(e){return e===3||e===4||e===6}function Vk(e){return e.charCodeAt(0)===64}function f1(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){let a=n[r];typeof a=="number"?t=a:t===0||(t===-1||t===2?J2(e,t,a,null,n[++r]):J2(e,t,a,null,null))}}return e}function J2(e,n,t,r,a){let o=0,i=e.length;if(n===-1)i=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===n){i=-1;break}else if(s>n){i=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===t){a!==null&&(e[o+1]=a);return}o++,a!==null&&o++}i!==-1&&(e.splice(i,0,n),o=i+1),e.splice(o++,0,t),a!==null&&e.splice(o++,0,a)}function E0(e){return e!==Dr}function is(e){return e&32767}function zk(e){return e>>16}function ss(e,n){let t=zk(e),r=n;for(;t>0;)r=r[En],t--;return r}var Wl=!0;function cs(e){let n=Wl;return Wl=e,n}var Bk=256,_0=Bk-1,A0=5,Uk=0,Ct={};function $k(e,n,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(bn)&&(r=t[bn]),r==null&&(r=t[bn]=Uk++);let a=r&_0,o=1<<a;n.data[e+(a>>A0)]|=o}function T0(e,n){let t=R0(e,n);if(t!==-1)return t;let r=n[O];r.firstCreatePass&&(e.injectorIndex=n.length,zl(r.data,e),zl(n,null),zl(r.blueprint,null));let a=y1(e,n),o=e.injectorIndex;if(E0(a)){let i=is(a),s=ss(a,n),c=s[O].data;for(let d=0;d<8;d++)n[o+d]=s[i+d]|c[i+d]}return n[o+8]=a,o}function zl(e,n){e.push(0,0,0,0,0,0,0,0,n)}function R0(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function y1(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,r=null,a=n;for(;a!==null;){if(r=j0(a),r===null)return Dr;if(t++,a=a[En],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Dr}function Gk(e,n,t){$k(e,n,t)}function P0(e,n,t){if(t&8||e!==void 0)return e;Bi(n,"NodeInjector")}function O0(e,n,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let a=e[wr],o=_e(void 0);try{return a?a.get(n,r,t&8):cl(n,r,t&8)}finally{_e(o)}}return P0(r,n,t)}function N0(e,n,t,r=0,a){if(e!==null){if(n[T]&2048&&!(r&2)){let i=Yk(e,n,t,r,Ct);if(i!==Ct)return i}let o=F0(e,n,t,r,Ct);if(o!==Ct)return o}return O0(n,t,r,a)}function F0(e,n,t,r,a){let o=Kk(t);if(typeof o=="function"){if(!Pl(n,e,r))return r&1?P0(a,t,r):O0(n,t,r,a);try{let i;if(i=o(r),i==null&&!(r&8))Bi(t);else return i}finally{Ol()}}else if(typeof o=="number"){let i=null,s=R0(e,n),c=Dr,d=r&1?n[Te][Ae]:null;for((s===-1||r&4)&&(c=s===-1?y1(e,n):n[s+8],c===Dr||!e0(r,!1)?s=-1:(i=n[O],s=is(c),n=ss(c,n)));s!==-1;){let l=n[O];if(Q2(o,s,l.data)){let u=Wk(s,n,t,i,r,d);if(u!==Ct)return u}c=n[s+8],c!==Dr&&e0(r,n[O].data[s+8]===d)&&Q2(o,s,n)?(i=l,s=is(c),n=ss(c,n)):s=-1}}return a}function Wk(e,n,t,r,a,o){let i=n[O],s=i.data[e+8],c=r==null?Rn(s)&&Wl:r!=i&&(s.type&3)!==0,d=a&1&&o===s,l=Zk(s,i,t,c,d);return l!==null?Zl(n,i,l,s):Ct}function Zk(e,n,t,r,a){let o=e.providerIndexes,i=n.data,s=o&1048575,c=e.directiveStart,d=e.directiveEnd,l=o>>20,u=r?s:s+l,p=a?s+l:d;for(let h=u;h<p;h++){let y=i[h];if(h<c&&t===y||h>=c&&y.type===t)return h}if(a){let h=i[c];if(h&&Pn(h)&&h.type===t)return c}return null}function Zl(e,n,t,r){let a=e[t],o=n.data;if(a instanceof Ta){let i=a;i.resolving&&sl(l2(o[t]));let s=cs(i.canSeeViewProviders);i.resolving=!0;let c=o[t].type||o[t],d,l=i.injectImpl?_e(i.injectImpl):null,u=Pl(e,r,0);try{a=e[t]=i.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&Ok(t,o[t],n)}finally{l!==null&&_e(l),cs(s),i.resolving=!1,Ol()}}return a}function Kk(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(bn)?e[bn]:void 0;return typeof n=="number"?n>=0?n&_0:Xk:n}function Q2(e,n,t){let r=1<<e;return!!(t[n+(e>>A0)]&r)}function e0(e,n){return!(e&2)&&!(e&1&&n)}var jn=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return N0(this._tNode,this._lView,n,wn(r),t)}};function Xk(){return new jn(It(),W())}function Ms(e){return Ar(()=>{let n=e.prototype.constructor,t=n[ha]||Kl(n),r=Object.prototype,a=Object.getPrototypeOf(e.prototype).constructor;for(;a&&a!==r;){let o=a[ha]||Kl(a);if(o&&o!==t)return o;a=Object.getPrototypeOf(a)}return o=>new o})}function Kl(e){return el(e)?()=>{let n=Kl(qe(e));return n&&n()}:Qt(e)}function Yk(e,n,t,r,a){let o=e,i=n;for(;o!==null&&i!==null&&i[T]&2048&&!Cr(i);){let s=F0(o,i,t,r|2,Ct);if(s!==Ct)return s;let c=o.parent;if(!c){let d=i[ml];if(d){let l=d.get(t,Ct,r);if(l!==Ct)return l}c=j0(i),i=i[En]}o=c}return a}function j0(e){let n=e[O],t=n.type;return t===2?n.declTNode:t===1?e[Ae]:null}function Jk(){return g1(It(),W())}function g1(e,n){return new Fa(Vt(e,n))}var Fa=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Jk}return e})();function H0(e){return(e.flags&128)===128}var m1=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(m1||{}),q0=new Map,Qk=0;function ev(){return Qk++}function tv(e){q0.set(e[va],e)}function Xl(e){q0.delete(e[va])}var t0="__ngContext__";function ja(e,n){wt(n)?(e[t0]=n[va],tv(n)):e[t0]=n}function V0(e){return B0(e[Ir])}function z0(e){return B0(e[et])}function B0(e){for(;e!==null&&!ht(e);)e=e[et];return e}var Yl;function k1(e){Yl=e}function U0(){if(Yl!==void 0)return Yl;if(typeof document<"u")return document;throw new I(210,!1)}var ws=new b("",{providedIn:"root",factory:()=>nv}),nv="ng",Is=new b(""),Rr=new b("",{providedIn:"platform",factory:()=>"unknown"});var Cs=new b("",{providedIn:"root",factory:()=>U0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rv="h",av="b";var $0="r";var G0="di";var W0=!1,Z0=new b("",{providedIn:"root",factory:()=>W0});var ov=()=>null;function K0(e,n,t=!1){return ov(e,n,t)}function X0(e,n){let t=e.contentQueries;if(t!==null){let r=H(null);try{for(let a=0;a<t.length;a+=2){let o=t[a],i=t[a+1];if(i!==-1){let s=e.data[i];Rl(o),s.contentQueries(2,n[i],i)}}}finally{H(r)}}}function Jl(e,n,t){Rl(0);let r=H(null);try{n(e,t)}finally{H(r)}}function Y0(e,n,t){if(vl(n)){let r=H(null);try{let a=n.directiveStart,o=n.directiveEnd;for(let i=a;i<o;i++){let s=e.data[i];if(s.contentQueries){let c=t[i];s.contentQueries(1,c,i)}}}finally{H(r)}}}var zt=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(zt||{});function J0(e){return e instanceof Function?e():e}function iv(e,n,t){let r=e.length;for(;;){let a=e.indexOf(n,t);if(a===-1)return a;if(a===0||e.charCodeAt(a-1)<=32){let o=n.length;if(a+o===r||e.charCodeAt(a+o)<=32)return a}t=a+1}}var Q0="ng-template";function sv(e,n,t,r){let a=0;if(r){for(;a<n.length&&typeof n[a]=="string";a+=2)if(n[a]==="class"&&iv(n[a+1].toLowerCase(),t,0)!==-1)return!0}else if(v1(e))return!1;if(a=n.indexOf(1,a),a>-1){let o;for(;++a<n.length&&typeof(o=n[a])=="string";)if(o.toLowerCase()===t)return!0}return!1}function v1(e){return e.type===4&&e.value!==Q0}function cv(e,n,t){let r=e.type===4&&!t?Q0:e.value;return n===r}function dv(e,n,t){let r=4,a=e.attrs,o=a!==null?hv(a):0,i=!1;for(let s=0;s<n.length;s++){let c=n[s];if(typeof c=="number"){if(!i&&!gt(r)&&!gt(c))return!1;if(i&&gt(c))continue;i=!1,r=c|r&1;continue}if(!i)if(r&4){if(r=2|r&1,c!==""&&!cv(e,c,t)||c===""&&n.length===1){if(gt(r))return!1;i=!0}}else if(r&8){if(a===null||!sv(e,a,c,t)){if(gt(r))return!1;i=!0}}else{let d=n[++s],l=lv(c,a,v1(e),t);if(l===-1){if(gt(r))return!1;i=!0;continue}if(d!==""){let u;if(l>o?u="":u=a[l+1].toLowerCase(),r&2&&d!==u){if(gt(r))return!1;i=!0}}}}return gt(r)||i}function gt(e){return(e&1)===0}function lv(e,n,t,r){if(n===null)return-1;let a=0;if(r||!t){let o=!1;for(;a<n.length;){let i=n[a];if(i===e)return a;if(i===3||i===6)o=!0;else if(i===1||i===2){let s=n[++a];for(;typeof s=="string";)s=n[++a];continue}else{if(i===4)break;if(i===0){a+=4;continue}}a+=o?1:2}return-1}else return pv(n,e)}function ep(e,n,t=!1){for(let r=0;r<n.length;r++)if(dv(e,n[r],t))return!0;return!1}function uv(e){let n=e.attrs;if(n!=null){let t=n.indexOf(5);if((t&1)===0)return n[t+1]}return null}function hv(e){for(let n=0;n<e.length;n++){let t=e[n];if(qk(t))return n}return e.length}function pv(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let r=e[t];if(typeof r=="number")return-1;if(r===n)return t;t++}return-1}function fv(e,n){e:for(let t=0;t<n.length;t++){let r=n[t];if(e.length===r.length){for(let a=0;a<e.length;a++)if(e[a]!==r[a])continue e;return!0}}return!1}function n0(e,n){return e?":not("+n.trim()+")":n}function yv(e){let n=e[0],t=1,r=2,a="",o=!1;for(;t<e.length;){let i=e[t];if(typeof i=="string")if(r&2){let s=e[++t];a+="["+i+(s.length>0?'="'+s+'"':"")+"]"}else r&8?a+="."+i:r&4&&(a+=" "+i);else a!==""&&!gt(i)&&(n+=n0(o,a),a=""),r=i,o=o||!gt(r);t++}return a!==""&&(n+=n0(o,a)),n}function gv(e){return e.map(yv).join(",")}function mv(e){let n=[],t=[],r=1,a=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")a===2?o!==""&&n.push(o,e[++r]):a===8&&t.push(o);else{if(!gt(a))break;a=o}r++}return t.length&&n.push(1,...t),n}var xt={};function kv(e,n){return e.createText(n)}function vv(e,n,t){e.setValue(n,t)}function tp(e,n,t){return e.createElement(n,t)}function ds(e,n,t,r,a){e.insertBefore(n,t,r,a)}function np(e,n,t){e.appendChild(n,t)}function r0(e,n,t,r,a){r!==null?ds(e,n,t,r,a):np(e,n,t)}function rp(e,n,t){e.removeChild(null,n,t)}function Mv(e,n,t){e.setAttribute(n,"style",t)}function wv(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function ap(e,n,t){let{mergedAttrs:r,classes:a,styles:o}=t;r!==null&&Hk(e,n,r),a!==null&&wv(e,n,a),o!==null&&Mv(e,n,o)}function M1(e,n,t,r,a,o,i,s,c,d,l){let u=ye+r,p=u+a,h=Iv(u,p),y=typeof d=="function"?d():d;return h[O]={type:e,blueprint:h,template:t,queries:null,viewQuery:s,declTNode:n,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof i=="function"?i():i,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:l}}function Iv(e,n){let t=[];for(let r=0;r<n;r++)t.push(r<e?null:xt);return t}function Cv(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=M1(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function w1(e,n,t,r,a,o,i,s,c,d,l){let u=n.blueprint.slice();return u[ut]=a,u[T]=r|4|128|8|64|1024,(d!==null||e&&e[T]&2048)&&(u[T]|=2048),Il(u),u[pe]=u[En]=e,u[ue]=t,u[qt]=i||e&&e[qt],u[fe]=s||e&&e[fe],u[wr]=c||e&&e[wr]||null,u[Ae]=o,u[va]=ev(),u[Ln]=l,u[ml]=d,u[Te]=n.type==2?e[Te]:u,u}function xv(e,n,t){let r=Vt(n,e),a=Cv(t),o=e[qt].rendererFactory,i=I1(e,w1(e,a,null,op(t),r,n,null,o.createRenderer(r,t),null,null,null));return e[n.index]=i}function op(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function ip(e,n,t,r){if(t===0)return-1;let a=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return a}function I1(e,n){return e[Ir]?e[gl][et]=n:e[Ir]=n,e[gl]=n,n}function Ge(e=1){sp(yt(),W(),br()+e,!1)}function sp(e,n,t,r){if(!r)if((n[T]&3)===3){let o=e.preOrderCheckHooks;o!==null&&ns(n,o,t)}else{let o=e.preOrderHooks;o!==null&&rs(n,o,0,t)}on(t)}var xs=function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e}(xs||{});function Ql(e,n,t,r){let a=H(null);try{let[o,i,s]=e.inputs[t],c=null;(i&xs.SignalBased)!==0&&(c=n[o][si]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(n,r)),e.setInput!==null?e.setInput(n,c,r,t,o):C0(n,c,o,r)}finally{H(a)}}function cp(e,n,t,r,a){let o=br(),i=r&2;try{on(-1),i&&n.length>ye&&sp(e,n,ye,!1),J(i?2:0,a,t),t(r,a)}finally{on(o),J(i?3:1,a,t)}}function C1(e,n,t){Tv(e,n,t),(t.flags&64)===64&&Rv(e,n,t)}function dp(e,n,t=Vt){let r=n.localNames;if(r!==null){let a=n.index+1;for(let o=0;o<r.length;o+=2){let i=r[o+1],s=i===-1?t(n,e):e[i];e[a++]=s}}}function bv(e,n,t,r){let o=r.get(Z0,W0)||t===zt.ShadowDom,i=e.selectRootElement(n,o);return Sv(i),i}function Sv(e){Dv(e)}var Dv=()=>null;function Lv(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Ev(e,n,t,r,a,o){let i=n[O];if(x1(e,i,n,t,r)){Rn(e)&&Av(n,e.index);return}_v(e,n,t,r,a,o)}function _v(e,n,t,r,a,o){if(e.type&3){let i=Vt(e,n);t=Lv(t),r=o!=null?o(r,e.value||"",t):r,a.setProperty(i,t,r)}else e.type&12}function Av(e,n){let t=ft(n,e);t[T]&16||(t[T]|=64)}function Tv(e,n,t){let r=t.directiveStart,a=t.directiveEnd;Rn(t)&&xv(n,t,e.data[r+t.componentOffset]),e.firstCreatePass||T0(t,n);let o=t.initialInputs;for(let i=r;i<a;i++){let s=e.data[i],c=Zl(n,e,i,t);if(ja(c,n),o!==null&&Ov(n,i-r,c,s,t,o),Pn(s)){let d=ft(t.index,n);d[ue]=Zl(n,e,i,t)}}}function Rv(e,n,t){let r=t.directiveStart,a=t.directiveEnd,o=t.index,i=V2();try{on(o);for(let s=r;s<a;s++){let c=e.data[s],d=n[s];Xi(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Pv(c,d)}}finally{on(-1),Xi(i)}}function Pv(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function lp(e,n){let t=e.directiveRegistry,r=null;if(t)for(let a=0;a<t.length;a++){let o=t[a];ep(n,o.selectors,!1)&&(r??=[],Pn(o)?r.unshift(o):r.push(o))}return r}function Ov(e,n,t,r,a,o){let i=o[n];if(i!==null)for(let s=0;s<i.length;s+=2){let c=i[s],d=i[s+1];Ql(r,t,c,d)}}function x1(e,n,t,r,a){let o=e.inputs?.[r],i=e.hostDirectiveInputs?.[r],s=!1;if(i)for(let c=0;c<i.length;c+=2){let d=i[c],l=i[c+1],u=n.data[d];Ql(u,t[d],l,a),s=!0}if(o)for(let c of o){let d=t[c],l=n.data[c];Ql(l,d,r,a),s=!0}return s}function Nv(e,n){let t=ft(n,e),r=t[O];Fv(r,t);let a=t[ut];a!==null&&t[Ln]===null&&(t[Ln]=K0(a,t[wr])),J(18),b1(r,t,t[ue]),J(19,t[ue])}function Fv(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function b1(e,n,t){Yi(n);try{let r=e.viewQuery;r!==null&&Jl(1,r,t);let a=e.template;a!==null&&cp(e,n,a,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Tn]?.finishViewCreation(e),e.staticContentQueries&&X0(e,n),e.staticViewQueries&&Jl(2,e.viewQuery,t);let o=e.components;o!==null&&jv(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[T]&=-5,Ji()}}function jv(e,n){for(let t=0;t<n.length;t++)Nv(e,n[t])}function bs(e,n,t,r){let a=H(null);try{let o=n.tView,s=e[T]&4096?4096:16,c=w1(e,o,t,s,null,n,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=e[n.index];c[_n]=d;let l=e[Tn];return l!==null&&(c[Tn]=l.createEmbeddedView(o)),b1(o,c,t),c}finally{H(a)}}function Lr(e,n){return!n||n.firstChild===null||H0(e)}var a0=!1,Hv=new b(""),qv;function S1(e,n){return qv(e,n)}var cn=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(cn||{});function Ss(e){return(e.flags&32)===32}function Sr(e,n,t,r,a){if(r!=null){let o,i=!1;ht(r)?o=r:wt(r)&&(i=!0,r=r[ut]);let s=pt(r);e===0&&t!==null?a==null?np(n,t,s):ds(n,t,s,a||null,!0):e===1&&t!==null?ds(n,t,s,a||null,!0):e===2?rp(n,s,i):e===3&&n.destroyNode(s),o!=null&&Xv(n,e,o,t,a)}}function Vv(e,n){up(e,n),n[ut]=null,n[Ae]=null}function zv(e,n,t,r,a,o){r[ut]=a,r[Ae]=n,Ls(e,r,t,1,a,o)}function up(e,n){n[qt].changeDetectionScheduler?.notify(9),Ls(e,n,n[fe],2,null,null)}function Bv(e){let n=e[Ir];if(!n)return Bl(e[O],e);for(;n;){let t=null;if(wt(n))t=n[Ir];else{let r=n[Me];r&&(t=r)}if(!t){for(;n&&!n[et]&&n!==e;)wt(n)&&Bl(n[O],n),n=n[pe];n===null&&(n=e),wt(n)&&Bl(n[O],n),t=n&&n[et]}n=t}}function D1(e,n){let t=e[Ia],r=t.indexOf(n);t.splice(r,1)}function Ds(e,n){if(On(n))return;let t=n[fe];t.destroyNode&&Ls(e,n,t,3,null,null),Bv(n)}function Bl(e,n){if(On(n))return;let t=H(null);try{n[T]&=-129,n[T]|=256,n[$e]&&md(n[$e]),$v(e,n),Uv(e,n),n[O].type===1&&n[fe].destroy();let r=n[_n];if(r!==null&&ht(n[pe])){r!==n[pe]&&D1(r,n);let a=n[Tn];a!==null&&a.detachView(e)}Xl(n)}finally{H(t)}}function Uv(e,n){let t=e.cleanup,r=n[$i];if(t!==null)for(let i=0;i<t.length-1;i+=2)if(typeof t[i]=="string"){let s=t[i+3];s>=0?r[s]():r[-s].unsubscribe(),i+=2}else{let s=r[t[i+1]];t[i].call(s)}r!==null&&(n[$i]=null);let a=n[jt];if(a!==null){n[jt]=null;for(let i=0;i<a.length;i++){let s=a[i];s()}}let o=n[Ma];if(o!==null){n[Ma]=null;for(let i of o)i.destroy()}}function $v(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let a=n[t[r]];if(!(a instanceof Ta)){let o=t[r+1];if(Array.isArray(o))for(let i=0;i<o.length;i+=2){let s=a[o[i]],c=o[i+1];J(4,s,c);try{c.call(s)}finally{J(5,s,c)}}else{J(4,a,o);try{o.call(a)}finally{J(5,a,o)}}}}}function hp(e,n,t){return Gv(e,n.parent,t)}function Gv(e,n,t){let r=n;for(;r!==null&&r.type&168;)n=r,r=n.parent;if(r===null)return t[ut];if(Rn(r)){let{encapsulation:a}=e.data[r.directiveStart+r.componentOffset];if(a===zt.None||a===zt.Emulated)return null}return Vt(r,t)}function pp(e,n,t){return Zv(e,n,t)}function Wv(e,n,t){return e.type&40?Vt(e,t):null}var Zv=Wv,o0;function L1(e,n,t,r){let a=hp(e,r,n),o=n[fe],i=r.parent||n[Ae],s=pp(i,r,n);if(a!=null)if(Array.isArray(t))for(let c=0;c<t.length;c++)r0(o,a,t[c],s,!1);else r0(o,a,t,s,!1);o0!==void 0&&o0(o,r,n,t,a)}function _a(e,n){if(n!==null){let t=n.type;if(t&3)return Vt(n,e);if(t&4)return e1(-1,e[n.index]);if(t&8){let r=n.child;if(r!==null)return _a(e,r);{let a=e[n.index];return ht(a)?e1(-1,a):pt(a)}}else{if(t&128)return _a(e,n.next);if(t&32)return S1(n,e)()||pt(e[n.index]);{let r=fp(e,n);if(r!==null){if(Array.isArray(r))return r[0];let a=en(e[Te]);return _a(a,r)}else return _a(e,n.next)}}}return null}function fp(e,n){if(n!==null){let r=e[Te][Ae],a=n.projection;return r.projection[a]}return null}function e1(e,n){let t=Me+e+1;if(t<n.length){let r=n[t],a=r[O].firstChild;if(a!==null)return _a(r,a)}return n[rn]}function E1(e,n,t,r,a,o,i){for(;t!=null;){if(t.type===128){t=t.next;continue}let s=r[t.index],c=t.type;if(i&&n===0&&(s&&ja(pt(s),r),t.flags|=2),!Ss(t))if(c&8)E1(e,n,t.child,r,a,o,!1),Sr(n,e,a,s,o);else if(c&32){let d=S1(t,r),l;for(;l=d();)Sr(n,e,a,l,o);Sr(n,e,a,s,o)}else c&16?yp(e,n,r,t,a,o):Sr(n,e,a,s,o);t=i?t.projectionNext:t.next}}function Ls(e,n,t,r,a,o){E1(t,r,e.firstChild,n,a,o,!1)}function Kv(e,n,t){let r=n[fe],a=hp(e,t,n),o=t.parent||n[Ae],i=pp(o,t,n);yp(r,0,n,t,a,i)}function yp(e,n,t,r,a,o){let i=t[Te],c=i[Ae].projection[r.projection];if(Array.isArray(c))for(let d=0;d<c.length;d++){let l=c[d];Sr(n,e,a,l,o)}else{let d=c,l=i[pe];H0(r)&&(d.flags|=128),E1(e,n,d,l,a,o,!0)}}function Xv(e,n,t,r,a){let o=t[rn],i=pt(t);o!==i&&Sr(n,e,r,o,a);for(let s=Me;s<t.length;s++){let c=t[s];Ls(c[O],c,e,n,r,o)}}function Ra(e,n,t,r,a=!1){for(;t!==null;){if(t.type===128){t=a?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&r.push(pt(o)),ht(o)&&gp(o,r);let i=t.type;if(i&8)Ra(e,n,t.child,r);else if(i&32){let s=S1(t,n),c;for(;c=s();)r.push(c)}else if(i&16){let s=fp(n,t);if(Array.isArray(s))r.push(...s);else{let c=en(n[Te]);Ra(c[O],c,s,r,!0)}}t=a?t.projectionNext:t.next}return r}function gp(e,n){for(let t=Me;t<e.length;t++){let r=e[t],a=r[O].firstChild;a!==null&&Ra(r[O],r,a,n)}e[rn]!==e[ut]&&n.push(e[rn])}function mp(e){if(e[Wi]!==null){for(let n of e[Wi])n.impl.addSequence(n);e[Wi].length=0}}var kp=[];function Yv(e){return e[$e]??Jv(e)}function Jv(e){let n=kp.pop()??Object.create(e4);return n.lView=e,n}function Qv(e){e.lView[$e]!==e&&(e.lView=null,kp.push(e))}var e4=$(w({},ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{ba(e.lView)},consumerOnSignalRead(){this.lView[$e]=this}});function t4(e){let n=e[$e]??Object.create(n4);return n.lView=e,n}var n4=$(w({},ci),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=en(e.lView);for(;n&&!vp(n[O]);)n=en(n);n&&Cl(n)},consumerOnSignalRead(){this.lView[$e]=this}});function vp(e){return e.type!==2}function Mp(e){if(e[Ma]===null)return;let n=!0;for(;n;){let t=!1;for(let r of e[Ma])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));n=t&&!!(e[T]&8192)}}var r4=100;function _1(e,n=0){let r=e[qt].rendererFactory,a=!1;a||r.begin?.();try{a4(e,n)}finally{a||r.end?.()}}function a4(e,n){let t=Al();try{Tl(!0),t1(e,n);let r=0;for(;xa(e);){if(r===r4)throw new I(103,!1);r++,t1(e,1)}}finally{Tl(t)}}function wp(e,n){_l(n?Sa.Exhaustive:Sa.OnlyDirtyViews);try{_1(e)}finally{_l(Sa.Off)}}function o4(e,n,t,r){if(On(n))return;let a=n[T],o=!1,i=!1;Yi(n);let s=!0,c=null,d=null;o||(vp(e)?(d=Yv(n),c=di(d)):pd()===null?(s=!1,d=t4(n),c=di(d)):n[$e]&&(md(n[$e]),n[$e]=null));try{Il(n),F2(e.bindingStartIndex),t!==null&&cp(e,n,t,2,r);let l=(a&3)===3;if(!o)if(l){let h=e.preOrderCheckHooks;h!==null&&ns(n,h,null)}else{let h=e.preOrderHooks;h!==null&&rs(n,h,0,null),Vl(n,0)}if(i||i4(n),Mp(n),Ip(n,0),e.contentQueries!==null&&X0(e,n),!o)if(l){let h=e.contentCheckHooks;h!==null&&ns(n,h)}else{let h=e.contentHooks;h!==null&&rs(n,h,1),Vl(n,1)}c4(e,n);let u=e.components;u!==null&&xp(n,u,0);let p=e.viewQuery;if(p!==null&&Jl(2,p,r),!o)if(l){let h=e.viewCheckHooks;h!==null&&ns(n,h)}else{let h=e.viewHooks;h!==null&&rs(n,h,2),Vl(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Gi]){for(let h of n[Gi])h();n[Gi]=null}o||(mp(n),n[T]&=-73)}catch(l){throw o||ba(n),l}finally{d!==null&&(gd(d,c),s&&Qv(d)),Ji()}}function Ip(e,n){for(let t=V0(e);t!==null;t=z0(t))for(let r=Me;r<t.length;r++){let a=t[r];Cp(a,n)}}function i4(e){for(let n=V0(e);n!==null;n=z0(n)){if(!(n[T]&2))continue;let t=n[Ia];for(let r=0;r<t.length;r++){let a=t[r];Cl(a)}}}function s4(e,n,t){J(18);let r=ft(n,e);Cp(r,t),J(19,r[ue])}function Cp(e,n){Zi(e)&&t1(e,n)}function t1(e,n){let r=e[O],a=e[T],o=e[$e],i=!!(n===0&&a&16);if(i||=!!(a&64&&n===0),i||=!!(a&1024),i||=!!(o?.dirty&&li(o)),i||=!1,o&&(o.dirty=!1),e[T]&=-9217,i)o4(r,e,r.template,e[ue]);else if(a&8192){let s=H(null);try{Mp(e),Ip(e,1);let c=r.components;c!==null&&xp(e,c,1),mp(e)}finally{H(s)}}}function xp(e,n,t){for(let r=0;r<n.length;r++)s4(e,n[r],t)}function c4(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let a=t[r];if(a<0)on(~a);else{let o=a,i=t[++r],s=t[++r];q2(i,o);let c=n[o];J(24,c),s(2,c),J(25,c)}}}finally{on(-1)}}function bp(e,n){let t=Al()?64:1088;for(e[qt].changeDetectionScheduler?.notify(n);e;){e[T]|=t;let r=en(e);if(Cr(e)&&!r)return e;e=r}return null}function Sp(e,n,t,r){return[e,!0,0,n,null,r,null,t,null,null]}function Dp(e,n){let t=Me+n;if(t<e.length)return e[t]}function Ha(e,n,t,r=!0){let a=n[O];if(d4(a,n,e,t),r){let i=e1(t,e),s=n[fe],c=s.parentNode(e[rn]);c!==null&&zv(a,e[Ae],s,n,c,i)}let o=n[Ln];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Lp(e,n){let t=Pa(e,n);return t!==void 0&&Ds(t[O],t),t}function Pa(e,n){if(e.length<=Me)return;let t=Me+n,r=e[t];if(r){let a=r[_n];a!==null&&a!==e&&D1(a,r),n>0&&(e[t-1][et]=r[et]);let o=ga(e,Me+n);Vv(r[O],r);let i=o[Tn];i!==null&&i.detachView(o[O]),r[pe]=null,r[et]=null,r[T]&=-129}return r}function d4(e,n,t,r){let a=Me+r,o=t.length;r>0&&(t[a-1][et]=n),r<o-Me?(n[et]=t[a],dl(t,Me+r,n)):(t.push(n),n[et]=null),n[pe]=t;let i=n[_n];i!==null&&t!==i&&Ep(i,n);let s=n[Tn];s!==null&&s.insertView(e),Ki(n),n[T]|=128}function Ep(e,n){let t=e[Ia],r=n[pe];if(wt(r))e[T]|=2;else{let a=r[pe][Te];n[Te]!==a&&(e[T]|=2)}t===null?e[Ia]=[n]:t.push(n)}var Hn=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[O];return Ra(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[ue]}set context(n){this._lView[ue]=n}get destroyed(){return On(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[pe];if(ht(n)){let t=n[wa],r=t?t.indexOf(this):-1;r>-1&&(Pa(n,r),ga(t,r))}this._attachedToViewContainer=!1}Ds(this._lView[O],this._lView)}onDestroy(n){xl(this._lView,n)}markForCheck(){bp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[T]&=-129}reattach(){Ki(this._lView),this._lView[T]|=128}detectChanges(){this._lView[T]|=1024,_1(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[wr].get(Hv,a0)}catch{this.exhaustive=a0}}attachToViewContainerRef(){if(this._appRef)throw new I(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=Cr(this._lView),t=this._lView[_n];t!==null&&!n&&D1(t,this._lView),up(this._lView[O],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new I(902,!1);this._appRef=n;let t=Cr(this._lView),r=this._lView[_n];r!==null&&!t&&Ep(r,this._lView),Ki(this._lView)}};function Es(e,n,t,r,a){let o=e.data[n];if(o===null)o=l4(e,n,t,r,a),H2()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=a;let i=P2();o.injectorIndex=i===null?-1:i.injectorIndex}return xr(o,!0),o}function l4(e,n,t,r,a){let o=Dl(),i=Ll(),s=i?o:o&&o.parent,c=e.data[n]=h4(e,s,t,n,r,a);return u4(e,c,o,i),c}function u4(e,n,t,r){e.firstChild===null&&(e.firstChild=n),t!==null&&(r?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function h4(e,n,t,r,a,o){let i=n?n.injectorIndex:-1,s=0;return Sl()&&(s|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:i,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:s,providerIndexes:0,value:a,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var $S=new RegExp(`^(\\d+)*(${av}|${rv})*(.*)`);function p4(e){let n=e[kl]??[],r=e[pe][fe],a=[];for(let o of n)o.data[G0]!==void 0?a.push(o):f4(o,r);e[kl]=a}function f4(e,n){let t=0,r=e.firstChild;if(r){let a=e.data[$0];for(;t<a;){let o=r.nextSibling;rp(n,r,!1),r=o,t++}}}var y4=()=>null,g4=()=>null;function ls(e,n){return y4(e,n)}function _p(e,n,t){return g4(e,n,t)}var Ap=class{},_s=class{},n1=class{resolveComponentFactory(n){throw new I(917,!1)}},qa=class{static NULL=new n1},qn=class{},As=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>m4()}return e})();function m4(){let e=W(),n=It(),t=ft(n.index,e);return(wt(t)?t:e)[fe]}var Tp=(()=>{class e{static \u0275prov=C({token:e,providedIn:"root",factory:()=>null})}return e})();var as={},r1=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){let a=this.injector.get(n,as,r);return a!==as||t===as?a:this.parentInjector.get(n,t,r)}};function i0(e,n,t){let r=t?e.styles:null,a=t?e.classes:null,o=0;if(n!==null)for(let i=0;i<n.length;i++){let s=n[i];if(typeof s=="number")o=s;else if(o==1)a=Qd(a,s);else if(o==2){let c=s,d=n[++i];r=Qd(r,c+": "+d+";")}}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=a:e.classesWithoutHost=a}function Pe(e,n=0){let t=W();if(t===null)return S(e,n);let r=It();return N0(r,t,qe(e),n)}function Rp(e,n,t,r,a){let o=r===null?null:{"":-1},i=a(e,t);if(i!==null){let s=i,c=null,d=null;for(let l of i)if(l.resolveHostDirectives!==null){[s,c,d]=l.resolveHostDirectives(i);break}M4(e,n,t,s,o,c,d)}o!==null&&r!==null&&k4(t,r,o)}function k4(e,n,t){let r=e.localNames=[];for(let a=0;a<n.length;a+=2){let o=t[n[a+1]];if(o==null)throw new I(-301,!1);r.push(n[a],o)}}function v4(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function M4(e,n,t,r,a,o,i){let s=r.length,c=!1;for(let p=0;p<s;p++){let h=r[p];!c&&Pn(h)&&(c=!0,v4(e,t,p)),Gk(T0(t,n),e,h.type)}S4(t,e.data.length,s);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let d=!1,l=!1,u=ip(e,n,s,null);s>0&&(t.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(t.mergedAttrs=f1(t.mergedAttrs,h.hostAttrs),I4(e,t,n,u,h),b4(u,h,a),i!==null&&i.has(h)){let[g,m]=i.get(h);t.directiveToIndex.set(h.type,[u,g+t.directiveStart,m+t.directiveStart])}else(o===null||!o.has(h))&&t.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(t.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(t.flags|=64);let y=h.type.prototype;!d&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),d=!0),!l&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),l=!0),u++}w4(e,t,o)}function w4(e,n,t){for(let r=n.directiveStart;r<n.directiveEnd;r++){let a=e.data[r];if(t===null||!t.has(a))s0(0,n,a,r),s0(1,n,a,r),d0(n,r,!1);else{let o=t.get(a);c0(0,n,o,r),c0(1,n,o,r),d0(n,r,!0)}}}function s0(e,n,t,r){let a=e===0?t.inputs:t.outputs;for(let o in a)if(a.hasOwnProperty(o)){let i;e===0?i=n.inputs??={}:i=n.outputs??={},i[o]??=[],i[o].push(r),Pp(n,o)}}function c0(e,n,t,r){let a=e===0?t.inputs:t.outputs;for(let o in a)if(a.hasOwnProperty(o)){let i=a[o],s;e===0?s=n.hostDirectiveInputs??={}:s=n.hostDirectiveOutputs??={},s[i]??=[],s[i].push(r,o),Pp(n,i)}}function Pp(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function d0(e,n,t){let{attrs:r,inputs:a,hostDirectiveInputs:o}=e;if(r===null||!t&&a===null||t&&o===null||v1(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let i=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!t&&a.hasOwnProperty(c)){let d=a[c];for(let l of d)if(l===n){i??=[],i.push(c,r[s+1]);break}}else if(t&&o.hasOwnProperty(c)){let d=o[c];for(let l=0;l<d.length;l+=2)if(d[l]===n){i??=[],i.push(d[l+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(i)}function I4(e,n,t,r,a){e.data[r]=a;let o=a.factory||(a.factory=Qt(a.type,!0)),i=new Ta(o,Pn(a),Pe);e.blueprint[r]=i,t[r]=i,C4(e,n,r,ip(e,t,a.hostVars,xt),a)}function C4(e,n,t,r,a){let o=a.hostBindings;if(o){let i=e.hostBindingOpCodes;i===null&&(i=e.hostBindingOpCodes=[]);let s=~n.index;x4(i)!=s&&i.push(s),i.push(t,r,o)}}function x4(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function b4(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Pn(n)&&(t[""]=e)}}function S4(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Op(e,n,t,r,a,o,i,s){let c=n.consts,d=an(c,i),l=Es(n,e,2,r,d);return o&&Rp(n,t,l,an(c,s),a),l.mergedAttrs=f1(l.mergedAttrs,l.attrs),l.attrs!==null&&i0(l,l.attrs,!1),l.mergedAttrs!==null&&i0(l,l.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,l),l}function Np(e,n){D0(e,n),vl(n)&&e.queries.elementEnd(n)}function D4(e,n,t){return e[n]=t}function Er(e,n,t){if(t===xt)return!1;let r=e[n];return Object.is(r,t)?!1:(e[n]=t,!0)}function Fp(e,n,t,r){let a=Er(e,n,t);return Er(e,n+1,r)||a}var a1=Symbol("BINDING");var us=class extends qa{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=nn(n);return new _r(t,this.ngModule)}};function L4(e){return Object.keys(e).map(n=>{let[t,r,a]=e[n],o={propName:t,templateName:n,isSignal:(r&xs.SignalBased)!==0};return a&&(o.transform=a),o})}function E4(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function _4(e,n,t){let r=n instanceof ve?n:n?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new r1(t,r):t}function A4(e){let n=e.get(qn,null);if(n===null)throw new I(407,!1);let t=e.get(Tp,null),r=e.get(Cn,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function T4(e,n){let t=(e.selectors[0][0]||"div").toLowerCase();return tp(n,t,t==="svg"?I2:t==="math"?C2:null)}var _r=class extends _s{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=L4(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=E4(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=gv(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,r,a,o,i){J(22);let s=H(null);try{let c=this.componentDef,d=R4(r,c,i,o),l=_4(c,a||this.ngModule,n),u=A4(l),p=u.rendererFactory.createRenderer(null,c),h=r?bv(p,r,c.encapsulation,l):T4(c,p),y=i?.some(l0)||o?.some(v=>typeof v!="function"&&v.bindings.some(l0)),g=w1(null,d,null,512|op(c),null,null,u,p,l,null,K0(h,l,!0));g[ye]=h,Yi(g);let m=null;try{let v=Op(ye,d,g,"#host",()=>d.directiveRegistry,!0,0);h&&(ap(p,h,v),ja(h,g)),C1(d,g,v),Y0(d,v,g),Np(d,v),t!==void 0&&O4(v,this.ngContentSelectors,t),m=ft(v.index,g),g[ue]=m[ue],b1(d,g,null)}catch(v){throw m!==null&&Xl(m),Xl(g),v}finally{J(23),Ji()}return new hs(this.componentType,g,!!y)}finally{H(s)}}};function R4(e,n,t,r){let a=e?["ng-version","20.0.4"]:mv(n.selectors[0]),o=null,i=null,s=0;if(t)for(let l of t)s+=l[a1].requiredVars,l.create&&(l.targetIdx=0,(o??=[]).push(l)),l.update&&(l.targetIdx=0,(i??=[]).push(l));if(r)for(let l=0;l<r.length;l++){let u=r[l];if(typeof u!="function")for(let p of u.bindings){s+=p[a1].requiredVars;let h=l+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(i??=[]).push(p))}}let c=[n];if(r)for(let l of r){let u=typeof l=="function"?l:l.type,p=pl(u);c.push(p)}return M1(0,null,P4(o,i),1,s,c,null,null,null,[a],null)}function P4(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let r of e)r.create();if(t&2&&n)for(let r of n)r.update()}}function l0(e){let n=e[a1].kind;return n==="input"||n==="twoWay"}var hs=class extends Ap{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ca(t[O],ye),this.location=g1(this._tNode,t),this.instance=ft(this._tNode.index,t)[ue],this.hostView=this.changeDetectorRef=new Hn(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let a=this._rootLView,o=x1(r,a[O],a,n,t);this.previousInputValues.set(n,t);let i=ft(r.index,a);bp(i,1)}get injector(){return new jn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function O4(e,n,t){let r=e.projection=[];for(let a=0;a<n.length;a++){let o=t[a];r.push(o!=null&&o.length?Array.from(o):null)}}var Va=(()=>{class e{static __NG_ELEMENT_ID__=N4}return e})();function N4(){let e=It();return j4(e,W())}var F4=Va,jp=class extends F4{_lContainer;_hostTNode;_hostLView;constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return g1(this._hostTNode,this._hostLView)}get injector(){return new jn(this._hostTNode,this._hostLView)}get parentInjector(){let n=y1(this._hostTNode,this._hostLView);if(E0(n)){let t=ss(n,this._hostLView),r=is(n),a=t[O].data[r+8];return new jn(a,t)}else return new jn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=u0(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-Me}createEmbeddedView(n,t,r){let a,o;typeof r=="number"?a=r:r!=null&&(a=r.index,o=r.injector);let i=ls(this._lContainer,n.ssrId),s=n.createEmbeddedViewImpl(t||{},o,i);return this.insertImpl(s,a,Lr(this._hostTNode,i)),s}createComponent(n,t,r,a,o,i,s){let c=n&&!Ak(n),d;if(c)d=t;else{let m=t||{};d=m.index,r=m.injector,a=m.projectableNodes,o=m.environmentInjector||m.ngModuleRef,i=m.directives,s=m.bindings}let l=c?n:new _r(nn(n)),u=r||this.parentInjector;if(!o&&l.ngModule==null){let v=(c?u:this.parentInjector).get(ve,null);v&&(o=v)}let p=nn(l.componentType??{}),h=ls(this._lContainer,p?.id??null),y=h?.firstChild??null,g=l.create(u,a,y,o,i,s);return this.insertImpl(g.hostView,d,Lr(this._hostTNode,h)),g}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,r){let a=n._lView;if(S2(a)){let s=this.indexOf(n);if(s!==-1)this.detach(s);else{let c=a[pe],d=new jp(c,c[Ae],c[pe]);d.detach(d.indexOf(n))}}let o=this._adjustIndex(t),i=this._lContainer;return Ha(i,a,o,r),n.attachToViewContainerRef(),dl(Ul(i),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=u0(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),r=Pa(this._lContainer,t);r&&(ga(Ul(this._lContainer),t),Ds(r[O],r))}detach(n){let t=this._adjustIndex(n,-1),r=Pa(this._lContainer,t);return r&&ga(Ul(this._lContainer),t)!=null?new Hn(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function u0(e){return e[wa]}function Ul(e){return e[wa]||(e[wa]=[])}function j4(e,n){let t,r=n[e.index];return ht(r)?t=r:(t=Sp(r,n,null,e),n[e.index]=t,I1(n,t)),q4(t,n,e,r),new jp(t,e,n)}function H4(e,n){let t=e[fe],r=t.createComment(""),a=Vt(n,e),o=t.parentNode(a);return ds(t,o,r,t.nextSibling(a),!1),r}var q4=B4,V4=()=>!1;function z4(e,n,t){return V4(e,n,t)}function B4(e,n,t,r){if(e[rn])return;let a;t.type&8?a=pt(r):a=H4(n,t),e[rn]=a}var h0=new Set;function dn(e){h0.has(e)||(h0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Vn=class{},Ts=class{};var ps=class extends Vn{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new us(this);constructor(n,t,r,a=!0){super(),this.ngModuleType=n,this._parent=t;let o=hl(n);this._bootstrapComponents=J0(o.bootstrap),this._r3Injector=Nl(n,t,[{provide:Vn,useValue:this},{provide:qa,useValue:this.componentFactoryResolver},...r],Be(n),new Set(["environment"])),a&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},fs=class extends Ts{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new ps(this.moduleType,n,[])}};var Oa=class extends Vn{injector;componentFactoryResolver=new us(this);instance=null;constructor(n){super();let t=new In([...n.providers,{provide:Vn,useValue:this},{provide:qa,useValue:this.componentFactoryResolver}],n.parent||ka(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function za(e,n,t=null){return new Oa({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var U4=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=fl(!1,t.type),a=r.length>0?za([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,a)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=C({token:e,providedIn:"environment",factory:()=>new e(S(ve))})}return e})();function We(e){return Ar(()=>{let n=Hp(e),t=$(w({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===m1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?a=>a.get(U4).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||zt.Emulated,styles:e.styles||lt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&dn("NgStandalone"),qp(t);let r=e.dependencies;return t.directiveDefs=p0(r,!1),t.pipeDefs=p0(r,!0),t.id=K4(t),t})}function $4(e){return nn(e)||pl(e)}function G4(e){return e!==null}function zn(e){return Ar(()=>({type:e.type,bootstrap:e.bootstrap||lt,declarations:e.declarations||lt,imports:e.imports||lt,exports:e.exports||lt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function W4(e,n){if(e==null)return Sn;let t={};for(let r in e)if(e.hasOwnProperty(r)){let a=e[r],o,i,s,c;Array.isArray(a)?(s=a[0],o=a[1],i=a[2]??o,c=a[3]||null):(o=a,i=a,s=xs.None,c=null),t[o]=[r,s,c],n[o]=i}return t}function Z4(e){if(e==null)return Sn;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Rs(e){return Ar(()=>{let n=Hp(e);return qp(n),n})}function A1(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Hp(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||Sn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||lt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:W4(e.inputs,n),outputs:Z4(e.outputs),debugInfo:null}}function qp(e){e.features?.forEach(n=>n(e))}function p0(e,n){if(!e)return null;let t=n?f2:$4;return()=>(typeof e=="function"?e():e).map(r=>t(r)).filter(G4)}function K4(e){let n=0,t=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function X4(e,n,t,r,a,o,i,s,c){let d=n.consts,l=Es(n,e,4,i||null,s||null);bl()&&Rp(n,t,l,an(d,c),lp),l.mergedAttrs=f1(l.mergedAttrs,l.attrs),D0(n,l);let u=l.tView=M1(2,l,r,a,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,d,null);return n.queries!==null&&(n.queries.template(n,l),u.queries=n.queries.embeddedTView(l)),l}function Na(e,n,t,r,a,o,i,s,c,d,l){let u=t+ye,p=n.firstCreatePass?X4(u,n,e,r,a,o,i,s,d):n.data[u];c&&(p.flags|=c),xr(p,!1);let h=Y4(n,e,p,t);Qi()&&L1(n,e,h,p),ja(h,e);let y=Sp(h,e,h,p);return e[u]=y,I1(e,y),z4(y,p,e),Ml(p)&&C1(n,e,p),d!=null&&dp(e,p,l),p}var Y4=J4;function J4(e,n,t,r){return es(!0),n[fe].createComment("")}var T1=function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e}(T1||{}),Ba=new b(""),Vp=!1,o1=class extends ee{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,M2()&&(this.destroyRef=M(Nn,{optional:!0})??void 0,this.pendingTasks=M(sn,{optional:!0})??void 0)}emit(n){let t=H(null);try{super.next(n)}finally{H(t)}}subscribe(n,t,r){let a=n,o=t||(()=>null),i=r;if(n&&typeof n=="object"){let c=n;a=c.next?.bind(c),o=c.error?.bind(c),i=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),a&&(a=this.wrapInTimeout(a)),i&&(i=this.wrapInTimeout(i)));let s=super.subscribe({next:a,error:o,complete:i});return n instanceof ie&&n.add(s),s}wrapInTimeout(n){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Re=o1;function zp(e){let n,t;function r(){e=Ea;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),r()})),()=>r()}function f0(e){return queueMicrotask(()=>e()),()=>{e=Ea}}var R1="isAngularZone",ys=R1+"_ID",Q4=0,he=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Re(!1);onMicrotaskEmpty=new Re(!1);onStable=new Re(!1);onError=new Re(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:a=!1,scheduleInRootZone:o=Vp}=n;if(typeof Zone>"u")throw new I(908,!1);Zone.assertZonePatched();let i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!a&&r,i.shouldCoalesceRunChangeDetection=a,i.callbackScheduled=!1,i.scheduleInRootZone=o,n5(i)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(R1)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new I(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new I(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,a){let o=this._inner,i=o.scheduleEventTask("NgZoneEvent: "+a,n,e5,Ea,Ea);try{return o.runTask(i,t,r)}finally{o.cancelTask(i)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}},e5={};function P1(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function t5(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){zp(()=>{e.callbackScheduled=!1,i1(e),e.isCheckStableRunning=!0,P1(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),i1(e)}function n5(e){let n=()=>{t5(e)},t=Q4++;e._inner=e._inner.fork({name:"angular",properties:{[R1]:!0,[ys]:t,[ys+t]:!0},onInvokeTask:(r,a,o,i,s,c)=>{if(r5(c))return r.invokeTask(o,i,s,c);try{return y0(e),r.invokeTask(o,i,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&i.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),g0(e)}},onInvoke:(r,a,o,i,s,c,d)=>{try{return y0(e),r.invoke(o,i,s,c,d)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!a5(c)&&n(),g0(e)}},onHasTask:(r,a,o,i)=>{r.hasTask(o,i),a===o&&(i.change=="microTask"?(e._hasPendingMicrotasks=i.microTask,i1(e),P1(e)):i.change=="macroTask"&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(r,a,o,i)=>(r.handleError(o,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}function i1(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function y0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function g0(e){e._nesting--,P1(e)}var gs=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Re;onMicrotaskEmpty=new Re;onStable=new Re;onError=new Re;run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,a){return n.apply(t,r)}};function r5(e){return Bp(e,"__ignore_ng_zone__")}function a5(e){return Bp(e,"__scheduler_tick__")}function Bp(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Up=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=C({token:e,providedIn:"root",factory:()=>new e})}return e})();var O1=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var N1=new b("");function Pr(e){return!!e&&typeof e.then=="function"}function F1(e){return!!e&&typeof e.subscribe=="function"}var $p=new b("");var j1=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M($p,{optional:!0})??[];injector=M(Qe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let a of this.appInits){let o=Ue(this.injector,a);if(Pr(o))t.push(o);else if(F1(o)){let i=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});t.push(i)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(a=>{this.reject(a)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ps=new b("");function Gp(){kd(()=>{let e="";throw new I(600,e)})}function Wp(e){return e.isBoundToModule}var o5=10;var Bn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(tt);afterRenderManager=M(Up);zonelessEnabled=M(La);rootEffectScheduler=M(ql);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new ee;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(sn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(E(t=>!t))}constructor(){M(Ba,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:a=>{a&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(ve);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,a=Qe.NULL){return this._injector.get(he).run(()=>{J(10);let i=t instanceof _s;if(!this._injector.get(j1).done){let y="";throw new I(405,y)}let c;i?c=t:c=this._injector.get(qa).resolveComponentFactory(t),this.componentTypes.push(c.componentType);let d=Wp(c)?void 0:this._injector.get(Vn),l=r||c.selector,u=c.create(a,[],l,d),p=u.location.nativeElement,h=u.injector.get(N1,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),Aa(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),J(11,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){J(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(T1.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new I(101,!1);let t=H(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,H(t),this.afterTick.next(),J(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qn,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<o5;)J(14),this.synchronizeOnce(),J(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:a}of this.allViews){if(!r&&!xa(a))continue;let o=r&&!this.zonelessEnabled?0:1;_1(a,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>xa(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Aa(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(a){this.internalErrorHandler(a)}this.components.push(t),this._injector.get(Ps,[]).forEach(a=>a(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Aa(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new I(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Aa(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}var s1=class{destroy(n){}updateValue(n,t){}swap(n,t){let r=Math.min(n,t),a=Math.max(n,t),o=this.detach(a);if(a-r>1){let i=this.detach(r);this.attach(r,o),this.attach(a,i)}else this.attach(r,o)}move(n,t){this.attach(t,this.detach(n))}};function $l(e,n,t,r,a){return e===t&&Object.is(n,r)?1:Object.is(a(e,n),a(t,r))?-1:0}function i5(e,n,t){let r,a,o=0,i=e.length-1,s=void 0;if(Array.isArray(n)){let c=n.length-1;for(;o<=i&&o<=c;){let d=e.at(o),l=n[o],u=$l(o,d,o,l,t);if(u!==0){u<0&&e.updateValue(o,l),o++;continue}let p=e.at(i),h=n[c],y=$l(i,p,c,h,t);if(y!==0){y<0&&e.updateValue(i,h),i--,c--;continue}let g=t(o,d),m=t(i,p),v=t(o,l);if(Object.is(v,m)){let x=t(c,h);Object.is(x,g)?(e.swap(o,i),e.updateValue(i,h),c--,i--):e.move(i,o),e.updateValue(o,l),o++;continue}if(r??=new ms,a??=k0(e,o,i,t),c1(e,r,o,v))e.updateValue(o,l),o++,i++;else if(a.has(v))r.set(g,e.detach(o)),i--;else{let x=e.create(o,n[o]);e.attach(o,x),o++,i++}}for(;o<=c;)m0(e,r,t,o,n[o]),o++}else if(n!=null){let c=n[Symbol.iterator](),d=c.next();for(;!d.done&&o<=i;){let l=e.at(o),u=d.value,p=$l(o,l,o,u,t);if(p!==0)p<0&&e.updateValue(o,u),o++,d=c.next();else{r??=new ms,a??=k0(e,o,i,t);let h=t(o,u);if(c1(e,r,o,h))e.updateValue(o,u),o++,i++,d=c.next();else if(!a.has(h))e.attach(o,e.create(o,u)),o++,i++,d=c.next();else{let y=t(o,l);r.set(y,e.detach(o)),i--}}}for(;!d.done;)m0(e,r,t,e.length,d.value),d=c.next()}for(;o<=i;)e.destroy(e.detach(i--));r?.forEach(c=>{e.destroy(c)})}function c1(e,n,t,r){return n!==void 0&&n.has(r)?(e.attach(t,n.get(r)),n.delete(r),!0):!1}function m0(e,n,t,r,a){if(c1(e,n,r,t(r,a)))e.updateValue(r,a);else{let o=e.create(r,a);e.attach(r,o)}}function k0(e,n,t,r){let a=new Set;for(let o=n;o<=t;o++)a.add(r(o,e.at(o)));return a}var ms=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let r=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let a=this._vMap;for(;a.has(r);)r=a.get(r);a.set(r,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,r]of this.kvMap)if(n(r,t),this._vMap!==void 0){let a=this._vMap;for(;a.has(r);)r=a.get(r),n(r,t)}}};function Ua(e,n,t,r,a,o,i,s){dn("NgControlFlow");let c=W(),d=yt(),l=an(d.consts,o);return Na(c,d,e,n,t,r,a,l,256,i,s),H1}function H1(e,n,t,r,a,o,i,s){dn("NgControlFlow");let c=W(),d=yt(),l=an(d.consts,o);return Na(c,d,e,n,t,r,a,l,512,i,s),H1}function $a(e,n){dn("NgControlFlow");let t=W(),r=Da(),a=t[r]!==xt?t[r]:-1,o=a!==-1?ks(t,ye+a):void 0,i=0;if(Er(t,r,e)){let s=H(null);try{if(o!==void 0&&Lp(o,i),e!==-1){let c=ye+e,d=ks(t,c),l=h1(t[O],c),u=_p(d,l,t),p=bs(t,l,n,{dehydratedView:u});Ha(d,p,i,Lr(l,u))}}finally{H(s)}}else if(o!==void 0){let s=Dp(o,i);s!==void 0&&(s[ue]=n)}}var d1=class{lContainer;$implicit;$index;constructor(n,t,r){this.lContainer=n,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Me}};var l1=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,r){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=r}};function q1(e,n,t,r,a,o,i,s,c,d,l,u,p){dn("NgControlFlow");let h=W(),y=yt(),g=c!==void 0,m=W(),v=s?i.bind(m[Te][ue]):i,x=new l1(g,v);m[ye+e]=x,Na(h,y,e+1,n,t,r,a,an(y.consts,o),256),g&&Na(h,y,e+2,c,d,l,u,an(y.consts,p),512)}var u1=class extends s1{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,r){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=r}get length(){return this.lContainer.length-Me}at(n){return this.getLView(n)[ue].$implicit}attach(n,t){let r=t[Ln];this.needsIndexUpdate||=n!==this.length,Ha(this.lContainer,t,n,Lr(this.templateTNode,r))}detach(n){return this.needsIndexUpdate||=n!==this.length-1,s5(this.lContainer,n)}create(n,t){let r=ls(this.lContainer,this.templateTNode.tView.ssrId),a=bs(this.hostLView,this.templateTNode,new d1(this.lContainer,t,n),{dehydratedView:r});return this.operationsCounter?.recordCreate(),a}destroy(n){Ds(n[O],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[ue].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[ue].$index=n}getLView(n){return c5(this.lContainer,n)}};function V1(e){let n=H(null),t=br();try{let r=W(),a=r[O],o=r[t],i=t+1,s=ks(r,i);if(o.liveCollection===void 0){let d=h1(a,i);o.liveCollection=new u1(s,r,d)}else o.liveCollection.reset();let c=o.liveCollection;if(i5(c,e,o.trackByFn),c.updateIndexes(),o.hasEmptyBlock){let d=Da(),l=c.length===0;if(Er(r,d,l)){let u=t+2,p=ks(r,u);if(l){let h=h1(a,u),y=_p(p,h,r),g=bs(r,h,void 0,{dehydratedView:y});Ha(p,g,0,Lr(h,y))}else a.firstUpdatePass&&p4(p),Lp(p,0)}}}finally{H(n)}}function ks(e,n){return e[n]}function s5(e,n){return Pa(e,n)}function c5(e,n){return Dp(e,n)}function h1(e,n){return Ca(e,n)}function ln(e,n,t){let r=W(),a=Da();if(Er(r,a,n)){let o=yt(),i=G2();Ev(i,r,e,n,r[fe],t)}return ln}function v0(e,n,t,r,a){x1(n,e,t,a?"class":"style",r)}function Z(e,n,t,r){let a=W(),o=yt(),i=ye+e,s=a[fe],c=o.firstCreatePass?Op(i,o,a,n,lp,bl(),t,r):o.data[i],d=d5(o,a,c,s,n,e);a[i]=d;let l=Ml(c);return xr(c,!0),ap(s,d,c),!Ss(c)&&Qi()&&L1(o,a,d,c),(E2()===0||l)&&ja(d,a),_2(),l&&(C1(o,a,c),Y0(o,c,a)),r!==null&&dp(a,c),Z}function ne(){let e=It();Ll()?El():(e=e.parent,xr(e,!1));let n=e;T2(n)&&R2(),A2();let t=yt();return t.firstCreatePass&&Np(t,n),n.classesWithoutHost!=null&&Fk(n)&&v0(t,n,W(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&jk(n)&&v0(t,n,W(),n.stylesWithoutHost,!1),ne}function Oe(e,n,t,r){return Z(e,n,t,r),ne(),Oe}var d5=(e,n,t,r,a,o)=>(es(!0),tp(r,a,W2()));var Fn=void 0;function l5(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var u5=["en",[["a","p"],["AM","PM"],Fn],[["AM","PM"],Fn,Fn],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fn,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fn,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fn,"{1} 'at' {0}",Fn],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",l5],Gl={};function Ze(e){let n=h5(e),t=M0(n);if(t)return t;let r=n.split("-")[0];if(t=M0(r),t)return t;if(r==="en")return u5;throw new I(701,!1)}function M0(e){return e in Gl||(Gl[e]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[e]),Gl[e]}var oe=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}(oe||{});function h5(e){return e.toLowerCase().replace(/_/g,"-")}var Ga="en-US";var p5=Ga;function Zp(e){typeof e=="string"&&(p5=e.toLowerCase().replace(/_/g,"-"))}function Wa(e=1){return $2(e)}function f5(e,n){let t=null,r=uv(e);for(let a=0;a<n.length;a++){let o=n[a];if(o==="*"){t=a;continue}if(r===null?ep(e,o,!0):fv(r,o))return a}return t}function z1(e){let n=W()[Te][Ae];if(!n.projection){let t=e?e.length:1,r=n.projection=p2(t,null),a=r.slice(),o=n.child;for(;o!==null;){if(o.type!==128){let i=e?f5(o,e):0;i!==null&&(a[i]?a[i].projectionNext=o:r[i]=o,a[i]=o)}o=o.next}}}function B1(e,n=0,t,r,a,o){let i=W(),s=yt(),c=r?e+1:null;c!==null&&Na(i,s,c,r,a,o,null,t);let d=Es(s,ye+e,16,null,t||null);d.projection===null&&(d.projection=n),El();let u=!i[Ln]||Sl();i[Te][Ae].projection[d.projection]===null&&c!==null?y5(i,s,c):u&&!Ss(d)&&Kv(s,i,d)}function y5(e,n,t){let r=ye+t,a=n.data[r],o=e[r],i=ls(o,a.tView.ssrId),s=bs(e,a,void 0,{dehydratedView:i});Ha(o,s,0,Lr(a,i))}function we(e,n=""){let t=W(),r=yt(),a=e+ye,o=r.firstCreatePass?Es(r,a,1,n,null):r.data[a],i=g5(r,t,o,n,e);t[a]=i,Qi()&&L1(r,t,i,o),xr(o,!1)}var g5=(e,n,t,r,a)=>(es(!0),kv(n[fe],r));function m5(e,n,t,r=""){return Er(e,Da(),t)?n+ya(t)+r:xt}function k5(e,n,t,r,a,o=""){let i=N2(),s=Fp(e,i,t,a);return j2(2),s?n+ya(t)+r+ya(a)+o:xt}function Za(e,n,t){let r=W(),a=m5(r,e,n,t);return a!==xt&&Kp(r,br(),a),Za}function Or(e,n,t,r,a){let o=W(),i=k5(o,e,n,t,r,a);return i!==xt&&Kp(o,br(),i),Or}function Kp(e,n,t){let r=x2(n,e);vv(e[fe],r,t)}function v5(e,n){let t=e[n];return t===xt?void 0:t}function M5(e,n,t,r,a,o,i){let s=n+t;return Fp(e,s,a,o)?D4(e,s+2,i?r.call(i,a,o):r(a,o)):v5(e,s+2)}function Os(e,n){let t=yt(),r,a=e+ye;t.firstCreatePass?(r=w5(n,t.pipeRegistry),t.data[a]=r,r.onDestroy&&(t.destroyHooks??=[]).push(a,r.onDestroy)):r=t.data[a];let o=r.factory||(r.factory=Qt(r.type,!0)),i,s=_e(Pe);try{let c=cs(!1),d=o();return cs(c),wl(t,W(),a,d),d}finally{_e(s)}}function w5(e,n){if(n)for(let t=n.length-1;t>=0;t--){let r=n[t];if(e===r.name)return r}}function Ns(e,n,t,r){let a=e+ye,o=W(),i=b2(o,a);return I5(o,a)?M5(o,O2(),n,i.transform,t,r,i):i.transform(t,r)}function I5(e,n){return e[O].data[n].pure}var vs=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},U1=(()=>{class e{compileModuleSync(t){return new fs(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),a=hl(t),o=J0(a.declarations).reduce((i,s)=>{let c=nn(s);return c&&i.push(new _r(c)),i},[]);return new vs(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var C5=(()=>{class e{zone=M(he);changeDetectionScheduler=M(Cn);applicationRef=M(Bn);applicationErrorHandler=M(tt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xp=new b("",{factory:()=>!1});function $1({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new he($(w({},W1()),{scheduleInRootZone:t})),[{provide:he,useFactory:e},{provide:Ht,multi:!0,useFactory:()=>{let r=M(C5,{optional:!0});return()=>r.initialize()}},{provide:Ht,multi:!0,useFactory:()=>{let r=M(x5);return()=>{r.initialize()}}},n===!0?{provide:jl,useValue:!0}:[],{provide:Hl,useValue:t??Vp},{provide:tt,useFactory:()=>{let r=M(he),a=M(ve),o;return i=>{o??=a.get(Mt),r.runOutsideAngular(()=>o.handleError(i))}}}]}function G1(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,r=$1({ngZoneFactory:()=>{let a=W1(e);return a.scheduleInRootZone=t,a.shouldCoalesceEventChangeDetection&&dn("NgZone_CoalesceEvent"),new he(a)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return Dn([{provide:Xp,useValue:!0},{provide:La,useValue:!1},r])}function W1(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var x5=(()=>{class e{subscription=new ie;initialized=!1;zone=M(he);pendingTasks=M(sn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{he.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{he.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Yp=(()=>{class e{applicationErrorHandler=M(tt);appRef=M(Bn);taskService=M(sn);ngZone=M(he);zonelessEnabled=M(La);tracing=M(Ba,{optional:!0});disableScheduling=M(jl,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ie;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(ys):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(Hl,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof gs||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let a=this.useMicrotaskScheduler?f0:zp;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>a(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>a(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(ys+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,f0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function b5(){return typeof $localize<"u"&&$localize.locale||Ga}var Ka=new b("",{providedIn:"root",factory:()=>M(Ka,{optional:!0,skipSelf:!0})||b5()});var Qp=Symbol("InputSignalNode#UNSET"),q5=$(w({},Md),{transformFn:void 0,applyValueToInputSignal(e,n){vd(e,n)}});function ef(e,n){let t=Object.create(q5);t.value=e,t.transformFn=n?.transform;function r(){if(fd(t),t.value===Qp){let a=null;throw new I(-950,a)}return t.value}return r[si]=t,r}var V5=new b("");V5.__NG_ELEMENT_ID__=e=>{let n=It();if(n===null)throw new I(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new I(204,!1)};function Jp(e,n){return ef(e,n)}function z5(e){return ef(Qp,e)}var tf=(Jp.required=z5,Jp);var Z1=class{full;major;minor;patch;constructor(n){this.full=n;let t=n.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},nf=new Z1("20.0.4");var K1=new b(""),B5=new b("");function Xa(e){return!e.moduleRef}function U5(e){let n=Xa(e)?e.r3Injector:e.moduleRef.injector,t=n.get(he);return t.run(()=>{Xa(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=n.get(tt),a;if(t.runOutsideAngular(()=>{a=t.onError.subscribe({next:r})}),Xa(e)){let o=()=>n.destroy(),i=e.platformInjector.get(K1);i.add(o),n.onDestroy(()=>{a.unsubscribe(),i.delete(o)})}else{let o=()=>e.moduleRef.destroy(),i=e.platformInjector.get(K1);i.add(o),e.moduleRef.onDestroy(()=>{Aa(e.allPlatformModules,e.moduleRef),a.unsubscribe(),i.delete(o)})}return G5(r,t,()=>{let o=n.get(j1);return o.runInitializers(),o.donePromise.then(()=>{let i=n.get(Ka,Ga);if(Zp(i||Ga),!n.get(B5,!0))return Xa(e)?n.get(Bn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(Xa(e)){let c=n.get(Bn);return e.rootComponent!==void 0&&c.bootstrap(e.rootComponent),c}else return $5?.(e.moduleRef,e.allPlatformModules),e.moduleRef})})})}var $5;function G5(e,n,t){try{let r=t();return Pr(r)?r.catch(a=>{throw n.runOutsideAngular(()=>e(a)),a}):r}catch(r){throw n.runOutsideAngular(()=>e(r)),r}}var Fs=null;function W5(e=[],n){return Qe.create({name:n,providers:[{provide:ma,useValue:"platform"},{provide:K1,useValue:new Set([()=>Fs=null])},...e]})}function Z5(e=[]){if(Fs)return Fs;let n=W5(e);return Fs=n,Gp(),K5(n),n}function K5(e){let n=e.get(Is,null);Ue(e,()=>{n?.forEach(t=>t())})}var Ya=(()=>{class e{static __NG_ELEMENT_ID__=X5}return e})();function X5(e){return Y5(It(),W(),(e&16)===16)}function Y5(e,n,t){if(Rn(e)&&!t){let r=ft(e.index,n);return new Hn(r,r)}else if(e.type&175){let r=n[Te];return new Hn(r,n)}return null}function rf(e){J(8);try{let{rootComponent:n,appProviders:t,platformProviders:r}=e,a=Z5(r),o=[$1({}),{provide:Cn,useExisting:Yp},K2,...t||[]],i=new Oa({providers:o,parent:a,debugName:"",runEnvironmentInitializers:!1});return U5({r3Injector:i.injector,platformInjector:a,rootComponent:n})}catch(n){return Promise.reject(n)}finally{J(9)}}var sf=null;function Bt(){return sf}function X1(e){sf??=e}var Ja=class{},Y1=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>M(cf),providedIn:"platform"})}return e})();var cf=(()=>{class e extends Y1{_location;_history;_doc=M(ge);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Bt().getBaseHref(this._doc)}onPopState(t){let r=Bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Bt().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,a){this._history.pushState(t,r,a)}replaceState(t,r,a){this._history.replaceState(t,r,a)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function df(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function af(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function un(e){return e&&e[0]!=="?"?`?${e}`:e}var Hs=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>M(uf),providedIn:"root"})}return e})(),lf=new b(""),uf=(()=>{class e extends Hs{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(ge).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return df(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+un(this._platformLocation.search),a=this._platformLocation.hash;return a&&t?`${r}${a}`:r}pushState(t,r,a,o){let i=this.prepareExternalUrl(a+un(o));this._platformLocation.pushState(t,r,i)}replaceState(t,r,a,o){let i=this.prepareExternalUrl(a+un(o));this._platformLocation.replaceState(t,r,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||e)(S(Y1),S(lf,8))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hn=(()=>{class e{_subject=new ee;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=eM(af(of(r))),this._locationStrategy.onPopState(a=>{this._subject.next({url:this.path(!0),pop:!0,state:a.state,type:a.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+un(r))}normalize(t){return e.stripTrailingSlash(Q5(this._basePath,of(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",a=null){this._locationStrategy.pushState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+un(r)),a)}replaceState(t,r="",a=null){this._locationStrategy.replaceState(a,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+un(r)),a)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(a=>a(t,r))}subscribe(t,r,a){return this._subject.subscribe({next:t,error:r??void 0,complete:a??void 0})}static normalizeQueryParams=un;static joinWithSlash=df;static stripTrailingSlash=af;static \u0275fac=function(r){return new(r||e)(S(Hs))};static \u0275prov=C({token:e,factory:()=>J5(),providedIn:"root"})}return e})();function J5(){return new hn(S(Hs))}function Q5(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function of(e){return e.replace(/\/index.html$/,"")}function eM(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var De=function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e}(De||{}),G=function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e}(G||{}),Ve=function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e}(Ve||{}),$t={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function pf(e){return Ze(e)[oe.LocaleId]}function ff(e,n,t){let r=Ze(e),a=[r[oe.DayPeriodsFormat],r[oe.DayPeriodsStandalone]],o=nt(a,n);return nt(o,t)}function yf(e,n,t){let r=Ze(e),a=[r[oe.DaysFormat],r[oe.DaysStandalone]],o=nt(a,n);return nt(o,t)}function gf(e,n,t){let r=Ze(e),a=[r[oe.MonthsFormat],r[oe.MonthsStandalone]],o=nt(a,n);return nt(o,t)}function mf(e,n){let r=Ze(e)[oe.Eras];return nt(r,n)}function Qa(e,n){let t=Ze(e);return nt(t[oe.DateFormat],n)}function eo(e,n){let t=Ze(e);return nt(t[oe.TimeFormat],n)}function to(e,n){let r=Ze(e)[oe.DateTimeFormat];return nt(r,n)}function no(e,n){let t=Ze(e),r=t[oe.NumberSymbols][n];if(typeof r>"u"){if(n===$t.CurrencyDecimal)return t[oe.NumberSymbols][$t.Decimal];if(n===$t.CurrencyGroup)return t[oe.NumberSymbols][$t.Group]}return r}function kf(e){if(!e[oe.ExtraData])throw new I(2303,!1)}function vf(e){let n=Ze(e);return kf(n),(n[oe.ExtraData][2]||[]).map(r=>typeof r=="string"?J1(r):[J1(r[0]),J1(r[1])])}function Mf(e,n,t){let r=Ze(e);kf(r);let a=[r[oe.ExtraData][0],r[oe.ExtraData][1]],o=nt(a,n)||[];return nt(o,t)||[]}function nt(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new I(2304,!1)}function J1(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var nM=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,qs={},rM=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function wf(e,n,t,r){let a=hM(e);n=Ut(t,n)||n;let i=[],s;for(;n;)if(s=rM.exec(n),s){i=i.concat(s.slice(1));let l=i.pop();if(!l)break;n=l}else{i.push(n);break}let c=a.getTimezoneOffset();r&&(c=Cf(r,c),a=uM(a,r));let d="";return i.forEach(l=>{let u=dM(l);d+=u?u(a,t,c):l==="''"?"'":l.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function $s(e,n,t){let r=new Date(0);return r.setFullYear(e,n,t),r.setHours(0,0,0),r}function Ut(e,n){let t=pf(e);if(qs[t]??={},qs[t][n])return qs[t][n];let r="";switch(n){case"shortDate":r=Qa(e,Ve.Short);break;case"mediumDate":r=Qa(e,Ve.Medium);break;case"longDate":r=Qa(e,Ve.Long);break;case"fullDate":r=Qa(e,Ve.Full);break;case"shortTime":r=eo(e,Ve.Short);break;case"mediumTime":r=eo(e,Ve.Medium);break;case"longTime":r=eo(e,Ve.Long);break;case"fullTime":r=eo(e,Ve.Full);break;case"short":let a=Ut(e,"shortTime"),o=Ut(e,"shortDate");r=Vs(to(e,Ve.Short),[a,o]);break;case"medium":let i=Ut(e,"mediumTime"),s=Ut(e,"mediumDate");r=Vs(to(e,Ve.Medium),[i,s]);break;case"long":let c=Ut(e,"longTime"),d=Ut(e,"longDate");r=Vs(to(e,Ve.Long),[c,d]);break;case"full":let l=Ut(e,"fullTime"),u=Ut(e,"fullDate");r=Vs(to(e,Ve.Full),[l,u]);break}return r&&(qs[t][n]=r),r}function Vs(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,r){return n!=null&&r in n?n[r]:t})),e}function mt(e,n,t="-",r,a){let o="";(e<0||a&&e<=0)&&(a?e=-e+1:(e=-e,o=t));let i=String(e);for(;i.length<n;)i="0"+i;return r&&(i=i.slice(i.length-n)),o+i}function aM(e,n){return mt(e,3).substring(0,n)}function se(e,n,t=0,r=!1,a=!1){return function(o,i){let s=oM(e,o);if((t>0||s>-t)&&(s+=t),e===3)s===0&&t===-12&&(s=12);else if(e===6)return aM(s,n);let c=no(i,$t.MinusSign);return mt(s,n,c,r,a)}}function oM(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new I(2301,!1)}}function K(e,n,t=De.Format,r=!1){return function(a,o){return iM(a,o,e,n,t,r)}}function iM(e,n,t,r,a,o){switch(t){case 2:return gf(n,a,r)[e.getMonth()];case 1:return yf(n,a,r)[e.getDay()];case 0:let i=e.getHours(),s=e.getMinutes();if(o){let d=vf(n),l=Mf(n,a,r),u=d.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,g=i>=h.hours&&s>=h.minutes,m=i<y.hours||i===y.hours&&s<y.minutes;if(h.hours<y.hours){if(g&&m)return!0}else if(g||m)return!0}else if(p.hours===i&&p.minutes===s)return!0;return!1});if(u!==-1)return l[u]}return ff(n,a,r)[i<12?0:1];case 3:return mf(n,r)[e.getFullYear()<=0?0:1];default:let c=t;throw new I(2302,!1)}}function zs(e){return function(n,t,r){let a=-1*r,o=no(t,$t.MinusSign),i=a>0?Math.floor(a/60):Math.ceil(a/60);switch(e){case 0:return(a>=0?"+":"")+mt(i,2,o)+mt(Math.abs(a%60),2,o);case 1:return"GMT"+(a>=0?"+":"")+mt(i,1,o);case 2:return"GMT"+(a>=0?"+":"")+mt(i,2,o)+":"+mt(Math.abs(a%60),2,o);case 3:return r===0?"Z":(a>=0?"+":"")+mt(i,2,o)+":"+mt(Math.abs(a%60),2,o);default:throw new I(2302,!1)}}}var sM=0,Us=4;function cM(e){let n=$s(e,sM,1).getDay();return $s(e,0,1+(n<=Us?Us:Us+7)-n)}function If(e){let n=e.getDay(),t=n===0?-3:Us-n;return $s(e.getFullYear(),e.getMonth(),e.getDate()+t)}function Q1(e,n=!1){return function(t,r){let a;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,i=t.getDate();a=1+Math.floor((i+o)/7)}else{let o=If(t),i=cM(o.getFullYear()),s=o.getTime()-i.getTime();a=1+Math.round(s/6048e5)}return mt(a,e,no(r,$t.MinusSign))}}function Bs(e,n=!1){return function(t,r){let o=If(t).getFullYear();return mt(o,e,no(r,$t.MinusSign),n)}}var eu={};function dM(e){if(eu[e])return eu[e];let n;switch(e){case"G":case"GG":case"GGG":n=K(3,G.Abbreviated);break;case"GGGG":n=K(3,G.Wide);break;case"GGGGG":n=K(3,G.Narrow);break;case"y":n=se(0,1,0,!1,!0);break;case"yy":n=se(0,2,0,!0,!0);break;case"yyy":n=se(0,3,0,!1,!0);break;case"yyyy":n=se(0,4,0,!1,!0);break;case"Y":n=Bs(1);break;case"YY":n=Bs(2,!0);break;case"YYY":n=Bs(3);break;case"YYYY":n=Bs(4);break;case"M":case"L":n=se(1,1,1);break;case"MM":case"LL":n=se(1,2,1);break;case"MMM":n=K(2,G.Abbreviated);break;case"MMMM":n=K(2,G.Wide);break;case"MMMMM":n=K(2,G.Narrow);break;case"LLL":n=K(2,G.Abbreviated,De.Standalone);break;case"LLLL":n=K(2,G.Wide,De.Standalone);break;case"LLLLL":n=K(2,G.Narrow,De.Standalone);break;case"w":n=Q1(1);break;case"ww":n=Q1(2);break;case"W":n=Q1(1,!0);break;case"d":n=se(2,1);break;case"dd":n=se(2,2);break;case"c":case"cc":n=se(7,1);break;case"ccc":n=K(1,G.Abbreviated,De.Standalone);break;case"cccc":n=K(1,G.Wide,De.Standalone);break;case"ccccc":n=K(1,G.Narrow,De.Standalone);break;case"cccccc":n=K(1,G.Short,De.Standalone);break;case"E":case"EE":case"EEE":n=K(1,G.Abbreviated);break;case"EEEE":n=K(1,G.Wide);break;case"EEEEE":n=K(1,G.Narrow);break;case"EEEEEE":n=K(1,G.Short);break;case"a":case"aa":case"aaa":n=K(0,G.Abbreviated);break;case"aaaa":n=K(0,G.Wide);break;case"aaaaa":n=K(0,G.Narrow);break;case"b":case"bb":case"bbb":n=K(0,G.Abbreviated,De.Standalone,!0);break;case"bbbb":n=K(0,G.Wide,De.Standalone,!0);break;case"bbbbb":n=K(0,G.Narrow,De.Standalone,!0);break;case"B":case"BB":case"BBB":n=K(0,G.Abbreviated,De.Format,!0);break;case"BBBB":n=K(0,G.Wide,De.Format,!0);break;case"BBBBB":n=K(0,G.Narrow,De.Format,!0);break;case"h":n=se(3,1,-12);break;case"hh":n=se(3,2,-12);break;case"H":n=se(3,1);break;case"HH":n=se(3,2);break;case"m":n=se(4,1);break;case"mm":n=se(4,2);break;case"s":n=se(5,1);break;case"ss":n=se(5,2);break;case"S":n=se(6,1);break;case"SS":n=se(6,2);break;case"SSS":n=se(6,3);break;case"Z":case"ZZ":case"ZZZ":n=zs(0);break;case"ZZZZZ":n=zs(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=zs(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=zs(2);break;default:return null}return eu[e]=n,n}function Cf(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function lM(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function uM(e,n,t){let a=e.getTimezoneOffset(),o=Cf(n,a);return lM(e,-1*(o-a))}function hM(e){if(hf(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[a,o=1,i=1]=e.split("-").map(s=>+s);return $s(a,o-1,i)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let r;if(r=e.match(nM))return pM(r)}let n=new Date(e);if(!hf(n))throw new I(2302,!1);return n}function pM(e){let n=new Date(0),t=0,r=0,a=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),r=Number(e[9]+e[11])),a.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let i=Number(e[4]||0)-t,s=Number(e[5]||0)-r,c=Number(e[6]||0),d=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,i,s,c,d),n}function hf(e){return e instanceof Date&&!isNaN(e.valueOf())}function fM(e,n){return new I(2100,!1)}var yM="mediumDate",xf=new b(""),bf=new b(""),tu=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,r,a){this.locale=t,this.defaultTimezone=r,this.defaultOptions=a}transform(t,r,a,o){if(t==null||t===""||t!==t)return null;try{let i=r??this.defaultOptions?.dateFormat??yM,s=a??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return wf(t,i,o||this.locale,s)}catch(i){throw fM(e,i.message)}}static \u0275fac=function(r){return new(r||e)(Pe(Ka,16),Pe(xf,24),Pe(bf,24))};static \u0275pipe=A1({name:"date",type:e,pure:!0})}return e})();function nu(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let r=t.indexOf("="),[a,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(a.trim()===n)return decodeURIComponent(o)}return null}var ro=class{};var Sf="browser",kM="server";function Df(e){return e===kM}var Zs=new b(""),iu=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(a=>{a.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,a,o){return this._findPluginFor(r).addEventListener(t,r,a,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new I(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||e)(S(Zs),S(he))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),ao=class{_doc;constructor(n){this._doc=n}manager},Gs="ng-app-id";function Lf(e){for(let n of e)n.remove()}function Ef(e,n){let t=n.createElement("style");return t.textContent=e,t}function MM(e,n,t,r){let a=e.head?.querySelectorAll(`style[${Gs}="${n}"],link[${Gs}="${n}"]`);if(a)for(let o of a)o.removeAttribute(Gs),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function au(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var su=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,a,o={}){this.doc=t,this.appId=r,this.nonce=a,this.isServer=Df(o),MM(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let a of t)this.addUsage(a,this.inline,Ef);r?.forEach(a=>this.addUsage(a,this.external,au))}removeStyles(t,r){for(let a of t)this.removeUsage(a,this.inline);r?.forEach(a=>this.removeUsage(a,this.external))}addUsage(t,r,a){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(i=>this.addElement(i,a(t,this.doc)))})}removeUsage(t,r){let a=r.get(t);a&&(a.usage--,a.usage<=0&&(Lf(a.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])Lf(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:a}]of this.inline)a.push(this.addElement(t,Ef(r,this.doc)));for(let[r,{elements:a}]of this.external)a.push(this.addElement(t,au(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Gs,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||e)(S(ge),S(ws),S(Cs,8),S(Rr))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),ru={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},cu=/%COMP%/g;var Af="%COMP%",wM=`_nghost-${Af}`,IM=`_ngcontent-${Af}`,CM=!0,xM=new b("",{providedIn:"root",factory:()=>CM});function bM(e){return IM.replace(cu,e)}function SM(e){return wM.replace(cu,e)}function Tf(e,n){return n.map(t=>t.replace(cu,e))}var du=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,a,o,i,s,c,d=null,l=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=a,this.removeStylesOnCompDestroy=o,this.doc=i,this.platformId=s,this.ngZone=c,this.nonce=d,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new oo(t,i,c,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let a=this.getOrCreateRenderer(t,r);return a instanceof Ws?a.applyToHost(t):a instanceof io&&a.applyStyles(),a}getOrCreateRenderer(t,r){let a=this.rendererByCompId,o=a.get(r.id);if(!o){let i=this.doc,s=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,u=this.platformIsServer,p=this.tracingService;switch(r.encapsulation){case zt.Emulated:o=new Ws(c,d,r,this.appId,l,i,s,u,p);break;case zt.ShadowDom:return new ou(c,d,t,r,i,s,this.nonce,u,p);default:o=new io(c,d,r,l,i,s,u,p);break}a.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||e)(S(iu),S(su),S(ws),S(xM),S(ge),S(Rr),S(he),S(Cs),S(Ba,8))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),oo=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,r,a,o){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=a,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(ru[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(_f(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(_f(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){t.remove()}selectRootElement(n,t){let r=typeof n=="string"?this.doc.querySelector(n):n;if(!r)throw new I(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,a){if(a){t=a+":"+t;let o=ru[a];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){let a=ru[r];a?n.removeAttributeNS(a,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,a){a&(cn.DashCase|cn.Important)?n.style.setProperty(t,r,a&cn.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&cn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n!=null&&(n[t]=r)}setValue(n,t){n.nodeValue=t}listen(n,t,r,a){if(typeof n=="string"&&(n=Bt().getGlobalEventTarget(this.doc,n),!n))throw new I(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,a)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function _f(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ou=class extends oo{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,r,a,o,i,s,c,d){super(n,o,i,c,d),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=a.styles;l=Tf(a.id,l);for(let p of l){let h=document.createElement("style");s&&h.setAttribute("nonce",s),h.textContent=p,this.shadowRoot.appendChild(h)}let u=a.getExternalStyles?.();if(u)for(let p of u){let h=au(p,o);s&&h.setAttribute("nonce",s),this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},io=class extends oo{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,r,a,o,i,s,c,d){super(n,o,i,s,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=a;let l=r.styles;this.styles=d?Tf(d,l):l,this.styleUrls=r.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Ws=class extends io{contentAttr;hostAttr;constructor(n,t,r,a,o,i,s,c,d){let l=a+"-"+r.id;super(n,t,r,o,i,s,c,d,l),this.contentAttr=bM(l),this.hostAttr=SM(l)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}};var Ks=class e extends Ja{supportsDOMEvents=!0;static makeCurrent(){X1(new e)}onAndCancel(n,t,r,a){return n.addEventListener(t,r,a),()=>{n.removeEventListener(t,r,a)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=DM();return t==null?null:LM(t)}resetBaseElement(){so=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return nu(document.cookie,n)}},so=null;function DM(){return so=so||document.head.querySelector("base"),so?so.getAttribute("href"):null}function LM(e){return new URL(e,document.baseURI).pathname}var EM=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Pf=(()=>{class e extends ao{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,a,o){return t.addEventListener(r,a,o),()=>this.removeEventListener(t,r,a,o)}removeEventListener(t,r,a,o){return t.removeEventListener(r,a,o)}static \u0275fac=function(r){return new(r||e)(S(ge))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})(),Rf=["alt","control","meta","shift"],_M={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},AM={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Of=(()=>{class e extends ao{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,r,a,o){let i=e.parseEventName(r),s=e.eventCallback(i.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Bt().onAndCancel(t,i.domEventName,s,o))}static parseEventName(t){let r=t.toLowerCase().split("."),a=r.shift();if(r.length===0||!(a==="keydown"||a==="keyup"))return null;let o=e._normalizeKey(r.pop()),i="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),i="code."),Rf.forEach(d=>{let l=r.indexOf(d);l>-1&&(r.splice(l,1),i+=d+".")}),i+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=a,c.fullKey=i,c}static matchEventFullKeyCode(t,r){let a=_M[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(a=t.code,o="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),Rf.forEach(i=>{if(i!==a){let s=AM[i];s(t)&&(o+=i+".")}}),o+=a,o===r)}static eventCallback(t,r,a){return o=>{e.matchEventFullKeyCode(o,t)&&a.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||e)(S(ge))};static \u0275prov=C({token:e,factory:e.\u0275fac})}return e})();function lu(e,n){return rf(w({rootComponent:e},TM(n)))}function TM(e){return{appProviders:[...FM,...e?.providers??[]],platformProviders:NM}}function RM(){Ks.makeCurrent()}function PM(){return new Mt}function OM(){return k1(document),document}var NM=[{provide:Rr,useValue:Sf},{provide:Is,useValue:RM,multi:!0},{provide:ge,useFactory:OM}];var FM=[{provide:ma,useValue:"root"},{provide:Mt,useFactory:PM},{provide:Zs,useClass:Pf,multi:!0,deps:[ge]},{provide:Zs,useClass:Of,multi:!0,deps:[ge]},du,su,iu,{provide:qn,useExisting:du},{provide:ro,useClass:EM},[]];var Nf=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||e)(S(ge))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var R="primary",Co=Symbol("RouteTitle"),yu=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Gn(e){return new yu(e)}function Uf(e,n,t){let r=t.path.split("/");if(r.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||r.length<e.length))return null;let a={};for(let o=0;o<r.length;o++){let i=r[o],s=e[o];if(i[0]===":")a[i.substring(1)]=s;else if(i!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:a}}function HM(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!bt(e[t],n[t]))return!1;return!0}function bt(e,n){let t=e?gu(e):void 0,r=n?gu(n):void 0;if(!t||!r||t.length!=r.length)return!1;let a;for(let o=0;o<t.length;o++)if(a=t[o],!$f(e[a],n[a]))return!1;return!0}function gu(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function $f(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),r=[...n].sort();return t.every((a,o)=>r[o]===a)}else return e===n}function Gf(e){return e.length>0?e[e.length-1]:null}function Zt(e){return Td(e)?e:Pr(e)?z(Promise.resolve(e)):D(e)}var qM={exact:Zf,subset:Kf},Wf={exact:VM,subset:zM,ignored:()=>!0};function Ff(e,n,t){return qM[t.paths](e.root,n.root,t.matrixParams)&&Wf[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function VM(e,n){return bt(e,n)}function Zf(e,n,t){if(!Un(e.segments,n.segments)||!Js(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let r in n.children)if(!e.children[r]||!Zf(e.children[r],n.children[r],t))return!1;return!0}function zM(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>$f(e[t],n[t]))}function Kf(e,n,t){return Xf(e,n,n.segments,t)}function Xf(e,n,t,r){if(e.segments.length>t.length){let a=e.segments.slice(0,t.length);return!(!Un(a,t)||n.hasChildren()||!Js(a,t,r))}else if(e.segments.length===t.length){if(!Un(e.segments,t)||!Js(e.segments,t,r))return!1;for(let a in n.children)if(!e.children[a]||!Kf(e.children[a],n.children[a],r))return!1;return!0}else{let a=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!Un(e.segments,a)||!Js(e.segments,a,r)||!e.children[R]?!1:Xf(e.children[R],n,o,r)}}function Js(e,n,t){return n.every((r,a)=>Wf[t](e[a].parameters,r.parameters))}var Dt=class{root;queryParams;fragment;_queryParamMap;constructor(n=new U([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){return $M.serialize(this)}},U=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qs(this)}},pn=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=Gn(this.parameters),this._parameterMap}toString(){return Jf(this)}};function BM(e,n){return Un(e,n)&&e.every((t,r)=>bt(t.parameters,n[r].parameters))}function Un(e,n){return e.length!==n.length?!1:e.every((t,r)=>t.path===n[r].path)}function UM(e,n){let t=[];return Object.entries(e.children).forEach(([r,a])=>{r===R&&(t=t.concat(n(a,r)))}),Object.entries(e.children).forEach(([r,a])=>{r!==R&&(t=t.concat(n(a,r)))}),t}var xo=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>new Wn,providedIn:"root"})}return e})(),Wn=class{parse(n){let t=new ku(n);return new Dt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${co(n.root,!0)}`,r=ZM(n.queryParams),a=typeof n.fragment=="string"?`#${GM(n.fragment)}`:"";return`${t}${r}${a}`}},$M=new Wn;function Qs(e){return e.segments.map(n=>Jf(n)).join("/")}function co(e,n){if(!e.hasChildren())return Qs(e);if(n){let t=e.children[R]?co(e.children[R],!1):"",r=[];return Object.entries(e.children).forEach(([a,o])=>{a!==R&&r.push(`${a}:${co(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=UM(e,(r,a)=>a===R?[co(e.children[R],!1)]:[`${a}:${co(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[R]!=null?`${Qs(e)}/${t[0]}`:`${Qs(e)}/(${t.join("//")})`}}function Yf(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Xs(e){return Yf(e).replace(/%3B/gi,";")}function GM(e){return encodeURI(e)}function mu(e){return Yf(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ec(e){return decodeURIComponent(e)}function jf(e){return ec(e.replace(/\+/g,"%20"))}function Jf(e){return`${mu(e.path)}${WM(e.parameters)}`}function WM(e){return Object.entries(e).map(([n,t])=>`;${mu(n)}=${mu(t)}`).join("")}function ZM(e){let n=Object.entries(e).map(([t,r])=>Array.isArray(r)?r.map(a=>`${Xs(t)}=${Xs(a)}`).join("&"):`${Xs(t)}=${Xs(r)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var KM=/^[^\/()?;#]+/;function uu(e){let n=e.match(KM);return n?n[0]:""}var XM=/^[^\/()?;=#]+/;function YM(e){let n=e.match(XM);return n?n[0]:""}var JM=/^[^=?&#]+/;function QM(e){let n=e.match(JM);return n?n[0]:""}var e3=/^[^&#]+/;function t3(e){let n=e.match(e3);return n?n[0]:""}var ku=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new U([],{}):new U([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[R]=new U(n,t)),r}parseSegment(){let n=uu(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new I(4009,!1);return this.capture(n),new pn(ec(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=YM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=uu(this.remaining);a&&(r=a,this.capture(r))}n[ec(t)]=ec(r)}parseQueryParam(n){let t=QM(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=t3(this.remaining);i&&(r=i,this.capture(r))}let a=jf(t),o=jf(r);if(n.hasOwnProperty(a)){let i=n[a];Array.isArray(i)||(i=[i],n[a]=i),i.push(o)}else n[a]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=uu(this.remaining),a=this.remaining[r.length];if(a!=="/"&&a!==")"&&a!==";")throw new I(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=R);let i=this.parseChildren();t[o]=Object.keys(i).length===1?i[R]:new U([],i),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new I(4011,!1)}};function Qf(e){return e.segments.length>0?new U([],{[R]:e}):e}function ey(e){let n={};for(let[r,a]of Object.entries(e.children)){let o=ey(a);if(r===R&&o.segments.length===0&&o.hasChildren())for(let[i,s]of Object.entries(o.children))n[i]=s;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}let t=new U(e.segments,n);return n3(t)}function n3(e){if(e.numberOfChildren===1&&e.children[R]){let n=e.children[R];return new U(e.segments.concat(n.segments),n.children)}return e}function qr(e){return e instanceof Dt}function ty(e,n,t=null,r=null){let a=ny(e);return ry(a,n,t,r)}function ny(e){let n;function t(o){let i={};for(let c of o.children){let d=t(c);i[c.outlet]=d}let s=new U(o.url,i);return o===e&&(n=s),s}let r=t(e.root),a=Qf(r);return n??a}function ry(e,n,t,r){let a=e;for(;a.parent;)a=a.parent;if(n.length===0)return hu(a,a,a,t,r);let o=r3(n);if(o.toRoot())return hu(a,a,new U([],{}),t,r);let i=a3(o,a,e),s=i.processChildren?uo(i.segmentGroup,i.index,o.commands):oy(i.segmentGroup,i.index,o.commands);return hu(a,i.segmentGroup,s,t,r)}function tc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function fo(e){return typeof e=="object"&&e!=null&&e.outlets}function hu(e,n,t,r,a){let o={};r&&Object.entries(r).forEach(([c,d])=>{o[c]=Array.isArray(d)?d.map(l=>`${l}`):`${d}`});let i;e===n?i=t:i=ay(e,n,t);let s=Qf(ey(i));return new Dt(s,o,a)}function ay(e,n,t){let r={};return Object.entries(e.children).forEach(([a,o])=>{o===n?r[a]=t:r[a]=ay(o,n,t)}),new U(e.segments,r)}var nc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&tc(r[0]))throw new I(4003,!1);let a=r.find(fo);if(a&&a!==Gf(r))throw new I(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function r3(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new nc(!0,0,e);let n=0,t=!1,r=e.reduce((a,o,i)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,d])=>{s[c]=typeof d=="string"?d.split("/"):d}),[...a,{outlets:s}]}if(o.segmentPath)return[...a,o.segmentPath]}return typeof o!="string"?[...a,o]:i===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?t=!0:s===".."?n++:s!=""&&a.push(s))}),a):[...a,o]},[]);return new nc(t,n,r)}var jr=class{segmentGroup;processChildren;index;constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}};function a3(e,n,t){if(e.isAbsolute)return new jr(n,!0,0);if(!t)return new jr(n,!1,NaN);if(t.parent===null)return new jr(t,!0,0);let r=tc(e.commands[0])?0:1,a=t.segments.length-1+r;return o3(t,a,e.numberOfDoubleDots)}function o3(e,n,t){let r=e,a=n,o=t;for(;o>a;){if(o-=a,r=r.parent,!r)throw new I(4005,!1);a=r.segments.length}return new jr(r,!1,a-o)}function i3(e){return fo(e[0])?e[0].outlets:{[R]:e}}function oy(e,n,t){if(e??=new U([],{}),e.segments.length===0&&e.hasChildren())return uo(e,n,t);let r=s3(e,n,t),a=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new U(e.segments.slice(0,r.pathIndex),{});return o.children[R]=new U(e.segments.slice(r.pathIndex),e.children),uo(o,0,a)}else return r.match&&a.length===0?new U(e.segments,{}):r.match&&!e.hasChildren()?vu(e,n,t):r.match?uo(e,0,a):vu(e,n,t)}function uo(e,n,t){if(t.length===0)return new U(e.segments,{});{let r=i3(t),a={};if(Object.keys(r).some(o=>o!==R)&&e.children[R]&&e.numberOfChildren===1&&e.children[R].segments.length===0){let o=uo(e.children[R],n,t);return new U(e.segments,o.children)}return Object.entries(r).forEach(([o,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(a[o]=oy(e.children[o],n,i))}),Object.entries(e.children).forEach(([o,i])=>{r[o]===void 0&&(a[o]=i)}),new U(e.segments,a)}}function s3(e,n,t){let r=0,a=n,o={match:!1,pathIndex:0,commandIndex:0};for(;a<e.segments.length;){if(r>=t.length)return o;let i=e.segments[a],s=t[r];if(fo(s))break;let c=`${s}`,d=r<t.length-1?t[r+1]:null;if(a>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!qf(c,d,i))return o;r+=2}else{if(!qf(c,{},i))return o;r++}a++}return{match:!0,pathIndex:a,commandIndex:r}}function vu(e,n,t){let r=e.segments.slice(0,n),a=0;for(;a<t.length;){let o=t[a];if(fo(o)){let c=c3(o.outlets);return new U(r,c)}if(a===0&&tc(t[0])){let c=e.segments[n];r.push(new pn(c.path,Hf(t[0]))),a++;continue}let i=fo(o)?o.outlets[R]:`${o}`,s=a<t.length-1?t[a+1]:null;i&&s&&tc(s)?(r.push(new pn(i,Hf(s))),a+=2):(r.push(new pn(i,{})),a++)}return new U(r,{})}function c3(e){let n={};return Object.entries(e).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(n[t]=vu(new U([],{}),0,r))}),n}function Hf(e){let n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function qf(e,n,t){return e==t.path&&bt(n,t.parameters)}var ho="imperative",me=function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e}(me||{}),Ye=class{id;url;constructor(n,t){this.id=n,this.url=t}},Zn=class extends Ye{type=me.NavigationStart;navigationTrigger;restoredState;constructor(n,t,r="imperative",a=null){super(n,t),this.navigationTrigger=r,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Gt=class extends Ye{urlAfterRedirects;type=me.NavigationEnd;constructor(n,t,r){super(n,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e}(Ne||{}),yo=function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e}(yo||{}),St=class extends Ye{reason;code;type=me.NavigationCancel;constructor(n,t,r,a){super(n,t),this.reason=r,this.code=a}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wt=class extends Ye{reason;code;type=me.NavigationSkipped;constructor(n,t,r,a){super(n,t),this.reason=r,this.code=a}},Vr=class extends Ye{error;target;type=me.NavigationError;constructor(n,t,r,a){super(n,t),this.error=r,this.target=a}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},go=class extends Ye{urlAfterRedirects;state;type=me.RoutesRecognized;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rc=class extends Ye{urlAfterRedirects;state;type=me.GuardsCheckStart;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ac=class extends Ye{urlAfterRedirects;state;shouldActivate;type=me.GuardsCheckEnd;constructor(n,t,r,a,o){super(n,t),this.urlAfterRedirects=r,this.state=a,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},oc=class extends Ye{urlAfterRedirects;state;type=me.ResolveStart;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ic=class extends Ye{urlAfterRedirects;state;type=me.ResolveEnd;constructor(n,t,r,a){super(n,t),this.urlAfterRedirects=r,this.state=a}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sc=class{route;type=me.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cc=class{route;type=me.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},dc=class{snapshot;type=me.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lc=class{snapshot;type=me.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},uc=class{snapshot;type=me.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hc=class{snapshot;type=me.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var mo=class{},zr=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function d3(e){return!(e instanceof mo)&&!(e instanceof zr)}function l3(e,n){return e.providers&&!e._injector&&(e._injector=za(e.providers,n,`Route: ${e.path}`)),e._injector??n}function kt(e){return e.outlet||R}function u3(e,n){let t=e.filter(r=>kt(r)===n);return t.push(...e.filter(r=>kt(r)!==n)),t}function bo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var pc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return bo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new $r(this.rootInjector)}},$r=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let a=this.getOrCreateContext(t);a.outlet=r,this.contexts.set(t,a)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new pc(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||e)(S(ve))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),fc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Mu(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){let t=Mu(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=wu(n,this._root);return t.length<2?[]:t[t.length-2].children.map(a=>a.value).filter(a=>a!==n)}pathFromRoot(n){return wu(n,this._root).map(t=>t.value)}};function Mu(e,n){if(e===n.value)return n;for(let t of n.children){let r=Mu(e,t);if(r)return r}return null}function wu(e,n){if(e===n.value)return[n];for(let t of n.children){let r=wu(e,t);if(r.length)return r.unshift(n),r}return[]}var Xe=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function Fr(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ko=class extends fc{snapshot;constructor(n,t){super(n),this.snapshot=t,Eu(this,n)}toString(){return this.snapshot.toString()}};function iy(e){let n=h3(e),t=new le([new pn("",{})]),r=new le({}),a=new le({}),o=new le({}),i=new le(""),s=new fn(t,r,o,i,a,R,e,n.root);return s.snapshot=n.root,new ko(new Xe(s,[]),n)}function h3(e){let n={},t={},r={},a="",o=new $n([],n,r,a,t,R,e,null,{});return new vo("",new Xe(o,[]))}var fn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,r,a,o,i,s,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=a,this.dataSubject=o,this.outlet=i,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(d=>d[Co]))??D(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=a,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(n=>Gn(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(n=>Gn(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yc(e,n,t="emptyOnly"){let r,{routeConfig:a}=e;return n!==null&&(t==="always"||a?.path===""||!n.component&&!n.routeConfig?.loadComponent)?r={params:w(w({},n.params),e.params),data:w(w({},n.data),e.data),resolve:w(w(w(w({},e.data),n.data),a?.data),e._resolvedData)}:r={params:w({},e.params),data:w({},e.data),resolve:w(w({},e.data),e._resolvedData??{})},a&&cy(a)&&(r.resolve[Co]=a.title),r}var $n=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Co]}constructor(n,t,r,a,o,i,s,c,d){this.url=n,this.params=t,this.queryParams=r,this.fragment=a,this.data=o,this.outlet=i,this.component=s,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Gn(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Gn(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},vo=class extends fc{url;constructor(n,t){super(t),this.url=n,Eu(this,t)}toString(){return sy(this._root)}};function Eu(e,n){n.value._routerState=e,n.children.forEach(t=>Eu(e,t))}function sy(e){let n=e.children.length>0?` { ${e.children.map(sy).join(", ")} } `:"";return`${e.value}${n}`}function pu(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,bt(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),bt(n.params,t.params)||e.paramsSubject.next(t.params),HM(n.url,t.url)||e.urlSubject.next(t.url),bt(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Iu(e,n){let t=bt(e.params,n.params)&&BM(e.url,n.url),r=!e.parent!=!n.parent;return t&&!r&&(!e.parent||Iu(e.parent,n.parent))}function cy(e){return typeof e.title=="string"||e.title===null}var dy=new b(""),So=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=R;activateEvents=new Re;deactivateEvents=new Re;attachEvents=new Re;detachEvents=new Re;routerOutletData=tf(void 0);parentContexts=M($r);location=M(Va);changeDetector=M(Ya);inputBinder=M(vc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:a}=t.name;if(r)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new I(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new I(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new I(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new I(4013,!1);this._activatedRoute=t;let a=this.location,i=t.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Cu(t,s,a.injector,this.routerOutletData);this.activated=a.createComponent(i,{index:a.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=Rs({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Tr]})}return e})(),Cu=class{route;childContexts;parent;outletData;constructor(n,t,r,a){this.route=n,this.childContexts=t,this.parent=r,this.outletData=a}get(n,t){return n===fn?this.route:n===$r?this.childContexts:n===dy?this.outletData:this.parent.get(n,t)}},vc=new b("");var _u=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=We({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,a){r&1&&Oe(0,"router-outlet")},dependencies:[So],encapsulation:2})}return e})();function Au(e){let n=e.children&&e.children.map(Au),t=n?$(w({},e),{children:n}):w({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==R&&(t.component=_u),t}function p3(e,n,t){let r=Mo(e,n._root,t?t._root:void 0);return new ko(r,n)}function Mo(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=n.value;let a=f3(e,n,t);return new Xe(r,a)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let i=o.route;return i.value._futureSnapshot=n.value,i.children=n.children.map(s=>Mo(e,s)),i}}let r=y3(n.value),a=n.children.map(o=>Mo(e,o));return new Xe(r,a)}}function f3(e,n,t){return n.children.map(r=>{for(let a of t.children)if(e.shouldReuseRoute(r.value,a.value.snapshot))return Mo(e,r,a);return Mo(e,r)})}function y3(e){return new fn(new le(e.url),new le(e.params),new le(e.queryParams),new le(e.fragment),new le(e.data),e.outlet,e.component,e)}var Br=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},ly="ngNavigationCancelingError";function gc(e,n){let{redirectTo:t,navigationBehaviorOptions:r}=qr(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,a=uy(!1,Ne.Redirect);return a.url=t,a.navigationBehaviorOptions=r,a}function uy(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[ly]=!0,t.cancellationCode=n,t}function g3(e){return hy(e)&&qr(e.url)}function hy(e){return!!e&&e[ly]}var m3=(e,n,t,r)=>E(a=>(new xu(n,a.targetRouterState,a.currentRouterState,t,r).activate(e),a)),xu=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,r,a,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=a,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),pu(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){let a=Fr(t);n.children.forEach(o=>{let i=o.value.outlet;this.deactivateRoutes(o,a[i],r),delete a[i]}),Object.values(a).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){let a=n.value,o=t?t.value:null;if(a===o)if(a.component){let i=r.getContext(a.outlet);i&&this.deactivateChildRoutes(n,t,i.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let r=t.getContext(n.value.outlet),a=r&&n.value.component?r.children:t,o=Fr(n);for(let i of Object.values(o))this.deactivateRouteAndItsChildren(i,a);if(r&&r.outlet){let i=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:i,route:n,contexts:s})}}deactivateRouteAndOutlet(n,t){let r=t.getContext(n.value.outlet),a=r&&n.value.component?r.children:t,o=Fr(n);for(let i of Object.values(o))this.deactivateRouteAndItsChildren(i,a);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){let a=Fr(t);n.children.forEach(o=>{this.activateRoutes(o,a[o.value.outlet],r),this.forwardEvent(new hc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new lc(n.value.snapshot))}activateRoutes(n,t,r){let a=n.value,o=t?t.value:null;if(pu(a),a===o)if(a.component){let i=r.getOrCreateContext(a.outlet);this.activateChildRoutes(n,t,i.children)}else this.activateChildRoutes(n,t,r);else if(a.component){let i=r.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let s=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),i.children.onOutletReAttached(s.contexts),i.attachRef=s.componentRef,i.route=s.route.value,i.outlet&&i.outlet.attach(s.componentRef,s.route.value),pu(s.route.value),this.activateChildRoutes(n,null,i.children)}else i.attachRef=null,i.route=a,i.outlet&&i.outlet.activateWith(a,i.injector),this.activateChildRoutes(n,null,i.children)}else this.activateChildRoutes(n,null,r)}},mc=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},Hr=class{component;route;constructor(n,t){this.component=n,this.route=t}};function k3(e,n,t){let r=e._root,a=n?n._root:null;return lo(r,a,t,[r.value])}function v3(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function Gr(e,n){let t=Symbol(),r=n.get(e,t);return r===t?typeof e=="function"&&!tl(e)?e:n.get(e):r}function lo(e,n,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let o=Fr(n);return e.children.forEach(i=>{M3(i,o[i.value.outlet],t,r.concat([i.value]),a),delete o[i.value.outlet]}),Object.entries(o).forEach(([i,s])=>po(s,t.getContext(i),a)),a}function M3(e,n,t,r,a={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,i=n?n.value:null,s=t?t.getContext(e.value.outlet):null;if(i&&o.routeConfig===i.routeConfig){let c=w3(i,o,o.routeConfig.runGuardsAndResolvers);c?a.canActivateChecks.push(new mc(r)):(o.data=i.data,o._resolvedData=i._resolvedData),o.component?lo(e,n,s?s.children:null,r,a):lo(e,n,t,r,a),c&&s&&s.outlet&&s.outlet.isActivated&&a.canDeactivateChecks.push(new Hr(s.outlet.component,i))}else i&&po(n,s,a),a.canActivateChecks.push(new mc(r)),o.component?lo(e,null,s?s.children:null,r,a):lo(e,null,t,r,a);return a}function w3(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!Un(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Un(e.url,n.url)||!bt(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iu(e,n)||!bt(e.queryParams,n.queryParams);case"paramsChange":default:return!Iu(e,n)}}function po(e,n,t){let r=Fr(e),a=e.value;Object.entries(r).forEach(([o,i])=>{a.component?n?po(i,n.children.getContext(o),t):po(i,null,t):po(i,n,t)}),a.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new Hr(n.outlet.component,a)):t.canDeactivateChecks.push(new Hr(null,a)):t.canDeactivateChecks.push(new Hr(null,a))}function Do(e){return typeof e=="function"}function I3(e){return typeof e=="boolean"}function C3(e){return e&&Do(e.canLoad)}function x3(e){return e&&Do(e.canActivate)}function b3(e){return e&&Do(e.canActivateChild)}function S3(e){return e&&Do(e.canDeactivate)}function D3(e){return e&&Do(e.canMatch)}function py(e){return e instanceof Ft||e?.name==="EmptyError"}var Ys=Symbol("INITIAL_VALUE");function Ur(){return Se(e=>Ai(e.map(n=>n.pipe(dt(1),Hd(Ys)))).pipe(E(n=>{for(let t of n)if(t!==!0){if(t===Ys)return Ys;if(t===!1||L3(t))return t}return!0}),be(n=>n!==Ys),dt(1)))}function L3(e){return qr(e)||e instanceof Br}function E3(e,n){return re(t=>{let{targetSnapshot:r,currentSnapshot:a,guards:{canActivateChecks:o,canDeactivateChecks:i}}=t;return i.length===0&&o.length===0?D($(w({},t),{guardsResult:!0})):_3(i,r,a,e).pipe(re(s=>s&&I3(s)?A3(r,o,e,n):D(s)),E(s=>$(w({},t),{guardsResult:s})))})}function _3(e,n,t,r){return z(e).pipe(re(a=>N3(a.component,a.route,t,n,r)),Je(a=>a!==!0,!0))}function A3(e,n,t,r){return z(n).pipe(He(a=>mr(R3(a.route.parent,r),T3(a.route,r),O3(e,a.path,t),P3(e,a.route,t))),Je(a=>a!==!0,!0))}function T3(e,n){return e!==null&&n&&n(new uc(e)),D(!0)}function R3(e,n){return e!==null&&n&&n(new dc(e)),D(!0)}function P3(e,n,t){let r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||r.length===0)return D(!0);let a=r.map(o=>ct(()=>{let i=bo(n)??t,s=Gr(o,i),c=x3(s)?s.canActivate(n,e):Ue(i,()=>s(n,e));return Zt(c).pipe(Je())}));return D(a).pipe(Ur())}function O3(e,n,t){let r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(i=>v3(i)).filter(i=>i!==null).map(i=>ct(()=>{let s=i.guards.map(c=>{let d=bo(i.node)??t,l=Gr(c,d),u=b3(l)?l.canActivateChild(r,e):Ue(d,()=>l(r,e));return Zt(u).pipe(Je())});return D(s).pipe(Ur())}));return D(o).pipe(Ur())}function N3(e,n,t,r,a){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return D(!0);let i=o.map(s=>{let c=bo(n)??a,d=Gr(s,c),l=S3(d)?d.canDeactivate(e,n,t,r):Ue(c,()=>d(e,n,t,r));return Zt(l).pipe(Je())});return D(i).pipe(Ur())}function F3(e,n,t,r){let a=n.canLoad;if(a===void 0||a.length===0)return D(!0);let o=a.map(i=>{let s=Gr(i,e),c=C3(s)?s.canLoad(n,t):Ue(e,()=>s(n,t));return Zt(c)});return D(o).pipe(Ur(),fy(r))}function fy(e){return Sd(Y(n=>{if(typeof n!="boolean")throw gc(e,n)}),E(n=>n===!0))}function j3(e,n,t,r){let a=n.canMatch;if(!a||a.length===0)return D(!0);let o=a.map(i=>{let s=Gr(i,e),c=D3(s)?s.canMatch(n,t):Ue(e,()=>s(n,t));return Zt(c)});return D(o).pipe(Ur(),fy(r))}var wo=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Io=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function Nr(e){return st(new wo(e))}function H3(e){return st(new I(4e3,!1))}function q3(e){return st(uy(!1,Ne.GuardRejected))}var bu=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let r=[],a=t.root;for(;;){if(r=r.concat(a.segments),a.numberOfChildren===0)return D(r);if(a.numberOfChildren>1||!a.children[R])return H3(`${n.redirectTo}`);a=a.children[R]}}applyRedirectCommands(n,t,r,a,o){return V3(t,a,o).pipe(E(i=>{if(i instanceof Dt)throw new Io(i);let s=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),n,r);if(i[0]==="/")throw new Io(s);return s}))}applyRedirectCreateUrlTree(n,t,r,a){let o=this.createSegmentGroup(n,t.root,r,a);return new Dt(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let r={};return Object.entries(n).forEach(([a,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[a]=t[s]}else r[a]=o}),r}createSegmentGroup(n,t,r,a){let o=this.createSegments(n,t.segments,r,a),i={};return Object.entries(t.children).forEach(([s,c])=>{i[s]=this.createSegmentGroup(n,c,r,a)}),new U(o,i)}createSegments(n,t,r,a){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,a):this.findOrReturn(o,r))}findPosParam(n,t,r){let a=r[t.path.substring(1)];if(!a)throw new I(4001,!1);return a}findOrReturn(n,t){let r=0;for(let a of t){if(a.path===n.path)return t.splice(r),a;r++}return n}};function V3(e,n,t){if(typeof e=="string")return D(e);let r=e,{queryParams:a,fragment:o,routeConfig:i,url:s,outlet:c,params:d,data:l,title:u}=n;return Zt(Ue(t,()=>r({params:d,data:l,queryParams:a,fragment:o,routeConfig:i,url:s,outlet:c,title:u})))}var Su={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z3(e,n,t,r,a){let o=yy(e,n,t);return o.matched?(r=l3(n,r),j3(r,n,t,a).pipe(E(i=>i===!0?o:w({},Su)))):D(o)}function yy(e,n,t){if(n.path==="**")return B3(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?w({},Su):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let a=(n.matcher||Uf)(t,e,n);if(!a)return w({},Su);let o={};Object.entries(a.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let i=a.consumed.length>0?w(w({},o),a.consumed[a.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:a.consumed,remainingSegments:t.slice(a.consumed.length),parameters:i,positionalParamSegments:a.posParams??{}}}function B3(e){return{matched:!0,parameters:e.length>0?Gf(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function Vf(e,n,t,r){return t.length>0&&G3(e,t,r)?{segmentGroup:new U(n,$3(r,new U(t,e.children))),slicedSegments:[]}:t.length===0&&W3(e,t,r)?{segmentGroup:new U(e.segments,U3(e,t,r,e.children)),slicedSegments:t}:{segmentGroup:new U(e.segments,e.children),slicedSegments:t}}function U3(e,n,t,r){let a={};for(let o of t)if(Mc(e,n,o)&&!r[kt(o)]){let i=new U([],{});a[kt(o)]=i}return w(w({},r),a)}function $3(e,n){let t={};t[R]=n;for(let r of e)if(r.path===""&&kt(r)!==R){let a=new U([],{});t[kt(r)]=a}return t}function G3(e,n,t){return t.some(r=>Mc(e,n,r)&&kt(r)!==R)}function W3(e,n,t){return t.some(r=>Mc(e,n,r))}function Mc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Z3(e,n,t){return n.length===0&&!e.children[t]}var Du=class{};function K3(e,n,t,r,a,o,i="emptyOnly"){return new Lu(e,n,t,r,a,i,o).recognize()}var X3=31,Lu=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,r,a,o,i,s){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=a,this.urlTree=o,this.paramsInheritanceStrategy=i,this.urlSerializer=s,this.applyRedirects=new bu(this.urlSerializer,this.urlTree)}noMatchError(n){return new I(4002,`'${n.segmentGroup}'`)}recognize(){let n=Vf(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(E(({children:t,rootSnapshot:r})=>{let a=new Xe(r,t),o=new vo("",a),i=ty(r,[],this.urlTree.queryParams,this.urlTree.fragment);return i.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(i),{state:o,tree:i}}))}match(n){let t=new $n([],Object.freeze({}),Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),R,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,R,t).pipe(E(r=>({children:r,rootSnapshot:t})),je(r=>{if(r instanceof Io)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wo?this.noMatchError(r):r}))}processSegmentGroup(n,t,r,a,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(n,t,r,o):this.processSegment(n,t,r,r.segments,a,!0,o).pipe(E(i=>i instanceof Xe?[i]:[]))}processChildren(n,t,r,a){let o=[];for(let i of Object.keys(r.children))i==="primary"?o.unshift(i):o.push(i);return z(o).pipe(He(i=>{let s=r.children[i],c=u3(t,i);return this.processSegmentGroup(n,c,s,i,a)}),la((i,s)=>(i.push(...s),i)),Jt(null),Od(),re(i=>{if(i===null)return Nr(r);let s=gy(i);return Y3(s),D(s)}))}processSegment(n,t,r,a,o,i,s){return z(t).pipe(He(c=>this.processSegmentAgainstRoute(c._injector??n,t,c,r,a,o,i,s).pipe(je(d=>{if(d instanceof wo)return D(null);throw d}))),Je(c=>!!c),je(c=>{if(py(c))return Z3(r,a,o)?D(new Du):Nr(r);throw c}))}processSegmentAgainstRoute(n,t,r,a,o,i,s,c){return kt(r)!==i&&(i===R||!Mc(a,o,r))?Nr(a):r.redirectTo===void 0?this.matchSegmentAgainstRoute(n,a,r,o,i,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(n,a,t,r,o,i,c):Nr(a)}expandSegmentAgainstRouteUsingRedirect(n,t,r,a,o,i,s){let{matched:c,parameters:d,consumedSegments:l,positionalParamSegments:u,remainingSegments:p}=yy(t,a,o);if(!c)return Nr(t);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>X3&&(this.allowRedirects=!1));let h=new $n(o,d,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,zf(a),kt(a),a.component??a._loadedComponent??null,a,Bf(a)),y=yc(h,s,this.paramsInheritanceStrategy);return h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(l,a.redirectTo,u,h,n).pipe(Se(m=>this.applyRedirects.lineralizeSegments(a,m)),re(m=>this.processSegment(n,r,t,m.concat(p),i,!1,s)))}matchSegmentAgainstRoute(n,t,r,a,o,i){let s=z3(t,r,a,n,this.urlSerializer);return r.path==="**"&&(t.children={}),s.pipe(Se(c=>c.matched?(n=r._injector??n,this.getChildConfig(n,r,a).pipe(Se(({routes:d})=>{let l=r._loadedInjector??n,{parameters:u,consumedSegments:p,remainingSegments:h}=c,y=new $n(p,u,Object.freeze(w({},this.urlTree.queryParams)),this.urlTree.fragment,zf(r),kt(r),r.component??r._loadedComponent??null,r,Bf(r)),g=yc(y,i,this.paramsInheritanceStrategy);y.params=Object.freeze(g.params),y.data=Object.freeze(g.data);let{segmentGroup:m,slicedSegments:v}=Vf(t,p,h,d);if(v.length===0&&m.hasChildren())return this.processChildren(l,d,m,y).pipe(E(L=>new Xe(y,L)));if(d.length===0&&v.length===0)return D(new Xe(y,[]));let x=kt(r)===o;return this.processSegment(l,d,m,v,x?R:o,!0,y).pipe(E(L=>new Xe(y,L instanceof Xe?[L]:[])))}))):Nr(t)))}getChildConfig(n,t,r){return t.children?D({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?D({routes:t._loadedRoutes,injector:t._loadedInjector}):F3(n,t,r,this.urlSerializer).pipe(re(a=>a?this.configLoader.loadChildren(n,t).pipe(Y(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):q3(t))):D({routes:[],injector:n})}};function Y3(e){e.sort((n,t)=>n.value.outlet===R?-1:t.value.outlet===R?1:n.value.outlet.localeCompare(t.value.outlet))}function J3(e){let n=e.value.routeConfig;return n&&n.path===""}function gy(e){let n=[],t=new Set;for(let r of e){if(!J3(r)){n.push(r);continue}let a=n.find(o=>r.value.routeConfig===o.value.routeConfig);a!==void 0?(a.children.push(...r.children),t.add(a)):n.push(r)}for(let r of t){let a=gy(r.children);n.push(new Xe(r.value,a))}return n.filter(r=>!t.has(r))}function zf(e){return e.data||{}}function Bf(e){return e.resolve||{}}function Q3(e,n,t,r,a,o){return re(i=>K3(e,n,t,r,i.extractedUrl,a,o).pipe(E(({state:s,tree:c})=>$(w({},i),{targetSnapshot:s,urlAfterRedirects:c}))))}function e8(e,n){return re(t=>{let{targetSnapshot:r,guards:{canActivateChecks:a}}=t;if(!a.length)return D(t);let o=new Set(a.map(c=>c.route)),i=new Set;for(let c of o)if(!i.has(c))for(let d of my(c))i.add(d);let s=0;return z(i).pipe(He(c=>o.has(c)?t8(c,r,e,n):(c.data=yc(c,c.parent,e).resolve,D(void 0))),Y(()=>s++),kr(1),re(c=>s===i.size?D(t):xe))})}function my(e){let n=e.children.map(t=>my(t)).flat();return[e,...n]}function t8(e,n,t,r){let a=e.routeConfig,o=e._resolve;return a?.title!==void 0&&!cy(a)&&(o[Co]=a.title),ct(()=>(e.data=yc(e,e.parent,t).resolve,n8(o,e,n,r).pipe(E(i=>(e._resolvedData=i,e.data=w(w({},e.data),i),null)))))}function n8(e,n,t,r){let a=gu(e);if(a.length===0)return D({});let o={};return z(a).pipe(re(i=>r8(e[i],n,t,r).pipe(Je(),Y(s=>{if(s instanceof Br)throw gc(new Wn,s);o[i]=s}))),kr(1),E(()=>o),je(i=>py(i)?xe:st(i)))}function r8(e,n,t,r){let a=bo(n)??r,o=Gr(e,a),i=o.resolve?o.resolve(n,t):Ue(a,()=>o(n,t));return Zt(i)}function fu(e){return Se(n=>{let t=e(n);return t?z(t).pipe(E(()=>n)):D(n)})}var Tu=(()=>{class e{buildTitle(t){let r,a=t.root;for(;a!==void 0;)r=this.getResolvedTitleForRoute(a)??r,a=a.children.find(o=>o.outlet===R);return r}getResolvedTitleForRoute(t){return t.data[Co]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>M(ky),providedIn:"root"})}return e})(),ky=(()=>{class e extends Tu{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(S(Nf))};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Lo=new b("",{providedIn:"root",factory:()=>({})}),Eo=new b(""),vy=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(U1);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return D(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Zt(t.loadComponent()).pipe(E(wy),Y(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),da(()=>{this.componentLoaders.delete(t)})),a=new gr(r,()=>new ee).pipe(yr());return this.componentLoaders.set(t,a),a}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return D({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=My(r,this.compiler,t,this.onLoadEndListener).pipe(da(()=>{this.childrenLoaders.delete(r)})),i=new gr(o,()=>new ee).pipe(yr());return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function My(e,n,t,r){return Zt(e.loadChildren()).pipe(E(wy),re(a=>a instanceof Ts||Array.isArray(a)?D(a):z(n.compileModuleAsync(a))),E(a=>{r&&r(e);let o,i,s=!1;return Array.isArray(a)?(i=a,s=!0):(o=a.create(t).injector,i=o.get(Eo,[],{optional:!0,self:!0}).flat()),{routes:i.map(Au),injector:o}}))}function a8(e){return e&&typeof e=="object"&&"default"in e}function wy(e){return a8(e)?e.default:e}var wc=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>M(o8),providedIn:"root"})}return e})(),o8=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Iy=new b("");var Cy=new b(""),xy=(()=>{class e{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ee;transitionAbortWithErrorSubject=new ee;configLoader=M(vy);environmentInjector=M(ve);destroyRef=M(Nn);urlSerializer=M(xo);rootContexts=M($r);location=M(hn);inputBindingEnabled=M(vc,{optional:!0})!==null;titleStrategy=M(Tu);options=M(Lo,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(wc);createViewTransition=M(Iy,{optional:!0});navigationErrorHandler=M(Cy,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>D(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=a=>this.events.next(new sc(a)),r=a=>this.events.next(new cc(a));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next($(w({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new le(null),this.transitions.pipe(be(r=>r!==null),Se(r=>{let a=!1;return D(r).pipe(Se(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Ne.SupersededByNewNavigation),xe;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?$(w({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let i=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!i&&s!=="reload"){let c="";return this.events.next(new Wt(o.id,this.urlSerializer.serialize(o.rawUrl),c,yo.IgnoredSameUrlNavigation)),o.resolve(!1),xe}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return D(o).pipe(Se(c=>(this.events.next(new Zn(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?xe:Promise.resolve(c))),Q3(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),Y(c=>{r.targetSnapshot=c.targetSnapshot,r.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation=$(w({},this.currentNavigation),{finalUrl:c.urlAfterRedirects});let d=new go(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(i&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:c,extractedUrl:d,source:l,restoredState:u,extras:p}=o,h=new Zn(c,this.urlSerializer.serialize(d),l,u);this.events.next(h);let y=iy(this.rootComponentType).snapshot;return this.currentTransition=r=$(w({},o),{targetSnapshot:y,urlAfterRedirects:d,extras:$(w({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,D(r)}else{let c="";return this.events.next(new Wt(o.id,this.urlSerializer.serialize(o.extractedUrl),c,yo.IgnoredByUrlHandlingStrategy)),o.resolve(!1),xe}}),Y(o=>{let i=new rc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(i)}),E(o=>(this.currentTransition=r=$(w({},o),{guards:k3(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),E3(this.environmentInjector,o=>this.events.next(o)),Y(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw gc(this.urlSerializer,o.guardsResult);let i=new ac(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(i)}),be(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Ne.GuardRejected),!1)),fu(o=>{if(o.guards.canActivateChecks.length!==0)return D(o).pipe(Y(i=>{let s=new oc(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}),Se(i=>{let s=!1;return D(i).pipe(e8(this.paramsInheritanceStrategy,this.environmentInjector),Y({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(i,"",Ne.NoDataFromResolver)}}))}),Y(i=>{let s=new ic(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(s)}))}),fu(o=>{let i=s=>{let c=[];s.routeConfig?.loadComponent&&!s.routeConfig._loadedComponent&&c.push(this.configLoader.loadComponent(s.routeConfig).pipe(Y(d=>{s.component=d}),E(()=>{})));for(let d of s.children)c.push(...i(d));return c};return Ai(i(o.targetSnapshot.root)).pipe(Jt(null),dt(1))}),fu(()=>this.afterPreactivation()),Se(()=>{let{currentSnapshot:o,targetSnapshot:i}=r,s=this.createViewTransition?.(this.environmentInjector,o.root,i.root);return s?z(s).pipe(E(()=>r)):D(r)}),E(o=>{let i=p3(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=$(w({},o),{targetRouterState:i}),this.currentNavigation.targetRouterState=i,r}),Y(()=>{this.events.next(new mo)}),m3(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),dt(1),vr(new V(o=>{let i=r.abortController.signal,s=()=>o.next();return i.addEventListener("abort",s),()=>i.removeEventListener("abort",s)}).pipe(be(()=>!a&&!r.targetRouterState),Y(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Ne.Aborted)}))),Y({next:o=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Gt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{a=!0}}),vr(this.transitionAbortWithErrorSubject.pipe(Y(o=>{throw o}))),da(()=>{a||this.cancelNavigationTransition(r,"",Ne.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),je(o=>{if(this.destroyed)return r.resolve(!1),xe;if(a=!0,hy(o))this.events.next(new St(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),g3(o)?this.events.next(new zr(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let i=new Vr(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let s=Ue(this.environmentInjector,()=>this.navigationErrorHandler?.(i));if(s instanceof Br){let{message:c,cancellationCode:d}=gc(this.urlSerializer,s);this.events.next(new St(r.id,this.urlSerializer.serialize(r.extractedUrl),c,d)),this.events.next(new zr(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(i),o}catch(s){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(s)}}return xe}))}))}cancelNavigationTransition(t,r,a){let o=new St(t.id,this.urlSerializer.serialize(t.extractedUrl),r,a);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function i8(e){return e!==ho}var by=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>M(s8),providedIn:"root"})}return e})(),kc=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},s8=(()=>{class e extends kc{static \u0275fac=(()=>{let t;return function(a){return(t||(t=Ms(e)))(a||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Sy=(()=>{class e{urlSerializer=M(xo);options=M(Lo,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M(hn);urlHandlingStrategy=M(wc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Dt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:a}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,i=a??o;return i instanceof Dt?this.urlSerializer.serialize(i):i}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:a}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,a),this.routerState=t):this.rawUrlTree=a}routerState=iy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:()=>M(c8),providedIn:"root"})}return e})(),c8=(()=>{class e extends Sy{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Zn?this.updateStateMemento():t instanceof Wt?this.commitTransition(r):t instanceof go?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof mo?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof St&&t.code!==Ne.SupersededByNewNavigation&&t.code!==Ne.Redirect?this.restoreHistory(r):t instanceof Vr?this.restoreHistory(r,!0):t instanceof Gt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:a}){let{replaceUrl:o,state:i}=r;if(this.location.isCurrentPathEqualTo(t)||o){let s=this.browserPageId,c=w(w({},i),this.generateNgRouterState(a,s));this.location.replaceState(t,"",c)}else{let s=w(w({},i),this.generateNgRouterState(a,this.browserPageId+1));this.location.go(t,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,o=this.currentPageId-a;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(a){return(t||(t=Ms(e)))(a||e)}})();static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Ru(e,n){e.events.pipe(be(t=>t instanceof Gt||t instanceof St||t instanceof Vr||t instanceof Wt),E(t=>t instanceof Gt||t instanceof Wt?0:(t instanceof St?t.code===Ne.Redirect||t.code===Ne.SupersededByNewNavigation:!1)?2:1),be(t=>t!==2),dt(1)).subscribe(()=>{n()})}var d8={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},l8={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Wr=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(O1);stateManager=M(Sy);options=M(Lo,{optional:!0})||{};pendingTasks=M(sn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(xy);urlSerializer=M(xo);location=M(hn);urlHandlingStrategy=M(wc);injector=M(ve);_events=new ee;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(by);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Eo,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(vc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ie;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let a=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(a!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof St&&r.code!==Ne.Redirect&&r.code!==Ne.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Gt)this.navigated=!0;else if(r instanceof zr){let i=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,a.currentRawUrl),c=w({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||i8(a.source)},i);this.scheduleNavigation(s,ho,null,c,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}d3(r)&&this._events.next(r)}catch(a){this.navigationTransitions.transitionAbortWithErrorSubject.next(a)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ho,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,a)=>{this.navigateToSyncWithBrowser(t,a,r)})}navigateToSyncWithBrowser(t,r,a){let o={replaceUrl:!0},i=a?.navigationId?a:null;if(a){let c=w({},a);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(t);this.scheduleNavigation(s,r,i,o).catch(c=>{this.injector.get(tt)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Au),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:a,queryParams:o,fragment:i,queryParamsHandling:s,preserveFragment:c}=r,d=c?this.currentUrlTree.fragment:i,l=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":l=w(w({},this.currentUrlTree.queryParams),o);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=o||null}l!==null&&(l=this.removeEmptyProps(l));let u;try{let p=a?a.snapshot:this.routerState.snapshot.root;u=ny(p)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),u=this.currentUrlTree.root}return ry(u,t,l,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let a=qr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(o,ho,null,r)}navigate(t,r={skipLocationChange:!1}){return u8(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let a;if(r===!0?a=w({},d8):r===!1?a=w({},l8):a=r,qr(t))return Ff(this.currentUrlTree,t,a);let o=this.parseUrl(t);return Ff(this.currentUrlTree,o,a)}removeEmptyProps(t){return Object.entries(t).reduce((r,[a,o])=>(o!=null&&(r[a]=o),r),{})}scheduleNavigation(t,r,a,o,i){if(this.disposed)return Promise.resolve(!1);let s,c,d;i?(s=i.resolve,c=i.reject,d=i.promise):d=new Promise((u,p)=>{s=u,c=p});let l=this.pendingTasks.add();return Ru(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:s,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function u8(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new I(4008,!1)}var p8=new b("");function Pu(e,...n){return Dn([{provide:Eo,multi:!0,useValue:e},[],{provide:fn,useFactory:f8,deps:[Wr]},{provide:Ps,multi:!0,useFactory:y8},n.map(t=>t.\u0275providers)])}function f8(e){return e.routerState.root}function y8(){let e=M(Qe);return n=>{let t=e.get(Bn);if(n!==t.components[0])return;let r=e.get(Wr),a=e.get(g8);e.get(m8)===1&&r.initialNavigation(),e.get(k8,null,{optional:!0})?.setUpPreloading(),e.get(p8,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var g8=new b("",{factory:()=>new ee}),m8=new b("",{providedIn:"root",factory:()=>1});var k8=new b("");var M8=["*"];var Dy=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]];var Ly=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Ey=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]];var _o={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Ou=new b("LucideIcons",{factory:()=>new Ao({})}),Ao=class{constructor(n){this.icons=n}getIcon(n){return this.hasIcon(n)?this.icons[n]:null}hasIcon(n){return typeof this.icons=="object"&&n in this.icons}},w8=(()=>{class e{constructor(){this.color=_o.stroke,this.size=_o.width,this.strokeWidth=_o["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function I8(e,n=3){return parseFloat(e.toFixed(n)).toString(10)}var _y=(()=>{class e{constructor(t,r,a,o,i){this.elem=t,this.renderer=r,this.changeDetector=a,this.iconProviders=o,this.iconConfig=i,this.absoluteStrokeWidth=!1,this.defaultSize=_o.height}get size(){return this._size??this.iconConfig.size}set size(t){t?this._size=this.parseNumber(t):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(t){t?this._strokeWidth=this.parseNumber(t):delete this._strokeWidth}ngOnChanges(t){if(t.name||t.img||t.color||t.size||t.absoluteStrokeWidth||t.strokeWidth||t.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let a=this.getIcon(this.toPascalCase(r));if(a)this.replaceElement(a);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(t){let r=$(w({},_o),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?I8(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),a=this.createElement(["svg",r,t]);a.classList.add("lucide"),typeof this.name=="string"&&a.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&a.classList.add(...this.class.split(/ /).map(i=>i.trim()).filter(i=>i.length>0));let o=this.elem.nativeElement.childNodes;for(let i of o)this.renderer.removeChild(this.elem.nativeElement,i);this.renderer.appendChild(this.elem.nativeElement,a)}toPascalCase(t){return t.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,a,o)=>a.toUpperCase()+o.toLowerCase())}parseNumber(t){if(typeof t=="string"){let r=parseInt(t,10);if(isNaN(r))throw new Error(`${t} is not numeric.`);return r}return t}getIcon(t){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(t))return r.getIcon(t);return null}createElement([t,r,a=[]]){let o=this.renderer.createElement(t,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(i=>{let s=typeof r[i]=="string"?r[i]:r[i].toString(10);this.renderer.setAttribute(o,i,s)}),a.length&&a.forEach(i=>{let s=this.createElement(i);this.renderer.appendChild(o,s)}),o}}return e.\u0275fac=function(t){return new(t||e)(Pe(Fa),Pe(As),Pe(Ya),Pe(Ou),Pe(w8))},e.\u0275cmp=We({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[Tr],ngContentSelectors:M8,decls:1,vars:0,template:function(t,r){t&1&&(z1(),B1(0))},encapsulation:2}),e})(),Nu=class{constructor(n){this.icons=n}},C8=e=>new Ao(e??{}),Ay=(()=>{class e{static pick(t){return{ngModule:e,providers:[{provide:Ou,multi:!0,useValue:new Ao(t)},{provide:Ou,multi:!0,useFactory:C8,deps:[[new p1,Nu]]}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=zn({type:e}),e.\u0275inj=tn({imports:[[]]}),e})();function b8(e,n){if(e&1&&(Z(0,"div",0)(1,"div",1),Oe(2,"img",2),ne(),Z(3,"h2",3),we(4),ne(),Z(5,"p",4),Oe(6,"lucide-icon",5),we(7),ne(),Oe(8,"hr",6),Z(9,"div",7),Oe(10,"lucide-icon",5),Z(11,"span"),we(12),Os(13,"date"),Os(14,"date"),ne()(),Z(15,"div",8),Oe(16,"lucide-icon",5),Z(17,"span",9),we(18),ne(),Z(19,"span",10),we(20),ne()()()),e&2){let t=Wa();Ge(4),Za(" ",t.lease.property==null?null:t.lease.property.name," "),Ge(2),ln("img",t.MapPinIcon),Ge(),Or(" ",t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.street,", ",t.lease.property==null||t.lease.property.address==null?null:t.lease.property.address.city," "),Ge(3),ln("img",t.CalendarIcon),Ge(2),Or("",Ns(13,11,t.lease.startDate,"MMM y")," \u2013 ",Ns(14,14,t.lease.endDate,"MMM y")),Ge(4),ln("img",t.Banknote),Ge(2),Or(" ",t.lease.rentAmount," ",t.lease.rentCurrency),Ge(2),Za("/ ",t.lease.paymentFrequency||"mois")}}var Ic=class e{lease;MapPinIcon=Ey;CalendarIcon=Ly;Banknote=Dy;static \u0275fac=function(t){return new(t||e)};static \u0275cmp=We({type:e,selectors:[["app-lease-card"]],inputs:{lease:"lease"},decls:1,vars:1,consts:[[1,"max-w-md","w-full","bg-white","bg-opacity-30","backdrop-blur-md","rounded-2xl","p-4","shadow-lg","text-gray-800","cursor-pointer","space-y-4"],[1,"h-32","flex","justify-center"],["src","/illustrations/home.svg",1,"h-full"],[1,"text-2xl","font-bold","leading-tight"],[1,"text-sm","text-gray-700","flex","items-center","gap-1"],[3,"img"],[1,"border-t","border-gray-200/50","my-2"],[1,"flex","items-center","text-sm","flex","items-center","gap-1","text-gray-600"],[1,"flex","items-baseline","text-gray-800","flex","items-center","gap-1"],[1,"ml-1","text-sm","font-medium"],[1,"ml-2","text-sm","text-gray-500"]],template:function(t,r){t&1&&Ua(0,b8,21,17,"div",0),t&2&&$a(r.lease?0:-1)},dependencies:[tu,Ay,_y],encapsulation:2})};var Ty=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)};var To=class extends Error{constructor(n,t="FunctionsError",r){super(n),this.name=t,this.context=r}},Cc=class extends To{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}},xc=class extends To{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}},bc=class extends To{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}},Fu=function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e}(Fu||{});var S8=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})},Ro=class{constructor(n,{headers:t={},customFetch:r,region:a=Fu.Any}={}){this.url=n,this.headers=t,this.region=a,this.fetch=Ty(r)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n,t={}){var r;return S8(this,void 0,void 0,function*(){try{let{headers:a,method:o,body:i}=t,s={},{region:c}=t;c||(c=this.region),c&&c!=="any"&&(s["x-region"]=c);let d;i&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(s["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(s["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(s["Content-Type"]="application/json",d=JSON.stringify(i)));let l=yield this.fetch(`${this.url}/${n}`,{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},s),this.headers),a),body:d}).catch(y=>{throw new Cc(y)}),u=l.headers.get("x-relay-error");if(u&&u==="true")throw new xc(l);if(!l.ok)throw new bc(l);let p=((r=l.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),h;return p==="application/json"?h=yield l.json():p==="application/octet-stream"?h=yield l.blob():p==="text/event-stream"?h=l:p==="multipart/form-data"?h=yield l.formData():h=yield l.text(),{data:h,error:null}}catch(a){return{data:null,error:a}}})}};var $y=hm(Uy(),1),{PostgrestClient:Gy,PostgrestQueryBuilder:RN,PostgrestFilterBuilder:PN,PostgrestTransformBuilder:ON,PostgrestBuilder:NN,PostgrestError:j8}=$y.default;function Wy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}var Zy=Wy();var Ky="2.11.13";var Xy={"X-Client-Info":`realtime-js/${Ky}`},Yy="1.0.0";var Ec=1e4,Jy=1e3,qo=function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e}(qo||{}),Le=function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e}(Le||{}),rt=function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e}(rt||{}),Ku=function(e){return e.websocket="websocket",e}(Ku||{}),Kn=function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e}(Kn||{});var _c=class{constructor(){this.HEADER_LENGTH=1}decode(n,t){return n.constructor===ArrayBuffer?t(this._binaryDecode(n)):t(typeof n=="string"?JSON.parse(n):{})}_binaryDecode(n){let t=new DataView(n),r=new TextDecoder;return this._decodeBroadcast(n,t,r)}_decodeBroadcast(n,t,r){let a=t.getUint8(1),o=t.getUint8(2),i=this.HEADER_LENGTH+2,s=r.decode(n.slice(i,i+a));i=i+a;let c=r.decode(n.slice(i,i+o));i=i+o;let d=JSON.parse(r.decode(n.slice(i,n.byteLength)));return{ref:null,topic:s,event:c,payload:d}}};var Kr=class{constructor(n,t){this.callback=n,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Q=function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e}(Q||{}),Yu=(e,n,t={})=>{var r;let a=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(n).reduce((o,i)=>(o[i]=H8(i,e,n,a),o),{})},H8=(e,n,t,r)=>{let a=n.find(s=>s.name===e),o=a?.type,i=t[e];return o&&!r.includes(o)?Qy(o,i):Xu(i)},Qy=(e,n)=>{if(e.charAt(0)==="_"){let t=e.slice(1,e.length);return B8(n,t)}switch(e){case Q.bool:return q8(n);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return V8(n);case Q.json:case Q.jsonb:return z8(n);case Q.timestamp:return U8(n);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Xu(n);default:return Xu(n)}},Xu=e=>e,q8=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},V8=e=>{if(typeof e=="string"){let n=parseFloat(e);if(!Number.isNaN(n))return n}return e},z8=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(n){return console.log(`JSON parse error: ${n}`),e}return e},B8=(e,n)=>{if(typeof e!="string")return e;let t=e.length-1,r=e[t];if(e[0]==="{"&&r==="}"){let o,i=e.slice(1,t);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(s=>Qy(n,s))}return e},U8=e=>typeof e=="string"?e.replace(" ","T"):e,Ac=e=>{let n=e;return n=n.replace(/^ws/i,"http"),n=n.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),n.replace(/\/+$/,"")};var Xr=class{constructor(n,t,r={},a=Ec){this.channel=n,this.event=t,this.payload=r,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,t){var r;return this._hasReceived(n)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:n,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let n=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:t}){this.recHooks.filter(r=>r.status===n).forEach(r=>r.callback(t))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}};var Vo=class e{constructor(n,t){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=t?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},a=>{let{onJoin:o,onLeave:i,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,a,o,i),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,i)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},a=>{let{onJoin:o,onLeave:i,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=e.syncDiff(this.state,a,o,i),s())}),this.onJoin((a,o,i)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:i})}),this.onLeave((a,o,i)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,t,r,a){let o=this.cloneDeep(n),i=this.transformState(t),s={},c={};return this.map(o,(d,l)=>{i[d]||(c[d]=l)}),this.map(i,(d,l)=>{let u=o[d];if(u){let p=l.map(m=>m.presence_ref),h=u.map(m=>m.presence_ref),y=l.filter(m=>h.indexOf(m.presence_ref)<0),g=u.filter(m=>p.indexOf(m.presence_ref)<0);y.length>0&&(s[d]=y),g.length>0&&(c[d]=g)}else s[d]=l}),this.syncDiff(o,{joins:s,leaves:c},r,a)}static syncDiff(n,t,r,a){let{joins:o,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),a||(a=()=>{}),this.map(o,(s,c)=>{var d;let l=(d=n[s])!==null&&d!==void 0?d:[];if(n[s]=this.cloneDeep(c),l.length>0){let u=n[s].map(h=>h.presence_ref),p=l.filter(h=>u.indexOf(h.presence_ref)<0);n[s].unshift(...p)}r(s,l,c)}),this.map(i,(s,c)=>{let d=n[s];if(!d)return;let l=c.map(u=>u.presence_ref);d=d.filter(u=>l.indexOf(u.presence_ref)<0),n[s]=d,a(s,d,c),d.length===0&&delete n[s]}),n}static map(n,t){return Object.getOwnPropertyNames(n).map(r=>t(r,n[r]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((t,r)=>{let a=n[r];return"metas"in a?t[r]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):t[r]=a,t},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Kt=function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e}(Kt||{});var zo=class e{constructor(n,t={config:{}},r){this.topic=n,this.params=t,this.socket=r,this.bindings={},this.state=Le.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Xr(this,rt.join,this.params,this.timeout),this.rejoinTimer=new Kr(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Le.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Le.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Le.errored,this.rejoinTimer.scheduleTimeout())}),this._on(rt.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Vo(this),this.broadcastEndpointURL=Ac(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(n,t=this.timeout){var r,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Le.closed){let{config:{broadcast:o,presence:i,private:s}}=this.params;this._onError(l=>n?.(Kt.CHANNEL_ERROR,l)),this._onClose(()=>n?.(Kt.CLOSED));let c={},d={broadcast:o,presence:i,postgres_changes:(a=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(l=>l.filter))!==null&&a!==void 0?a:[],private:s};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",u=>f(this,[u],function*({postgres_changes:l}){var p;if(this.socket.setAuth(),l===void 0){n?.(Kt.SUBSCRIBED);return}else{let h=this.bindings.postgres_changes,y=(p=h?.length)!==null&&p!==void 0?p:0,g=[];for(let m=0;m<y;m++){let v=h[m],{filter:{event:x,schema:L,table:k,filter:N}}=v,Ce=l&&l[m];if(Ce&&Ce.event===x&&Ce.schema===L&&Ce.table===k&&Ce.filter===N)g.push(Object.assign(Object.assign({},v),{id:Ce.id}));else{this.unsubscribe(),this.state=Le.errored,n?.(Kt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,n&&n(Kt.SUBSCRIBED);return}})).receive("error",l=>{this.state=Le.errored,n?.(Kt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(l).join(", ")||"error")))}).receive("timeout",()=>{n?.(Kt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(r){return f(this,arguments,function*(n,t={}){return yield this.send({type:"presence",event:"track",payload:n},t.timeout||this.timeout)})}untrack(){return f(this,arguments,function*(n={}){return yield this.send({type:"presence",event:"untrack"},n)})}on(n,t,r){return this._on(n,t,r)}send(r){return f(this,arguments,function*(n,t={}){var a,o;if(!this._canPush()&&n.type==="broadcast"){let{event:i,payload:s}=n,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:s,private:this.private}]})};try{let l=yield this._fetchWithTimeout(this.broadcastEndpointURL,d,(a=t.timeout)!==null&&a!==void 0?a:this.timeout);return yield(o=l.body)===null||o===void 0?void 0:o.cancel(),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var s,c,d;let l=this._push(n.type,n,t.timeout||this.timeout);n.type==="broadcast"&&!(!((d=(c=(s=this.params)===null||s===void 0?void 0:s.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),l.receive("ok",()=>i("ok")),l.receive("error",()=>i("error")),l.receive("timeout",()=>i("timed out"))})})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Le.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(rt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(a=>{r=new Xr(this,rt.leave,{},n),r.receive("ok",()=>{t(),a("ok")}).receive("timeout",()=>{t(),a("timed out")}).receive("error",()=>{a("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}_fetchWithTimeout(n,t,r){return f(this,null,function*(){let a=new AbortController,o=setTimeout(()=>a.abort(),r),i=yield this.socket.fetch(n,Object.assign(Object.assign({},t),{signal:a.signal}));return clearTimeout(o),i})}_push(n,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Xr(this,n,t,r);return this._canPush()?a.send():(a.startTimeout(),this.pushBuffer.push(a)),a}_onMessage(n,t,r){return t}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,t,r){var a,o;let i=n.toLocaleLowerCase(),{close:s,error:c,leave:d,join:l}=rt;if(r&&[s,c,d,l].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,t,r);if(t&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(h=>{var y,g,m;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((m=(g=h.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase())===i}).map(h=>h.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(h=>{var y,g,m,v,x,L;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in h){let k=h.id,N=(y=h.filter)===null||y===void 0?void 0:y.event;return k&&((g=t.ids)===null||g===void 0?void 0:g.includes(k))&&(N==="*"||N?.toLocaleLowerCase()===((m=t.data)===null||m===void 0?void 0:m.type.toLocaleLowerCase()))}else{let k=(x=(v=h?.filter)===null||v===void 0?void 0:v.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return k==="*"||k===((L=t?.event)===null||L===void 0?void 0:L.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===i}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:g,table:m,commit_timestamp:v,type:x,errors:L}=y;p=Object.assign(Object.assign({},{schema:g,table:m,commit_timestamp:v,eventType:x,new:{},old:{},errors:L}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===Le.closed}_isJoined(){return this.state===Le.joined}_isJoining(){return this.state===Le.joining}_isLeaving(){return this.state===Le.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,t,r){let a=n.toLocaleLowerCase(),o={type:a,filter:t,callback:r};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(n,t){let r=n.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(a.filter,t))}),this}static isEqual(n,t){if(Object.keys(n).length!==Object.keys(t).length)return!1;for(let r in n)if(n[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(rt.close,{},n)}_onError(n){this._on(rt.error,{},t=>n(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Le.joining,this.joinPush.resend(n))}_getPayloadRecords(n){let t={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(t.new=Yu(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(t.old=Yu(n.columns,n.old_record)),t}};var eg=()=>{},G8=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Bo=class{constructor(n,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Xy,this.params={},this.timeout=Ec,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=eg,this.ref=0,this.logger=eg,this.conn=null,this.sendBuffer=[],this.serializer=new _c,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=o=>{let i;return o?i=o:typeof fetch>"u"?i=(...s)=>import("./chunk-X2RIVRQM.js").then(({default:c})=>c(...s)):i=fetch,(...s)=>i(...s)},this.endPoint=`${n}/${Ku.websocket}`,this.httpEndpoint=Ac(n),t?.transport?this.transport=t.transport:this.transport=null,t?.params&&(this.params=t.params),t?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t?.timeout&&(this.timeout=t.timeout),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);let a=(r=t?.params)===null||r===void 0?void 0:r.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=t?.reconnectAfterMs?t.reconnectAfterMs:o=>[1e3,2e3,5e3,1e4][o-1]||1e4,this.encode=t?.encode?t.encode:(o,i)=>i(JSON.stringify(o)),this.decode=t?.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Kr(()=>f(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(t?.fetch),t?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=t?.worker||!1,this.workerUrl=t?.workerUrl}this.accessToken=t?.accessToken||null}connect(){this.conn||(this.transport||(this.transport=Zy),this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection())}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Yy}))}disconnect(n,t){this.conn&&(this.conn.onclose=function(){},n?this.conn.close(n,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}removeChannel(n){return f(this,null,function*(){let t=yield n.unsubscribe();return this.channels.length===0&&this.disconnect(),t})}removeAllChannels(){return f(this,null,function*(){let n=yield Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),n})}log(n,t,r){this.logger(n,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case qo.connecting:return Kn.Connecting;case qo.open:return Kn.Open;case qo.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}channel(n,t={config:{}}){let r=`realtime:${n}`,a=this.getChannels().find(o=>o.topic===r);if(a)return a;{let o=new zo(`realtime:${n}`,t,this);return this.channels.push(o),o}}push(n){let{topic:t,event:r,payload:a,ref:o}=n,i=()=>{this.encode(n,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${t} ${r} (${o})`,a),this.isConnected()?i():this.sendBuffer.push(i)}setAuth(n=null){return f(this,null,function*(){let t=n||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{t&&r.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(rt.access_token,{access_token:t})}))})}sendHeartbeat(){return f(this,null,function*(){var n;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(n=this.conn)===null||n===void 0||n.close(Jy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),yield this.setAuth()})}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let t=this.channels.find(r=>r.topic===n&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${n}"`),t.unsubscribe())}_remove(n){this.channels=this.channels.filter(t=>t.topic!==n.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n))}_onConnMessage(n){this.decode(n.data,t=>{let{topic:r,event:a,payload:o,ref:i}=t;r==="phoenix"&&a==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${o.status||""} ${r} ${a} ${i&&"("+i+")"||""}`,o),Array.from(this.channels).filter(s=>s._isMember(r)).forEach(s=>s._trigger(a,o,i)),this.stateChangeCallbacks.message.forEach(s=>s(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(n=>n())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(n){this.log("transport","close",n),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(n))}_onConnError(n){this.log("transport",`${n}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(n))}_triggerChanError(){this.channels.forEach(n=>n._trigger(rt.error))}_appendParams(n,t){if(Object.keys(t).length===0)return n;let r=n.match(/\?/)?"&":"?",a=new URLSearchParams(t);return`${n}${r}${a}`}_workerObjectUrl(n){let t;if(n)t=n;else{let r=new Blob([G8],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}};var Yr=class extends Error{constructor(n){super(n),this.__isStorageError=!0,this.name="StorageError"}};function ce(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var Tc=class extends Yr{constructor(n,t){super(n),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}},Xn=class extends Yr{constructor(n,t){super(n),this.name="StorageUnknownError",this.originalError=t}};var W8=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})},Pc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},tg=()=>W8(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-X2RIVRQM.js")).Response:Response}),Rc=e=>{if(Array.isArray(e))return e.map(t=>Rc(t));if(typeof e=="function"||e!==Object(e))return e;let n={};return Object.entries(e).forEach(([t,r])=>{let a=t.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));n[a]=Rc(r)}),n};var Yn=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})},Ju=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Z8=(e,n,t)=>Yn(void 0,void 0,void 0,function*(){let r=yield tg();e instanceof r&&!t?.noResolveJson?e.json().then(a=>{n(new Tc(Ju(a),e.status||500))}).catch(a=>{n(new Xn(Ju(a),a))}):n(new Xn(Ju(e),e))}),K8=(e,n,t,r)=>{let a={method:e,headers:n?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json"},n?.headers),r&&(a.body=JSON.stringify(r)),Object.assign(Object.assign({},a),t))};function Uo(e,n,t,r,a,o){return Yn(this,void 0,void 0,function*(){return new Promise((i,s)=>{e(t,K8(n,r,a,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>Z8(c,s,r))})})}function Jr(e,n,t,r){return Yn(this,void 0,void 0,function*(){return Uo(e,"GET",n,t,r)})}function Lt(e,n,t,r,a){return Yn(this,void 0,void 0,function*(){return Uo(e,"POST",n,r,a,t)})}function ng(e,n,t,r,a){return Yn(this,void 0,void 0,function*(){return Uo(e,"PUT",n,r,a,t)})}function rg(e,n,t,r){return Yn(this,void 0,void 0,function*(){return Uo(e,"HEAD",n,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function Oc(e,n,t,r,a){return Yn(this,void 0,void 0,function*(){return Uo(e,"DELETE",n,r,a,t)})}var ze=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})},X8={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},ag={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},Nc=class{constructor(n,t={},r,a){this.url=n,this.headers=t,this.bucketId=r,this.fetch=Pc(a)}uploadOrUpdate(n,t,r,a){return ze(this,void 0,void 0,function*(){try{let o,i=Object.assign(Object.assign({},ag),a),s=Object.assign(Object.assign({},this.headers),n==="POST"&&{"x-upsert":String(i.upsert)}),c=i.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.append("cacheControl",i.cacheControl),c&&o.append("metadata",this.encodeMetadata(c))):(o=r,s["cache-control"]=`max-age=${i.cacheControl}`,s["content-type"]=i.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),a?.headers&&(s=Object.assign(Object.assign({},s),a.headers));let d=this._removeEmptyFolders(t),l=this._getFinalPath(d),u=yield this.fetch(`${this.url}/object/${l}`,Object.assign({method:n,body:o,headers:s},i?.duplex?{duplex:i.duplex}:{})),p=yield u.json();return u.ok?{data:{path:d,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(o){if(ce(o))return{data:null,error:o};throw o}})}upload(n,t,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",n,t,r)})}uploadToSignedUrl(n,t,r,a){return ze(this,void 0,void 0,function*(){let o=this._removeEmptyFolders(n),i=this._getFinalPath(o),s=new URL(this.url+`/object/upload/sign/${i}`);s.searchParams.set("token",t);try{let c,d=Object.assign({upsert:ag.upsert},a),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl)):(c=r,l["cache-control"]=`max-age=${d.cacheControl}`,l["content-type"]=d.contentType);let u=yield this.fetch(s.toString(),{method:"PUT",body:c,headers:l}),p=yield u.json();return u.ok?{data:{path:o,fullPath:p.Key},error:null}:{data:null,error:p}}catch(c){if(ce(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(n,t){return ze(this,void 0,void 0,function*(){try{let r=this._getFinalPath(n),a=Object.assign({},this.headers);t?.upsert&&(a["x-upsert"]="true");let o=yield Lt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:a}),i=new URL(this.url+o.url),s=i.searchParams.get("token");if(!s)throw new Yr("No token returned by API");return{data:{signedUrl:i.toString(),path:n,token:s},error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}update(n,t,r){return ze(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",n,t,r)})}move(n,t,r){return ze(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers}),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}copy(n,t,r){return ze(this,void 0,void 0,function*(){try{return{data:{path:(yield Lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:n,destinationKey:t,destinationBucket:r?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}createSignedUrl(n,t,r){return ze(this,void 0,void 0,function*(){try{let a=this._getFinalPath(n),o=yield Lt(this.fetch,`${this.url}/object/sign/${a}`,Object.assign({expiresIn:t},r?.transform?{transform:r.transform}:{}),{headers:this.headers}),i=r?.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}createSignedUrls(n,t,r){return ze(this,void 0,void 0,function*(){try{let a=yield Lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:n},{headers:this.headers}),o=r?.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${o}`):null})),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}download(n,t){return ze(this,void 0,void 0,function*(){let a=typeof t?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(t?.transform||{}),i=o?`?${o}`:"";try{let s=this._getFinalPath(n);return{data:yield(yield Jr(this.fetch,`${this.url}/${a}/${s}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(s){if(ce(s))return{data:null,error:s};throw s}})}info(n){return ze(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{let r=yield Jr(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:Rc(r),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}exists(n){return ze(this,void 0,void 0,function*(){let t=this._getFinalPath(n);try{return yield rg(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ce(r)&&r instanceof Xn){let a=r.originalError;if([400,404].includes(a?.status))return{data:!1,error:r}}throw r}})}getPublicUrl(n,t){let r=this._getFinalPath(n),a=[],o=t?.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&a.push(o);let s=typeof t?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(t?.transform||{});c!==""&&a.push(c);let d=a.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${r}${d}`)}}}remove(n){return ze(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:n},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}list(n,t,r){return ze(this,void 0,void 0,function*(){try{let a=Object.assign(Object.assign(Object.assign({},X8),t),{prefix:n||""});return{data:yield Lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,a,{headers:this.headers},r),error:null}}catch(a){if(ce(a))return{data:null,error:a};throw a}})}encodeMetadata(n){return JSON.stringify(n)}toBase64(n){return typeof Buffer<"u"?Buffer.from(n).toString("base64"):btoa(n)}_getFinalPath(n){return`${this.bucketId}/${n}`}_removeEmptyFolders(n){return n.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(n){let t=[];return n.width&&t.push(`width=${n.width}`),n.height&&t.push(`height=${n.height}`),n.resize&&t.push(`resize=${n.resize}`),n.format&&t.push(`format=${n.format}`),n.quality&&t.push(`quality=${n.quality}`),t.join("&")}};var og="2.7.1";var ig={"X-Client-Info":`storage-js/${og}`};var Qr=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})},Fc=class{constructor(n,t={},r){this.url=n,this.headers=Object.assign(Object.assign({},ig),t),this.fetch=Pc(r)}listBuckets(){return Qr(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(n){if(ce(n))return{data:null,error:n};throw n}})}getBucket(n){return Qr(this,void 0,void 0,function*(){try{return{data:yield Jr(this.fetch,`${this.url}/bucket/${n}`,{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}createBucket(n,t={public:!1}){return Qr(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}updateBucket(n,t){return Qr(this,void 0,void 0,function*(){try{return{data:yield ng(this.fetch,`${this.url}/bucket/${n}`,{id:n,name:n,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ce(r))return{data:null,error:r};throw r}})}emptyBucket(n){return Qr(this,void 0,void 0,function*(){try{return{data:yield Lt(this.fetch,`${this.url}/bucket/${n}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}deleteBucket(n){return Qr(this,void 0,void 0,function*(){try{return{data:yield Oc(this.fetch,`${this.url}/bucket/${n}`,{},{headers:this.headers}),error:null}}catch(t){if(ce(t))return{data:null,error:t};throw t}})}};var $o=class extends Fc{constructor(n,t={},r){super(n,t,r)}from(n){return new Nc(this.url,this.headers,n,this.fetch)}};var sg="2.50.1";var Go="";typeof Deno<"u"?Go="deno":typeof document<"u"?Go="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Go="react-native":Go="node";var Y8={"X-Client-Info":`supabase-js-${Go}/${sg}`},cg={headers:Y8},dg={schema:"public"},lg={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ug={};Ch();var J8=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})},Q8=e=>{let n;return e?n=e:typeof fetch>"u"?n=wh:n=fetch,(...t)=>n(...t)},ew=()=>typeof Headers>"u"?Ih:Headers,hg=(e,n,t)=>{let r=Q8(t),a=ew();return(o,i)=>J8(void 0,void 0,void 0,function*(){var s;let c=(s=yield n())!==null&&s!==void 0?s:e,d=new a(i?.headers);return d.has("apikey")||d.set("apikey",e),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),r(o,Object.assign(Object.assign({},i),{headers:d}))})};var tw=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})};function pg(e){return e.endsWith("/")?e:e+"/"}function fg(e,n){var t,r;let{db:a,auth:o,realtime:i,global:s}=e,{db:c,auth:d,realtime:l,global:u}=n,p={db:Object.assign(Object.assign({},c),a),auth:Object.assign(Object.assign({},d),o),realtime:Object.assign(Object.assign({},l),i),global:Object.assign(Object.assign(Object.assign({},u),s),{headers:Object.assign(Object.assign({},(t=u?.headers)!==null&&t!==void 0?t:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tw(this,void 0,void 0,function*(){return""})};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}var jc="2.70.0";var Jn=30*1e3,Hc=3,qc=Hc*Jn,yg="http://localhost:9999",gg="supabase.auth.token";var mg={"X-Client-Info":`gotrue-js/${jc}`};var Wo="X-Supabase-Api-Version",Qu={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kg=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,vg=6e5;var Zo=class extends Error{constructor(n,t,r){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}};function _(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var Vc=class extends Zo{constructor(n,t,r){super(n,t,r),this.name="AuthApiError",this.status=t,this.code=r}};function Mg(e){return _(e)&&e.name==="AuthApiError"}var ea=class extends Zo{constructor(n,t){super(n),this.name="AuthUnknownError",this.originalError=t}},Et=class extends Zo{constructor(n,t,r,a){super(n,r,a),this.name=t,this.status=r}},at=class extends Et{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function wg(e){return _(e)&&e.name==="AuthSessionMissingError"}var Qn=class extends Et{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},er=class extends Et{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}},tr=class extends Et{constructor(n,t=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Ig(e){return _(e)&&e.name==="AuthImplicitGrantRedirectError"}var Ko=class extends Et{constructor(n,t=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},ta=class extends Et{constructor(n,t){super(n,"AuthRetryableFetchError",t,void 0)}};function zc(e){return _(e)&&e.name==="AuthRetryableFetchError"}var Xo=class extends Et{constructor(n,t,r){super(n,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}};var Xt=class extends Et{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}};var Bc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cg=` 	
\r=`.split(""),nw=(()=>{let e=new Array(128);for(let n=0;n<e.length;n+=1)e[n]=-1;for(let n=0;n<Cg.length;n+=1)e[Cg[n].charCodeAt(0)]=-2;for(let n=0;n<Bc.length;n+=1)e[Bc[n].charCodeAt(0)]=n;return e})();function xg(e,n,t){if(e!==null)for(n.queue=n.queue<<8|e,n.queuedBits+=8;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Bc[r]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){let r=n.queue>>n.queuedBits-6&63;t(Bc[r]),n.queuedBits-=6}}function bg(e,n,t){let r=nw[e];if(r>-1)for(n.queue=n.queue<<6|r,n.queuedBits+=6;n.queuedBits>=8;)t(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function eh(e){let n=[],t=i=>{n.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=i=>{ow(i,r,t)};for(let i=0;i<e.length;i+=1)bg(e.charCodeAt(i),a,o);return n.join("")}function rw(e,n){if(e<=127){n(e);return}else if(e<=2047){n(192|e>>6),n(128|e&63);return}else if(e<=65535){n(224|e>>12),n(128|e>>6&63),n(128|e&63);return}else if(e<=1114111){n(240|e>>18),n(128|e>>12&63),n(128|e>>6&63),n(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function aw(e,n){for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r>55295&&r<=56319){let a=(r-55296)*1024&65535;r=(e.charCodeAt(t+1)-56320&65535|a)+65536,t+=1}rw(r,n)}}function ow(e,n,t){if(n.utf8seq===0){if(e<=127){t(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){n.utf8seq=r;break}if(n.utf8seq===2)n.codepoint=e&31;else if(n.utf8seq===3)n.codepoint=e&15;else if(n.utf8seq===4)n.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|e&63,n.utf8seq-=1,n.utf8seq===0&&t(n.codepoint)}}function Sg(e){let n=[],t={queue:0,queuedBits:0},r=a=>{n.push(a)};for(let a=0;a<e.length;a+=1)bg(e.charCodeAt(a),t,r);return new Uint8Array(n)}function Dg(e){let n=[];return aw(e,t=>n.push(t)),new Uint8Array(n)}function Lg(e){let n=[],t={queue:0,queuedBits:0},r=a=>{n.push(a)};return e.forEach(a=>xg(a,t,r)),xg(null,t,r),n.join("")}function Eg(e){return Math.round(Date.now()/1e3)+e}function _g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){let n=Math.random()*16|0;return(e=="x"?n:n&3|8).toString(16)})}var ot=()=>typeof window<"u"&&typeof document<"u",nr={tested:!1,writable:!1},yn=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(nr.tested)return nr.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),nr.tested=!0,nr.writable=!0}catch{nr.tested=!0,nr.writable=!1}return nr.writable};function Ag(e){let n={},t=new URL(e);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((a,o)=>{n[o]=a})}catch{}return t.searchParams.forEach((r,a)=>{n[a]=r}),n}var Uc=e=>{let n;return e?n=e:typeof fetch>"u"?n=(...t)=>import("./chunk-X2RIVRQM.js").then(({default:r})=>r(...t)):n=fetch,(...t)=>n(...t)},Tg=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",th=(e,n,t)=>f(null,null,function*(){yield e.setItem(n,JSON.stringify(t))}),Jo=(e,n)=>f(null,null,function*(){let t=yield e.getItem(n);if(!t)return null;try{return JSON.parse(t)}catch{return t}}),Qo=(e,n)=>f(null,null,function*(){yield e.removeItem(n)}),Yo=class e{constructor(){this.promise=new e.promiseConstructor((n,t)=>{this.resolve=n,this.reject=t})}};Yo.promiseConstructor=Promise;function $c(e){let n=e.split(".");if(n.length!==3)throw new Xt("Invalid JWT structure");for(let r=0;r<n.length;r++)if(!kg.test(n[r]))throw new Xt("JWT not in base64url format");return{header:JSON.parse(eh(n[0])),payload:JSON.parse(eh(n[1])),signature:Sg(n[2]),raw:{header:n[0],payload:n[1]}}}function Rg(e){return f(this,null,function*(){return yield new Promise(n=>{setTimeout(()=>n(null),e)})})}function Pg(e,n){return new Promise((r,a)=>{f(null,null,function*(){for(let o=0;o<1/0;o++)try{let i=yield e(o);if(!n(o,null,i)){r(i);return}}catch(i){if(!n(o,i)){a(i);return}}})})}function iw(e){return("0"+e.toString(16)).substr(-2)}function sw(){let n=new Uint32Array(56);if(typeof crypto>"u"){let t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length,a="";for(let o=0;o<56;o++)a+=t.charAt(Math.floor(Math.random()*r));return a}return crypto.getRandomValues(n),Array.from(n,iw).join("")}function cw(e){return f(this,null,function*(){let t=new TextEncoder().encode(e),r=yield crypto.subtle.digest("SHA-256",t),a=new Uint8Array(r);return Array.from(a).map(o=>String.fromCharCode(o)).join("")})}function dw(e){return f(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let t=yield cw(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function rr(e,n,t=!1){return f(this,null,function*(){let r=sw(),a=r;t&&(a+="/PASSWORD_RECOVERY"),yield th(e,`${n}-code-verifier`,a);let o=yield dw(r);return[o,r===o?"plain":"s256"]})}var lw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Og(e){let n=e.headers.get(Wo);if(!n||!n.match(lw))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function Ng(e){if(!e)throw new Error("Missing exp claim");let n=Math.floor(Date.now()/1e3);if(e<=n)throw new Error("JWT has expired")}function Fg(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var uw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ar(e){if(!uw.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var hw=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},or=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),pw=[502,503,504];function jg(e){return f(this,null,function*(){var n;if(!Tg(e))throw new ta(or(e),0);if(pw.includes(e.status))throw new ta(or(e),e.status);let t;try{t=yield e.json()}catch(o){throw new ea(or(o),o)}let r,a=Og(e);if(a&&a.getTime()>=Qu["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new Xo(or(t),e.status,((n=t.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(r==="session_not_found")throw new at}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Xo(or(t),e.status,t.weak_password.reasons);throw new Vc(or(t),e.status||500,r)})}var fw=(e,n,t,r)=>{let a={method:e,headers:n?.headers||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n?.headers),a.body=JSON.stringify(r),Object.assign(Object.assign({},a),t))};function j(e,n,t,r){return f(this,null,function*(){var a;let o=Object.assign({},r?.headers);o[Wo]||(o[Wo]=Qu["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let i=(a=r?.query)!==null&&a!==void 0?a:{};r?.redirectTo&&(i.redirect_to=r.redirectTo);let s=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=yield yw(e,n,t+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}})}function yw(e,n,t,r,a,o){return f(this,null,function*(){let i=fw(n,r,a,o),s;try{s=yield e(t,Object.assign({},i))}catch(c){throw console.error(c),new ta(or(c),0)}if(s.ok||(yield jg(s)),r?.noResolveJson)return s;try{return yield s.json()}catch(c){yield jg(c)}})}function _t(e){var n;let t=null;gw(e)&&(t=Object.assign({},e),e.expires_at||(t.expires_at=Eg(e.expires_in)));let r=(n=e.user)!==null&&n!==void 0?n:e;return{data:{session:t,user:r},error:null}}function nh(e){let n=_t(e);return!n.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(n.data.weak_password=e.weak_password),n}function At(e){var n;return{data:{user:(n=e.user)!==null&&n!==void 0?n:e},error:null}}function Hg(e){return{data:e,error:null}}function qg(e){let{action_link:n,email_otp:t,hashed_token:r,redirect_to:a,verification_type:o}=e,i=hw(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:n,email_otp:t,hashed_token:r,redirect_to:a,verification_type:o},c=Object.assign({},i);return{data:{properties:s,user:c},error:null}}function Vg(e){return e}function gw(e){return e.access_token&&e.refresh_token&&e.expires_in}var Gc=["global","local","others"];var mw=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]]);return t},na=class{constructor({url:n="",headers:t={},fetch:r}){this.url=n,this.headers=t,this.fetch=Uc(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(r){return f(this,arguments,function*(n,t=Gc[0]){if(Gc.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gc.join(", ")}`);try{return yield j(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(a){if(_(a))return{data:null,error:a};throw a}})}inviteUserByEmail(r){return f(this,arguments,function*(n,t={}){try{return yield j(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:At})}catch(a){if(_(a))return{data:{user:null},error:a};throw a}})}generateLink(n){return f(this,null,function*(){try{let{options:t}=n,r=mw(n,["options"]),a=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(a.new_email=r?.newEmail,delete a.newEmail),yield j(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:qg,redirectTo:t?.redirectTo})}catch(t){if(_(t))return{data:{properties:null,user:null},error:t};throw t}})}createUser(n){return f(this,null,function*(){try{return yield j(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:At})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}})}listUsers(n){return f(this,null,function*(){var t,r,a,o,i,s,c;try{let d={nextPage:null,lastPage:0,total:0},l=yield j(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=n?.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(o=(a=n?.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Vg});if(l.error)throw l.error;let u=yield l.json(),p=(i=l.headers.get("x-total-count"))!==null&&i!==void 0?i:0,h=(c=(s=l.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),m=JSON.parse(y.split(";")[1].split("=")[1]);d[`${m}Page`]=g}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},u),d),error:null}}catch(d){if(_(d))return{data:{users:[]},error:d};throw d}})}getUserById(n){return f(this,null,function*(){ar(n);try{return yield j(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:At})}catch(t){if(_(t))return{data:{user:null},error:t};throw t}})}updateUserById(n,t){return f(this,null,function*(){ar(n);try{return yield j(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:t,headers:this.headers,xform:At})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}deleteUser(n,t=!1){return f(this,null,function*(){ar(n);try{return yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:t},xform:At})}catch(r){if(_(r))return{data:{user:null},error:r};throw r}})}_listFactors(n){return f(this,null,function*(){ar(n.userId);try{let{data:t,error:r}=yield j(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:t,error:r}}catch(t){if(_(t))return{data:null,error:t};throw t}})}_deleteFactor(n){return f(this,null,function*(){ar(n.userId),ar(n.id);try{return{data:yield j(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(t){if(_(t))return{data:null,error:t};throw t}})}};var zg={getItem:e=>yn()?globalThis.localStorage.getItem(e):null,setItem:(e,n)=>{yn()&&globalThis.localStorage.setItem(e,n)},removeItem:e=>{yn()&&globalThis.localStorage.removeItem(e)}};function rh(e={}){return{getItem:n=>e[n]||null,setItem:(n,t)=>{e[n]=t},removeItem:n=>{delete e[n]}}}function Bg(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ir={debug:!!(globalThis&&yn()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ei=class extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}},Wc=class extends ei{};function ah(e,n,t){return f(this,null,function*(){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,n);let r=new globalThis.AbortController;return n>0&&setTimeout(()=>{r.abort(),ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},n),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(e,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},a=>f(null,null,function*(){if(a){ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return yield t()}finally{ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(n===0)throw ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Wc(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ir.debug)try{let o=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield t()}})))})}Bg();var kw={url:yg,storageKey:gg,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:mg,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Ug(e,n,t){return f(this,null,function*(){return yield t()})}var oh=(()=>{class e{constructor(t){var r,a;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=e.nextInstanceID,e.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let o=Object.assign(Object.assign({},kw),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new na({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Uc(o.fetch),this.lock=o.lock||Ug,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:ot()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=ah:this.lock=Ug,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?o.storage?this.storage=o.storage:yn()?this.storage=zg:(this.memoryStorage={},this.storage=rh(this.memoryStorage)):(this.memoryStorage={},this.storage=rh(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",i=>f(this,null,function*(){this._debug("received broadcast notification from other tab or client",i),yield this._notifyAllSubscribers(i.data.event,i.data.session,!1)}))}this.initialize()}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${jc}) ${new Date().toISOString()}`,...t),this}initialize(){return f(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=f(this,null,function*(){return yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return f(this,null,function*(){var t;try{let r=Ag(window.location.href),a="none";if(this._isImplicitGrantCallback(r)?a="implicit":(yield this._isPKCECallback(r))&&(a="pkce"),ot()&&this.detectSessionInUrl&&a!=="none"){let{data:o,error:i}=yield this._getSessionFromURL(r,a);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ig(i)){let d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return yield this._removeSession(),{error:i}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),yield this._saveSession(s),setTimeout(()=>f(this,null,function*(){c==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",s):yield this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(r){return _(r)?{error:r}:{error:new ea("Unexpected error during initialization",r)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(t){return f(this,null,function*(){var r,a,o;try{let i=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(o=t?.options)===null||o===void 0?void 0:o.captchaToken}},xform:_t}),{data:s,error:c}=i;if(c||!s)return{data:{user:null,session:null},error:c};let d=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:l,session:d},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}})}signUp(t){return f(this,null,function*(){var r,a,o;try{let i;if("email"in t){let{email:u,password:p,options:h}=t,y=null,g=null;this.flowType==="pkce"&&([y,g]=yield rr(this.storage,this.storageKey)),i=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:g},xform:_t})}else if("phone"in t){let{phone:u,password:p,options:h}=t;i=yield j(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(a=h?.data)!==null&&a!==void 0?a:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:_t})}else throw new er("You must provide either an email or phone number and a password");let{data:s,error:c}=i;if(c||!s)return{data:{user:null,session:null},error:c};let d=s.session,l=s.user;return s.session&&(yield this._saveSession(s.session),yield this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:l,session:d},error:null}}catch(i){if(_(i))return{data:{user:null,session:null},error:i};throw i}})}signInWithPassword(t){return f(this,null,function*(){try{let r;if("email"in t){let{email:i,password:s,options:c}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nh})}else if("phone"in t){let{phone:i,password:s,options:c}=t;r=yield j(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:nh})}else throw new er("You must provide either an email or phone number and a password");let{data:a,error:o}=r;return o?{data:{user:null,session:null},error:o}:!a||!a.session||!a.user?{data:{user:null,session:null},error:new Qn}:(a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:o})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOAuth(t){return f(this,null,function*(){var r,a,o,i;return yield this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})})}exchangeCodeForSession(t){return f(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>f(this,null,function*(){return this._exchangeCodeForSession(t)}))})}signInWithWeb3(t){return f(this,null,function*(){let{chain:r}=t;if(r==="solana")return yield this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)})}signInWithSolana(t){return f(this,null,function*(){var r,a,o,i,s,c,d,l,u,p,h,y;let g,m;if("message"in t)g=t.message,m=t.signature;else{let{chain:v,wallet:x,statement:L,options:k}=t,N;if(ot())if(typeof x=="object")N=x;else{let B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))N=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!k?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=x}let Ce=new URL((r=k?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in N&&N.signIn){let B=yield N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k?.signInWithSolana),{version:"1",domain:Ce.host,uri:Ce.href}),L?{statement:L}:null)),ae;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")ae=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)ae=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)g=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),m=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${Ce.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...L?["",L,""]:[""],"Version: 1",`URI: ${Ce.href}`,`Issued At: ${(o=(a=k?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((i=k?.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((s=k?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((c=k?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((d=k?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((l=k?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((p=(u=k?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",...k.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);let B=yield N.signMessage(new TextEncoder().encode(g),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=B}}try{let{data:v,error:x}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:Lg(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=t.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:_t});if(x)throw x;return!v||!v.session||!v.user?{data:{user:null,session:null},error:new Qn}:(v.session&&(yield this._saveSession(v.session),yield this._notifyAllSubscribers("SIGNED_IN",v.session)),{data:Object.assign({},v),error:x})}catch(v){if(_(v))return{data:{user:null,session:null},error:v};throw v}})}_exchangeCodeForSession(t){return f(this,null,function*(){let r=yield Jo(this.storage,`${this.storageKey}-code-verifier`),[a,o]=(r??"").split("/");try{let{data:i,error:s}=yield j(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:a},xform:_t});if(yield Qo(this.storage,`${this.storageKey}-code-verifier`),s)throw s;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Qn}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:o??null}),error:s})}catch(i){if(_(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}})}signInWithIdToken(t){return f(this,null,function*(){try{let{options:r,provider:a,token:o,access_token:i,nonce:s}=t,c=yield j(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:o,access_token:i,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:_t}),{data:d,error:l}=c;return l?{data:{user:null,session:null},error:l}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new Qn}:(d.session&&(yield this._saveSession(d.session),yield this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:l})}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}signInWithOtp(t){return f(this,null,function*(){var r,a,o,i,s;try{if("email"in t){let{email:c,options:d}=t,l=null,u=null;this.flowType==="pkce"&&([l,u]=yield rr(this.storage,this.storageKey));let{error:p}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d?.data)!==null&&r!==void 0?r:{},create_user:(a=d?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:l,code_challenge_method:u},redirectTo:d?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in t){let{phone:c,options:d}=t,{data:l,error:u}=yield j(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=d?.data)!==null&&o!==void 0?o:{},create_user:(i=d?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return{data:{user:null,session:null,messageId:l?.message_id},error:u}}throw new er("You must provide either an email or phone number.")}catch(c){if(_(c))return{data:{user:null,session:null},error:c};throw c}})}verifyOtp(t){return f(this,null,function*(){var r,a;try{let o,i;"options"in t&&(o=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(a=t.options)===null||a===void 0?void 0:a.captchaToken);let{data:s,error:c}=yield j(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:o,xform:_t});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let d=s.session,l=s.user;return d?.access_token&&(yield this._saveSession(d),yield this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:l,session:d},error:null}}catch(o){if(_(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithSSO(t){return f(this,null,function*(){var r,a,o;try{let i=null,s=null;return this.flowType==="pkce"&&([i,s]=yield rr(this.storage,this.storageKey)),yield j(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&a!==void 0?a:void 0}),!((o=t?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:s}),headers:this.headers,xform:Hg})}catch(i){if(_(i))return{data:null,error:i};throw i}})}reauthenticate(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return f(this,null,function*(){try{return yield this._useSession(t=>f(this,null,function*(){let{data:{session:r},error:a}=t;if(a)throw a;if(!r)throw new at;let{error:o}=yield j(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:o}}))}catch(t){if(_(t))return{data:{user:null,session:null},error:t};throw t}})}resend(t){return f(this,null,function*(){try{let r=`${this.url}/resend`;if("email"in t){let{email:a,type:o,options:i}=t,{error:s}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{email:a,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}},redirectTo:i?.emailRedirectTo});return{data:{user:null,session:null},error:s}}else if("phone"in t){let{phone:a,type:o,options:i}=t,{data:s,error:c}=yield j(this.fetch,"POST",r,{headers:this.headers,body:{phone:a,type:o,gotrue_meta_security:{captcha_token:i?.captchaToken}}});return{data:{user:null,session:null,messageId:s?.message_id},error:c}}throw new er("You must provide either an email or phone number and a type")}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}getSession(){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return this._useSession(r=>f(this,null,function*(){return r}))}))})}_acquireLock(t,r){return f(this,null,function*(){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){let a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=f(this,null,function*(){return yield a,yield r()});return this.pendingInLock.push(f(this,null,function*(){try{yield o}catch{}})),o}return yield this.lock(`lock:${this.storageKey}`,t,()=>f(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let a=r();for(this.pendingInLock.push(f(this,null,function*(){try{yield a}catch{}})),yield a;this.pendingInLock.length;){let o=[...this.pendingInLock];yield Promise.all(o),this.pendingInLock.splice(0,o.length)}return yield a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(t){return f(this,null,function*(){this._debug("#_useSession","begin");try{let r=yield this.__loadSession();return yield t(r)}finally{this._debug("#_useSession","end")}})}__loadSession(){return f(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null,r=yield Jo(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!t)return{data:{session:null},error:null};let a=t.expires_at?t.expires_at*1e3-Date.now()<qc:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",t.expires_at),!a){if(this.storage.isServer){let s=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,l,u)=>(!s&&l==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),s=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,l,u))})}return{data:{session:t},error:null}}let{session:o,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{session:null},error:i}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(t){return f(this,null,function*(){return t?yield this._getUser(t):(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._getUser()})))})}_getUser(t){return f(this,null,function*(){try{return t?yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:At}):yield this._useSession(r=>f(this,null,function*(){var a,o,i;let{data:s,error:c}=r;if(c)throw c;return!(!((a=s.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new at}:yield j(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&i!==void 0?i:void 0,xform:At})}))}catch(r){if(_(r))return wg(r)&&(yield this._removeSession(),yield Qo(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}})}updateUser(a){return f(this,arguments,function*(t,r={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._updateUser(t,r)}))})}_updateUser(a){return f(this,arguments,function*(t,r={}){try{return yield this._useSession(o=>f(this,null,function*(){let{data:i,error:s}=o;if(s)throw s;if(!i.session)throw new at;let c=i.session,d=null,l=null;this.flowType==="pkce"&&t.email!=null&&([d,l]=yield rr(this.storage,this.storageKey));let{data:u,error:p}=yield j(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:l}),jwt:c.access_token,xform:At});if(p)throw p;return c.user=u.user,yield this._saveSession(c),yield this._notifyAllSubscribers("USER_UPDATED",c),{data:{user:c.user},error:null}}))}catch(o){if(_(o))return{data:{user:null},error:o};throw o}})}setSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._setSession(t)}))})}_setSession(t){return f(this,null,function*(){try{if(!t.access_token||!t.refresh_token)throw new at;let r=Date.now()/1e3,a=r,o=!0,i=null,{payload:s}=$c(t.access_token);if(s.exp&&(a=s.exp,o=a<=r),o){let{session:c,error:d}=yield this._callRefreshToken(t.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!c)return{data:{user:null,session:null},error:null};i=c}else{let{data:c,error:d}=yield this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:a-r,expires_at:a},yield this._saveSession(i),yield this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(_(r))return{data:{session:null,user:null},error:r};throw r}})}refreshSession(t){return f(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._refreshSession(t)}))})}_refreshSession(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;if(!t){let{data:s,error:c}=r;if(c)throw c;t=(a=s.session)!==null&&a!==void 0?a:void 0}if(!t?.refresh_token)throw new at;let{session:o,error:i}=yield this._callRefreshToken(t.refresh_token);return i?{data:{user:null,session:null},error:i}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}}))}catch(r){if(_(r))return{data:{user:null,session:null},error:r};throw r}})}_getSessionFromURL(t,r){return f(this,null,function*(){try{if(!ot())throw new tr("No browser detected.");if(t.error||t.error_description||t.error_code)throw new tr(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Ko("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new tr("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Ko("No code detected.");let{data:L,error:k}=yield this._exchangeCodeForSession(t.code);if(k)throw k;let N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:L.session,redirectType:null},error:null}}let{provider_token:a,provider_refresh_token:o,access_token:i,refresh_token:s,expires_in:c,expires_at:d,token_type:l}=t;if(!i||!c||!s||!l)throw new tr("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;d&&(h=parseInt(d));let y=h-u;y*1e3<=Jn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let g=h-p;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);let{data:m,error:v}=yield this._getUser(i);if(v)throw v;let x={provider_token:a,provider_refresh_token:o,access_token:i,expires_in:p,expires_at:h,refresh_token:s,token_type:l,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(a){if(_(a))return{data:{session:null,redirectType:null},error:a};throw a}})}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}_isPKCECallback(t){return f(this,null,function*(){let r=yield Jo(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)})}signOut(){return f(this,arguments,function*(t={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){return yield this._signOut(t)}))})}_signOut(){return f(this,arguments,function*({scope:t}={scope:"global"}){return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;if(i)return{error:i};let s=(a=o.session)===null||a===void 0?void 0:a.access_token;if(s){let{error:c}=yield this.admin.signOut(s,t);if(c&&!(Mg(c)&&(c.status===404||c.status===401||c.status===403)))return{error:c}}return t!=="others"&&(yield this._removeSession(),yield Qo(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(t){let r=_g(),a={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,a),f(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){this._emitInitialSession(r)}))}),{data:{subscription:a}}}_emitInitialSession(t){return f(this,null,function*(){return yield this._useSession(r=>f(this,null,function*(){var a,o;try{let{data:{session:i},error:s}=r;if(s)throw s;yield(a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",i),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){yield(o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}}))})}resetPasswordForEmail(a){return f(this,arguments,function*(t,r={}){let o=null,i=null;this.flowType==="pkce"&&([o,i]=yield rr(this.storage,this.storageKey,!0));try{return yield j(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(_(s))return{data:null,error:s};throw s}})}getUserIdentities(){return f(this,null,function*(){var t;try{let{data:r,error:a}=yield this.getUser();if(a)throw a;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(_(r))return{data:null,error:r};throw r}})}linkIdentity(t){return f(this,null,function*(){var r;try{let{data:a,error:o}=yield this._useSession(i=>f(this,null,function*(){var s,c,d,l,u;let{data:p,error:h}=i;if(h)throw h;let y=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return yield j(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0})}));if(o)throw o;return ot()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(a?.url),{data:{provider:t.provider,url:a?.url},error:null}}catch(a){if(_(a))return{data:{provider:t.provider,url:null},error:a};throw a}})}unlinkIdentity(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a,o;let{data:i,error:s}=r;if(s)throw s;return yield j(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(a=i.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_refreshAccessToken(t){return f(this,null,function*(){let r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{let a=Date.now();return yield Pg(o=>f(this,null,function*(){return o>0&&(yield Rg(200*Math.pow(2,o-1))),this._debug(r,"refreshing attempt",o),yield j(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:_t})}),(o,i)=>{let s=200*Math.pow(2,o);return i&&zc(i)&&Date.now()+s-a<Jn})}catch(a){if(this._debug(r,"error",a),_(a))return{data:{session:null,user:null},error:a};throw a}finally{this._debug(r,"end")}})}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}_handleProviderSignIn(t,r){return f(this,null,function*(){let a=yield this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",a),ot()&&!r.skipBrowserRedirect&&window.location.assign(a),{data:{provider:t,url:a},error:null}})}_recoverAndRefresh(){return f(this,null,function*(){var t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let a=yield Jo(this.storage,this.storageKey);if(this._debug(r,"session from storage",a),!this._isValidSession(a)){this._debug(r,"session is not valid"),a!==null&&(yield this._removeSession());return}let o=((t=a.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<qc;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${qc}s`),o){if(this.autoRefreshToken&&a.refresh_token){let{error:i}=yield this._callRefreshToken(a.refresh_token);i&&(console.error(i),zc(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(r,"error",a),console.error(a);return}finally{this._debug(r,"end")}})}_callRefreshToken(t){return f(this,null,function*(){var r,a;if(!t)throw new at;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Yo;let{data:i,error:s}=yield this._refreshAccessToken(t);if(s)throw s;if(!i.session)throw new at;yield this._saveSession(i.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);let c={session:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(o,"error",i),_(i)){let s={session:null,error:i};return zc(i)||(yield this._removeSession()),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(i),i}finally{this.refreshingDeferred=null,this._debug(o,"end")}})}_notifyAllSubscribers(t,r,a=!0){return f(this,null,function*(){let o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",r,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:t,session:r});let i=[],s=Array.from(this.stateChangeEmitters.values()).map(c=>f(this,null,function*(){try{yield c.callback(t,r)}catch(d){i.push(d)}}));if(yield Promise.all(s),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(o,"end")}})}_saveSession(t){return f(this,null,function*(){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,yield th(this.storage,this.storageKey,t)})}_removeSession(){return f(this,null,function*(){this._debug("#_removeSession()"),yield Qo(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}_startAutoRefresh(){return f(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let t=setInterval(()=>this._autoRefreshTokenTick(),Jn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(()=>f(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return f(this,null,function*(){this._debug("#_stopAutoRefresh()");let t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)})}startAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return f(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return f(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>f(this,null,function*(){try{let t=Date.now();try{return yield this._useSession(r=>f(this,null,function*(){let{data:{session:a}}=r;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((a.expires_at*1e3-t)/Jn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Jn}ms, refresh threshold is ${Hc} ticks`),o<=Hc&&(yield this._callRefreshToken(a.refresh_token))}))}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(t){if(t.isAcquireTimeout||t instanceof ei)this._debug("auto refresh token tick lock not available");else throw t}})}_handleVisibilityChange(){return f(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!ot()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>f(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}})}_onVisibilityChanged(t){return f(this,null,function*(){let r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(yield this.initializePromise,yield this._acquireLock(-1,()=>f(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(t,r,a){return f(this,null,function*(){let o=[`provider=${encodeURIComponent(r)}`];if(a?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&o.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){let[i,s]=yield rr(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(a?.queryParams){let i=new URLSearchParams(a.queryParams);o.push(i.toString())}return a?.skipBrowserRedirect&&o.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${t}?${o.join("&")}`})}_unenroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;return i?{data:null,error:i}:yield j(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_enroll(t){return f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a,o;let{data:i,error:s}=r;if(s)return{data:null,error:s};let c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:d,error:l}=yield j(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(a=i?.session)===null||a===void 0?void 0:a.access_token});return l?{data:null,error:l}:(t.factorType==="totp"&&(!((o=d?.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})}))}catch(r){if(_(r))return{data:null,error:r};throw r}})}_verify(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;if(i)return{data:null,error:i};let{data:s,error:c}=yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token});return c?{data:null,error:c}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:c})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challenge(t){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){try{return yield this._useSession(r=>f(this,null,function*(){var a;let{data:o,error:i}=r;return i?{data:null,error:i}:yield j(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(a=o?.session)===null||a===void 0?void 0:a.access_token})}))}catch(r){if(_(r))return{data:null,error:r};throw r}}))})}_challengeAndVerify(t){return f(this,null,function*(){let{data:r,error:a}=yield this._challenge({factorId:t.factorId});return a?{data:null,error:a}:yield this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})})}_listFactors(){return f(this,null,function*(){let{data:{user:t},error:r}=yield this.getUser();if(r)return{data:null,error:r};let a=t?.factors||[],o=a.filter(s=>s.factor_type==="totp"&&s.status==="verified"),i=a.filter(s=>s.factor_type==="phone"&&s.status==="verified");return{data:{all:a,totp:o,phone:i},error:null}})}_getAuthenticatorAssuranceLevel(){return f(this,null,function*(){return this._acquireLock(-1,()=>f(this,null,function*(){return yield this._useSession(t=>f(this,null,function*(){var r,a;let{data:{session:o},error:i}=t;if(i)return{data:null,error:i};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:s}=$c(o.access_token),c=null;s.aal&&(c=s.aal);let d=c;((a=(r=o.user.factors)===null||r===void 0?void 0:r.filter(p=>p.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(d="aal2");let u=s.amr||[];return{data:{currentLevel:c,nextLevel:d,currentAuthenticationMethods:u},error:null}}))}))})}fetchJwk(a){return f(this,arguments,function*(t,r={keys:[]}){let o=r.keys.find(c=>c.kid===t);if(o||(o=this.jwks.keys.find(c=>c.kid===t),o&&this.jwks_cached_at+vg>Date.now()))return o;let{data:i,error:s}=yield j(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;if(!i.keys||i.keys.length===0)throw new Xt("JWKS is empty");if(this.jwks=i,this.jwks_cached_at=Date.now(),o=i.keys.find(c=>c.kid===t),!o)throw new Xt("No matching signing key found in JWKS");return o})}getClaims(a){return f(this,arguments,function*(t,r={keys:[]}){try{let o=t;if(!o){let{data:g,error:m}=yield this.getSession();if(m||!g.session)return{data:null,error:m};o=g.session.access_token}let{header:i,payload:s,signature:c,raw:{header:d,payload:l}}=$c(o);if(Ng(s.exp),!i.kid||i.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:g}=yield this.getUser(o);if(g)throw g;return{data:{claims:s,header:i,signature:c},error:null}}let u=Fg(i.alg),p=yield this.fetchJwk(i.kid,r),h=yield crypto.subtle.importKey("jwk",p,u,!0,["verify"]);if(!(yield crypto.subtle.verify(u,h,c,Dg(`${d}.${l}`))))throw new Xt("Invalid JWT signature");return{data:{claims:s,header:i,signature:c},error:null}}catch(o){if(_(o))return{data:null,error:o};throw o}})}}return e.nextInstanceID=0,e})();var vw=oh,ih=vw;var Zc=class extends ih{constructor(n){super(n)}};var Mw=function(e,n,t,r){function a(o){return o instanceof t?o:new t(function(i){i(o)})}return new(t||(t=Promise))(function(o,i){function s(l){try{d(r.next(l))}catch(u){i(u)}}function c(l){try{d(r.throw(l))}catch(u){i(u)}}function d(l){l.done?o(l.value):a(l.value).then(s,c)}d((r=r.apply(e,n||[])).next())})},Kc=class{constructor(n,t,r){var a,o,i;if(this.supabaseUrl=n,this.supabaseKey=t,!n)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");let s=pg(n),c=new URL(s);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);let d=`sb-${c.hostname.split(".")[0]}-auth-token`,l={db:dg,realtime:ug,auth:Object.assign(Object.assign({},lg),{storageKey:d}),global:cg},u=fg(r??{},l);this.storageKey=(a=u.auth.storageKey)!==null&&a!==void 0?a:"",this.headers=(o=u.global.headers)!==null&&o!==void 0?o:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(p,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=u.auth)!==null&&i!==void 0?i:{},this.headers,u.global.fetch),this.fetch=hg(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Gy(new URL("rest/v1",c).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Ro(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new $o(this.storageUrl.href,this.headers,this.fetch)}from(n){return this.rest.from(n)}schema(n){return this.rest.schema(n)}rpc(n,t={},r={}){return this.rest.rpc(n,t,r)}channel(n,t={config:{}}){return this.realtime.channel(n,t)}getChannels(){return this.realtime.getChannels()}removeChannel(n){return this.realtime.removeChannel(n)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var n,t;return Mw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:r}=yield this.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:a,storageKey:o,flowType:i,lock:s,debug:c},d,l){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Zc({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),d),storageKey:o,autoRefreshToken:n,persistSession:t,detectSessionInUrl:r,storage:a,flowType:i,lock:s,debug:c,fetch:l,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(n){return new Bo(this.realtimeUrl.href,Object.assign(Object.assign({},n),{params:Object.assign({apikey:this.supabaseKey},n?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r?.access_token)})}_handleTokenChanged(n,t,r){(n==="TOKEN_REFRESHED"||n==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:n==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var $g=(e,n,t)=>new Kc(e,n,t);var ww="https://otxhrbsfcrkajaljaips.supabase.co",Iw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im90eGhyYnNmY3JrYWphbGphaXBzIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MDc2MzkwOSwiZXhwIjoyMDY2MzM5OTA5fQ.nTDMEhkmQXh5-Adh_d4VFmqREBgM6GxaenaprzLuBAo",ra=$g(ww,Iw);function Cw(e){return e.replace(/_([a-z])/g,(n,t)=>t.toUpperCase())}function Xc(e){if(Array.isArray(e))return e.map(Xc);if(e!==null&&typeof e=="object"){let n={};for(let t of Object.keys(e)){let r=Cw(t);n[r]=Xc(e[t])}return n}return e}var Yc=class e{findAll(){return z(ra.from("lease").select(`*,
        property:property (*, address:address (*)),
        tenants: tenant (*, address:address (*))
      `)).pipe(E(n=>{if(n.error)throw n.error;return Xc(n.data)}))}findById(n){return z(ra.from("lease").select("*").eq("id",n).single()).pipe(E(t=>{if(t.error)throw t.error;return t.data}))}create(n){return z(ra.from("lease").insert([n]).select().single()).pipe(E(t=>{if(t.error)throw t.error;return t.data}))}update(n,t){return z(ra.from("lease").update(t).eq("id",n).select().single()).pipe(E(r=>{if(r.error)throw r.error;return r.data}))}delete(n){return z(ra.from("lease").delete().eq("id",n)).pipe(E(t=>{if(t.error)throw t.error}))}static \u0275fac=function(t){return new(t||e)};static \u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"})};var bw=(e,n)=>n.id;function Sw(e,n){e&1&&(Z(0,"div",1),we(1,"Bonjour Koussila"),ne(),Z(2,"div",2),Oe(3,"img",3),Z(4,"div",4),we(5,"Vous n'avez pas de bien en location"),ne(),Z(6,"button",5),we(7,"Ajouter une location "),ne()())}function Dw(e,n){if(e&1&&Oe(0,"app-lease-card",7),e&2){let t=n.$implicit;ln("lease",t)}}function Lw(e,n){if(e&1&&(Z(0,"div",1),we(1,"Mes locations"),ne(),Z(2,"div",6),q1(3,Dw,1,1,"app-lease-card",7,bw),ne()),e&2){let t=Wa();Ge(3),V1(t.leases)}}var Jc=class e{constructor(n){this.leaseRepository=n}leases=[];ngOnInit(){this.loadLeases()}loadLeases(){this.leaseRepository.findAll().subscribe(n=>{this.leases=n,console.log("Leases loaded:",this.leases)})}static \u0275fac=function(t){return new(t||e)(Pe(Yc))};static \u0275cmp=We({type:e,selectors:[["app-home"]],decls:3,vars:1,consts:[[1,"px-2","md:px-48","py-4","md:py-8"],[1,"text-3xl","font-bold","mb-4","md:mb-8","text-gray-800","gap-2"],[1,"mt-8","bg-white","rounded-lg","shadow-sm","pt-4","pb-8","flex","flex-col","items-center","justify-center"],["alt","home","src","/illustrations/home.png",1,"h-64"],[1,"mt-2","text-2xl","text-gray-600","font-bold","mb-4"],["type","button",1,"mt-4","bg-red-400","text-white","font-semibold","p-4","rounded-xl","cursor-pointer"],[1,"flex","flex-row","flex-wrap","gap-4"],[3,"lease"]],template:function(t,r){t&1&&(Z(0,"div",0),Ua(1,Sw,8,0)(2,Lw,5,0),ne()),t&2&&(Ge(),$a(r.leases.length==0?1:2))},dependencies:[Ic],encapsulation:2})};function Tt(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function"){var a=0;for(r=Object.getOwnPropertySymbols(e);a<r.length;a++)n.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(t[r[a]]=e[r[a]])}return t}var cr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gh(e,n){return e(n={exports:{}},n.exports),n.exports}var sr=gh(function(e,n){Object.defineProperty(n,"__esModule",{value:!0});var t=function(){function r(){var a=this;this.locked=new Map,this.addToLocked=function(o,i){var s=a.locked.get(o);s===void 0?i===void 0?a.locked.set(o,[]):a.locked.set(o,[i]):i!==void 0&&(s.unshift(i),a.locked.set(o,s))},this.isLocked=function(o){return a.locked.has(o)},this.lock=function(o){return new Promise(function(i,s){a.isLocked(o)?a.addToLocked(o,i):(a.addToLocked(o),i())})},this.unlock=function(o){var i=a.locked.get(o);if(i!==void 0&&i.length!==0){var s=i.pop();a.locked.set(o,i),s!==void 0&&setTimeout(s,0)}else a.locked.delete(o)}}return r.getInstance=function(){return r.instance===void 0&&(r.instance=new r),r.instance},r}();n.default=function(){return t.getInstance()}});yh(sr);var Ew=yh(gh(function(e,n){var t=cr&&cr.__awaiter||function(l,u,p,h){return new(p||(p=Promise))(function(y,g){function m(L){try{x(h.next(L))}catch(k){g(k)}}function v(L){try{x(h.throw(L))}catch(k){g(k)}}function x(L){L.done?y(L.value):new p(function(k){k(L.value)}).then(m,v)}x((h=h.apply(l,u||[])).next())})},r=cr&&cr.__generator||function(l,u){var p,h,y,g,m={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return g={next:v(0),throw:v(1),return:v(2)},typeof Symbol=="function"&&(g[Symbol.iterator]=function(){return this}),g;function v(x){return function(L){return function(k){if(p)throw new TypeError("Generator is already executing.");for(;m;)try{if(p=1,h&&(y=2&k[0]?h.return:k[0]?h.throw||((y=h.return)&&y.call(h),0):h.next)&&!(y=y.call(h,k[1])).done)return y;switch(h=0,y&&(k=[2&k[0],y.value]),k[0]){case 0:case 1:y=k;break;case 4:return m.label++,{value:k[1],done:!1};case 5:m.label++,h=k[1],k=[0];continue;case 7:k=m.ops.pop(),m.trys.pop();continue;default:if(y=m.trys,!((y=y.length>0&&y[y.length-1])||k[0]!==6&&k[0]!==2)){m=0;continue}if(k[0]===3&&(!y||k[1]>y[0]&&k[1]<y[3])){m.label=k[1];break}if(k[0]===6&&m.label<y[1]){m.label=y[1],y=k;break}if(y&&m.label<y[2]){m.label=y[2],m.ops.push(k);break}y[2]&&m.ops.pop(),m.trys.pop();continue}k=u.call(l,m)}catch(N){k=[6,N],h=0}finally{p=y=0}if(5&k[0])throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}([x,L])}}},a=cr;Object.defineProperty(n,"__esModule",{value:!0});var o="browser-tabs-lock-key",i={key:function(l){return t(a,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},getItem:function(l){return t(a,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},clear:function(){return t(a,void 0,void 0,function(){return r(this,function(l){return[2,window.localStorage.clear()]})})},removeItem:function(l){return t(a,void 0,void 0,function(){return r(this,function(u){throw new Error("Unsupported")})})},setItem:function(l,u){return t(a,void 0,void 0,function(){return r(this,function(p){throw new Error("Unsupported")})})},keySync:function(l){return window.localStorage.key(l)},getItemSync:function(l){return window.localStorage.getItem(l)},clearSync:function(){return window.localStorage.clear()},removeItemSync:function(l){return window.localStorage.removeItem(l)},setItemSync:function(l,u){return window.localStorage.setItem(l,u)}};function s(l){return new Promise(function(u){return setTimeout(u,l)})}function c(l){for(var u="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz",p="",h=0;h<l;h++)p+=u[Math.floor(Math.random()*u.length)];return p}var d=function(){function l(u){this.acquiredIatSet=new Set,this.storageHandler=void 0,this.id=Date.now().toString()+c(15),this.acquireLock=this.acquireLock.bind(this),this.releaseLock=this.releaseLock.bind(this),this.releaseLock__private__=this.releaseLock__private__.bind(this),this.waitForSomethingToChange=this.waitForSomethingToChange.bind(this),this.refreshLockWhileAcquired=this.refreshLockWhileAcquired.bind(this),this.storageHandler=u,l.waiters===void 0&&(l.waiters=[])}return l.prototype.acquireLock=function(u,p){return p===void 0&&(p=5e3),t(this,void 0,void 0,function(){var h,y,g,m,v,x,L;return r(this,function(k){switch(k.label){case 0:h=Date.now()+c(4),y=Date.now()+p,g=o+"-"+u,m=this.storageHandler===void 0?i:this.storageHandler,k.label=1;case 1:return Date.now()<y?[4,s(30)]:[3,8];case 2:return k.sent(),m.getItemSync(g)!==null?[3,5]:(v=this.id+"-"+u+"-"+h,[4,s(Math.floor(25*Math.random()))]);case 3:return k.sent(),m.setItemSync(g,JSON.stringify({id:this.id,iat:h,timeoutKey:v,timeAcquired:Date.now(),timeRefreshed:Date.now()})),[4,s(30)];case 4:return k.sent(),(x=m.getItemSync(g))!==null&&(L=JSON.parse(x)).id===this.id&&L.iat===h?(this.acquiredIatSet.add(h),this.refreshLockWhileAcquired(g,h),[2,!0]):[3,7];case 5:return l.lockCorrector(this.storageHandler===void 0?i:this.storageHandler),[4,this.waitForSomethingToChange(y)];case 6:k.sent(),k.label=7;case 7:return h=Date.now()+c(4),[3,1];case 8:return[2,!1]}})})},l.prototype.refreshLockWhileAcquired=function(u,p){return t(this,void 0,void 0,function(){var h=this;return r(this,function(y){return setTimeout(function(){return t(h,void 0,void 0,function(){var g,m,v;return r(this,function(x){switch(x.label){case 0:return[4,sr.default().lock(p)];case 1:return x.sent(),this.acquiredIatSet.has(p)?(g=this.storageHandler===void 0?i:this.storageHandler,(m=g.getItemSync(u))===null?(sr.default().unlock(p),[2]):((v=JSON.parse(m)).timeRefreshed=Date.now(),g.setItemSync(u,JSON.stringify(v)),sr.default().unlock(p),this.refreshLockWhileAcquired(u,p),[2])):(sr.default().unlock(p),[2])}})})},1e3),[2]})})},l.prototype.waitForSomethingToChange=function(u){return t(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,new Promise(function(h){var y=!1,g=Date.now(),m=!1;function v(){if(m||(window.removeEventListener("storage",v),l.removeFromWaiting(v),clearTimeout(x),m=!0),!y){y=!0;var L=50-(Date.now()-g);L>0?setTimeout(h,L):h(null)}}window.addEventListener("storage",v),l.addToWaiting(v);var x=setTimeout(v,Math.max(0,u-Date.now()))})];case 1:return p.sent(),[2]}})})},l.addToWaiting=function(u){this.removeFromWaiting(u),l.waiters!==void 0&&l.waiters.push(u)},l.removeFromWaiting=function(u){l.waiters!==void 0&&(l.waiters=l.waiters.filter(function(p){return p!==u}))},l.notifyWaiters=function(){l.waiters!==void 0&&l.waiters.slice().forEach(function(u){return u()})},l.prototype.releaseLock=function(u){return t(this,void 0,void 0,function(){return r(this,function(p){switch(p.label){case 0:return[4,this.releaseLock__private__(u)];case 1:return[2,p.sent()]}})})},l.prototype.releaseLock__private__=function(u){return t(this,void 0,void 0,function(){var p,h,y,g;return r(this,function(m){switch(m.label){case 0:return p=this.storageHandler===void 0?i:this.storageHandler,h=o+"-"+u,(y=p.getItemSync(h))===null?[2]:(g=JSON.parse(y)).id!==this.id?[3,2]:[4,sr.default().lock(g.iat)];case 1:m.sent(),this.acquiredIatSet.delete(g.iat),p.removeItemSync(h),sr.default().unlock(g.iat),l.notifyWaiters(),m.label=2;case 2:return[2]}})})},l.lockCorrector=function(u){for(var p=Date.now()-5e3,h=u,y=[],g=0;;){var m=h.keySync(g);if(m===null)break;y.push(m),g++}for(var v=!1,x=0;x<y.length;x++){var L=y[x];if(L.includes(o)){var k=h.getItemSync(L);if(k!==null){var N=JSON.parse(k);(N.timeRefreshed===void 0&&N.timeAcquired<p||N.timeRefreshed!==void 0&&N.timeRefreshed<p)&&(h.removeItemSync(L),v=!0)}}}v&&l.notifyWaiters()},l.waiters=void 0,l}();n.default=d})),_w={timeoutInSeconds:60},em={name:"auth0-spa-js",version:"2.2.0"},tm=()=>Date.now(),Ee=class e extends Error{constructor(n,t){super(t),this.error=n,this.error_description=t,Object.setPrototypeOf(this,e.prototype)}static fromPayload({error:n,error_description:t}){return new e(n,t)}},ed=class e extends Ee{constructor(n,t,r,a=null){super(n,t),this.state=r,this.appState=a,Object.setPrototypeOf(this,e.prototype)}},oa=class e extends Ee{constructor(){super("timeout","Timeout"),Object.setPrototypeOf(this,e.prototype)}},td=class e extends oa{constructor(n){super(),this.popup=n,Object.setPrototypeOf(this,e.prototype)}},nd=class e extends Ee{constructor(n){super("cancelled","Popup closed"),this.popup=n,Object.setPrototypeOf(this,e.prototype)}},rd=class e extends Ee{constructor(n,t,r){super(n,t),this.mfa_token=r,Object.setPrototypeOf(this,e.prototype)}},ri=class e extends Ee{constructor(n,t){super("missing_refresh_token",`Missing Refresh Token (audience: '${Gg(n,["default"])}', scope: '${Gg(t)}')`),this.audience=n,this.scope=t,Object.setPrototypeOf(this,e.prototype)}};function Gg(e,n=[]){return e&&!n.includes(e)?e:""}var Qc=()=>window.crypto,sh=()=>{let e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_~.",n="";return Array.from(Qc().getRandomValues(new Uint8Array(43))).forEach(t=>n+=e[t%e.length]),n},Wg=e=>btoa(e),uh=e=>{var{clientId:n}=e,t=Tt(e,["clientId"]);return new URLSearchParams((r=>Object.keys(r).filter(a=>r[a]!==void 0).reduce((a,o)=>Object.assign(Object.assign({},a),{[o]:r[o]}),{}))(Object.assign({client_id:n},t))).toString()},Zg=e=>(n=>decodeURIComponent(atob(n).split("").map(t=>"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)).join("")))(e.replace(/_/g,"/").replace(/-/g,"+")),Aw=(e,n)=>f(null,null,function*(){let t=yield fetch(e,n);return{ok:t.ok,json:yield t.json()}}),Tw=(e,n,t)=>f(null,null,function*(){let r=new AbortController,a;return n.signal=r.signal,Promise.race([Aw(e,n),new Promise((o,i)=>{a=setTimeout(()=>{r.abort(),i(new Error("Timeout when executing 'fetch'"))},t)})]).finally(()=>{clearTimeout(a)})}),Rw=(e,n,t,r,a,o,i)=>f(null,null,function*(){return s={auth:{audience:n,scope:t},timeout:a,fetchUrl:e,fetchOptions:r,useFormData:i},c=o,new Promise(function(d,l){let u=new MessageChannel;u.port1.onmessage=function(p){p.data.error?l(new Error(p.data.error)):d(p.data),u.port1.close()},c.postMessage(s,[u.port2])});var s,c}),Pw=(e,n,t,r,a,o,i=1e4)=>f(null,null,function*(){return a?Rw(e,n,t,r,i,a,o):Tw(e,r,i)});function Ow(e,n){return f(this,null,function*(){var{baseUrl:t,timeout:r,audience:a,scope:o,auth0Client:i,useFormData:s}=e,c=Tt(e,["baseUrl","timeout","audience","scope","auth0Client","useFormData"]);let d=s?uh(c):JSON.stringify(c);return yield function(l,u,p,h,y,g,m){return f(this,null,function*(){let v,x=null;for(let ae=0;ae<3;ae++)try{v=yield Pw(l,p,h,y,g,m,u),x=null;break}catch(um){x=um}if(x)throw x;let L=v.json,{error:k,error_description:N}=L,Ce=Tt(L,["error","error_description"]),{ok:B}=v;if(!B){let ae=N||`HTTP error. Unable to fetch ${l}`;throw k==="mfa_required"?new rd(k,ae,Ce.mfa_token):k==="missing_refresh_token"?new ri(p,h):new Ee(k||"request_error",ae)}return Ce})}(`${t}/oauth/token`,r,a||"default",o,{method:"POST",body:d,headers:{"Content-Type":s?"application/x-www-form-urlencoded":"application/json","Auth0-Client":btoa(JSON.stringify(i||em))}},n,s)})}var ti=(...e)=>{return(n=e.filter(Boolean).join(" ").trim().split(/\s+/),Array.from(new Set(n))).join(" ");var n},Yt=class e{constructor(n,t="@@auth0spajs@@",r){this.prefix=t,this.suffix=r,this.clientId=n.clientId,this.scope=n.scope,this.audience=n.audience}toKey(){return[this.prefix,this.clientId,this.audience,this.scope,this.suffix].filter(Boolean).join("::")}static fromKey(n){let[t,r,a,o]=n.split("::");return new e({clientId:r,scope:o,audience:a},t)}static fromCacheEntry(n){let{scope:t,audience:r,client_id:a}=n;return new e({scope:t,audience:r,clientId:a})}},ad=class{set(n,t){localStorage.setItem(n,JSON.stringify(t))}get(n){let t=window.localStorage.getItem(n);if(t)try{return JSON.parse(t)}catch{return}}remove(n){localStorage.removeItem(n)}allKeys(){return Object.keys(window.localStorage).filter(n=>n.startsWith("@@auth0spajs@@"))}},ai=class{constructor(){this.enclosedCache=function(){let n={};return{set(t,r){n[t]=r},get(t){let r=n[t];if(r)return r},remove(t){delete n[t]},allKeys:()=>Object.keys(n)}}()}},hh=class{constructor(n,t,r){this.cache=n,this.keyManifest=t,this.nowProvider=r||tm}setIdToken(n,t,r){return f(this,null,function*(){var a;let o=this.getIdTokenCacheKey(n);yield this.cache.set(o,{id_token:t,decodedToken:r}),yield(a=this.keyManifest)===null||a===void 0?void 0:a.add(o)})}getIdToken(n){return f(this,null,function*(){let t=yield this.cache.get(this.getIdTokenCacheKey(n.clientId));if(!t&&n.scope&&n.audience){let r=yield this.get(n);return!r||!r.id_token||!r.decodedToken?void 0:{id_token:r.id_token,decodedToken:r.decodedToken}}if(t)return{id_token:t.id_token,decodedToken:t.decodedToken}})}get(n,t=0){return f(this,null,function*(){var r;let a=yield this.cache.get(n.toKey());if(!a){let s=yield this.getCacheKeys();if(!s)return;let c=this.matchExistingCacheKey(n,s);c&&(a=yield this.cache.get(c))}if(!a)return;let o=yield this.nowProvider(),i=Math.floor(o/1e3);return a.expiresAt-t<i?a.body.refresh_token?(a.body={refresh_token:a.body.refresh_token},yield this.cache.set(n.toKey(),a),a.body):(yield this.cache.remove(n.toKey()),void(yield(r=this.keyManifest)===null||r===void 0?void 0:r.remove(n.toKey()))):a.body})}set(n){return f(this,null,function*(){var t;let r=new Yt({clientId:n.client_id,scope:n.scope,audience:n.audience}),a=yield this.wrapCacheEntry(n);yield this.cache.set(r.toKey(),a),yield(t=this.keyManifest)===null||t===void 0?void 0:t.add(r.toKey())})}clear(n){return f(this,null,function*(){var t;let r=yield this.getCacheKeys();r&&(yield r.filter(a=>!n||a.includes(n)).reduce((a,o)=>f(this,null,function*(){yield a,yield this.cache.remove(o)}),Promise.resolve()),yield(t=this.keyManifest)===null||t===void 0?void 0:t.clear())})}wrapCacheEntry(n){return f(this,null,function*(){let t=yield this.nowProvider();return{body:n,expiresAt:Math.floor(t/1e3)+n.expires_in}})}getCacheKeys(){return f(this,null,function*(){var n;return this.keyManifest?(n=yield this.keyManifest.get())===null||n===void 0?void 0:n.keys:this.cache.allKeys?this.cache.allKeys():void 0})}getIdTokenCacheKey(n){return new Yt({clientId:n},"@@auth0spajs@@","@@user@@").toKey()}matchExistingCacheKey(n,t){return t.filter(r=>{var a;let o=Yt.fromKey(r),i=new Set(o.scope&&o.scope.split(" ")),s=((a=n.scope)===null||a===void 0?void 0:a.split(" "))||[],c=o.scope&&s.reduce((d,l)=>d&&i.has(l),!0);return o.prefix==="@@auth0spajs@@"&&o.clientId===n.clientId&&o.audience===n.audience&&c})[0]}},ph=class{constructor(n,t,r){this.storage=n,this.clientId=t,this.cookieDomain=r,this.storageKey=`a0.spajs.txs.${this.clientId}`}create(n){this.storage.save(this.storageKey,n,{daysUntilExpire:1,cookieDomain:this.cookieDomain})}get(){return this.storage.get(this.storageKey)}remove(){this.storage.remove(this.storageKey,{cookieDomain:this.cookieDomain})}},ni=e=>typeof e=="number",Nw=["iss","aud","exp","nbf","iat","jti","azp","nonce","auth_time","at_hash","c_hash","acr","amr","sub_jwk","cnf","sip_from_tag","sip_date","sip_callid","sip_cseq_num","sip_via_branch","orig","dest","mky","events","toe","txn","rph","sid","vot","vtm"],Fw=e=>{if(!e.id_token)throw new Error("ID token is required but missing");let n=(o=>{let i=o.split("."),[s,c,d]=i;if(i.length!==3||!s||!c||!d)throw new Error("ID token could not be decoded");let l=JSON.parse(Zg(c)),u={__raw:o},p={};return Object.keys(l).forEach(h=>{u[h]=l[h],Nw.includes(h)||(p[h]=l[h])}),{encoded:{header:s,payload:c,signature:d},header:JSON.parse(Zg(s)),claims:u,user:p}})(e.id_token);if(!n.claims.iss)throw new Error("Issuer (iss) claim must be a string present in the ID token");if(n.claims.iss!==e.iss)throw new Error(`Issuer (iss) claim mismatch in the ID token; expected "${e.iss}", found "${n.claims.iss}"`);if(!n.user.sub)throw new Error("Subject (sub) claim must be a string present in the ID token");if(n.header.alg!=="RS256")throw new Error(`Signature algorithm of "${n.header.alg}" is not supported. Expected the ID token to be signed with "RS256".`);if(!n.claims.aud||typeof n.claims.aud!="string"&&!Array.isArray(n.claims.aud))throw new Error("Audience (aud) claim must be a string or array of strings present in the ID token");if(Array.isArray(n.claims.aud)){if(!n.claims.aud.includes(e.aud))throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but was not one of "${n.claims.aud.join(", ")}"`);if(n.claims.aud.length>1){if(!n.claims.azp)throw new Error("Authorized Party (azp) claim must be a string present in the ID token when Audience (aud) claim has multiple values");if(n.claims.azp!==e.aud)throw new Error(`Authorized Party (azp) claim mismatch in the ID token; expected "${e.aud}", found "${n.claims.azp}"`)}}else if(n.claims.aud!==e.aud)throw new Error(`Audience (aud) claim mismatch in the ID token; expected "${e.aud}" but found "${n.claims.aud}"`);if(e.nonce){if(!n.claims.nonce)throw new Error("Nonce (nonce) claim must be a string present in the ID token");if(n.claims.nonce!==e.nonce)throw new Error(`Nonce (nonce) claim mismatch in the ID token; expected "${e.nonce}", found "${n.claims.nonce}"`)}if(e.max_age&&!ni(n.claims.auth_time))throw new Error("Authentication Time (auth_time) claim must be a number present in the ID token when Max Age (max_age) is specified");if(n.claims.exp==null||!ni(n.claims.exp))throw new Error("Expiration Time (exp) claim must be a number present in the ID token");if(!ni(n.claims.iat))throw new Error("Issued At (iat) claim must be a number present in the ID token");let t=e.leeway||60,r=new Date(e.now||Date.now()),a=new Date(0);if(a.setUTCSeconds(n.claims.exp+t),r>a)throw new Error(`Expiration Time (exp) claim error in the ID token; current time (${r}) is after expiration time (${a})`);if(n.claims.nbf!=null&&ni(n.claims.nbf)){let o=new Date(0);if(o.setUTCSeconds(n.claims.nbf-t),r<o)throw new Error(`Not Before time (nbf) claim in the ID token indicates that this token can't be used just yet. Current time (${r}) is before ${o}`)}if(n.claims.auth_time!=null&&ni(n.claims.auth_time)){let o=new Date(0);if(o.setUTCSeconds(parseInt(n.claims.auth_time)+e.max_age+t),r>o)throw new Error(`Authentication Time (auth_time) claim in the ID token indicates that too much time has passed since the last end-user authentication. Current time (${r}) is after last auth at ${o}`)}if(e.organization){let o=e.organization.trim();if(o.startsWith("org_")){let i=o;if(!n.claims.org_id)throw new Error("Organization ID (org_id) claim must be a string present in the ID token");if(i!==n.claims.org_id)throw new Error(`Organization ID (org_id) claim mismatch in the ID token; expected "${i}", found "${n.claims.org_id}"`)}else{let i=o.toLowerCase();if(!n.claims.org_name)throw new Error("Organization Name (org_name) claim must be a string present in the ID token");if(i!==n.claims.org_name)throw new Error(`Organization Name (org_name) claim mismatch in the ID token; expected "${i}", found "${n.claims.org_name}"`)}}return n},dr=gh(function(e,n){var t=cr&&cr.__assign||function(){return t=Object.assign||function(c){for(var d,l=1,u=arguments.length;l<u;l++)for(var p in d=arguments[l])Object.prototype.hasOwnProperty.call(d,p)&&(c[p]=d[p]);return c},t.apply(this,arguments)};function r(c,d){if(!d)return"";var l="; "+c;return d===!0?l:l+"="+d}function a(c,d,l){return encodeURIComponent(c).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/\(/g,"%28").replace(/\)/g,"%29")+"="+encodeURIComponent(d).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent)+function(u){if(typeof u.expires=="number"){var p=new Date;p.setMilliseconds(p.getMilliseconds()+864e5*u.expires),u.expires=p}return r("Expires",u.expires?u.expires.toUTCString():"")+r("Domain",u.domain)+r("Path",u.path)+r("Secure",u.secure)+r("SameSite",u.sameSite)}(l)}function o(c){for(var d={},l=c?c.split("; "):[],u=/(%[\dA-F]{2})+/gi,p=0;p<l.length;p++){var h=l[p].split("="),y=h.slice(1).join("=");y.charAt(0)==='"'&&(y=y.slice(1,-1));try{d[h[0].replace(u,decodeURIComponent)]=y.replace(u,decodeURIComponent)}catch{}}return d}function i(){return o(document.cookie)}function s(c,d,l){document.cookie=a(c,d,t({path:"/"},l))}n.__esModule=!0,n.encode=a,n.parse=o,n.getAll=i,n.get=function(c){return i()[c]},n.set=s,n.remove=function(c,d){s(c,"",t(t({},d),{expires:-1}))}});yh(dr),dr.encode,dr.parse,dr.getAll;var jw=dr.get,nm=dr.set,rm=dr.remove,aa={get(e){let n=jw(e);if(n!==void 0)return JSON.parse(n)},save(e,n,t){let r={};window.location.protocol==="https:"&&(r={secure:!0,sameSite:"none"}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),nm(e,JSON.stringify(n),r)},remove(e,n){let t={};n?.cookieDomain&&(t.domain=n.cookieDomain),rm(e,t)}},Hw={get(e){return aa.get(e)||aa.get(`_legacy_${e}`)},save(e,n,t){let r={};window.location.protocol==="https:"&&(r={secure:!0}),t?.daysUntilExpire&&(r.expires=t.daysUntilExpire),t?.cookieDomain&&(r.domain=t.cookieDomain),nm(`_legacy_${e}`,JSON.stringify(n),r),aa.save(e,n,t)},remove(e,n){let t={};n?.cookieDomain&&(t.domain=n.cookieDomain),rm(e,t),aa.remove(e,n),aa.remove(`_legacy_${e}`,n)}},qw={get(e){if(typeof sessionStorage>"u")return;let n=sessionStorage.getItem(e);return n!=null?JSON.parse(n):void 0},save(e,n){sessionStorage.setItem(e,JSON.stringify(n))},remove(e){sessionStorage.removeItem(e)}};function Vw(e,n,t){var r=n===void 0?null:n,a=function(c,d){var l=atob(c);if(d){for(var u=new Uint8Array(l.length),p=0,h=l.length;p<h;++p)u[p]=l.charCodeAt(p);return String.fromCharCode.apply(null,new Uint16Array(u.buffer))}return l}(e,t!==void 0&&t),o=a.indexOf(`
`,10)+1,i=a.substring(o)+(r?"//# sourceMappingURL="+r:""),s=new Blob([i],{type:"application/javascript"});return URL.createObjectURL(s)}var Kg,Xg,Yg,ch,zw=(Kg="Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwohZnVuY3Rpb24oKXsidXNlIHN0cmljdCI7Y2xhc3MgZSBleHRlbmRzIEVycm9ye2NvbnN0cnVjdG9yKHQscil7c3VwZXIociksdGhpcy5lcnJvcj10LHRoaXMuZXJyb3JfZGVzY3JpcHRpb249cixPYmplY3Quc2V0UHJvdG90eXBlT2YodGhpcyxlLnByb3RvdHlwZSl9c3RhdGljIGZyb21QYXlsb2FkKHtlcnJvcjp0LGVycm9yX2Rlc2NyaXB0aW9uOnJ9KXtyZXR1cm4gbmV3IGUodCxyKX19Y2xhc3MgdCBleHRlbmRzIGV7Y29uc3RydWN0b3IoZSxzKXtzdXBlcigibWlzc2luZ19yZWZyZXNoX3Rva2VuIixgTWlzc2luZyBSZWZyZXNoIFRva2VuIChhdWRpZW5jZTogJyR7cihlLFsiZGVmYXVsdCJdKX0nLCBzY29wZTogJyR7cihzKX0nKWApLHRoaXMuYXVkaWVuY2U9ZSx0aGlzLnNjb3BlPXMsT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsdC5wcm90b3R5cGUpfX1mdW5jdGlvbiByKGUsdD1bXSl7cmV0dXJuIGUmJiF0LmluY2x1ZGVzKGUpP2U6IiJ9ImZ1bmN0aW9uIj09dHlwZW9mIFN1cHByZXNzZWRFcnJvciYmU3VwcHJlc3NlZEVycm9yO2NvbnN0IHM9ZT0+e3ZhcntjbGllbnRJZDp0fT1lLHI9ZnVuY3Rpb24oZSx0KXt2YXIgcj17fTtmb3IodmFyIHMgaW4gZSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZSxzKSYmdC5pbmRleE9mKHMpPDAmJihyW3NdPWVbc10pO2lmKG51bGwhPWUmJiJmdW5jdGlvbiI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbz0wO2ZvcihzPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7bzxzLmxlbmd0aDtvKyspdC5pbmRleE9mKHNbb10pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChlLHNbb10pJiYocltzW29dXT1lW3Nbb11dKX1yZXR1cm4gcn0oZSxbImNsaWVudElkIl0pO3JldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKChlPT5PYmplY3Qua2V5cyhlKS5maWx0ZXIoKHQ9PnZvaWQgMCE9PWVbdF0pKS5yZWR1Y2UoKCh0LHIpPT5PYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30sdCkse1tyXTplW3JdfSkpLHt9KSkoT2JqZWN0LmFzc2lnbih7Y2xpZW50X2lkOnR9LHIpKSkudG9TdHJpbmcoKX07bGV0IG89e307Y29uc3Qgbj0oZSx0KT0+YCR7ZX18JHt0fWA7YWRkRXZlbnRMaXN0ZW5lcigibWVzc2FnZSIsKGFzeW5jKHtkYXRhOnt0aW1lb3V0OmUsYXV0aDpyLGZldGNoVXJsOmksZmV0Y2hPcHRpb25zOmMsdXNlRm9ybURhdGE6YX0scG9ydHM6W3BdfSk9PntsZXQgZjtjb25zdHthdWRpZW5jZTp1LHNjb3BlOmx9PXJ8fHt9O3RyeXtjb25zdCByPWE/KGU9Pntjb25zdCB0PW5ldyBVUkxTZWFyY2hQYXJhbXMoZSkscj17fTtyZXR1cm4gdC5mb3JFYWNoKCgoZSx0KT0+e3JbdF09ZX0pKSxyfSkoYy5ib2R5KTpKU09OLnBhcnNlKGMuYm9keSk7aWYoIXIucmVmcmVzaF90b2tlbiYmInJlZnJlc2hfdG9rZW4iPT09ci5ncmFudF90eXBlKXtjb25zdCBlPSgoZSx0KT0+b1tuKGUsdCldKSh1LGwpO2lmKCFlKXRocm93IG5ldyB0KHUsbCk7Yy5ib2R5PWE/cyhPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKTpKU09OLnN0cmluZ2lmeShPYmplY3QuYXNzaWduKE9iamVjdC5hc3NpZ24oe30scikse3JlZnJlc2hfdG9rZW46ZX0pKX1sZXQgaCxnOyJmdW5jdGlvbiI9PXR5cGVvZiBBYm9ydENvbnRyb2xsZXImJihoPW5ldyBBYm9ydENvbnRyb2xsZXIsYy5zaWduYWw9aC5zaWduYWwpO3RyeXtnPWF3YWl0IFByb21pc2UucmFjZShbKGQ9ZSxuZXcgUHJvbWlzZSgoZT0+c2V0VGltZW91dChlLGQpKSkpLGZldGNoKGksT2JqZWN0LmFzc2lnbih7fSxjKSldKX1jYXRjaChlKXtyZXR1cm4gdm9pZCBwLnBvc3RNZXNzYWdlKHtlcnJvcjplLm1lc3NhZ2V9KX1pZighZylyZXR1cm4gaCYmaC5hYm9ydCgpLHZvaWQgcC5wb3N0TWVzc2FnZSh7ZXJyb3I6IlRpbWVvdXQgd2hlbiBleGVjdXRpbmcgJ2ZldGNoJyJ9KTtmPWF3YWl0IGcuanNvbigpLGYucmVmcmVzaF90b2tlbj8oKChlLHQscik9PntvW24odCxyKV09ZX0pKGYucmVmcmVzaF90b2tlbix1LGwpLGRlbGV0ZSBmLnJlZnJlc2hfdG9rZW4pOigoZSx0KT0+e2RlbGV0ZSBvW24oZSx0KV19KSh1LGwpLHAucG9zdE1lc3NhZ2Uoe29rOmcub2ssanNvbjpmfSl9Y2F0Y2goZSl7cC5wb3N0TWVzc2FnZSh7b2s6ITEsanNvbjp7ZXJyb3I6ZS5lcnJvcixlcnJvcl9kZXNjcmlwdGlvbjplLm1lc3NhZ2V9fSl9dmFyIGR9KSl9KCk7Cgo=",Xg=null,Yg=!1,function(e){return ch=ch||Vw(Kg,Xg,Yg),new Worker(ch,e)}),dh={},fh=class{constructor(n,t){this.cache=n,this.clientId=t,this.manifestKey=this.createManifestKeyFrom(this.clientId)}add(n){return f(this,null,function*(){var t;let r=new Set(((t=yield this.cache.get(this.manifestKey))===null||t===void 0?void 0:t.keys)||[]);r.add(n),yield this.cache.set(this.manifestKey,{keys:[...r]})})}remove(n){return f(this,null,function*(){let t=yield this.cache.get(this.manifestKey);if(t){let r=new Set(t.keys);return r.delete(n),r.size>0?yield this.cache.set(this.manifestKey,{keys:[...r]}):yield this.cache.remove(this.manifestKey)}})}get(){return this.cache.get(this.manifestKey)}clear(){return this.cache.remove(this.manifestKey)}createManifestKeyFrom(n){return`@@auth0spajs@@::${n}`}},Bw={memory:()=>new ai().enclosedCache,localstorage:()=>new ad},Jg=e=>Bw[e],Qg=e=>{let{openUrl:n,onRedirect:t}=e,r=Tt(e,["openUrl","onRedirect"]);return Object.assign(Object.assign({},r),{openUrl:n===!1||n?n:t})},lh=new Ew,od=class{constructor(n){let t,r;if(this.userCache=new ai().enclosedCache,this.defaultOptions={authorizationParams:{scope:"openid profile email"},useRefreshTokensFallback:!1,useFormData:!0},this._releaseLockOnPageHide=()=>f(this,null,function*(){yield lh.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}),this.options=Object.assign(Object.assign(Object.assign({},this.defaultOptions),n),{authorizationParams:Object.assign(Object.assign({},this.defaultOptions.authorizationParams),n.authorizationParams)}),typeof window<"u"&&(()=>{if(!Qc())throw new Error("For security reasons, `window.crypto` is required to run `auth0-spa-js`.");if(Qc().subtle===void 0)throw new Error(`
      auth0-spa-js must run on a secure origin. See https://github.com/auth0/auth0-spa-js/blob/main/FAQ.md#why-do-i-get-auth0-spa-js-must-run-on-a-secure-origin for more information.
    `)})(),n.cache&&n.cacheLocation&&console.warn("Both `cache` and `cacheLocation` options have been specified in the Auth0Client configuration; ignoring `cacheLocation` and using `cache`."),n.cache)r=n.cache;else{if(t=n.cacheLocation||"memory",!Jg(t))throw new Error(`Invalid cache location "${t}"`);r=Jg(t)()}this.httpTimeoutMs=n.httpTimeoutInSeconds?1e3*n.httpTimeoutInSeconds:1e4,this.cookieStorage=n.legacySameSiteCookie===!1?aa:Hw,this.orgHintCookieName=`auth0.${this.options.clientId}.organization_hint`,this.isAuthenticatedCookieName=(i=>`auth0.${i}.is.authenticated`)(this.options.clientId),this.sessionCheckExpiryDays=n.sessionCheckExpiryDays||1;let a=n.useCookiesForTransactions?this.cookieStorage:qw;var o;this.scope=ti("openid",this.options.authorizationParams.scope,this.options.useRefreshTokens?"offline_access":""),this.transactionManager=new ph(a,this.options.clientId,this.options.cookieDomain),this.nowProvider=this.options.nowProvider||tm,this.cacheManager=new hh(r,r.allKeys?void 0:new fh(r,this.options.clientId),this.nowProvider),this.domainUrl=(o=this.options.domain,/^https?:\/\//.test(o)?o:`https://${o}`),this.tokenIssuer=((i,s)=>i?i.startsWith("https://")?i:`https://${i}/`:`${s}/`)(this.options.issuer,this.domainUrl),typeof window<"u"&&window.Worker&&this.options.useRefreshTokens&&t==="memory"&&(this.options.workerUrl?this.worker=new Worker(this.options.workerUrl):this.worker=new zw)}_url(n){let t=encodeURIComponent(btoa(JSON.stringify(this.options.auth0Client||em)));return`${this.domainUrl}${n}&auth0Client=${t}`}_authorizeUrl(n){return this._url(`/authorize?${uh(n)}`)}_verifyIdToken(n,t,r){return f(this,null,function*(){let a=yield this.nowProvider();return Fw({iss:this.tokenIssuer,aud:this.options.clientId,id_token:n,nonce:t,organization:r,leeway:this.options.leeway,max_age:(o=this.options.authorizationParams.max_age,typeof o!="string"?o:parseInt(o,10)||void 0),now:a});var o})}_processOrgHint(n){n?this.cookieStorage.save(this.orgHintCookieName,n,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}):this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain})}_prepareAuthorizeUrl(n,t,r){return f(this,null,function*(){let a=Wg(sh()),o=Wg(sh()),i=sh(),s=(l=>{let u=new Uint8Array(l);return(p=>{let h={"+":"-","/":"_","=":""};return p.replace(/[+/=]/g,y=>h[y])})(window.btoa(String.fromCharCode(...Array.from(u))))})(yield(l=>f(null,null,function*(){return yield Qc().subtle.digest({name:"SHA-256"},new TextEncoder().encode(l))}))(i)),c=((l,u,p,h,y,g,m,v)=>Object.assign(Object.assign(Object.assign({client_id:l.clientId},l.authorizationParams),p),{scope:ti(u,p.scope),response_type:"code",response_mode:v||"query",state:h,nonce:y,redirect_uri:m||l.authorizationParams.redirect_uri,code_challenge:g,code_challenge_method:"S256"}))(this.options,this.scope,n,a,o,s,n.redirect_uri||this.options.authorizationParams.redirect_uri||r,t?.response_mode),d=this._authorizeUrl(c);return{nonce:o,code_verifier:i,scope:c.scope,audience:c.audience||"default",redirect_uri:c.redirect_uri,state:a,url:d}})}loginWithPopup(n,t){return f(this,null,function*(){var r;if(n=n||{},!(t=t||{}).popup&&(t.popup=(s=>{let c=window.screenX+(window.innerWidth-400)/2,d=window.screenY+(window.innerHeight-600)/2;return window.open(s,"auth0:authorize:popup",`left=${c},top=${d},width=400,height=600,resizable,scrollbars=yes,status=1`)})(""),!t.popup))throw new Error("Unable to open a popup for loginWithPopup - window.open returned `null`");let a=yield this._prepareAuthorizeUrl(n.authorizationParams||{},{response_mode:"web_message"},window.location.origin);t.popup.location.href=a.url;let o=yield(s=>new Promise((c,d)=>{let l,u=setInterval(()=>{s.popup&&s.popup.closed&&(clearInterval(u),clearTimeout(p),window.removeEventListener("message",l,!1),d(new nd(s.popup)))},1e3),p=setTimeout(()=>{clearInterval(u),d(new td(s.popup)),window.removeEventListener("message",l,!1)},1e3*(s.timeoutInSeconds||60));l=function(h){if(h.data&&h.data.type==="authorization_response"){if(clearTimeout(p),clearInterval(u),window.removeEventListener("message",l,!1),s.popup.close(),h.data.response.error)return d(Ee.fromPayload(h.data.response));c(h.data.response)}},window.addEventListener("message",l)}))(Object.assign(Object.assign({},t),{timeoutInSeconds:t.timeoutInSeconds||this.options.authorizeTimeoutInSeconds||60}));if(a.state!==o.state)throw new Ee("state_mismatch","Invalid state");let i=((r=n.authorizationParams)===null||r===void 0?void 0:r.organization)||this.options.authorizationParams.organization;yield this._requestToken({audience:a.audience,scope:a.scope,code_verifier:a.code_verifier,grant_type:"authorization_code",code:o.code,redirect_uri:a.redirect_uri},{nonceIn:a.nonce,organization:i})})}getUser(){return f(this,null,function*(){var n;let t=yield this._getIdTokenFromCache();return(n=t?.decodedToken)===null||n===void 0?void 0:n.user})}getIdTokenClaims(){return f(this,null,function*(){var n;let t=yield this._getIdTokenFromCache();return(n=t?.decodedToken)===null||n===void 0?void 0:n.claims})}loginWithRedirect(){return f(this,arguments,function*(n={}){var t;let r=Qg(n),{openUrl:a,fragment:o,appState:i}=r,s=Tt(r,["openUrl","fragment","appState"]),c=((t=s.authorizationParams)===null||t===void 0?void 0:t.organization)||this.options.authorizationParams.organization,d=yield this._prepareAuthorizeUrl(s.authorizationParams||{}),{url:l}=d,u=Tt(d,["url"]);this.transactionManager.create(Object.assign(Object.assign(Object.assign({},u),{appState:i}),c&&{organization:c}));let p=o?`${l}#${o}`:l;a?yield a(p):window.location.assign(p)})}handleRedirectCallback(){return f(this,arguments,function*(n=window.location.href){let t=n.split("?").slice(1);if(t.length===0)throw new Error("There are no query params available for parsing.");let{state:r,code:a,error:o,error_description:i}=(u=>{u.indexOf("#")>-1&&(u=u.substring(0,u.indexOf("#")));let p=new URLSearchParams(u);return{state:p.get("state"),code:p.get("code")||void 0,error:p.get("error")||void 0,error_description:p.get("error_description")||void 0}})(t.join("")),s=this.transactionManager.get();if(!s)throw new Ee("missing_transaction","Invalid state");if(this.transactionManager.remove(),o)throw new ed(o,i||o,r,s.appState);if(!s.code_verifier||s.state&&s.state!==r)throw new Ee("state_mismatch","Invalid state");let c=s.organization,d=s.nonce,l=s.redirect_uri;return yield this._requestToken(Object.assign({audience:s.audience,scope:s.scope,code_verifier:s.code_verifier,grant_type:"authorization_code",code:a},l?{redirect_uri:l}:{}),{nonceIn:d,organization:c}),{appState:s.appState}})}checkSession(n){return f(this,null,function*(){if(!this.cookieStorage.get(this.isAuthenticatedCookieName)){if(!this.cookieStorage.get("auth0.is.authenticated"))return;this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove("auth0.is.authenticated")}try{yield this.getTokenSilently(n)}catch{}})}getTokenSilently(){return f(this,arguments,function*(n={}){var t;let r=Object.assign(Object.assign({cacheMode:"on"},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),n.authorizationParams),{scope:ti(this.scope,(t=n.authorizationParams)===null||t===void 0?void 0:t.scope)})}),a=yield((o,i)=>{let s=dh[i];return s||(s=o().finally(()=>{delete dh[i],s=null}),dh[i]=s),s})(()=>this._getTokenSilently(r),`${this.options.clientId}::${r.authorizationParams.audience}::${r.authorizationParams.scope}`);return n.detailedResponse?a:a?.access_token})}_getTokenSilently(n){return f(this,null,function*(){let{cacheMode:t}=n,r=Tt(n,["cacheMode"]);if(t!=="off"){let a=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(a)return a}if(t!=="cache-only"){if(!(yield((a,o=3)=>f(this,null,function*(){for(let i=0;i<o;i++)if(yield a())return!0;return!1}))(()=>lh.acquireLock("auth0.lock.getTokenSilently",5e3),10)))throw new oa;try{if(window.addEventListener("pagehide",this._releaseLockOnPageHide),t!=="off"){let d=yield this._getEntryFromCache({scope:r.authorizationParams.scope,audience:r.authorizationParams.audience||"default",clientId:this.options.clientId});if(d)return d}let a=this.options.useRefreshTokens?yield this._getTokenUsingRefreshToken(r):yield this._getTokenFromIFrame(r),{id_token:o,access_token:i,oauthTokenScope:s,expires_in:c}=a;return Object.assign(Object.assign({id_token:o,access_token:i},s?{scope:s}:null),{expires_in:c})}finally{yield lh.releaseLock("auth0.lock.getTokenSilently"),window.removeEventListener("pagehide",this._releaseLockOnPageHide)}}})}getTokenWithPopup(){return f(this,arguments,function*(n={},t={}){var r;let a=Object.assign(Object.assign({},n),{authorizationParams:Object.assign(Object.assign(Object.assign({},this.options.authorizationParams),n.authorizationParams),{scope:ti(this.scope,(r=n.authorizationParams)===null||r===void 0?void 0:r.scope)})});return t=Object.assign(Object.assign({},_w),t),yield this.loginWithPopup(a,t),(yield this.cacheManager.get(new Yt({scope:a.authorizationParams.scope,audience:a.authorizationParams.audience||"default",clientId:this.options.clientId}))).access_token})}isAuthenticated(){return f(this,null,function*(){return!!(yield this.getUser())})}_buildLogoutUrl(n){n.clientId!==null?n.clientId=n.clientId||this.options.clientId:delete n.clientId;let t=n.logoutParams||{},{federated:r}=t,a=Tt(t,["federated"]),o=r?"&federated":"";return this._url(`/v2/logout?${uh(Object.assign({clientId:n.clientId},a))}`)+o}logout(){return f(this,arguments,function*(n={}){let t=Qg(n),{openUrl:r}=t,a=Tt(t,["openUrl"]);n.clientId===null?yield this.cacheManager.clear():yield this.cacheManager.clear(n.clientId||this.options.clientId),this.cookieStorage.remove(this.orgHintCookieName,{cookieDomain:this.options.cookieDomain}),this.cookieStorage.remove(this.isAuthenticatedCookieName,{cookieDomain:this.options.cookieDomain}),this.userCache.remove("@@user@@");let o=this._buildLogoutUrl(a);r?yield r(o):r!==!1&&window.location.assign(o)})}_getTokenFromIFrame(n){return f(this,null,function*(){let t=Object.assign(Object.assign({},n.authorizationParams),{prompt:"none"}),r=this.cookieStorage.get(this.orgHintCookieName);r&&!t.organization&&(t.organization=r);let{url:a,state:o,nonce:i,code_verifier:s,redirect_uri:c,scope:d,audience:l}=yield this._prepareAuthorizeUrl(t,{response_mode:"web_message"},window.location.origin);try{if(window.crossOriginIsolated)throw new Ee("login_required","The application is running in a Cross-Origin Isolated context, silently retrieving a token without refresh token is not possible.");let u=n.timeoutInSeconds||this.options.authorizeTimeoutInSeconds,p=yield((y,g,m=60)=>new Promise((v,x)=>{let L=window.document.createElement("iframe");L.setAttribute("width","0"),L.setAttribute("height","0"),L.style.display="none";let k=()=>{window.document.body.contains(L)&&(window.document.body.removeChild(L),window.removeEventListener("message",N,!1))},N,Ce=setTimeout(()=>{x(new oa),k()},1e3*m);N=function(B){if(B.origin!=g||!B.data||B.data.type!=="authorization_response")return;let ae=B.source;ae&&ae.close(),B.data.response.error?x(Ee.fromPayload(B.data.response)):v(B.data.response),clearTimeout(Ce),window.removeEventListener("message",N,!1),setTimeout(k,2e3)},window.addEventListener("message",N,!1),window.document.body.appendChild(L),L.setAttribute("src",y)}))(a,this.domainUrl,u);if(o!==p.state)throw new Ee("state_mismatch","Invalid state");let h=yield this._requestToken(Object.assign(Object.assign({},n.authorizationParams),{code_verifier:s,code:p.code,grant_type:"authorization_code",redirect_uri:c,timeout:n.authorizationParams.timeout||this.httpTimeoutMs}),{nonceIn:i,organization:t.organization});return Object.assign(Object.assign({},h),{scope:d,oauthTokenScope:h.scope,audience:l})}catch(u){throw u.error==="login_required"&&this.logout({openUrl:!1}),u}})}_getTokenUsingRefreshToken(n){return f(this,null,function*(){let t=yield this.cacheManager.get(new Yt({scope:n.authorizationParams.scope,audience:n.authorizationParams.audience||"default",clientId:this.options.clientId}));if(!(t&&t.refresh_token||this.worker)){if(this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(n);throw new ri(n.authorizationParams.audience||"default",n.authorizationParams.scope)}let r=n.authorizationParams.redirect_uri||this.options.authorizationParams.redirect_uri||window.location.origin,a=typeof n.timeoutInSeconds=="number"?1e3*n.timeoutInSeconds:null;try{let o=yield this._requestToken(Object.assign(Object.assign(Object.assign({},n.authorizationParams),{grant_type:"refresh_token",refresh_token:t&&t.refresh_token,redirect_uri:r}),a&&{timeout:a}));return Object.assign(Object.assign({},o),{scope:n.authorizationParams.scope,oauthTokenScope:o.scope,audience:n.authorizationParams.audience||"default"})}catch(o){if((o.message.indexOf("Missing Refresh Token")>-1||o.message&&o.message.indexOf("invalid refresh token")>-1)&&this.options.useRefreshTokensFallback)return yield this._getTokenFromIFrame(n);throw o}})}_saveEntryInCache(n){return f(this,null,function*(){let{id_token:t,decodedToken:r}=n,a=Tt(n,["id_token","decodedToken"]);this.userCache.set("@@user@@",{id_token:t,decodedToken:r}),yield this.cacheManager.setIdToken(this.options.clientId,n.id_token,n.decodedToken),yield this.cacheManager.set(a)})}_getIdTokenFromCache(){return f(this,null,function*(){let n=this.options.authorizationParams.audience||"default",t=yield this.cacheManager.getIdToken(new Yt({clientId:this.options.clientId,audience:n,scope:this.scope})),r=this.userCache.get("@@user@@");return t&&t.id_token===r?.id_token?r:(this.userCache.set("@@user@@",t),t)})}_getEntryFromCache(a){return f(this,arguments,function*({scope:n,audience:t,clientId:r}){let o=yield this.cacheManager.get(new Yt({scope:n,audience:t,clientId:r}),60);if(o&&o.access_token){let{access_token:i,oauthTokenScope:s,expires_in:c}=o,d=yield this._getIdTokenFromCache();return d&&Object.assign(Object.assign({id_token:d.id_token,access_token:i},s?{scope:s}:null),{expires_in:c})}})}_requestToken(n,t){return f(this,null,function*(){let{nonceIn:r,organization:a}=t||{},o=yield Ow(Object.assign({baseUrl:this.domainUrl,client_id:this.options.clientId,auth0Client:this.options.auth0Client,useFormData:this.options.useFormData,timeout:this.httpTimeoutMs},n),this.worker),i=yield this._verifyIdToken(o.id_token,r,a);return yield this._saveEntryInCache(Object.assign(Object.assign(Object.assign(Object.assign({},o),{decodedToken:i,scope:n.scope,audience:n.audience||"default"}),o.scope?{oauthTokenScope:o.scope}:null),{client_id:this.options.clientId})),this.cookieStorage.save(this.isAuthenticatedCookieName,!0,{daysUntilExpire:this.sessionCheckExpiryDays,cookieDomain:this.options.cookieDomain}),this._processOrgHint(a||i.claims.org_id),Object.assign(Object.assign({},o),{decodedToken:i})})}exchangeToken(n){return f(this,null,function*(){return this._requestToken({grant_type:"urn:ietf:params:oauth:grant-type:token-exchange",subject_token:n.subject_token,subject_token_type:n.subject_token_type,scope:ti(n.scope,this.scope),audience:this.options.authorizationParams.audience})})}};var am={name:"@auth0/auth0-angular",version:"2.2.3"},mh=class{static createClient(n){let t=n.get();if(!t)throw new Error("Configuration must be specified either through AuthModule.forRoot or through AuthClientConfig.set");return new od($(w({},t),{auth0Client:{name:am.name,version:am.version,env:{"angular/core":nf.full}}}))}},id=new b("auth0.client");function om(e){return typeof e!="string"}var im=new b("auth0-angular.config"),kh=(()=>{class e{constructor(t){t&&this.set(t)}set(t){this.config=t}get(){return this.config}}return e.\u0275fac=function(t){return new(t||e)(S(im,8))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Uw=(()=>{class e{constructor(t,r){this.location=t;try{this.router=r.get(Wr)}catch{}}navigateByUrl(t){if(this.router){this.router.navigateByUrl(t);return}this.location.replaceState(t)}}return e.\u0275fac=function(t){return new(t||e)(S(hn),S(Qe))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),sm=(()=>{class e{constructor(t){this.auth0Client=t,this.isLoadingSubject$=new le(!0),this.refresh$=new ee,this.accessToken$=new Nt(1),this.errorSubject$=new Nt(1),this.isLoading$=this.isLoadingSubject$.asObservable(),this.accessTokenTrigger$=this.accessToken$.pipe(la((r,a)=>({previous:r.current,current:a}),{current:null,previous:null}),be(({previous:r,current:a})=>r!==a)),this.isAuthenticatedTrigger$=this.isLoading$.pipe(be(r=>!r),ca(),Se(()=>Rd(ct(()=>this.auth0Client.isAuthenticated()),this.accessTokenTrigger$.pipe(re(()=>this.auth0Client.isAuthenticated())),this.refresh$.pipe(re(()=>this.auth0Client.isAuthenticated()))))),this.isAuthenticated$=this.isAuthenticatedTrigger$.pipe(ca(),jd(1)),this.user$=this.isAuthenticatedTrigger$.pipe(He(r=>r?this.auth0Client.getUser():D(null)),ca()),this.idTokenClaims$=this.isAuthenticatedTrigger$.pipe(He(r=>r?this.auth0Client.getIdTokenClaims():D(null))),this.error$=this.errorSubject$.asObservable()}setIsLoading(t){this.isLoadingSubject$.next(t)}refresh(){this.refresh$.next()}setAccessToken(t){this.accessToken$.next(t)}setError(t){this.errorSubject$.next(t)}}return e.\u0275fac=function(t){return new(t||e)(S(id))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vh=(()=>{class e{constructor(t,r,a,o){this.auth0Client=t,this.configFactory=r,this.navigator=a,this.authState=o,this.appStateSubject$=new Nt(1),this.ngUnsubscribe$=new ee,this.isLoading$=this.authState.isLoading$,this.isAuthenticated$=this.authState.isAuthenticated$,this.user$=this.authState.user$,this.idTokenClaims$=this.authState.idTokenClaims$,this.error$=this.authState.error$,this.appState$=this.appStateSubject$.asObservable();let i=s=>Ri(()=>s,this.handleRedirectCallback(),ct(()=>this.auth0Client.checkSession()));this.shouldHandleCallback().pipe(Se(s=>i(s).pipe(je(c=>{let d=this.configFactory.get();return this.navigator.navigateByUrl(d.errorPath||"/"),this.authState.setError(c),D(void 0)}))),Y(()=>{this.authState.setIsLoading(!1)}),vr(this.ngUnsubscribe$)).subscribe()}ngOnDestroy(){this.ngUnsubscribe$.next(),this.ngUnsubscribe$.complete()}loginWithRedirect(t){return z(this.auth0Client.loginWithRedirect(t))}loginWithPopup(t,r){return z(this.auth0Client.loginWithPopup(t,r).then(()=>{this.authState.refresh()}))}logout(t){return z(this.auth0Client.logout(t).then(()=>{(t?.openUrl===!1||t?.openUrl)&&this.authState.refresh()}))}getAccessTokenSilently(t={}){return D(this.auth0Client).pipe(He(r=>t.detailedResponse===!0?r.getTokenSilently($(w({},t),{detailedResponse:!0})):r.getTokenSilently(t)),Y(r=>{r&&this.authState.setAccessToken(typeof r=="string"?r:r.access_token)}),je(r=>(this.authState.setError(r),this.authState.refresh(),st(r))))}getAccessTokenWithPopup(t){return D(this.auth0Client).pipe(He(r=>r.getTokenWithPopup(t)),Y(r=>{r&&this.authState.setAccessToken(r)}),je(r=>(this.authState.setError(r),this.authState.refresh(),st(r))))}handleRedirectCallback(t){return ct(()=>this.auth0Client.handleRedirectCallback(t)).pipe(qd(this.authState.isLoading$),Y(([r,a])=>{a||this.authState.refresh();let o=r?.appState,i=o?.target??"/";o&&this.appStateSubject$.next(o),this.navigator.navigateByUrl(i)}),E(([r])=>r))}shouldHandleCallback(){return D(location.search).pipe(E(t=>{let r=new URLSearchParams(t);return(r.has("code")||r.has("error"))&&r.has("state")&&!this.configFactory.get().skipRedirectCallback}))}}return e.\u0275fac=function(t){return new(t||e)(S(id),S(kh),S(Uw),S(sm))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Mh=(()=>{class e{constructor(t){this.auth=t}canLoad(t,r){return this.auth.isAuthenticated$.pipe(dt(1))}canActivate(t,r){return this.redirectIfUnauthenticated(r)}canActivateChild(t,r){return this.redirectIfUnauthenticated(r)}redirectIfUnauthenticated(t){return this.auth.isAuthenticated$.pipe(Y(r=>{r||this.auth.loginWithRedirect({appState:{target:t.url}})}))}}return e.\u0275fac=function(t){return new(t||e)(S(vh))},e.\u0275prov=C({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var $w=e=>n=>n.pipe(re(t=>e.pipe(Je(),Pd(t)))),Gw=(()=>{class e{constructor(t,r,a,o){this.configFactory=t,this.auth0Client=r,this.authState=a,this.authService=o}intercept(t,r){let a=this.configFactory.get();if(!a.httpInterceptor?.allowedList)return r.handle(t);let o=this.authService.isLoading$.pipe(be(i=>!i));return this.findMatchingRoute(t,a.httpInterceptor).pipe(He(i=>Ri(()=>i!==null,D(i).pipe($w(o),Nd("tokenOptions"),He(s=>this.getAccessTokenSilently(s).pipe(je(c=>this.allowAnonymous(i,c)?D(""):(this.authState.setError(c),st(c))))),Se(s=>{let c=s?t.clone({headers:t.headers.set("Authorization",`Bearer ${s}`)}):t;return r.handle(c)})),r.handle(t))))}getAccessTokenSilently(t){return D(this.auth0Client).pipe(He(r=>r.getTokenSilently(t)),Y(r=>this.authState.setAccessToken(r)),je(r=>(this.authState.refresh(),st(r))))}stripQueryFrom(t){return t.indexOf("?")>-1&&(t=t.substr(0,t.indexOf("?"))),t.indexOf("#")>-1&&(t=t.substr(0,t.indexOf("#"))),t}canAttachToken(t,r){let a=o=>{if(!o)return!1;let i=this.stripQueryFrom(r.url);return o===i?!0:o.indexOf("*")===o.length-1&&r.url.startsWith(o.substr(0,o.length-1))};return om(t)?t.httpMethod&&t.httpMethod!==r.method?!1:(!t.uri&&!t.uriMatcher&&console.warn("Either a uri or uriMatcher is required when configuring the HTTP interceptor."),t.uriMatcher?t.uriMatcher(r.url):a(t.uri)):a(t)}findMatchingRoute(t,r){return z(r.allowedList).pipe(Je(a=>this.canAttachToken(a,t),null))}allowAnonymous(t,r){return!!t&&om(t)&&!!t.allowAnonymous&&["login_required","consent_required","missing_refresh_token"].includes(r.error)}}return e.\u0275fac=function(t){return new(t||e)(S(kh),S(id),S(sm),S(vh))},e.\u0275prov=C({token:e,factory:e.\u0275fac}),e})();function cm(e){return[vh,Gw,Mh,{provide:im,useValue:e},{provide:id,useFactory:mh.createClient,deps:[kh]}]}var dm=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Jc,canActivate:[Mh]}];var lm={providers:[Fl(),G1({eventCoalescing:!0}),Pu(dm),cm({domain:"bailo.eu.auth0.com",clientId:"pArbEhROiWpOaHFCprb8hm8FJrszoJyX",authorizationParams:{redirect_uri:window.location.origin}})]};var sd=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=We({type:e,selectors:[["app-header"]],decls:10,vars:0,consts:[[1,"header","flex","flex-row","h-16","md:h-24","justify-between","items-center","px-8","bg-white","bg-opacity-30","backdrop-blur-md","p-6","shadow-lg","text-gray-900"],[1,"text-4xl","font-bold"],[1,"text-red-600"],[1,"flex","flex-row","items-center","gap-4"],[1,"h-12","w-12","bg-red-600","rounded-full","flex","justify-center","items-center","text-xl","text-white","font-semibold"],[1,"font-semibold","hidden","md:block"]],template:function(t,r){t&1&&(Z(0,"div",0)(1,"div",1)(2,"span",2),we(3,"B"),ne(),we(4,"ailo"),ne(),Z(5,"div",3)(6,"div",4),we(7,"KZ"),ne(),Z(8,"div",5),we(9,"Koussila ZEKRI"),ne()()())},encapsulation:2})};var cd=class e{constructor(){}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=We({type:e,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"min-h-screen","bg-gray-100"]],template:function(t,r){t&1&&(Z(0,"div",0),Oe(1,"app-header")(2,"router-outlet"),ne())},dependencies:[So,sd],encapsulation:2})};lu(cd,lm).catch(e=>console.error(e));
